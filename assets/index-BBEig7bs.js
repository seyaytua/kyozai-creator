function gN(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function yN(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var i0={exports:{}},Vu={};var _k;function vN(){if(_k)return Vu;_k=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:r,type:n,key:l,ref:i!==void 0?i:null,props:s}}return Vu.Fragment=e,Vu.jsx=t,Vu.jsxs=t,Vu}var Rk;function bN(){return Rk||(Rk=1,i0.exports=vN()),i0.exports}var z=bN(),s0={exports:{}},st={};var Mk;function xN(){if(Mk)return st;Mk=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function x(q,I,K){this.props=q,this.context=I,this.refs=E,this.updater=K||b}x.prototype.isReactComponent={},x.prototype.setState=function(q,I){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,I,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=x.prototype;function O(q,I,K){this.props=q,this.context=I,this.refs=E,this.updater=K||b}var T=O.prototype=new k;T.constructor=O,w(T,x.prototype),T.isPureReactComponent=!0;var _=Array.isArray;function H(){}var M={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function P(q,I,K){var se=K.ref;return{$$typeof:r,type:q,key:I,ref:se!==void 0?se:null,props:K}}function re(q,I){return P(q.type,I,q.props)}function pe(q){return typeof q=="object"&&q!==null&&q.$$typeof===r}function U(q){var I={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(K){return I[K]})}var X=/\/+/g;function R(q,I){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):I.toString(36)}function ee(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(H,H):(q.status="pending",q.then(function(I){q.status==="pending"&&(q.status="fulfilled",q.value=I)},function(I){q.status==="pending"&&(q.status="rejected",q.reason=I)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Y(q,I,K,se,he){var ie=typeof q;(ie==="undefined"||ie==="boolean")&&(q=null);var B=!1;if(q===null)B=!0;else switch(ie){case"bigint":case"string":case"number":B=!0;break;case"object":switch(q.$$typeof){case r:case e:B=!0;break;case d:return B=q._init,Y(B(q._payload),I,K,se,he)}}if(B)return he=he(q),B=se===""?"."+R(q,0):se,_(he)?(K="",B!=null&&(K=B.replace(X,"$&/")+"/"),Y(he,I,K,"",function(J){return J})):he!=null&&(pe(he)&&(he=re(he,K+(he.key==null||q&&q.key===he.key?"":(""+he.key).replace(X,"$&/")+"/")+B)),I.push(he)),1;B=0;var L=se===""?".":se+":";if(_(q))for(var te=0;te<q.length;te++)se=q[te],ie=L+R(se,te),B+=Y(se,I,K,ie,he);else if(te=y(q),typeof te=="function")for(q=te.call(q),te=0;!(se=q.next()).done;)se=se.value,ie=L+R(se,te++),B+=Y(se,I,K,ie,he);else if(ie==="object"){if(typeof q.then=="function")return Y(ee(q),I,K,se,he);throw I=String(q),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return B}function G(q,I,K){if(q==null)return q;var se=[],he=0;return Y(q,se,"","",function(ie){return I.call(K,ie,he++)}),se}function ue(q){if(q._status===-1){var I=q._result;I=I(),I.then(function(K){(q._status===0||q._status===-1)&&(q._status=1,q._result=K)},function(K){(q._status===0||q._status===-1)&&(q._status=2,q._result=K)}),q._status===-1&&(q._status=0,q._result=I)}if(q._status===1)return q._result.default;throw q._result}var ce=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ke={map:G,forEach:function(q,I,K){G(q,function(){I.apply(this,arguments)},K)},count:function(q){var I=0;return G(q,function(){I++}),I},toArray:function(q){return G(q,function(I){return I})||[]},only:function(q){if(!pe(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return st.Activity=m,st.Children=ke,st.Component=x,st.Fragment=t,st.Profiler=i,st.PureComponent=O,st.StrictMode=n,st.Suspense=c,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,st.__COMPILER_RUNTIME={__proto__:null,c:function(q){return M.H.useMemoCache(q)}},st.cache=function(q){return function(){return q.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(q,I,K){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var se=w({},q.props),he=q.key;if(I!=null)for(ie in I.key!==void 0&&(he=""+I.key),I)!Q.call(I,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&I.ref===void 0||(se[ie]=I[ie]);var ie=arguments.length-2;if(ie===1)se.children=K;else if(1<ie){for(var B=Array(ie),L=0;L<ie;L++)B[L]=arguments[L+2];se.children=B}return P(q.type,he,se)},st.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},st.createElement=function(q,I,K){var se,he={},ie=null;if(I!=null)for(se in I.key!==void 0&&(ie=""+I.key),I)Q.call(I,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(he[se]=I[se]);var B=arguments.length-2;if(B===1)he.children=K;else if(1<B){for(var L=Array(B),te=0;te<B;te++)L[te]=arguments[te+2];he.children=L}if(q&&q.defaultProps)for(se in B=q.defaultProps,B)he[se]===void 0&&(he[se]=B[se]);return P(q,ie,he)},st.createRef=function(){return{current:null}},st.forwardRef=function(q){return{$$typeof:u,render:q}},st.isValidElement=pe,st.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:ue}},st.memo=function(q,I){return{$$typeof:h,type:q,compare:I===void 0?null:I}},st.startTransition=function(q){var I=M.T,K={};M.T=K;try{var se=q(),he=M.S;he!==null&&he(K,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(H,ce)}catch(ie){ce(ie)}finally{I!==null&&K.types!==null&&(I.types=K.types),M.T=I}},st.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},st.use=function(q){return M.H.use(q)},st.useActionState=function(q,I,K){return M.H.useActionState(q,I,K)},st.useCallback=function(q,I){return M.H.useCallback(q,I)},st.useContext=function(q){return M.H.useContext(q)},st.useDebugValue=function(){},st.useDeferredValue=function(q,I){return M.H.useDeferredValue(q,I)},st.useEffect=function(q,I){return M.H.useEffect(q,I)},st.useEffectEvent=function(q){return M.H.useEffectEvent(q)},st.useId=function(){return M.H.useId()},st.useImperativeHandle=function(q,I,K){return M.H.useImperativeHandle(q,I,K)},st.useInsertionEffect=function(q,I){return M.H.useInsertionEffect(q,I)},st.useLayoutEffect=function(q,I){return M.H.useLayoutEffect(q,I)},st.useMemo=function(q,I){return M.H.useMemo(q,I)},st.useOptimistic=function(q,I){return M.H.useOptimistic(q,I)},st.useReducer=function(q,I,K){return M.H.useReducer(q,I,K)},st.useRef=function(q){return M.H.useRef(q)},st.useState=function(q){return M.H.useState(q)},st.useSyncExternalStore=function(q,I,K){return M.H.useSyncExternalStore(q,I,K)},st.useTransition=function(){return M.H.useTransition()},st.version="19.2.3",st}var Nk;function sb(){return Nk||(Nk=1,s0.exports=xN()),s0.exports}var fe=sb();const wN=yN(fe),SN=gN({__proto__:null,default:wN},[fe]);var a0={exports:{}},$u={},l0={exports:{}},o0={};var Dk;function kN(){return Dk||(Dk=1,(function(r){function e(Y,G){var ue=Y.length;Y.push(G);e:for(;0<ue;){var ce=ue-1>>>1,ke=Y[ce];if(0<i(ke,G))Y[ce]=G,Y[ue]=ke,ue=ce;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var G=Y[0],ue=Y.pop();if(ue!==G){Y[0]=ue;e:for(var ce=0,ke=Y.length,q=ke>>>1;ce<q;){var I=2*(ce+1)-1,K=Y[I],se=I+1,he=Y[se];if(0>i(K,ue))se<ke&&0>i(he,K)?(Y[ce]=he,Y[se]=ue,ce=se):(Y[ce]=K,Y[I]=ue,ce=I);else if(se<ke&&0>i(he,ue))Y[ce]=he,Y[se]=ue,ce=se;else break e}}return G}function i(Y,G){var ue=Y.sortIndex-G.sortIndex;return ue!==0?ue:Y.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var c=[],h=[],d=1,m=null,g=3,y=!1,b=!1,w=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function T(Y){for(var G=t(h);G!==null;){if(G.callback===null)n(h);else if(G.startTime<=Y)n(h),G.sortIndex=G.expirationTime,e(c,G);else break;G=t(h)}}function _(Y){if(w=!1,T(Y),!b)if(t(c)!==null)b=!0,H||(H=!0,U());else{var G=t(h);G!==null&&ee(_,G.startTime-Y)}}var H=!1,M=-1,Q=5,P=-1;function re(){return E?!0:!(r.unstable_now()-P<Q)}function pe(){if(E=!1,H){var Y=r.unstable_now();P=Y;var G=!0;try{e:{b=!1,w&&(w=!1,k(M),M=-1),y=!0;var ue=g;try{t:{for(T(Y),m=t(c);m!==null&&!(m.expirationTime>Y&&re());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,g=m.priorityLevel;var ke=ce(m.expirationTime<=Y);if(Y=r.unstable_now(),typeof ke=="function"){m.callback=ke,T(Y),G=!0;break t}m===t(c)&&n(c),T(Y)}else n(c);m=t(c)}if(m!==null)G=!0;else{var q=t(h);q!==null&&ee(_,q.startTime-Y),G=!1}}break e}finally{m=null,g=ue,y=!1}G=void 0}}finally{G?U():H=!1}}}var U;if(typeof O=="function")U=function(){O(pe)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,R=X.port2;X.port1.onmessage=pe,U=function(){R.postMessage(null)}}else U=function(){x(pe,0)};function ee(Y,G){M=x(function(){Y(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var ue=g;g=G;try{return Y()}finally{g=ue}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(Y,G){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=g;g=Y;try{return G()}finally{g=ue}},r.unstable_scheduleCallback=function(Y,G,ue){var ce=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ce+ue:ce):ue=ce,Y){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ue+ke,Y={id:d++,callback:G,priorityLevel:Y,startTime:ue,expirationTime:ke,sortIndex:-1},ue>ce?(Y.sortIndex=ue,e(h,Y),t(c)===null&&Y===t(h)&&(w?(k(M),M=-1):w=!0,ee(_,ue-ce))):(Y.sortIndex=ke,e(c,Y),b||y||(b=!0,H||(H=!0,U()))),Y},r.unstable_shouldYield=re,r.unstable_wrapCallback=function(Y){var G=g;return function(){var ue=g;g=G;try{return Y.apply(this,arguments)}finally{g=ue}}}})(o0)),o0}var Lk;function AN(){return Lk||(Lk=1,l0.exports=kN()),l0.exports}var u0={exports:{}},Ir={};var Bk;function EN(){if(Bk)return Ir;Bk=1;var r=sb();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,h,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:h,implementation:d}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ir.createPortal=function(c,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(c,h,null,d)},Ir.flushSync=function(c){var h=l.T,d=n.p;try{if(l.T=null,n.p=2,c)return c()}finally{l.T=h,n.p=d,n.d.f()}},Ir.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(c,h))},Ir.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Ir.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var d=h.as,m=u(d,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?n.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):d==="script"&&n.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ir.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=u(h.as,h.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(c)},Ir.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,m=u(d,h.crossOrigin);n.d.L(c,d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ir.preloadModule=function(c,h){if(typeof c=="string")if(h){var d=u(h.as,h.crossOrigin);n.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(c)},Ir.requestFormReset=function(c){n.d.r(c)},Ir.unstable_batchedUpdates=function(c,h){return c(h)},Ir.useFormState=function(c,h,d){return l.H.useFormState(c,h,d)},Ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ir.version="19.2.3",Ir}var zk;function UO(){if(zk)return u0.exports;zk=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),u0.exports=EN(),u0.exports}var jk;function TN(){if(jk)return $u;jk=1;var r=AN(),e=sb(),t=UO();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,f=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(f=o.return),a=o.return;while(a)}return o.tag===3?f:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(n(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var f=a,p=o;;){var v=f.return;if(v===null)break;var S=v.alternate;if(S===null){if(p=v.return,p!==null){f=p;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===f)return c(v),a;if(S===p)return c(v),o;S=S.sibling}throw Error(n(188))}if(f.return!==p.return)f=v,p=S;else{for(var j=!1,V=v.child;V;){if(V===f){j=!0,f=v,p=S;break}if(V===p){j=!0,p=v,f=S;break}V=V.sibling}if(!j){for(V=S.child;V;){if(V===f){j=!0,f=S,p=v;break}if(V===p){j=!0,p=S,f=v;break}V=V.sibling}if(!j)throw Error(n(189))}}if(f.alternate!==p)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=pe&&a[pe]||a["@@iterator"],typeof a=="function"?a:null)}var X=Symbol.for("react.client.reference");function R(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===X?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case _:return"Suspense";case H:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case O:return a.displayName||"Context";case k:return(a._context.displayName||"Context")+".Consumer";case T:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return o=a.displayName||null,o!==null?o:R(a.type)||"Memo";case Q:o=a._payload,a=a._init;try{return R(a(o))}catch{}}return null}var ee=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ce=[],ke=-1;function q(a){return{current:a}}function I(a){0>ke||(a.current=ce[ke],ce[ke]=null,ke--)}function K(a,o){ke++,ce[ke]=a.current,a.current=o}var se=q(null),he=q(null),ie=q(null),B=q(null);function L(a,o){switch(K(ie,o),K(he,a),K(se,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Z2(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Z2(o),a=J2(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}I(se),K(se,a)}function te(){I(se),I(he),I(ie)}function J(a){a.memoizedState!==null&&K(B,a);var o=se.current,f=J2(o,a.type);o!==f&&(K(he,a),K(se,f))}function W(a){he.current===a&&(I(se),I(he)),B.current===a&&(I(B),Uu._currentValue=ue)}var $,ge;function N(a){if($===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||"",ge=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$+a+ge}var ve=!1;function F(a,o){if(!a||ve)return"";ve=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Ae){var we=Ae}Reflect.construct(a,[],Me)}else{try{Me.call()}catch(Ae){we=Ae}a.call(Me.prototype)}}else{try{throw Error()}catch(Ae){we=Ae}(Me=a())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Ae){if(Ae&&we&&typeof Ae.stack=="string")return[Ae.stack,we.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),j=S[0],V=S[1];if(j&&V){var ae=j.split(`
`),xe=V.split(`
`);for(v=p=0;p<ae.length&&!ae[p].includes("DetermineComponentFrameRoot");)p++;for(;v<xe.length&&!xe[v].includes("DetermineComponentFrameRoot");)v++;if(p===ae.length||v===xe.length)for(p=ae.length-1,v=xe.length-1;1<=p&&0<=v&&ae[p]!==xe[v];)v--;for(;1<=p&&0<=v;p--,v--)if(ae[p]!==xe[v]){if(p!==1||v!==1)do if(p--,v--,0>v||ae[p]!==xe[v]){var Ce=`
`+ae[p].replace(" at new "," at ");return a.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",a.displayName)),Ce}while(1<=p&&0<=v);break}}}finally{ve=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?N(f):""}function A(a,o){switch(a.tag){case 26:case 27:case 5:return N(a.type);case 16:return N("Lazy");case 13:return a.child!==o&&o!==null?N("Suspense Fallback"):N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return F(a.type,!1);case 11:return F(a.type.render,!1);case 1:return F(a.type,!0);case 31:return N("Activity");default:return""}}function C(a){try{var o="",f=null;do o+=A(a,f),f=a,a=a.return;while(a);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var D=Object.prototype.hasOwnProperty,Z=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,ne=r.unstable_shouldYield,Ee=r.unstable_requestPaint,Te=r.unstable_now,Oe=r.unstable_getCurrentPriorityLevel,je=r.unstable_ImmediatePriority,Ve=r.unstable_UserBlockingPriority,Qe=r.unstable_NormalPriority,Ht=r.unstable_LowPriority,tn=r.unstable_IdlePriority,rn=r.log,ti=r.unstable_setDisableYieldValue,Nt=null,zt=null;function $r(a){if(typeof rn=="function"&&ti(a),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Nt,a)}catch{}}var Xt=Math.clz32?Math.clz32:kl,Sa=Math.log,ru=Math.LN2;function kl(a){return a>>>=0,a===0?32:31-(Sa(a)/ru|0)|0}var ri=256,yi=262144,nn=4194304;function sn(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ka(a,o,f){var p=a.pendingLanes;if(p===0)return 0;var v=0,S=a.suspendedLanes,j=a.pingedLanes;a=a.warmLanes;var V=p&134217727;return V!==0?(p=V&~S,p!==0?v=sn(p):(j&=V,j!==0?v=sn(j):f||(f=V&~a,f!==0&&(v=sn(f))))):(V=p&~S,V!==0?v=sn(V):j!==0?v=sn(j):f||(f=p&~a,f!==0&&(v=sn(f)))),v===0?0:o!==0&&o!==v&&(o&S)===0&&(S=v&-v,f=o&-o,S>=f||S===32&&(f&4194048)!==0)?o:v}function Aa(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function pf(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ea(){var a=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),a}function Os(a){for(var o=[],f=0;31>f;f++)o.push(a);return o}function _s(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Xp(a,o,f,p,v,S){var j=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var V=a.entanglements,ae=a.expirationTimes,xe=a.hiddenUpdates;for(f=j&~f;0<f;){var Ce=31-Xt(f),Me=1<<Ce;V[Ce]=0,ae[Ce]=-1;var we=xe[Ce];if(we!==null)for(xe[Ce]=null,Ce=0;Ce<we.length;Ce++){var Ae=we[Ce];Ae!==null&&(Ae.lane&=-536870913)}f&=~Me}p!==0&&mf(a,p,0),S!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=S&~(j&~o))}function mf(a,o,f){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-Xt(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|f&261930}function le(a,o){var f=a.entangledLanes|=o;for(a=a.entanglements;f;){var p=31-Xt(f),v=1<<p;v&o|a[p]&o&&(a[p]|=o),f&=~v}}function ye(a,o){var f=o&-o;return f=(f&42)!==0?1:Se(f),(f&(a.suspendedLanes|o))!==0?0:f}function Se(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Be(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Pe(){var a=G.p;return a!==0?a:(a=window.event,a===void 0?32:Sk(a.type))}function Ke(a,o){var f=G.p;try{return G.p=a,o()}finally{G.p=f}}var $e=Math.random().toString(36).slice(2),Ie="__reactFiber$"+$e,Ue="__reactProps$"+$e,Ye="__reactContainer$"+$e,Ze="__reactEvents$"+$e,Je="__reactListeners$"+$e,vt="__reactHandles$"+$e,Dt="__reactResources$"+$e,Kt="__reactMarker$"+$e;function nr(a){delete a[Ie],delete a[Ue],delete a[Ze],delete a[Je],delete a[vt]}function kt(a){var o=a[Ie];if(o)return o;for(var f=a.parentNode;f;){if(o=f[Ye]||f[Ie]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(a=ak(a);a!==null;){if(f=a[Ie])return f;a=ak(a)}return o}a=f,f=a.parentNode}return null}function At(a){if(a=a[Ie]||a[Ye]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function wn(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function zn(a){var o=a[Dt];return o||(o=a[Dt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function qt(a){a[Kt]=!0}var Sn=new Set,Al={};function kn(a,o){an(a,o),an(a+"Capture",o)}function an(a,o){for(Al[a]=o,a=0;a<o.length;a++)Sn.add(o[a])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ta={},pt={};function Er(a){return D.call(pt,a)?!0:D.call(Ta,a)?!1:El.test(a)?pt[a]=!0:(Ta[a]=!0,!1)}function ni(a,o,f){if(Er(o))if(f===null)a.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+f)}}function jn(a,o,f){if(f===null)a.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+f)}}function Et(a,o,f,p){if(p===null)a.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(o,f,""+p)}}function _r(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function nu(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Yp(a,o,f){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,S=p.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(j){f=""+j,S.call(this,j)}}),Object.defineProperty(a,o,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(j){f=""+j},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Kp(a){if(!a._valueTracker){var o=nu(a)?"checked":"value";a._valueTracker=Yp(a,o,""+a[o])}}function Vx(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var f=o.getValue(),p="";return a&&(p=nu(a)?a.checked?"true":"false":a.value),a=p,a!==f?(o.setValue(a),!0):!1}function gf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var c6=/[\n"\\]/g;function Pn(a){return a.replace(c6,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Zp(a,o,f,p,v,S,j,V){a.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.type=j:a.removeAttribute("type"),o!=null?j==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+_r(o)):a.value!==""+_r(o)&&(a.value=""+_r(o)):j!=="submit"&&j!=="reset"||a.removeAttribute("value"),o!=null?Jp(a,j,_r(o)):f!=null?Jp(a,j,_r(f)):p!=null&&a.removeAttribute("value"),v==null&&S!=null&&(a.defaultChecked=!!S),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+_r(V):a.removeAttribute("name")}function $x(a,o,f,p,v,S,j,V){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),o!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Kp(a);return}f=f!=null?""+_r(f):"",o=o!=null?""+_r(o):f,V||o===a.value||(a.value=o),a.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=V?a.checked:!!p,a.defaultChecked=!!p,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(a.name=j),Kp(a)}function Jp(a,o,f){o==="number"&&gf(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function Tl(a,o,f,p){if(a=a.options,o){o={};for(var v=0;v<f.length;v++)o["$"+f[v]]=!0;for(f=0;f<a.length;f++)v=o.hasOwnProperty("$"+a[f].value),a[f].selected!==v&&(a[f].selected=v),v&&p&&(a[f].defaultSelected=!0)}else{for(f=""+_r(f),o=null,v=0;v<a.length;v++){if(a[v].value===f){a[v].selected=!0,p&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function Gx(a,o,f){if(o!=null&&(o=""+_r(o),o!==a.value&&(a.value=o),f==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=f!=null?""+_r(f):""}function Qx(a,o,f,p){if(o==null){if(p!=null){if(f!=null)throw Error(n(92));if(ee(p)){if(1<p.length)throw Error(n(93));p=p[0]}f=p}f==null&&(f=""),o=f}f=_r(o),a.defaultValue=f,p=a.textContent,p===f&&p!==""&&p!==null&&(a.value=p),Kp(a)}function Cl(a,o){if(o){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=o;return}}a.textContent=o}var f6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xx(a,o,f){var p=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,f):typeof f!="number"||f===0||f6.has(o)?o==="float"?a.cssFloat=f:a[o]=(""+f).trim():a[o]=f+"px"}function Yx(a,o,f){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&f[v]!==p&&Xx(a,v,p)}else for(var S in o)o.hasOwnProperty(S)&&Xx(a,S,o[S])}function em(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yf(a){return d6.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Wi(){}var tm=null;function rm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ol=null,_l=null;function Kx(a){var o=At(a);if(o&&(a=o.stateNode)){var f=a[Ue]||null;e:switch(a=o.stateNode,o.type){case"input":if(Zp(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Pn(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var p=f[o];if(p!==a&&p.form===a.form){var v=p[Ue]||null;if(!v)throw Error(n(90));Zp(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<f.length;o++)p=f[o],p.form===a.form&&Vx(p)}break e;case"textarea":Gx(a,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&Tl(a,!!f.multiple,o,!1)}}}var nm=!1;function Zx(a,o,f){if(nm)return a(o,f);nm=!0;try{var p=a(o);return p}finally{if(nm=!1,(Ol!==null||_l!==null)&&(ih(),Ol&&(o=Ol,a=_l,_l=Ol=null,Kx(o),a)))for(o=0;o<a.length;o++)Kx(a[o])}}function iu(a,o){var f=a.stateNode;if(f===null)return null;var p=f[Ue]||null;if(p===null)return null;f=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(n(231,o,typeof f));return f}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),im=!1;if(Vi)try{var su={};Object.defineProperty(su,"passive",{get:function(){im=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{im=!1}var Rs=null,sm=null,vf=null;function Jx(){if(vf)return vf;var a,o=sm,f=o.length,p,v="value"in Rs?Rs.value:Rs.textContent,S=v.length;for(a=0;a<f&&o[a]===v[a];a++);var j=f-a;for(p=1;p<=j&&o[f-p]===v[S-p];p++);return vf=v.slice(a,1<p?1-p:void 0)}function bf(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function xf(){return!0}function ew(){return!1}function ln(a){function o(f,p,v,S,j){this._reactName=f,this._targetInst=v,this.type=p,this.nativeEvent=S,this.target=j,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(f=a[V],this[V]=f?f(S):S[V]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?xf:ew,this.isPropagationStopped=ew,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=xf)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=xf)},persist:function(){},isPersistent:xf}),o}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=ln(Ca),au=m({},Ca,{view:0,detail:0}),p6=ln(au),am,lm,lu,Sf=m({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==lu&&(lu&&a.type==="mousemove"?(am=a.screenX-lu.screenX,lm=a.screenY-lu.screenY):lm=am=0,lu=a),am)},movementY:function(a){return"movementY"in a?a.movementY:lm}}),tw=ln(Sf),m6=m({},Sf,{dataTransfer:0}),g6=ln(m6),y6=m({},au,{relatedTarget:0}),om=ln(y6),v6=m({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),b6=ln(v6),x6=m({},Ca,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),w6=ln(x6),S6=m({},Ca,{data:0}),rw=ln(S6),k6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T6(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=E6[a])?!!o[a]:!1}function um(){return T6}var C6=m({},au,{key:function(a){if(a.key){var o=k6[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=bf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?A6[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(a){return a.type==="keypress"?bf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?bf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),O6=ln(C6),_6=m({},Sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nw=ln(_6),R6=m({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),M6=ln(R6),N6=m({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),D6=ln(N6),L6=m({},Sf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),B6=ln(L6),z6=m({},Ca,{newState:0,oldState:0}),j6=ln(z6),P6=[9,13,27,32],cm=Vi&&"CompositionEvent"in window,ou=null;Vi&&"documentMode"in document&&(ou=document.documentMode);var F6=Vi&&"TextEvent"in window&&!ou,iw=Vi&&(!cm||ou&&8<ou&&11>=ou),sw=" ",aw=!1;function lw(a,o){switch(a){case"keyup":return P6.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ow(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Rl=!1;function I6(a,o){switch(a){case"compositionend":return ow(o);case"keypress":return o.which!==32?null:(aw=!0,sw);case"textInput":return a=o.data,a===sw&&aw?null:a;default:return null}}function U6(a,o){if(Rl)return a==="compositionend"||!cm&&lw(a,o)?(a=Jx(),vf=sm=Rs=null,Rl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return iw&&o.locale!=="ko"?null:o.data;default:return null}}var H6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uw(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!H6[a.type]:o==="textarea"}function cw(a,o,f,p){Ol?_l?_l.push(p):_l=[p]:Ol=p,o=fh(o,"onChange"),0<o.length&&(f=new wf("onChange","change",null,f,p),a.push({event:f,listeners:o}))}var uu=null,cu=null;function q6(a){$2(a,0)}function kf(a){var o=wn(a);if(Vx(o))return a}function fw(a,o){if(a==="change")return o}var hw=!1;if(Vi){var fm;if(Vi){var hm="oninput"in document;if(!hm){var dw=document.createElement("div");dw.setAttribute("oninput","return;"),hm=typeof dw.oninput=="function"}fm=hm}else fm=!1;hw=fm&&(!document.documentMode||9<document.documentMode)}function pw(){uu&&(uu.detachEvent("onpropertychange",mw),cu=uu=null)}function mw(a){if(a.propertyName==="value"&&kf(cu)){var o=[];cw(o,cu,a,rm(a)),Zx(q6,o)}}function W6(a,o,f){a==="focusin"?(pw(),uu=o,cu=f,uu.attachEvent("onpropertychange",mw)):a==="focusout"&&pw()}function V6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return kf(cu)}function $6(a,o){if(a==="click")return kf(o)}function G6(a,o){if(a==="input"||a==="change")return kf(o)}function Q6(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var An=typeof Object.is=="function"?Object.is:Q6;function fu(a,o){if(An(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var f=Object.keys(a),p=Object.keys(o);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var v=f[p];if(!D.call(o,v)||!An(a[v],o[v]))return!1}return!0}function gw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function yw(a,o){var f=gw(a);a=0;for(var p;f;){if(f.nodeType===3){if(p=a+f.textContent.length,a<=o&&p>=o)return{node:f,offset:o-a};a=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=gw(f)}}function vw(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?vw(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function bw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=gf(a.document);o instanceof a.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)a=o.contentWindow;else break;o=gf(a.document)}return o}function dm(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var X6=Vi&&"documentMode"in document&&11>=document.documentMode,Ml=null,pm=null,hu=null,mm=!1;function xw(a,o,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;mm||Ml==null||Ml!==gf(p)||(p=Ml,"selectionStart"in p&&dm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),hu&&fu(hu,p)||(hu=p,p=fh(pm,"onSelect"),0<p.length&&(o=new wf("onSelect","select",null,o,f),a.push({event:o,listeners:p}),o.target=Ml)))}function Oa(a,o){var f={};return f[a.toLowerCase()]=o.toLowerCase(),f["Webkit"+a]="webkit"+o,f["Moz"+a]="moz"+o,f}var Nl={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},gm={},ww={};Vi&&(ww=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function _a(a){if(gm[a])return gm[a];if(!Nl[a])return a;var o=Nl[a],f;for(f in o)if(o.hasOwnProperty(f)&&f in ww)return gm[a]=o[f];return a}var Sw=_a("animationend"),kw=_a("animationiteration"),Aw=_a("animationstart"),Y6=_a("transitionrun"),K6=_a("transitionstart"),Z6=_a("transitioncancel"),Ew=_a("transitionend"),Tw=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function ii(a,o){Tw.set(a,o),kn(o,[a])}var Af=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Fn=[],Dl=0,vm=0;function Ef(){for(var a=Dl,o=vm=Dl=0;o<a;){var f=Fn[o];Fn[o++]=null;var p=Fn[o];Fn[o++]=null;var v=Fn[o];Fn[o++]=null;var S=Fn[o];if(Fn[o++]=null,p!==null&&v!==null){var j=p.pending;j===null?v.next=v:(v.next=j.next,j.next=v),p.pending=v}S!==0&&Cw(f,v,S)}}function Tf(a,o,f,p){Fn[Dl++]=a,Fn[Dl++]=o,Fn[Dl++]=f,Fn[Dl++]=p,vm|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function bm(a,o,f,p){return Tf(a,o,f,p),Cf(a)}function Ra(a,o){return Tf(a,null,null,o),Cf(a)}function Cw(a,o,f){a.lanes|=f;var p=a.alternate;p!==null&&(p.lanes|=f);for(var v=!1,S=a.return;S!==null;)S.childLanes|=f,p=S.alternate,p!==null&&(p.childLanes|=f),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(v=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,v&&o!==null&&(v=31-Xt(f),a=S.hiddenUpdates,p=a[v],p===null?a[v]=[o]:p.push(o),o.lane=f|536870912),S):null}function Cf(a){if(50<Lu)throw Lu=0,Og=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Ll={};function J6(a,o,f,p){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(a,o,f,p){return new J6(a,o,f,p)}function xm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $i(a,o){var f=a.alternate;return f===null?(f=En(a.tag,o,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=o,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,o=a.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function Ow(a,o){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,o=f.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Of(a,o,f,p,v,S){var j=0;if(p=a,typeof a=="function")xm(a)&&(j=1);else if(typeof a=="string")j=iN(a,f,se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case P:return a=En(31,f,o,v),a.elementType=P,a.lanes=S,a;case w:return Ma(f.children,v,S,o);case E:j=8,v|=24;break;case x:return a=En(12,f,o,v|2),a.elementType=x,a.lanes=S,a;case _:return a=En(13,f,o,v),a.elementType=_,a.lanes=S,a;case H:return a=En(19,f,o,v),a.elementType=H,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:j=10;break e;case k:j=9;break e;case T:j=11;break e;case M:j=14;break e;case Q:j=16,p=null;break e}j=29,f=Error(n(130,a===null?"null":typeof a,"")),p=null}return o=En(j,f,o,v),o.elementType=a,o.type=p,o.lanes=S,o}function Ma(a,o,f,p){return a=En(7,a,p,o),a.lanes=f,a}function wm(a,o,f){return a=En(6,a,null,o),a.lanes=f,a}function _w(a){var o=En(18,null,null,0);return o.stateNode=a,o}function Sm(a,o,f){return o=En(4,a.children!==null?a.children:[],a.key,o),o.lanes=f,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var Rw=new WeakMap;function In(a,o){if(typeof a=="object"&&a!==null){var f=Rw.get(a);return f!==void 0?f:(o={value:a,source:o,stack:C(o)},Rw.set(a,o),o)}return{value:a,source:o,stack:C(o)}}var Bl=[],zl=0,_f=null,du=0,Un=[],Hn=0,Ms=null,vi=1,bi="";function Gi(a,o){Bl[zl++]=du,Bl[zl++]=_f,_f=a,du=o}function Mw(a,o,f){Un[Hn++]=vi,Un[Hn++]=bi,Un[Hn++]=Ms,Ms=a;var p=vi;a=bi;var v=32-Xt(p)-1;p&=~(1<<v),f+=1;var S=32-Xt(o)+v;if(30<S){var j=v-v%5;S=(p&(1<<j)-1).toString(32),p>>=j,v-=j,vi=1<<32-Xt(o)+v|f<<v|p,bi=S+a}else vi=1<<S|f<<v|p,bi=a}function km(a){a.return!==null&&(Gi(a,1),Mw(a,1,0))}function Am(a){for(;a===_f;)_f=Bl[--zl],Bl[zl]=null,du=Bl[--zl],Bl[zl]=null;for(;a===Ms;)Ms=Un[--Hn],Un[Hn]=null,bi=Un[--Hn],Un[Hn]=null,vi=Un[--Hn],Un[Hn]=null}function Nw(a,o){Un[Hn++]=vi,Un[Hn++]=bi,Un[Hn++]=Ms,vi=o.id,bi=o.overflow,Ms=a}var Rr=null,Zt=null,bt=!1,Ns=null,qn=!1,Em=Error(n(519));function Ds(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pu(In(o,a)),Em}function Dw(a){var o=a.stateNode,f=a.type,p=a.memoizedProps;switch(o[Ie]=a,o[Ue]=p,f){case"dialog":dt("cancel",o),dt("close",o);break;case"iframe":case"object":case"embed":dt("load",o);break;case"video":case"audio":for(f=0;f<zu.length;f++)dt(zu[f],o);break;case"source":dt("error",o);break;case"img":case"image":case"link":dt("error",o),dt("load",o);break;case"details":dt("toggle",o);break;case"input":dt("invalid",o),$x(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":dt("invalid",o);break;case"textarea":dt("invalid",o),Qx(o,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||p.suppressHydrationWarning===!0||Y2(o.textContent,f)?(p.popover!=null&&(dt("beforetoggle",o),dt("toggle",o)),p.onScroll!=null&&dt("scroll",o),p.onScrollEnd!=null&&dt("scrollend",o),p.onClick!=null&&(o.onclick=Wi),o=!0):o=!1,o||Ds(a,!0)}function Lw(a){for(Rr=a.return;Rr;)switch(Rr.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Rr=Rr.return}}function jl(a){if(a!==Rr)return!1;if(!bt)return Lw(a),bt=!0,!1;var o=a.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||qg(a.type,a.memoizedProps)),f=!f),f&&Zt&&Ds(a),Lw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Zt=sk(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Zt=sk(a)}else o===27?(o=Zt,Gs(a.type)?(a=Qg,Qg=null,Zt=a):Zt=o):Zt=Rr?Vn(a.stateNode.nextSibling):null;return!0}function Na(){Zt=Rr=null,bt=!1}function Tm(){var a=Ns;return a!==null&&(fn===null?fn=a:fn.push.apply(fn,a),Ns=null),a}function pu(a){Ns===null?Ns=[a]:Ns.push(a)}var Cm=q(null),Da=null,Qi=null;function Ls(a,o,f){K(Cm,o._currentValue),o._currentValue=f}function Xi(a){a._currentValue=Cm.current,I(Cm)}function Om(a,o,f){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===f)break;a=a.return}}function _m(a,o,f,p){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var S=v.dependencies;if(S!==null){var j=v.child;S=S.firstContext;e:for(;S!==null;){var V=S;S=v;for(var ae=0;ae<o.length;ae++)if(V.context===o[ae]){S.lanes|=f,V=S.alternate,V!==null&&(V.lanes|=f),Om(S.return,f,a),p||(j=null);break e}S=V.next}}else if(v.tag===18){if(j=v.return,j===null)throw Error(n(341));j.lanes|=f,S=j.alternate,S!==null&&(S.lanes|=f),Om(j,f,a),j=null}else j=v.child;if(j!==null)j.return=v;else for(j=v;j!==null;){if(j===a){j=null;break}if(v=j.sibling,v!==null){v.return=j.return,j=v;break}j=j.return}v=j}}function Pl(a,o,f,p){a=null;for(var v=o,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var j=v.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var V=v.type;An(v.pendingProps.value,j.value)||(a!==null?a.push(V):a=[V])}}else if(v===B.current){if(j=v.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Uu):a=[Uu])}v=v.return}a!==null&&_m(o,a,f,p),o.flags|=262144}function Rf(a){for(a=a.firstContext;a!==null;){if(!An(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function La(a){Da=a,Qi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Mr(a){return Bw(Da,a)}function Mf(a,o){return Da===null&&La(a),Bw(a,o)}function Bw(a,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},Qi===null){if(a===null)throw Error(n(308));Qi=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Qi=Qi.next=o;return f}var eM=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(f,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(f){return f()})}},tM=r.unstable_scheduleCallback,rM=r.unstable_NormalPriority,hr={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new eM,data:new Map,refCount:0}}function mu(a){a.refCount--,a.refCount===0&&tM(rM,function(){a.controller.abort()})}var gu=null,Mm=0,Fl=0,Il=null;function nM(a,o){if(gu===null){var f=gu=[];Mm=0,Fl=Lg(),Il={status:"pending",value:void 0,then:function(p){f.push(p)}}}return Mm++,o.then(zw,zw),o}function zw(){if(--Mm===0&&gu!==null){Il!==null&&(Il.status="fulfilled");var a=gu;gu=null,Fl=0,Il=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function iM(a,o){var f=[],p={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<f.length;v++)(0,f[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),p}var jw=Y.S;Y.S=function(a,o){x2=Te(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&nM(a,o),jw!==null&&jw(a,o)};var Ba=q(null);function Nm(){var a=Ba.current;return a!==null?a:Wt.pooledCache}function Nf(a,o){o===null?K(Ba,Ba.current):K(Ba,o.pool)}function Pw(){var a=Nm();return a===null?null:{parent:hr._currentValue,pool:a}}var Ul=Error(n(460)),Dm=Error(n(474)),Df=Error(n(542)),Lf={then:function(){}};function Fw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Iw(a,o,f){switch(f=a[f],f===void 0?a.push(o):f!==o&&(o.then(Wi,Wi),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Hw(a),a;default:if(typeof o.status=="string")o.then(Wi,Wi);else{if(a=Wt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Hw(a),a}throw ja=o,Ul}}function za(a){try{var o=a._init;return o(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(ja=f,Ul):f}}var ja=null;function Uw(){if(ja===null)throw Error(n(459));var a=ja;return ja=null,a}function Hw(a){if(a===Ul||a===Df)throw Error(n(483))}var Hl=null,yu=0;function Bf(a){var o=yu;return yu+=1,Hl===null&&(Hl=[]),Iw(Hl,a,o)}function vu(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function zf(a,o){throw o.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function qw(a){function o(me,de){if(a){var be=me.deletions;be===null?(me.deletions=[de],me.flags|=16):be.push(de)}}function f(me,de){if(!a)return null;for(;de!==null;)o(me,de),de=de.sibling;return null}function p(me){for(var de=new Map;me!==null;)me.key!==null?de.set(me.key,me):de.set(me.index,me),me=me.sibling;return de}function v(me,de){return me=$i(me,de),me.index=0,me.sibling=null,me}function S(me,de,be){return me.index=be,a?(be=me.alternate,be!==null?(be=be.index,be<de?(me.flags|=67108866,de):be):(me.flags|=67108866,de)):(me.flags|=1048576,de)}function j(me){return a&&me.alternate===null&&(me.flags|=67108866),me}function V(me,de,be,_e){return de===null||de.tag!==6?(de=wm(be,me.mode,_e),de.return=me,de):(de=v(de,be),de.return=me,de)}function ae(me,de,be,_e){var tt=be.type;return tt===w?Ce(me,de,be.props.children,_e,be.key):de!==null&&(de.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Q&&za(tt)===de.type)?(de=v(de,be.props),vu(de,be),de.return=me,de):(de=Of(be.type,be.key,be.props,null,me.mode,_e),vu(de,be),de.return=me,de)}function xe(me,de,be,_e){return de===null||de.tag!==4||de.stateNode.containerInfo!==be.containerInfo||de.stateNode.implementation!==be.implementation?(de=Sm(be,me.mode,_e),de.return=me,de):(de=v(de,be.children||[]),de.return=me,de)}function Ce(me,de,be,_e,tt){return de===null||de.tag!==7?(de=Ma(be,me.mode,_e,tt),de.return=me,de):(de=v(de,be),de.return=me,de)}function Me(me,de,be){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=wm(""+de,me.mode,be),de.return=me,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case y:return be=Of(de.type,de.key,de.props,null,me.mode,be),vu(be,de),be.return=me,be;case b:return de=Sm(de,me.mode,be),de.return=me,de;case Q:return de=za(de),Me(me,de,be)}if(ee(de)||U(de))return de=Ma(de,me.mode,be,null),de.return=me,de;if(typeof de.then=="function")return Me(me,Bf(de),be);if(de.$$typeof===O)return Me(me,Mf(me,de),be);zf(me,de)}return null}function we(me,de,be,_e){var tt=de!==null?de.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return tt!==null?null:V(me,de,""+be,_e);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return be.key===tt?ae(me,de,be,_e):null;case b:return be.key===tt?xe(me,de,be,_e):null;case Q:return be=za(be),we(me,de,be,_e)}if(ee(be)||U(be))return tt!==null?null:Ce(me,de,be,_e,null);if(typeof be.then=="function")return we(me,de,Bf(be),_e);if(be.$$typeof===O)return we(me,de,Mf(me,be),_e);zf(me,be)}return null}function Ae(me,de,be,_e,tt){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return me=me.get(be)||null,V(de,me,""+_e,tt);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case y:return me=me.get(_e.key===null?be:_e.key)||null,ae(de,me,_e,tt);case b:return me=me.get(_e.key===null?be:_e.key)||null,xe(de,me,_e,tt);case Q:return _e=za(_e),Ae(me,de,be,_e,tt)}if(ee(_e)||U(_e))return me=me.get(be)||null,Ce(de,me,_e,tt,null);if(typeof _e.then=="function")return Ae(me,de,be,Bf(_e),tt);if(_e.$$typeof===O)return Ae(me,de,be,Mf(de,_e),tt);zf(de,_e)}return null}function Ge(me,de,be,_e){for(var tt=null,Tt=null,Xe=de,lt=de=0,gt=null;Xe!==null&&lt<be.length;lt++){Xe.index>lt?(gt=Xe,Xe=null):gt=Xe.sibling;var Ct=we(me,Xe,be[lt],_e);if(Ct===null){Xe===null&&(Xe=gt);break}a&&Xe&&Ct.alternate===null&&o(me,Xe),de=S(Ct,de,lt),Tt===null?tt=Ct:Tt.sibling=Ct,Tt=Ct,Xe=gt}if(lt===be.length)return f(me,Xe),bt&&Gi(me,lt),tt;if(Xe===null){for(;lt<be.length;lt++)Xe=Me(me,be[lt],_e),Xe!==null&&(de=S(Xe,de,lt),Tt===null?tt=Xe:Tt.sibling=Xe,Tt=Xe);return bt&&Gi(me,lt),tt}for(Xe=p(Xe);lt<be.length;lt++)gt=Ae(Xe,me,lt,be[lt],_e),gt!==null&&(a&&gt.alternate!==null&&Xe.delete(gt.key===null?lt:gt.key),de=S(gt,de,lt),Tt===null?tt=gt:Tt.sibling=gt,Tt=gt);return a&&Xe.forEach(function(Zs){return o(me,Zs)}),bt&&Gi(me,lt),tt}function nt(me,de,be,_e){if(be==null)throw Error(n(151));for(var tt=null,Tt=null,Xe=de,lt=de=0,gt=null,Ct=be.next();Xe!==null&&!Ct.done;lt++,Ct=be.next()){Xe.index>lt?(gt=Xe,Xe=null):gt=Xe.sibling;var Zs=we(me,Xe,Ct.value,_e);if(Zs===null){Xe===null&&(Xe=gt);break}a&&Xe&&Zs.alternate===null&&o(me,Xe),de=S(Zs,de,lt),Tt===null?tt=Zs:Tt.sibling=Zs,Tt=Zs,Xe=gt}if(Ct.done)return f(me,Xe),bt&&Gi(me,lt),tt;if(Xe===null){for(;!Ct.done;lt++,Ct=be.next())Ct=Me(me,Ct.value,_e),Ct!==null&&(de=S(Ct,de,lt),Tt===null?tt=Ct:Tt.sibling=Ct,Tt=Ct);return bt&&Gi(me,lt),tt}for(Xe=p(Xe);!Ct.done;lt++,Ct=be.next())Ct=Ae(Xe,me,lt,Ct.value,_e),Ct!==null&&(a&&Ct.alternate!==null&&Xe.delete(Ct.key===null?lt:Ct.key),de=S(Ct,de,lt),Tt===null?tt=Ct:Tt.sibling=Ct,Tt=Ct);return a&&Xe.forEach(function(mN){return o(me,mN)}),bt&&Gi(me,lt),tt}function Ft(me,de,be,_e){if(typeof be=="object"&&be!==null&&be.type===w&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case y:e:{for(var tt=be.key;de!==null;){if(de.key===tt){if(tt=be.type,tt===w){if(de.tag===7){f(me,de.sibling),_e=v(de,be.props.children),_e.return=me,me=_e;break e}}else if(de.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Q&&za(tt)===de.type){f(me,de.sibling),_e=v(de,be.props),vu(_e,be),_e.return=me,me=_e;break e}f(me,de);break}else o(me,de);de=de.sibling}be.type===w?(_e=Ma(be.props.children,me.mode,_e,be.key),_e.return=me,me=_e):(_e=Of(be.type,be.key,be.props,null,me.mode,_e),vu(_e,be),_e.return=me,me=_e)}return j(me);case b:e:{for(tt=be.key;de!==null;){if(de.key===tt)if(de.tag===4&&de.stateNode.containerInfo===be.containerInfo&&de.stateNode.implementation===be.implementation){f(me,de.sibling),_e=v(de,be.children||[]),_e.return=me,me=_e;break e}else{f(me,de);break}else o(me,de);de=de.sibling}_e=Sm(be,me.mode,_e),_e.return=me,me=_e}return j(me);case Q:return be=za(be),Ft(me,de,be,_e)}if(ee(be))return Ge(me,de,be,_e);if(U(be)){if(tt=U(be),typeof tt!="function")throw Error(n(150));return be=tt.call(be),nt(me,de,be,_e)}if(typeof be.then=="function")return Ft(me,de,Bf(be),_e);if(be.$$typeof===O)return Ft(me,de,Mf(me,be),_e);zf(me,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,de!==null&&de.tag===6?(f(me,de.sibling),_e=v(de,be),_e.return=me,me=_e):(f(me,de),_e=wm(be,me.mode,_e),_e.return=me,me=_e),j(me)):f(me,de)}return function(me,de,be,_e){try{yu=0;var tt=Ft(me,de,be,_e);return Hl=null,tt}catch(Xe){if(Xe===Ul||Xe===Df)throw Xe;var Tt=En(29,Xe,null,me.mode);return Tt.lanes=_e,Tt.return=me,Tt}finally{}}}var Pa=qw(!0),Ww=qw(!1),Bs=!1;function Lm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function zs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function js(a,o,f){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Rt&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=Cf(a),Cw(a,null,f),o}return Tf(a,p,o,f),Cf(a)}function bu(a,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,f|=p,o.lanes=f,le(a,f)}}function zm(a,o){var f=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var v=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var j={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?v=S=j:S=S.next=j,f=f.next}while(f!==null);S===null?v=S=o:S=S.next=o}else v=S=o;f={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=o:a.next=o,f.lastBaseUpdate=o}var jm=!1;function xu(){if(jm){var a=Il;if(a!==null)throw a}}function wu(a,o,f,p){jm=!1;var v=a.updateQueue;Bs=!1;var S=v.firstBaseUpdate,j=v.lastBaseUpdate,V=v.shared.pending;if(V!==null){v.shared.pending=null;var ae=V,xe=ae.next;ae.next=null,j===null?S=xe:j.next=xe,j=ae;var Ce=a.alternate;Ce!==null&&(Ce=Ce.updateQueue,V=Ce.lastBaseUpdate,V!==j&&(V===null?Ce.firstBaseUpdate=xe:V.next=xe,Ce.lastBaseUpdate=ae))}if(S!==null){var Me=v.baseState;j=0,Ce=xe=ae=null,V=S;do{var we=V.lane&-536870913,Ae=we!==V.lane;if(Ae?(mt&we)===we:(p&we)===we){we!==0&&we===Fl&&(jm=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ge=a,nt=V;we=o;var Ft=f;switch(nt.tag){case 1:if(Ge=nt.payload,typeof Ge=="function"){Me=Ge.call(Ft,Me,we);break e}Me=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=nt.payload,we=typeof Ge=="function"?Ge.call(Ft,Me,we):Ge,we==null)break e;Me=m({},Me,we);break e;case 2:Bs=!0}}we=V.callback,we!==null&&(a.flags|=64,Ae&&(a.flags|=8192),Ae=v.callbacks,Ae===null?v.callbacks=[we]:Ae.push(we))}else Ae={lane:we,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Ce===null?(xe=Ce=Ae,ae=Me):Ce=Ce.next=Ae,j|=we;if(V=V.next,V===null){if(V=v.shared.pending,V===null)break;Ae=V,V=Ae.next,Ae.next=null,v.lastBaseUpdate=Ae,v.shared.pending=null}}while(!0);Ce===null&&(ae=Me),v.baseState=ae,v.firstBaseUpdate=xe,v.lastBaseUpdate=Ce,S===null&&(v.shared.lanes=0),Hs|=j,a.lanes=j,a.memoizedState=Me}}function Vw(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function $w(a,o){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)Vw(f[a],o)}var ql=q(null),jf=q(0);function Gw(a,o){a=is,K(jf,a),K(ql,o),is=a|o.baseLanes}function Pm(){K(jf,is),K(ql,ql.current)}function Fm(){is=jf.current,I(ql),I(jf)}var Tn=q(null),Wn=null;function Ps(a){var o=a.alternate;K(or,or.current&1),K(Tn,a),Wn===null&&(o===null||ql.current!==null||o.memoizedState!==null)&&(Wn=a)}function Im(a){K(or,or.current),K(Tn,a),Wn===null&&(Wn=a)}function Qw(a){a.tag===22?(K(or,or.current),K(Tn,a),Wn===null&&(Wn=a)):Fs()}function Fs(){K(or,or.current),K(Tn,Tn.current)}function Cn(a){I(Tn),Wn===a&&(Wn=null),I(or)}var or=q(0);function Pf(a){for(var o=a;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||$g(f)||Gg(f)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Yi=0,at=null,jt=null,dr=null,Ff=!1,Wl=!1,Fa=!1,If=0,Su=0,Vl=null,sM=0;function ir(){throw Error(n(321))}function Um(a,o){if(o===null)return!1;for(var f=0;f<o.length&&f<a.length;f++)if(!An(a[f],o[f]))return!1;return!0}function Hm(a,o,f,p,v,S){return Yi=S,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=a===null||a.memoizedState===null?MS:ng,Fa=!1,S=f(p,v),Fa=!1,Wl&&(S=Yw(o,f,p,v)),Xw(a),S}function Xw(a){Y.H=Eu;var o=jt!==null&&jt.next!==null;if(Yi=0,dr=jt=at=null,Ff=!1,Su=0,Vl=null,o)throw Error(n(300));a===null||pr||(a=a.dependencies,a!==null&&Rf(a)&&(pr=!0))}function Yw(a,o,f,p){at=a;var v=0;do{if(Wl&&(Vl=null),Su=0,Wl=!1,25<=v)throw Error(n(301));if(v+=1,dr=jt=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}Y.H=NS,S=o(f,p)}while(Wl);return S}function aM(){var a=Y.H,o=a.useState()[0];return o=typeof o.then=="function"?ku(o):o,a=a.useState()[0],(jt!==null?jt.memoizedState:null)!==a&&(at.flags|=1024),o}function qm(){var a=If!==0;return If=0,a}function Wm(a,o,f){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~f}function Vm(a){if(Ff){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ff=!1}Yi=0,dr=jt=at=null,Wl=!1,Su=If=0,Vl=null}function Gr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?at.memoizedState=dr=a:dr=dr.next=a,dr}function ur(){if(jt===null){var a=at.alternate;a=a!==null?a.memoizedState:null}else a=jt.next;var o=dr===null?at.memoizedState:dr.next;if(o!==null)dr=o,jt=a;else{if(a===null)throw at.alternate===null?Error(n(467)):Error(n(310));jt=a,a={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},dr===null?at.memoizedState=dr=a:dr=dr.next=a}return dr}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ku(a){var o=Su;return Su+=1,Vl===null&&(Vl=[]),a=Iw(Vl,a,o),o=at,(dr===null?o.memoizedState:dr.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?MS:ng),a}function Hf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ku(a);if(a.$$typeof===O)return Mr(a)}throw Error(n(438,String(a)))}function $m(a){var o=null,f=at.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var p=at.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=Uf(),at.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(a),p=0;p<a;p++)f[p]=re;return o.index++,f}function Ki(a,o){return typeof o=="function"?o(a):o}function qf(a){var o=ur();return Gm(o,jt,a)}function Gm(a,o,f){var p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=f;var v=a.baseQueue,S=p.pending;if(S!==null){if(v!==null){var j=v.next;v.next=S.next,S.next=j}o.baseQueue=v=S,p.pending=null}if(S=a.baseState,v===null)a.memoizedState=S;else{o=v.next;var V=j=null,ae=null,xe=o,Ce=!1;do{var Me=xe.lane&-536870913;if(Me!==xe.lane?(mt&Me)===Me:(Yi&Me)===Me){var we=xe.revertLane;if(we===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Me===Fl&&(Ce=!0);else if((Yi&we)===we){xe=xe.next,we===Fl&&(Ce=!0);continue}else Me={lane:0,revertLane:xe.revertLane,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ae===null?(V=ae=Me,j=S):ae=ae.next=Me,at.lanes|=we,Hs|=we;Me=xe.action,Fa&&f(S,Me),S=xe.hasEagerState?xe.eagerState:f(S,Me)}else we={lane:Me,revertLane:xe.revertLane,gesture:xe.gesture,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ae===null?(V=ae=we,j=S):ae=ae.next=we,at.lanes|=Me,Hs|=Me;xe=xe.next}while(xe!==null&&xe!==o);if(ae===null?j=S:ae.next=V,!An(S,a.memoizedState)&&(pr=!0,Ce&&(f=Il,f!==null)))throw f;a.memoizedState=S,a.baseState=j,a.baseQueue=ae,p.lastRenderedState=S}return v===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Qm(a){var o=ur(),f=o.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=a;var p=f.dispatch,v=f.pending,S=o.memoizedState;if(v!==null){f.pending=null;var j=v=v.next;do S=a(S,j.action),j=j.next;while(j!==v);An(S,o.memoizedState)||(pr=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),f.lastRenderedState=S}return[S,p]}function Kw(a,o,f){var p=at,v=ur(),S=bt;if(S){if(f===void 0)throw Error(n(407));f=f()}else f=o();var j=!An((jt||v).memoizedState,f);if(j&&(v.memoizedState=f,pr=!0),v=v.queue,Km(eS.bind(null,p,v,a),[a]),v.getSnapshot!==o||j||dr!==null&&dr.memoizedState.tag&1){if(p.flags|=2048,$l(9,{destroy:void 0},Jw.bind(null,p,v,f,o),null),Wt===null)throw Error(n(349));S||(Yi&127)!==0||Zw(p,o,f)}return f}function Zw(a,o,f){a.flags|=16384,a={getSnapshot:o,value:f},o=at.updateQueue,o===null?(o=Uf(),at.updateQueue=o,o.stores=[a]):(f=o.stores,f===null?o.stores=[a]:f.push(a))}function Jw(a,o,f,p){o.value=f,o.getSnapshot=p,tS(o)&&rS(a)}function eS(a,o,f){return f(function(){tS(o)&&rS(a)})}function tS(a){var o=a.getSnapshot;a=a.value;try{var f=o();return!An(a,f)}catch{return!0}}function rS(a){var o=Ra(a,2);o!==null&&hn(o,a,2)}function Xm(a){var o=Gr();if(typeof a=="function"){var f=a;if(a=f(),Fa){$r(!0);try{f()}finally{$r(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},o}function nS(a,o,f,p){return a.baseState=f,Gm(a,jt,typeof p=="function"?p:Ki)}function lM(a,o,f,p,v){if($f(a))throw Error(n(485));if(a=o.action,a!==null){var S={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){S.listeners.push(j)}};Y.T!==null?f(!0):S.isTransition=!1,p(S),f=o.pending,f===null?(S.next=o.pending=S,iS(o,S)):(S.next=f.next,o.pending=f.next=S)}}function iS(a,o){var f=o.action,p=o.payload,v=a.state;if(o.isTransition){var S=Y.T,j={};Y.T=j;try{var V=f(v,p),ae=Y.S;ae!==null&&ae(j,V),sS(a,o,V)}catch(xe){Ym(a,o,xe)}finally{S!==null&&j.types!==null&&(S.types=j.types),Y.T=S}}else try{S=f(v,p),sS(a,o,S)}catch(xe){Ym(a,o,xe)}}function sS(a,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){aS(a,o,p)},function(p){return Ym(a,o,p)}):aS(a,o,f)}function aS(a,o,f){o.status="fulfilled",o.value=f,lS(o),a.state=f,o=a.pending,o!==null&&(f=o.next,f===o?a.pending=null:(f=f.next,o.next=f,iS(a,f)))}function Ym(a,o,f){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=f,lS(o),o=o.next;while(o!==p)}a.action=null}function lS(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function oS(a,o){return o}function uS(a,o){if(bt){var f=Wt.formState;if(f!==null){e:{var p=at;if(bt){if(Zt){t:{for(var v=Zt,S=qn;v.nodeType!==8;){if(!S){v=null;break t}if(v=Vn(v.nextSibling),v===null){v=null;break t}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){Zt=Vn(v.nextSibling),p=v.data==="F!";break e}}Ds(p)}p=!1}p&&(o=f[0])}}return f=Gr(),f.memoizedState=f.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oS,lastRenderedState:o},f.queue=p,f=OS.bind(null,at,p),p.dispatch=f,p=Xm(!1),S=rg.bind(null,at,!1,p.queue),p=Gr(),v={state:o,dispatch:null,action:a,pending:null},p.queue=v,f=lM.bind(null,at,v,S,f),v.dispatch=f,p.memoizedState=a,[o,f,!1]}function cS(a){var o=ur();return fS(o,jt,a)}function fS(a,o,f){if(o=Gm(a,o,oS)[0],a=qf(Ki)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=ku(o)}catch(j){throw j===Ul?Df:j}else p=o;o=ur();var v=o.queue,S=v.dispatch;return f!==o.memoizedState&&(at.flags|=2048,$l(9,{destroy:void 0},oM.bind(null,v,f),null)),[p,S,a]}function oM(a,o){a.action=o}function hS(a){var o=ur(),f=jt;if(f!==null)return fS(o,f,a);ur(),o=o.memoizedState,f=ur();var p=f.queue.dispatch;return f.memoizedState=a,[o,p,!1]}function $l(a,o,f,p){return a={tag:a,create:f,deps:p,inst:o,next:null},o=at.updateQueue,o===null&&(o=Uf(),at.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=a.next=a:(p=f.next,f.next=a,a.next=p,o.lastEffect=a),a}function dS(){return ur().memoizedState}function Wf(a,o,f,p){var v=Gr();at.flags|=a,v.memoizedState=$l(1|o,{destroy:void 0},f,p===void 0?null:p)}function Vf(a,o,f,p){var v=ur();p=p===void 0?null:p;var S=v.memoizedState.inst;jt!==null&&p!==null&&Um(p,jt.memoizedState.deps)?v.memoizedState=$l(o,S,f,p):(at.flags|=a,v.memoizedState=$l(1|o,S,f,p))}function pS(a,o){Wf(8390656,8,a,o)}function Km(a,o){Vf(2048,8,a,o)}function uM(a){at.flags|=4;var o=at.updateQueue;if(o===null)o=Uf(),at.updateQueue=o,o.events=[a];else{var f=o.events;f===null?o.events=[a]:f.push(a)}}function mS(a){var o=ur().memoizedState;return uM({ref:o,nextImpl:a}),function(){if((Rt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function gS(a,o){return Vf(4,2,a,o)}function yS(a,o){return Vf(4,4,a,o)}function vS(a,o){if(typeof o=="function"){a=a();var f=o(a);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function bS(a,o,f){f=f!=null?f.concat([a]):null,Vf(4,4,vS.bind(null,o,a),f)}function Zm(){}function xS(a,o){var f=ur();o=o===void 0?null:o;var p=f.memoizedState;return o!==null&&Um(o,p[1])?p[0]:(f.memoizedState=[a,o],a)}function wS(a,o){var f=ur();o=o===void 0?null:o;var p=f.memoizedState;if(o!==null&&Um(o,p[1]))return p[0];if(p=a(),Fa){$r(!0);try{a()}finally{$r(!1)}}return f.memoizedState=[p,o],p}function Jm(a,o,f){return f===void 0||(Yi&1073741824)!==0&&(mt&261930)===0?a.memoizedState=o:(a.memoizedState=f,a=S2(),at.lanes|=a,Hs|=a,f)}function SS(a,o,f,p){return An(f,o)?f:ql.current!==null?(a=Jm(a,f,p),An(a,o)||(pr=!0),a):(Yi&42)===0||(Yi&1073741824)!==0&&(mt&261930)===0?(pr=!0,a.memoizedState=f):(a=S2(),at.lanes|=a,Hs|=a,o)}function kS(a,o,f,p,v){var S=G.p;G.p=S!==0&&8>S?S:8;var j=Y.T,V={};Y.T=V,rg(a,!1,o,f);try{var ae=v(),xe=Y.S;if(xe!==null&&xe(V,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Ce=iM(ae,p);Au(a,o,Ce,Rn(a))}else Au(a,o,p,Rn(a))}catch(Me){Au(a,o,{then:function(){},status:"rejected",reason:Me},Rn())}finally{G.p=S,j!==null&&V.types!==null&&(j.types=V.types),Y.T=j}}function cM(){}function eg(a,o,f,p){if(a.tag!==5)throw Error(n(476));var v=AS(a).queue;kS(a,v,o,ue,f===null?cM:function(){return ES(a),f(p)})}function AS(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ue},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:f},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function ES(a){var o=AS(a);o.next===null&&(o=a.alternate.memoizedState),Au(a,o.next.queue,{},Rn())}function tg(){return Mr(Uu)}function TS(){return ur().memoizedState}function CS(){return ur().memoizedState}function fM(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var f=Rn();a=zs(f);var p=js(o,a,f);p!==null&&(hn(p,o,f),bu(p,o,f)),o={cache:Rm()},a.payload=o;return}o=o.return}}function hM(a,o,f){var p=Rn();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},$f(a)?_S(o,f):(f=bm(a,o,f,p),f!==null&&(hn(f,a,p),RS(f,o,p)))}function OS(a,o,f){var p=Rn();Au(a,o,f,p)}function Au(a,o,f,p){var v={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if($f(a))_S(o,v);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var j=o.lastRenderedState,V=S(j,f);if(v.hasEagerState=!0,v.eagerState=V,An(V,j))return Tf(a,o,v,0),Wt===null&&Ef(),!1}catch{}finally{}if(f=bm(a,o,v,p),f!==null)return hn(f,a,p),RS(f,o,p),!0}return!1}function rg(a,o,f,p){if(p={lane:2,revertLane:Lg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},$f(a)){if(o)throw Error(n(479))}else o=bm(a,f,p,2),o!==null&&hn(o,a,2)}function $f(a){var o=a.alternate;return a===at||o!==null&&o===at}function _S(a,o){Wl=Ff=!0;var f=a.pending;f===null?o.next=o:(o.next=f.next,f.next=o),a.pending=o}function RS(a,o,f){if((f&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,f|=p,o.lanes=f,le(a,f)}}var Eu={readContext:Mr,use:Hf,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useLayoutEffect:ir,useInsertionEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useSyncExternalStore:ir,useId:ir,useHostTransitionStatus:ir,useFormState:ir,useActionState:ir,useOptimistic:ir,useMemoCache:ir,useCacheRefresh:ir};Eu.useEffectEvent=ir;var MS={readContext:Mr,use:Hf,useCallback:function(a,o){return Gr().memoizedState=[a,o===void 0?null:o],a},useContext:Mr,useEffect:pS,useImperativeHandle:function(a,o,f){f=f!=null?f.concat([a]):null,Wf(4194308,4,vS.bind(null,o,a),f)},useLayoutEffect:function(a,o){return Wf(4194308,4,a,o)},useInsertionEffect:function(a,o){Wf(4,2,a,o)},useMemo:function(a,o){var f=Gr();o=o===void 0?null:o;var p=a();if(Fa){$r(!0);try{a()}finally{$r(!1)}}return f.memoizedState=[p,o],p},useReducer:function(a,o,f){var p=Gr();if(f!==void 0){var v=f(o);if(Fa){$r(!0);try{f(o)}finally{$r(!1)}}}else v=o;return p.memoizedState=p.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},p.queue=a,a=a.dispatch=hM.bind(null,at,a),[p.memoizedState,a]},useRef:function(a){var o=Gr();return a={current:a},o.memoizedState=a},useState:function(a){a=Xm(a);var o=a.queue,f=OS.bind(null,at,o);return o.dispatch=f,[a.memoizedState,f]},useDebugValue:Zm,useDeferredValue:function(a,o){var f=Gr();return Jm(f,a,o)},useTransition:function(){var a=Xm(!1);return a=kS.bind(null,at,a.queue,!0,!1),Gr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,f){var p=at,v=Gr();if(bt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=o(),Wt===null)throw Error(n(349));(mt&127)!==0||Zw(p,o,f)}v.memoizedState=f;var S={value:f,getSnapshot:o};return v.queue=S,pS(eS.bind(null,p,S,a),[a]),p.flags|=2048,$l(9,{destroy:void 0},Jw.bind(null,p,S,f,o),null),f},useId:function(){var a=Gr(),o=Wt.identifierPrefix;if(bt){var f=bi,p=vi;f=(p&~(1<<32-Xt(p)-1)).toString(32)+f,o="_"+o+"R_"+f,f=If++,0<f&&(o+="H"+f.toString(32)),o+="_"}else f=sM++,o="_"+o+"r_"+f.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:tg,useFormState:uS,useActionState:uS,useOptimistic:function(a){var o=Gr();o.memoizedState=o.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=rg.bind(null,at,!0,f),f.dispatch=o,[a,o]},useMemoCache:$m,useCacheRefresh:function(){return Gr().memoizedState=fM.bind(null,at)},useEffectEvent:function(a){var o=Gr(),f={impl:a};return o.memoizedState=f,function(){if((Rt&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}},ng={readContext:Mr,use:Hf,useCallback:xS,useContext:Mr,useEffect:Km,useImperativeHandle:bS,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:wS,useReducer:qf,useRef:dS,useState:function(){return qf(Ki)},useDebugValue:Zm,useDeferredValue:function(a,o){var f=ur();return SS(f,jt.memoizedState,a,o)},useTransition:function(){var a=qf(Ki)[0],o=ur().memoizedState;return[typeof a=="boolean"?a:ku(a),o]},useSyncExternalStore:Kw,useId:TS,useHostTransitionStatus:tg,useFormState:cS,useActionState:cS,useOptimistic:function(a,o){var f=ur();return nS(f,jt,a,o)},useMemoCache:$m,useCacheRefresh:CS};ng.useEffectEvent=mS;var NS={readContext:Mr,use:Hf,useCallback:xS,useContext:Mr,useEffect:Km,useImperativeHandle:bS,useInsertionEffect:gS,useLayoutEffect:yS,useMemo:wS,useReducer:Qm,useRef:dS,useState:function(){return Qm(Ki)},useDebugValue:Zm,useDeferredValue:function(a,o){var f=ur();return jt===null?Jm(f,a,o):SS(f,jt.memoizedState,a,o)},useTransition:function(){var a=Qm(Ki)[0],o=ur().memoizedState;return[typeof a=="boolean"?a:ku(a),o]},useSyncExternalStore:Kw,useId:TS,useHostTransitionStatus:tg,useFormState:hS,useActionState:hS,useOptimistic:function(a,o){var f=ur();return jt!==null?nS(f,jt,a,o):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:$m,useCacheRefresh:CS};NS.useEffectEvent=mS;function ig(a,o,f,p){o=a.memoizedState,f=f(p,o),f=f==null?o:m({},o,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var sg={enqueueSetState:function(a,o,f){a=a._reactInternals;var p=Rn(),v=zs(p);v.payload=o,f!=null&&(v.callback=f),o=js(a,v,p),o!==null&&(hn(o,a,p),bu(o,a,p))},enqueueReplaceState:function(a,o,f){a=a._reactInternals;var p=Rn(),v=zs(p);v.tag=1,v.payload=o,f!=null&&(v.callback=f),o=js(a,v,p),o!==null&&(hn(o,a,p),bu(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var f=Rn(),p=zs(f);p.tag=2,o!=null&&(p.callback=o),o=js(a,p,f),o!==null&&(hn(o,a,f),bu(o,a,f))}};function DS(a,o,f,p,v,S,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,S,j):o.prototype&&o.prototype.isPureReactComponent?!fu(f,p)||!fu(v,S):!0}function LS(a,o,f,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,p),o.state!==a&&sg.enqueueReplaceState(o,o.state,null)}function Ia(a,o){var f=o;if("ref"in o){f={};for(var p in o)p!=="ref"&&(f[p]=o[p])}if(a=a.defaultProps){f===o&&(f=m({},f));for(var v in a)f[v]===void 0&&(f[v]=a[v])}return f}function BS(a){Af(a)}function zS(a){console.error(a)}function jS(a){Af(a)}function Gf(a,o){try{var f=a.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function PS(a,o,f){try{var p=a.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ag(a,o,f){return f=zs(f),f.tag=3,f.payload={element:null},f.callback=function(){Gf(a,o)},f}function FS(a){return a=zs(a),a.tag=3,a}function IS(a,o,f,p){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var S=p.value;a.payload=function(){return v(S)},a.callback=function(){PS(o,f,p)}}var j=f.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(a.callback=function(){PS(o,f,p),typeof v!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var V=p.stack;this.componentDidCatch(p.value,{componentStack:V!==null?V:""})})}function dM(a,o,f,p,v){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=f.alternate,o!==null&&Pl(o,f,v,!0),f=Tn.current,f!==null){switch(f.tag){case 31:case 13:return Wn===null?sh():f.alternate===null&&sr===0&&(sr=3),f.flags&=-257,f.flags|=65536,f.lanes=v,p===Lf?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([p]):o.add(p),Mg(a,p,v)),!1;case 22:return f.flags|=65536,p===Lf?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([p]):f.add(p)),Mg(a,p,v)),!1}throw Error(n(435,f.tag))}return Mg(a,p,v),sh(),!1}if(bt)return o=Tn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==Em&&(a=Error(n(422),{cause:p}),pu(In(a,f)))):(p!==Em&&(o=Error(n(423),{cause:p}),pu(In(o,f))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,p=In(p,f),v=ag(a.stateNode,p,v),zm(a,v),sr!==4&&(sr=2)),!1;var S=Error(n(520),{cause:p});if(S=In(S,f),Du===null?Du=[S]:Du.push(S),sr!==4&&(sr=2),o===null)return!0;p=In(p,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,a=v&-v,f.lanes|=a,a=ag(f.stateNode,p,a),zm(f,a),!1;case 1:if(o=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qs===null||!qs.has(S))))return f.flags|=65536,v&=-v,f.lanes|=v,v=FS(v),IS(v,a,f,p),zm(f,v),!1}f=f.return}while(f!==null);return!1}var lg=Error(n(461)),pr=!1;function Nr(a,o,f,p){o.child=a===null?Ww(o,null,f,p):Pa(o,a.child,f,p)}function US(a,o,f,p,v){f=f.render;var S=o.ref;if("ref"in p){var j={};for(var V in p)V!=="ref"&&(j[V]=p[V])}else j=p;return La(o),p=Hm(a,o,f,j,S,v),V=qm(),a!==null&&!pr?(Wm(a,o,v),Zi(a,o,v)):(bt&&V&&km(o),o.flags|=1,Nr(a,o,p,v),o.child)}function HS(a,o,f,p,v){if(a===null){var S=f.type;return typeof S=="function"&&!xm(S)&&S.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=S,qS(a,o,S,p,v)):(a=Of(f.type,null,p,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(S=a.child,!mg(a,v)){var j=S.memoizedProps;if(f=f.compare,f=f!==null?f:fu,f(j,p)&&a.ref===o.ref)return Zi(a,o,v)}return o.flags|=1,a=$i(S,p),a.ref=o.ref,a.return=o,o.child=a}function qS(a,o,f,p,v){if(a!==null){var S=a.memoizedProps;if(fu(S,p)&&a.ref===o.ref)if(pr=!1,o.pendingProps=p=S,mg(a,v))(a.flags&131072)!==0&&(pr=!0);else return o.lanes=a.lanes,Zi(a,o,v)}return og(a,o,f,p,v)}function WS(a,o,f,p){var v=p.children,S=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,a!==null){for(p=o.child=a.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~S}else p=0,o.child=null;return VS(a,o,S,f,p)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Nf(o,S!==null?S.cachePool:null),S!==null?Gw(o,S):Pm(),Qw(o);else return p=o.lanes=536870912,VS(a,o,S!==null?S.baseLanes|f:f,f,p)}else S!==null?(Nf(o,S.cachePool),Gw(o,S),Fs(),o.memoizedState=null):(a!==null&&Nf(o,null),Pm(),Fs());return Nr(a,o,v,f),o.child}function Tu(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function VS(a,o,f,p,v){var S=Nm();return S=S===null?null:{parent:hr._currentValue,pool:S},o.memoizedState={baseLanes:f,cachePool:S},a!==null&&Nf(o,null),Pm(),Qw(o),a!==null&&Pl(a,o,p,!0),o.childLanes=v,null}function Qf(a,o){return o=Yf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function $S(a,o,f){return Pa(o,a.child,null,f),a=Qf(o,o.pendingProps),a.flags|=2,Cn(o),o.memoizedState=null,a}function pM(a,o,f){var p=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(bt){if(p.mode==="hidden")return a=Qf(o,p),o.lanes=536870912,Tu(null,a);if(Im(o),(a=Zt)?(a=ik(a,qn),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ms!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},f=_w(a),f.return=o,o.child=f,Rr=o,Zt=null)):a=null,a===null)throw Ds(o);return o.lanes=536870912,null}return Qf(o,p)}var S=a.memoizedState;if(S!==null){var j=S.dehydrated;if(Im(o),v)if(o.flags&256)o.flags&=-257,o=$S(a,o,f);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(pr||Pl(a,o,f,!1),v=(f&a.childLanes)!==0,pr||v){if(p=Wt,p!==null&&(j=ye(p,f),j!==0&&j!==S.retryLane))throw S.retryLane=j,Ra(a,j),hn(p,a,j),lg;sh(),o=$S(a,o,f)}else a=S.treeContext,Zt=Vn(j.nextSibling),Rr=o,bt=!0,Ns=null,qn=!1,a!==null&&Nw(o,a),o=Qf(o,p),o.flags|=4096;return o}return a=$i(a.child,{mode:p.mode,children:p.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Xf(a,o){var f=o.ref;if(f===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(a===null||a.ref!==f)&&(o.flags|=4194816)}}function og(a,o,f,p,v){return La(o),f=Hm(a,o,f,p,void 0,v),p=qm(),a!==null&&!pr?(Wm(a,o,v),Zi(a,o,v)):(bt&&p&&km(o),o.flags|=1,Nr(a,o,f,v),o.child)}function GS(a,o,f,p,v,S){return La(o),o.updateQueue=null,f=Yw(o,p,f,v),Xw(a),p=qm(),a!==null&&!pr?(Wm(a,o,S),Zi(a,o,S)):(bt&&p&&km(o),o.flags|=1,Nr(a,o,f,S),o.child)}function QS(a,o,f,p,v){if(La(o),o.stateNode===null){var S=Ll,j=f.contextType;typeof j=="object"&&j!==null&&(S=Mr(j)),S=new f(p,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=sg,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=p,S.state=o.memoizedState,S.refs={},Lm(o),j=f.contextType,S.context=typeof j=="object"&&j!==null?Mr(j):Ll,S.state=o.memoizedState,j=f.getDerivedStateFromProps,typeof j=="function"&&(ig(o,f,j,p),S.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(j=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),j!==S.state&&sg.enqueueReplaceState(S,S.state,null),wu(o,p,S,v),xu(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){S=o.stateNode;var V=o.memoizedProps,ae=Ia(f,V);S.props=ae;var xe=S.context,Ce=f.contextType;j=Ll,typeof Ce=="object"&&Ce!==null&&(j=Mr(Ce));var Me=f.getDerivedStateFromProps;Ce=typeof Me=="function"||typeof S.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,Ce||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V||xe!==j)&&LS(o,S,p,j),Bs=!1;var we=o.memoizedState;S.state=we,wu(o,p,S,v),xu(),xe=o.memoizedState,V||we!==xe||Bs?(typeof Me=="function"&&(ig(o,f,Me,p),xe=o.memoizedState),(ae=Bs||DS(o,f,ae,p,we,xe,j))?(Ce||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=xe),S.props=p,S.state=xe,S.context=j,p=ae):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{S=o.stateNode,Bm(a,o),j=o.memoizedProps,Ce=Ia(f,j),S.props=Ce,Me=o.pendingProps,we=S.context,xe=f.contextType,ae=Ll,typeof xe=="object"&&xe!==null&&(ae=Mr(xe)),V=f.getDerivedStateFromProps,(xe=typeof V=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j!==Me||we!==ae)&&LS(o,S,p,ae),Bs=!1,we=o.memoizedState,S.state=we,wu(o,p,S,v),xu();var Ae=o.memoizedState;j!==Me||we!==Ae||Bs||a!==null&&a.dependencies!==null&&Rf(a.dependencies)?(typeof V=="function"&&(ig(o,f,V,p),Ae=o.memoizedState),(Ce=Bs||DS(o,f,Ce,p,we,Ae,ae)||a!==null&&a.dependencies!==null&&Rf(a.dependencies))?(xe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,Ae,ae),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,Ae,ae)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||j===a.memoizedProps&&we===a.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&we===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ae),S.props=p,S.state=Ae,S.context=ae,p=Ce):(typeof S.componentDidUpdate!="function"||j===a.memoizedProps&&we===a.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&we===a.memoizedState||(o.flags|=1024),p=!1)}return S=p,Xf(a,o),p=(o.flags&128)!==0,S||p?(S=o.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,a!==null&&p?(o.child=Pa(o,a.child,null,v),o.child=Pa(o,null,f,v)):Nr(a,o,f,v),o.memoizedState=S.state,a=o.child):a=Zi(a,o,v),a}function XS(a,o,f,p){return Na(),o.flags|=256,Nr(a,o,f,p),o.child}var ug={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cg(a){return{baseLanes:a,cachePool:Pw()}}function fg(a,o,f){return a=a!==null?a.childLanes&~f:0,o&&(a|=_n),a}function YS(a,o,f){var p=o.pendingProps,v=!1,S=(o.flags&128)!==0,j;if((j=S)||(j=a!==null&&a.memoizedState===null?!1:(or.current&2)!==0),j&&(v=!0,o.flags&=-129),j=(o.flags&32)!==0,o.flags&=-33,a===null){if(bt){if(v?Ps(o):Fs(),(a=Zt)?(a=ik(a,qn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ms!==null?{id:vi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},f=_w(a),f.return=o,o.child=f,Rr=o,Zt=null)):a=null,a===null)throw Ds(o);return Gg(a)?o.lanes=32:o.lanes=536870912,null}var V=p.children;return p=p.fallback,v?(Fs(),v=o.mode,V=Yf({mode:"hidden",children:V},v),p=Ma(p,v,f,null),V.return=o,p.return=o,V.sibling=p,o.child=V,p=o.child,p.memoizedState=cg(f),p.childLanes=fg(a,j,f),o.memoizedState=ug,Tu(null,p)):(Ps(o),hg(o,V))}var ae=a.memoizedState;if(ae!==null&&(V=ae.dehydrated,V!==null)){if(S)o.flags&256?(Ps(o),o.flags&=-257,o=dg(a,o,f)):o.memoizedState!==null?(Fs(),o.child=a.child,o.flags|=128,o=null):(Fs(),V=p.fallback,v=o.mode,p=Yf({mode:"visible",children:p.children},v),V=Ma(V,v,f,null),V.flags|=2,p.return=o,V.return=o,p.sibling=V,o.child=p,Pa(o,a.child,null,f),p=o.child,p.memoizedState=cg(f),p.childLanes=fg(a,j,f),o.memoizedState=ug,o=Tu(null,p));else if(Ps(o),Gg(V)){if(j=V.nextSibling&&V.nextSibling.dataset,j)var xe=j.dgst;j=xe,p=Error(n(419)),p.stack="",p.digest=j,pu({value:p,source:null,stack:null}),o=dg(a,o,f)}else if(pr||Pl(a,o,f,!1),j=(f&a.childLanes)!==0,pr||j){if(j=Wt,j!==null&&(p=ye(j,f),p!==0&&p!==ae.retryLane))throw ae.retryLane=p,Ra(a,p),hn(j,a,p),lg;$g(V)||sh(),o=dg(a,o,f)}else $g(V)?(o.flags|=192,o.child=a.child,o=null):(a=ae.treeContext,Zt=Vn(V.nextSibling),Rr=o,bt=!0,Ns=null,qn=!1,a!==null&&Nw(o,a),o=hg(o,p.children),o.flags|=4096);return o}return v?(Fs(),V=p.fallback,v=o.mode,ae=a.child,xe=ae.sibling,p=$i(ae,{mode:"hidden",children:p.children}),p.subtreeFlags=ae.subtreeFlags&65011712,xe!==null?V=$i(xe,V):(V=Ma(V,v,f,null),V.flags|=2),V.return=o,p.return=o,p.sibling=V,o.child=p,Tu(null,p),p=o.child,V=a.child.memoizedState,V===null?V=cg(f):(v=V.cachePool,v!==null?(ae=hr._currentValue,v=v.parent!==ae?{parent:ae,pool:ae}:v):v=Pw(),V={baseLanes:V.baseLanes|f,cachePool:v}),p.memoizedState=V,p.childLanes=fg(a,j,f),o.memoizedState=ug,Tu(a.child,p)):(Ps(o),f=a.child,a=f.sibling,f=$i(f,{mode:"visible",children:p.children}),f.return=o,f.sibling=null,a!==null&&(j=o.deletions,j===null?(o.deletions=[a],o.flags|=16):j.push(a)),o.child=f,o.memoizedState=null,f)}function hg(a,o){return o=Yf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Yf(a,o){return a=En(22,a,null,o),a.lanes=0,a}function dg(a,o,f){return Pa(o,a.child,null,f),a=hg(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function KS(a,o,f){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),Om(a.return,o,f)}function pg(a,o,f,p,v,S){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:v,treeForkCount:S}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=p,j.tail=f,j.tailMode=v,j.treeForkCount=S)}function ZS(a,o,f){var p=o.pendingProps,v=p.revealOrder,S=p.tail;p=p.children;var j=or.current,V=(j&2)!==0;if(V?(j=j&1|2,o.flags|=128):j&=1,K(or,j),Nr(a,o,p,f),p=bt?du:0,!V&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&KS(a,f,o);else if(a.tag===19)KS(a,f,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(f=o.child,v=null;f!==null;)a=f.alternate,a!==null&&Pf(a)===null&&(v=f),f=f.sibling;f=v,f===null?(v=o.child,o.child=null):(v=f.sibling,f.sibling=null),pg(o,!1,v,f,S,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Pf(a)===null){o.child=v;break}a=v.sibling,v.sibling=f,f=v,v=a}pg(o,!0,f,null,S,p);break;case"together":pg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Zi(a,o,f){if(a!==null&&(o.dependencies=a.dependencies),Hs|=o.lanes,(f&o.childLanes)===0)if(a!==null){if(Pl(a,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,f=$i(a,a.pendingProps),o.child=f,f.return=o;a.sibling!==null;)a=a.sibling,f=f.sibling=$i(a,a.pendingProps),f.return=o;f.sibling=null}return o.child}function mg(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Rf(a)))}function mM(a,o,f){switch(o.tag){case 3:L(o,o.stateNode.containerInfo),Ls(o,hr,a.memoizedState.cache),Na();break;case 27:case 5:J(o);break;case 4:L(o,o.stateNode.containerInfo);break;case 10:Ls(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Im(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Ps(o),o.flags|=128,null):(f&o.child.childLanes)!==0?YS(a,o,f):(Ps(o),a=Zi(a,o,f),a!==null?a.sibling:null);Ps(o);break;case 19:var v=(a.flags&128)!==0;if(p=(f&o.childLanes)!==0,p||(Pl(a,o,f,!1),p=(f&o.childLanes)!==0),v){if(p)return ZS(a,o,f);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),K(or,or.current),p)break;return null;case 22:return o.lanes=0,WS(a,o,f,o.pendingProps);case 24:Ls(o,hr,a.memoizedState.cache)}return Zi(a,o,f)}function JS(a,o,f){if(a!==null)if(a.memoizedProps!==o.pendingProps)pr=!0;else{if(!mg(a,f)&&(o.flags&128)===0)return pr=!1,mM(a,o,f);pr=(a.flags&131072)!==0}else pr=!1,bt&&(o.flags&1048576)!==0&&Mw(o,du,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(a=za(o.elementType),o.type=a,typeof a=="function")xm(a)?(p=Ia(a,p),o.tag=1,o=QS(null,o,a,p,f)):(o.tag=0,o=og(null,o,a,p,f));else{if(a!=null){var v=a.$$typeof;if(v===T){o.tag=11,o=US(null,o,a,p,f);break e}else if(v===M){o.tag=14,o=HS(null,o,a,p,f);break e}}throw o=R(a)||a,Error(n(306,o,""))}}return o;case 0:return og(a,o,o.type,o.pendingProps,f);case 1:return p=o.type,v=Ia(p,o.pendingProps),QS(a,o,p,v,f);case 3:e:{if(L(o,o.stateNode.containerInfo),a===null)throw Error(n(387));p=o.pendingProps;var S=o.memoizedState;v=S.element,Bm(a,o),wu(o,p,null,f);var j=o.memoizedState;if(p=j.cache,Ls(o,hr,p),p!==S.cache&&_m(o,[hr],f,!0),xu(),p=j.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:j.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=XS(a,o,p,f);break e}else if(p!==v){v=In(Error(n(424)),o),pu(v),o=XS(a,o,p,f);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Zt=Vn(a.firstChild),Rr=o,bt=!0,Ns=null,qn=!0,f=Ww(o,null,p,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Na(),p===v){o=Zi(a,o,f);break e}Nr(a,o,p,f)}o=o.child}return o;case 26:return Xf(a,o),a===null?(f=ck(o.type,null,o.pendingProps,null))?o.memoizedState=f:bt||(f=o.type,a=o.pendingProps,p=hh(ie.current).createElement(f),p[Ie]=o,p[Ue]=a,Dr(p,f,a),qt(p),o.stateNode=p):o.memoizedState=ck(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return J(o),a===null&&bt&&(p=o.stateNode=lk(o.type,o.pendingProps,ie.current),Rr=o,qn=!0,v=Zt,Gs(o.type)?(Qg=v,Zt=Vn(p.firstChild)):Zt=v),Nr(a,o,o.pendingProps.children,f),Xf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&bt&&((v=p=Zt)&&(p=VM(p,o.type,o.pendingProps,qn),p!==null?(o.stateNode=p,Rr=o,Zt=Vn(p.firstChild),qn=!1,v=!0):v=!1),v||Ds(o)),J(o),v=o.type,S=o.pendingProps,j=a!==null?a.memoizedProps:null,p=S.children,qg(v,S)?p=null:j!==null&&qg(v,j)&&(o.flags|=32),o.memoizedState!==null&&(v=Hm(a,o,aM,null,null,f),Uu._currentValue=v),Xf(a,o),Nr(a,o,p,f),o.child;case 6:return a===null&&bt&&((a=f=Zt)&&(f=$M(f,o.pendingProps,qn),f!==null?(o.stateNode=f,Rr=o,Zt=null,a=!0):a=!1),a||Ds(o)),null;case 13:return YS(a,o,f);case 4:return L(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=Pa(o,null,p,f):Nr(a,o,p,f),o.child;case 11:return US(a,o,o.type,o.pendingProps,f);case 7:return Nr(a,o,o.pendingProps,f),o.child;case 8:return Nr(a,o,o.pendingProps.children,f),o.child;case 12:return Nr(a,o,o.pendingProps.children,f),o.child;case 10:return p=o.pendingProps,Ls(o,o.type,p.value),Nr(a,o,p.children,f),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,La(o),v=Mr(v),p=p(v),o.flags|=1,Nr(a,o,p,f),o.child;case 14:return HS(a,o,o.type,o.pendingProps,f);case 15:return qS(a,o,o.type,o.pendingProps,f);case 19:return ZS(a,o,f);case 31:return pM(a,o,f);case 22:return WS(a,o,f,o.pendingProps);case 24:return La(o),p=Mr(hr),a===null?(v=Nm(),v===null&&(v=Wt,S=Rm(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=f),v=S),o.memoizedState={parent:p,cache:v},Lm(o),Ls(o,hr,v)):((a.lanes&f)!==0&&(Bm(a,o),wu(o,null,null,f),xu()),v=a.memoizedState,S=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Ls(o,hr,p)):(p=S.cache,Ls(o,hr,p),p!==v.cache&&_m(o,[hr],f,!0))),Nr(a,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ji(a){a.flags|=4}function gg(a,o,f,p,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(T2())a.flags|=8192;else throw ja=Lf,Dm}else a.flags&=-16777217}function e2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!mk(o))if(T2())a.flags|=8192;else throw ja=Lf,Dm}function Kf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ea():536870912,a.lanes|=o,Yl|=o)}function Cu(a,o){if(!bt)switch(a.tailMode){case"hidden":o=a.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Jt(a){var o=a.alternate!==null&&a.alternate.child===a.child,f=0,p=0;if(o)for(var v=a.child;v!==null;)f|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)f|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=p,a.childLanes=f,o}function gM(a,o,f){var p=o.pendingProps;switch(Am(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return Jt(o),null;case 3:return f=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Xi(hr),te(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(jl(o)?Ji(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tm())),Jt(o),null;case 26:var v=o.type,S=o.memoizedState;return a===null?(Ji(o),S!==null?(Jt(o),e2(o,S)):(Jt(o),gg(o,v,null,p,f))):S?S!==a.memoizedState?(Ji(o),Jt(o),e2(o,S)):(Jt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==p&&Ji(o),Jt(o),gg(o,v,a,p,f)),null;case 27:if(W(o),f=ie.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Ji(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}a=se.current,jl(o)?Dw(o):(a=lk(v,p,f),o.stateNode=a,Ji(o))}return Jt(o),null;case 5:if(W(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Ji(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}if(S=se.current,jl(o))Dw(o);else{var j=hh(ie.current);switch(S){case 1:S=j.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:S=j.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":S=j.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":S=j.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":S=j.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?j.createElement("select",{is:p.is}):j.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?j.createElement(v,{is:p.is}):j.createElement(v)}}S[Ie]=o,S[Ue]=p;e:for(j=o.child;j!==null;){if(j.tag===5||j.tag===6)S.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===o)break e;for(;j.sibling===null;){if(j.return===null||j.return===o)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}o.stateNode=S;e:switch(Dr(S,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ji(o)}}return Jt(o),gg(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,f),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&Ji(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(a=ie.current,jl(o)){if(a=o.stateNode,f=o.memoizedProps,p=null,v=Rr,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}a[Ie]=o,a=!!(a.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||Y2(a.nodeValue,f)),a||Ds(o,!0)}else a=hh(a).createTextNode(p),a[Ie]=o,o.stateNode=a}return Jt(o),null;case 31:if(f=o.memoizedState,a===null||a.memoizedState!==null){if(p=jl(o),f!==null){if(a===null){if(!p)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Ie]=o}else Na(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),a=!1}else f=Tm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return o.flags&256?(Cn(o),o):(Cn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Jt(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=jl(o),p!==null&&p.dehydrated!==null){if(a===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Ie]=o}else Na(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),v=!1}else v=Tm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Cn(o),o):(Cn(o),null)}return Cn(o),(o.flags&128)!==0?(o.lanes=f,o):(f=p!==null,a=a!==null&&a.memoizedState!==null,f&&(p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==v&&(p.flags|=2048)),f!==a&&f&&(o.child.flags|=8192),Kf(o,o.updateQueue),Jt(o),null);case 4:return te(),a===null&&Pg(o.stateNode.containerInfo),Jt(o),null;case 10:return Xi(o.type),Jt(o),null;case 19:if(I(or),p=o.memoizedState,p===null)return Jt(o),null;if(v=(o.flags&128)!==0,S=p.rendering,S===null)if(v)Cu(p,!1);else{if(sr!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(S=Pf(a),S!==null){for(o.flags|=128,Cu(p,!1),a=S.updateQueue,o.updateQueue=a,Kf(o,a),o.subtreeFlags=0,a=f,f=o.child;f!==null;)Ow(f,a),f=f.sibling;return K(or,or.current&1|2),bt&&Gi(o,p.treeForkCount),o.child}a=a.sibling}p.tail!==null&&Te()>rh&&(o.flags|=128,v=!0,Cu(p,!1),o.lanes=4194304)}else{if(!v)if(a=Pf(S),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,Kf(o,a),Cu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!bt)return Jt(o),null}else 2*Te()-p.renderingStartTime>rh&&f!==536870912&&(o.flags|=128,v=!0,Cu(p,!1),o.lanes=4194304);p.isBackwards?(S.sibling=o.child,o.child=S):(a=p.last,a!==null?a.sibling=S:o.child=S,p.last=S)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Te(),a.sibling=null,f=or.current,K(or,v?f&1|2:f&1),bt&&Gi(o,p.treeForkCount),a):(Jt(o),null);case 22:case 23:return Cn(o),Fm(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(f&536870912)!==0&&(o.flags&128)===0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),f=o.updateQueue,f!==null&&Kf(o,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==f&&(o.flags|=2048),a!==null&&I(Ba),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Xi(hr),Jt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function yM(a,o){switch(Am(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Xi(hr),te(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return W(o),null;case 31:if(o.memoizedState!==null){if(Cn(o),o.alternate===null)throw Error(n(340));Na()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Cn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Na()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return I(or),null;case 4:return te(),null;case 10:return Xi(o.type),null;case 22:case 23:return Cn(o),Fm(),a!==null&&I(Ba),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Xi(hr),null;case 25:return null;default:return null}}function t2(a,o){switch(Am(o),o.tag){case 3:Xi(hr),te();break;case 26:case 27:case 5:W(o);break;case 4:te();break;case 31:o.memoizedState!==null&&Cn(o);break;case 13:Cn(o);break;case 19:I(or);break;case 10:Xi(o.type);break;case 22:case 23:Cn(o),Fm(),a!==null&&I(Ba);break;case 24:Xi(hr)}}function Ou(a,o){try{var f=o.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var v=p.next;f=v;do{if((f.tag&a)===a){p=void 0;var S=f.create,j=f.inst;p=S(),j.destroy=p}f=f.next}while(f!==v)}}catch(V){Bt(o,o.return,V)}}function Is(a,o,f){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var S=v.next;p=S;do{if((p.tag&a)===a){var j=p.inst,V=j.destroy;if(V!==void 0){j.destroy=void 0,v=o;var ae=f,xe=V;try{xe()}catch(Ce){Bt(v,ae,Ce)}}}p=p.next}while(p!==S)}}catch(Ce){Bt(o,o.return,Ce)}}function r2(a){var o=a.updateQueue;if(o!==null){var f=a.stateNode;try{$w(o,f)}catch(p){Bt(a,a.return,p)}}}function n2(a,o,f){f.props=Ia(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(p){Bt(a,o,p)}}function _u(a,o){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof f=="function"?a.refCleanup=f(p):f.current=p}}catch(v){Bt(a,o,v)}}function xi(a,o){var f=a.ref,p=a.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(v){Bt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){Bt(a,o,v)}else f.current=null}function i2(a){var o=a.type,f=a.memoizedProps,p=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(v){Bt(a,a.return,v)}}function yg(a,o,f){try{var p=a.stateNode;FM(p,a.type,f,o),p[Ue]=o}catch(v){Bt(a,a.return,v)}}function s2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Gs(a.type)||a.tag===4}function vg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||s2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Gs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function bg(a,o,f){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(a),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=Wi));else if(p!==4&&(p===27&&Gs(a.type)&&(f=a.stateNode,o=null),a=a.child,a!==null))for(bg(a,o,f),a=a.sibling;a!==null;)bg(a,o,f),a=a.sibling}function Zf(a,o,f){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?f.insertBefore(a,o):f.appendChild(a);else if(p!==4&&(p===27&&Gs(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(Zf(a,o,f),a=a.sibling;a!==null;)Zf(a,o,f),a=a.sibling}function a2(a){var o=a.stateNode,f=a.memoizedProps;try{for(var p=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Dr(o,p,f),o[Ie]=a,o[Ue]=f}catch(S){Bt(a,a.return,S)}}var es=!1,mr=!1,xg=!1,l2=typeof WeakSet=="function"?WeakSet:Set,Tr=null;function vM(a,o){if(a=a.containerInfo,Ug=bh,a=bw(a),dm(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var v=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var j=0,V=-1,ae=-1,xe=0,Ce=0,Me=a,we=null;t:for(;;){for(var Ae;Me!==f||v!==0&&Me.nodeType!==3||(V=j+v),Me!==S||p!==0&&Me.nodeType!==3||(ae=j+p),Me.nodeType===3&&(j+=Me.nodeValue.length),(Ae=Me.firstChild)!==null;)we=Me,Me=Ae;for(;;){if(Me===a)break t;if(we===f&&++xe===v&&(V=j),we===S&&++Ce===p&&(ae=j),(Ae=Me.nextSibling)!==null)break;Me=we,we=Me.parentNode}Me=Ae}f=V===-1||ae===-1?null:{start:V,end:ae}}else f=null}f=f||{start:0,end:0}}else f=null;for(Hg={focusedElem:a,selectionRange:f},bh=!1,Tr=o;Tr!==null;)if(o=Tr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Tr=a;else for(;Tr!==null;){switch(o=Tr,S=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)v=a[f],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,f=o,v=S.memoizedProps,S=S.memoizedState,p=f.stateNode;try{var Ge=Ia(f.type,v);a=p.getSnapshotBeforeUpdate(Ge,S),p.__reactInternalSnapshotBeforeUpdate=a}catch(nt){Bt(f,f.return,nt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,f=a.nodeType,f===9)Vg(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Vg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,Tr=a;break}Tr=o.return}}function o2(a,o,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:rs(a,f),p&4&&Ou(5,f);break;case 1:if(rs(a,f),p&4)if(a=f.stateNode,o===null)try{a.componentDidMount()}catch(j){Bt(f,f.return,j)}else{var v=Ia(f.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(j){Bt(f,f.return,j)}}p&64&&r2(f),p&512&&_u(f,f.return);break;case 3:if(rs(a,f),p&64&&(a=f.updateQueue,a!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{$w(a,o)}catch(j){Bt(f,f.return,j)}}break;case 27:o===null&&p&4&&a2(f);case 26:case 5:rs(a,f),o===null&&p&4&&i2(f),p&512&&_u(f,f.return);break;case 12:rs(a,f);break;case 31:rs(a,f),p&4&&f2(a,f);break;case 13:rs(a,f),p&4&&h2(a,f),p&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=CM.bind(null,f),GM(a,f))));break;case 22:if(p=f.memoizedState!==null||es,!p){o=o!==null&&o.memoizedState!==null||mr,v=es;var S=mr;es=p,(mr=o)&&!S?ns(a,f,(f.subtreeFlags&8772)!==0):rs(a,f),es=v,mr=S}break;case 30:break;default:rs(a,f)}}function u2(a){var o=a.alternate;o!==null&&(a.alternate=null,u2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&nr(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var er=null,on=!1;function ts(a,o,f){for(f=f.child;f!==null;)c2(a,o,f),f=f.sibling}function c2(a,o,f){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Nt,f)}catch{}switch(f.tag){case 26:mr||xi(f,o),ts(a,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:mr||xi(f,o);var p=er,v=on;Gs(f.type)&&(er=f.stateNode,on=!1),ts(a,o,f),Pu(f.stateNode),er=p,on=v;break;case 5:mr||xi(f,o);case 6:if(p=er,v=on,er=null,ts(a,o,f),er=p,on=v,er!==null)if(on)try{(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).removeChild(f.stateNode)}catch(S){Bt(f,o,S)}else try{er.removeChild(f.stateNode)}catch(S){Bt(f,o,S)}break;case 18:er!==null&&(on?(a=er,rk(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),io(a)):rk(er,f.stateNode));break;case 4:p=er,v=on,er=f.stateNode.containerInfo,on=!0,ts(a,o,f),er=p,on=v;break;case 0:case 11:case 14:case 15:Is(2,f,o),mr||Is(4,f,o),ts(a,o,f);break;case 1:mr||(xi(f,o),p=f.stateNode,typeof p.componentWillUnmount=="function"&&n2(f,o,p)),ts(a,o,f);break;case 21:ts(a,o,f);break;case 22:mr=(p=mr)||f.memoizedState!==null,ts(a,o,f),mr=p;break;default:ts(a,o,f)}}function f2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{io(a)}catch(f){Bt(o,o.return,f)}}}function h2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{io(a)}catch(f){Bt(o,o.return,f)}}function bM(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new l2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new l2),o;default:throw Error(n(435,a.tag))}}function Jf(a,o){var f=bM(a);o.forEach(function(p){if(!f.has(p)){f.add(p);var v=OM.bind(null,a,p);p.then(v,v)}})}function un(a,o){var f=o.deletions;if(f!==null)for(var p=0;p<f.length;p++){var v=f[p],S=a,j=o,V=j;e:for(;V!==null;){switch(V.tag){case 27:if(Gs(V.type)){er=V.stateNode,on=!1;break e}break;case 5:er=V.stateNode,on=!1;break e;case 3:case 4:er=V.stateNode.containerInfo,on=!0;break e}V=V.return}if(er===null)throw Error(n(160));c2(S,j,v),er=null,on=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)d2(o,a),o=o.sibling}var si=null;function d2(a,o){var f=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:un(o,a),cn(a),p&4&&(Is(3,a,a.return),Ou(3,a),Is(5,a,a.return));break;case 1:un(o,a),cn(a),p&512&&(mr||f===null||xi(f,f.return)),p&64&&es&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var v=si;if(un(o,a),cn(a),p&512&&(mr||f===null||xi(f,f.return)),p&4){var S=f!==null?f.memoizedState:null;if(p=a.memoizedState,f===null)if(p===null)if(a.stateNode===null){e:{p=a.type,f=a.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":S=v.getElementsByTagName("title")[0],(!S||S[Kt]||S[Ie]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(p),v.head.insertBefore(S,v.querySelector("head > title"))),Dr(S,p,f),S[Ie]=a,qt(S),p=S;break e;case"link":var j=dk("link","href",v).get(p+(f.href||""));if(j){for(var V=0;V<j.length;V++)if(S=j[V],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){j.splice(V,1);break t}}S=v.createElement(p),Dr(S,p,f),v.head.appendChild(S);break;case"meta":if(j=dk("meta","content",v).get(p+(f.content||""))){for(V=0;V<j.length;V++)if(S=j[V],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){j.splice(V,1);break t}}S=v.createElement(p),Dr(S,p,f),v.head.appendChild(S);break;default:throw Error(n(468,p))}S[Ie]=a,qt(S),p=S}a.stateNode=p}else pk(v,a.type,a.stateNode);else a.stateNode=hk(v,p,a.memoizedProps);else S!==p?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,p===null?pk(v,a.type,a.stateNode):hk(v,p,a.memoizedProps)):p===null&&a.stateNode!==null&&yg(a,a.memoizedProps,f.memoizedProps)}break;case 27:un(o,a),cn(a),p&512&&(mr||f===null||xi(f,f.return)),f!==null&&p&4&&yg(a,a.memoizedProps,f.memoizedProps);break;case 5:if(un(o,a),cn(a),p&512&&(mr||f===null||xi(f,f.return)),a.flags&32){v=a.stateNode;try{Cl(v,"")}catch(Ge){Bt(a,a.return,Ge)}}p&4&&a.stateNode!=null&&(v=a.memoizedProps,yg(a,v,f!==null?f.memoizedProps:v)),p&1024&&(xg=!0);break;case 6:if(un(o,a),cn(a),p&4){if(a.stateNode===null)throw Error(n(162));p=a.memoizedProps,f=a.stateNode;try{f.nodeValue=p}catch(Ge){Bt(a,a.return,Ge)}}break;case 3:if(mh=null,v=si,si=dh(o.containerInfo),un(o,a),si=v,cn(a),p&4&&f!==null&&f.memoizedState.isDehydrated)try{io(o.containerInfo)}catch(Ge){Bt(a,a.return,Ge)}xg&&(xg=!1,p2(a));break;case 4:p=si,si=dh(a.stateNode.containerInfo),un(o,a),cn(a),si=p;break;case 12:un(o,a),cn(a);break;case 31:un(o,a),cn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Jf(a,p)));break;case 13:un(o,a),cn(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(th=Te()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Jf(a,p)));break;case 22:v=a.memoizedState!==null;var ae=f!==null&&f.memoizedState!==null,xe=es,Ce=mr;if(es=xe||v,mr=Ce||ae,un(o,a),mr=Ce,es=xe,cn(a),p&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(f===null||ae||es||mr||Ua(a)),f=null,o=a;;){if(o.tag===5||o.tag===26){if(f===null){ae=f=o;try{if(S=ae.stateNode,v)j=S.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{V=ae.stateNode;var Me=ae.memoizedProps.style,we=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;V.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(Ge){Bt(ae,ae.return,Ge)}}}else if(o.tag===6){if(f===null){ae=o;try{ae.stateNode.nodeValue=v?"":ae.memoizedProps}catch(Ge){Bt(ae,ae.return,Ge)}}}else if(o.tag===18){if(f===null){ae=o;try{var Ae=ae.stateNode;v?nk(Ae,!0):nk(ae.stateNode,!1)}catch(Ge){Bt(ae,ae.return,Ge)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,Jf(a,f))));break;case 19:un(o,a),cn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Jf(a,p)));break;case 30:break;case 21:break;default:un(o,a),cn(a)}}function cn(a){var o=a.flags;if(o&2){try{for(var f,p=a.return;p!==null;){if(s2(p)){f=p;break}p=p.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var v=f.stateNode,S=vg(a);Zf(a,S,v);break;case 5:var j=f.stateNode;f.flags&32&&(Cl(j,""),f.flags&=-33);var V=vg(a);Zf(a,V,j);break;case 3:case 4:var ae=f.stateNode.containerInfo,xe=vg(a);bg(a,xe,ae);break;default:throw Error(n(161))}}catch(Ce){Bt(a,a.return,Ce)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function p2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;p2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function rs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)o2(a,o.alternate,o),o=o.sibling}function Ua(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Is(4,o,o.return),Ua(o);break;case 1:xi(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&n2(o,o.return,f),Ua(o);break;case 27:Pu(o.stateNode);case 26:case 5:xi(o,o.return),Ua(o);break;case 22:o.memoizedState===null&&Ua(o);break;case 30:Ua(o);break;default:Ua(o)}a=a.sibling}}function ns(a,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=a,S=o,j=S.flags;switch(S.tag){case 0:case 11:case 15:ns(v,S,f),Ou(4,S);break;case 1:if(ns(v,S,f),p=S,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(xe){Bt(p,p.return,xe)}if(p=S,v=p.updateQueue,v!==null){var V=p.stateNode;try{var ae=v.shared.hiddenCallbacks;if(ae!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ae.length;v++)Vw(ae[v],V)}catch(xe){Bt(p,p.return,xe)}}f&&j&64&&r2(S),_u(S,S.return);break;case 27:a2(S);case 26:case 5:ns(v,S,f),f&&p===null&&j&4&&i2(S),_u(S,S.return);break;case 12:ns(v,S,f);break;case 31:ns(v,S,f),f&&j&4&&f2(v,S);break;case 13:ns(v,S,f),f&&j&4&&h2(v,S);break;case 22:S.memoizedState===null&&ns(v,S,f),_u(S,S.return);break;case 30:break;default:ns(v,S,f)}o=o.sibling}}function wg(a,o){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&mu(f))}function Sg(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&mu(a))}function ai(a,o,f,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)m2(a,o,f,p),o=o.sibling}function m2(a,o,f,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ai(a,o,f,p),v&2048&&Ou(9,o);break;case 1:ai(a,o,f,p);break;case 3:ai(a,o,f,p),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&mu(a)));break;case 12:if(v&2048){ai(a,o,f,p),a=o.stateNode;try{var S=o.memoizedProps,j=S.id,V=S.onPostCommit;typeof V=="function"&&V(j,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ae){Bt(o,o.return,ae)}}else ai(a,o,f,p);break;case 31:ai(a,o,f,p);break;case 13:ai(a,o,f,p);break;case 23:break;case 22:S=o.stateNode,j=o.alternate,o.memoizedState!==null?S._visibility&2?ai(a,o,f,p):Ru(a,o):S._visibility&2?ai(a,o,f,p):(S._visibility|=2,Gl(a,o,f,p,(o.subtreeFlags&10256)!==0||!1)),v&2048&&wg(j,o);break;case 24:ai(a,o,f,p),v&2048&&Sg(o.alternate,o);break;default:ai(a,o,f,p)}}function Gl(a,o,f,p,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=a,j=o,V=f,ae=p,xe=j.flags;switch(j.tag){case 0:case 11:case 15:Gl(S,j,V,ae,v),Ou(8,j);break;case 23:break;case 22:var Ce=j.stateNode;j.memoizedState!==null?Ce._visibility&2?Gl(S,j,V,ae,v):Ru(S,j):(Ce._visibility|=2,Gl(S,j,V,ae,v)),v&&xe&2048&&wg(j.alternate,j);break;case 24:Gl(S,j,V,ae,v),v&&xe&2048&&Sg(j.alternate,j);break;default:Gl(S,j,V,ae,v)}o=o.sibling}}function Ru(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=a,p=o,v=p.flags;switch(p.tag){case 22:Ru(f,p),v&2048&&wg(p.alternate,p);break;case 24:Ru(f,p),v&2048&&Sg(p.alternate,p);break;default:Ru(f,p)}o=o.sibling}}var Mu=8192;function Ql(a,o,f){if(a.subtreeFlags&Mu)for(a=a.child;a!==null;)g2(a,o,f),a=a.sibling}function g2(a,o,f){switch(a.tag){case 26:Ql(a,o,f),a.flags&Mu&&a.memoizedState!==null&&sN(f,si,a.memoizedState,a.memoizedProps);break;case 5:Ql(a,o,f);break;case 3:case 4:var p=si;si=dh(a.stateNode.containerInfo),Ql(a,o,f),si=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Mu,Mu=16777216,Ql(a,o,f),Mu=p):Ql(a,o,f));break;default:Ql(a,o,f)}}function y2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Nu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var p=o[f];Tr=p,b2(p,a)}y2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)v2(a),a=a.sibling}function v2(a){switch(a.tag){case 0:case 11:case 15:Nu(a),a.flags&2048&&Is(9,a,a.return);break;case 3:Nu(a);break;case 12:Nu(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,eh(a)):Nu(a);break;default:Nu(a)}}function eh(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var p=o[f];Tr=p,b2(p,a)}y2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Is(8,o,o.return),eh(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,eh(o));break;default:eh(o)}a=a.sibling}}function b2(a,o){for(;Tr!==null;){var f=Tr;switch(f.tag){case 0:case 11:case 15:Is(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:mu(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,Tr=p;else e:for(f=a;Tr!==null;){p=Tr;var v=p.sibling,S=p.return;if(u2(p),p===f){Tr=null;break e}if(v!==null){v.return=S,Tr=v;break e}Tr=S}}}var xM={getCacheForType:function(a){var o=Mr(hr),f=o.data.get(a);return f===void 0&&(f=a(),o.data.set(a,f)),f},cacheSignal:function(){return Mr(hr).controller.signal}},wM=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Wt=null,ht=null,mt=0,Lt=0,On=null,Us=!1,Xl=!1,kg=!1,is=0,sr=0,Hs=0,Ha=0,Ag=0,_n=0,Yl=0,Du=null,fn=null,Eg=!1,th=0,x2=0,rh=1/0,nh=null,qs=null,br=0,Ws=null,Kl=null,ss=0,Tg=0,Cg=null,w2=null,Lu=0,Og=null;function Rn(){return(Rt&2)!==0&&mt!==0?mt&-mt:Y.T!==null?Lg():Pe()}function S2(){if(_n===0)if((mt&536870912)===0||bt){var a=yi;yi<<=1,(yi&3932160)===0&&(yi=262144),_n=a}else _n=536870912;return a=Tn.current,a!==null&&(a.flags|=32),_n}function hn(a,o,f){(a===Wt&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)&&(Zl(a,0),Vs(a,mt,_n,!1)),_s(a,f),((Rt&2)===0||a!==Wt)&&(a===Wt&&((Rt&2)===0&&(Ha|=f),sr===4&&Vs(a,mt,_n,!1)),wi(a))}function k2(a,o,f){if((Rt&6)!==0)throw Error(n(327));var p=!f&&(o&127)===0&&(o&a.expiredLanes)===0||Aa(a,o),v=p?AM(a,o):Rg(a,o,!0),S=p;do{if(v===0){Xl&&!p&&Vs(a,o,0,!1);break}else{if(f=a.current.alternate,S&&!SM(f)){v=Rg(a,o,!1),S=!1;continue}if(v===2){if(S=o,a.errorRecoveryDisabledLanes&S)var j=0;else j=a.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){o=j;e:{var V=a;v=Du;var ae=V.current.memoizedState.isDehydrated;if(ae&&(Zl(V,j).flags|=256),j=Rg(V,j,!1),j!==2){if(kg&&!ae){V.errorRecoveryDisabledLanes|=S,Ha|=S,v=4;break e}S=fn,fn=v,S!==null&&(fn===null?fn=S:fn.push.apply(fn,S))}v=j}if(S=!1,v!==2)continue}}if(v===1){Zl(a,0),Vs(a,o,0,!0);break}e:{switch(p=a,S=v,S){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Vs(p,o,_n,!Us);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=th+300-Te(),10<v)){if(Vs(p,o,_n,!Us),ka(p,0,!0)!==0)break e;ss=o,p.timeoutHandle=ek(A2.bind(null,p,f,fn,nh,Eg,o,_n,Ha,Yl,Us,S,"Throttled",-0,0),v);break e}A2(p,f,fn,nh,Eg,o,_n,Ha,Yl,Us,S,null,-0,0)}}break}while(!0);wi(a)}function A2(a,o,f,p,v,S,j,V,ae,xe,Ce,Me,we,Ae){if(a.timeoutHandle=-1,Me=o.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wi},g2(o,S,Me);var Ge=(S&62914560)===S?th-Te():(S&4194048)===S?x2-Te():0;if(Ge=aN(Me,Ge),Ge!==null){ss=S,a.cancelPendingCommit=Ge(N2.bind(null,a,o,S,f,p,v,j,V,ae,Ce,Me,null,we,Ae)),Vs(a,S,j,!xe);return}}N2(a,o,S,f,p,v,j,V,ae)}function SM(a){for(var o=a;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var v=f[p],S=v.getSnapshot;v=v.value;try{if(!An(S(),v))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vs(a,o,f,p){o&=~Ag,o&=~Ha,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var v=o;0<v;){var S=31-Xt(v),j=1<<S;p[S]=-1,v&=~j}f!==0&&mf(a,f,o)}function ih(){return(Rt&6)===0?(Bu(0),!1):!0}function _g(){if(ht!==null){if(Lt===0)var a=ht.return;else a=ht,Qi=Da=null,Vm(a),Hl=null,yu=0,a=ht;for(;a!==null;)t2(a.alternate,a),a=a.return;ht=null}}function Zl(a,o){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,HM(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),ss=0,_g(),Wt=a,ht=f=$i(a.current,null),mt=o,Lt=0,On=null,Us=!1,Xl=Aa(a,o),kg=!1,Yl=_n=Ag=Ha=Hs=sr=0,fn=Du=null,Eg=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var v=31-Xt(p),S=1<<v;o|=a[v],p&=~S}return is=o,Ef(),f}function E2(a,o){at=null,Y.H=Eu,o===Ul||o===Df?(o=Uw(),Lt=3):o===Dm?(o=Uw(),Lt=4):Lt=o===lg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,On=o,ht===null&&(sr=1,Gf(a,In(o,a.current)))}function T2(){var a=Tn.current;return a===null?!0:(mt&4194048)===mt?Wn===null:(mt&62914560)===mt||(mt&536870912)!==0?a===Wn:!1}function C2(){var a=Y.H;return Y.H=Eu,a===null?Eu:a}function O2(){var a=Y.A;return Y.A=xM,a}function sh(){sr=4,Us||(mt&4194048)!==mt&&Tn.current!==null||(Xl=!0),(Hs&134217727)===0&&(Ha&134217727)===0||Wt===null||Vs(Wt,mt,_n,!1)}function Rg(a,o,f){var p=Rt;Rt|=2;var v=C2(),S=O2();(Wt!==a||mt!==o)&&(nh=null,Zl(a,o)),o=!1;var j=sr;e:do try{if(Lt!==0&&ht!==null){var V=ht,ae=On;switch(Lt){case 8:_g(),j=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(o=!0);var xe=Lt;if(Lt=0,On=null,Jl(a,V,ae,xe),f&&Xl){j=0;break e}break;default:xe=Lt,Lt=0,On=null,Jl(a,V,ae,xe)}}kM(),j=sr;break}catch(Ce){E2(a,Ce)}while(!0);return o&&a.shellSuspendCounter++,Qi=Da=null,Rt=p,Y.H=v,Y.A=S,ht===null&&(Wt=null,mt=0,Ef()),j}function kM(){for(;ht!==null;)_2(ht)}function AM(a,o){var f=Rt;Rt|=2;var p=C2(),v=O2();Wt!==a||mt!==o?(nh=null,rh=Te()+500,Zl(a,o)):Xl=Aa(a,o);e:do try{if(Lt!==0&&ht!==null){o=ht;var S=On;t:switch(Lt){case 1:Lt=0,On=null,Jl(a,o,S,1);break;case 2:case 9:if(Fw(S)){Lt=0,On=null,R2(o);break}o=function(){Lt!==2&&Lt!==9||Wt!==a||(Lt=7),wi(a)},S.then(o,o);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Fw(S)?(Lt=0,On=null,R2(o)):(Lt=0,On=null,Jl(a,o,S,7));break;case 5:var j=null;switch(ht.tag){case 26:j=ht.memoizedState;case 5:case 27:var V=ht;if(j?mk(j):V.stateNode.complete){Lt=0,On=null;var ae=V.sibling;if(ae!==null)ht=ae;else{var xe=V.return;xe!==null?(ht=xe,ah(xe)):ht=null}break t}}Lt=0,On=null,Jl(a,o,S,5);break;case 6:Lt=0,On=null,Jl(a,o,S,6);break;case 8:_g(),sr=6;break e;default:throw Error(n(462))}}EM();break}catch(Ce){E2(a,Ce)}while(!0);return Qi=Da=null,Y.H=p,Y.A=v,Rt=f,ht!==null?0:(Wt=null,mt=0,Ef(),sr)}function EM(){for(;ht!==null&&!ne();)_2(ht)}function _2(a){var o=JS(a.alternate,a,is);a.memoizedProps=a.pendingProps,o===null?ah(a):ht=o}function R2(a){var o=a,f=o.alternate;switch(o.tag){case 15:case 0:o=GS(f,o,o.pendingProps,o.type,void 0,mt);break;case 11:o=GS(f,o,o.pendingProps,o.type.render,o.ref,mt);break;case 5:Vm(o);default:t2(f,o),o=ht=Ow(o,is),o=JS(f,o,is)}a.memoizedProps=a.pendingProps,o===null?ah(a):ht=o}function Jl(a,o,f,p){Qi=Da=null,Vm(o),Hl=null,yu=0;var v=o.return;try{if(dM(a,v,o,f,mt)){sr=1,Gf(a,In(f,a.current)),ht=null;return}}catch(S){if(v!==null)throw ht=v,S;sr=1,Gf(a,In(f,a.current)),ht=null;return}o.flags&32768?(bt||p===1?a=!0:Xl||(mt&536870912)!==0?a=!1:(Us=a=!0,(p===2||p===9||p===3||p===6)&&(p=Tn.current,p!==null&&p.tag===13&&(p.flags|=16384))),M2(o,a)):ah(o)}function ah(a){var o=a;do{if((o.flags&32768)!==0){M2(o,Us);return}a=o.return;var f=gM(o.alternate,o,is);if(f!==null){ht=f;return}if(o=o.sibling,o!==null){ht=o;return}ht=o=a}while(o!==null);sr===0&&(sr=5)}function M2(a,o){do{var f=yM(a.alternate,a);if(f!==null){f.flags&=32767,ht=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(a=a.sibling,a!==null)){ht=a;return}ht=a=f}while(a!==null);sr=6,ht=null}function N2(a,o,f,p,v,S,j,V,ae){a.cancelPendingCommit=null;do lh();while(br!==0);if((Rt&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(S=o.lanes|o.childLanes,S|=vm,Xp(a,f,S,j,V,ae),a===Wt&&(ht=Wt=null,mt=0),Kl=o,Ws=a,ss=f,Tg=S,Cg=v,w2=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,_M(Qe,function(){return j2(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=Y.T,Y.T=null,v=G.p,G.p=2,j=Rt,Rt|=4;try{vM(a,o,f)}finally{Rt=j,G.p=v,Y.T=p}}br=1,D2(),L2(),B2()}}function D2(){if(br===1){br=0;var a=Ws,o=Kl,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=Y.T,Y.T=null;var p=G.p;G.p=2;var v=Rt;Rt|=4;try{d2(o,a);var S=Hg,j=bw(a.containerInfo),V=S.focusedElem,ae=S.selectionRange;if(j!==V&&V&&V.ownerDocument&&vw(V.ownerDocument.documentElement,V)){if(ae!==null&&dm(V)){var xe=ae.start,Ce=ae.end;if(Ce===void 0&&(Ce=xe),"selectionStart"in V)V.selectionStart=xe,V.selectionEnd=Math.min(Ce,V.value.length);else{var Me=V.ownerDocument||document,we=Me&&Me.defaultView||window;if(we.getSelection){var Ae=we.getSelection(),Ge=V.textContent.length,nt=Math.min(ae.start,Ge),Ft=ae.end===void 0?nt:Math.min(ae.end,Ge);!Ae.extend&&nt>Ft&&(j=Ft,Ft=nt,nt=j);var me=yw(V,nt),de=yw(V,Ft);if(me&&de&&(Ae.rangeCount!==1||Ae.anchorNode!==me.node||Ae.anchorOffset!==me.offset||Ae.focusNode!==de.node||Ae.focusOffset!==de.offset)){var be=Me.createRange();be.setStart(me.node,me.offset),Ae.removeAllRanges(),nt>Ft?(Ae.addRange(be),Ae.extend(de.node,de.offset)):(be.setEnd(de.node,de.offset),Ae.addRange(be))}}}}for(Me=[],Ae=V;Ae=Ae.parentNode;)Ae.nodeType===1&&Me.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Me.length;V++){var _e=Me[V];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}bh=!!Ug,Hg=Ug=null}finally{Rt=v,G.p=p,Y.T=f}}a.current=o,br=2}}function L2(){if(br===2){br=0;var a=Ws,o=Kl,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=Y.T,Y.T=null;var p=G.p;G.p=2;var v=Rt;Rt|=4;try{o2(a,o.alternate,o)}finally{Rt=v,G.p=p,Y.T=f}}br=3}}function B2(){if(br===4||br===3){br=0,Ee();var a=Ws,o=Kl,f=ss,p=w2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?br=5:(br=0,Kl=Ws=null,z2(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(qs=null),Be(f),o=o.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Nt,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=Y.T,v=G.p,G.p=2,Y.T=null;try{for(var S=a.onRecoverableError,j=0;j<p.length;j++){var V=p[j];S(V.value,{componentStack:V.stack})}}finally{Y.T=o,G.p=v}}(ss&3)!==0&&lh(),wi(a),v=a.pendingLanes,(f&261930)!==0&&(v&42)!==0?a===Og?Lu++:(Lu=0,Og=a):Lu=0,Bu(0)}}function z2(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,mu(o)))}function lh(){return D2(),L2(),B2(),j2()}function j2(){if(br!==5)return!1;var a=Ws,o=Tg;Tg=0;var f=Be(ss),p=Y.T,v=G.p;try{G.p=32>f?32:f,Y.T=null,f=Cg,Cg=null;var S=Ws,j=ss;if(br=0,Kl=Ws=null,ss=0,(Rt&6)!==0)throw Error(n(331));var V=Rt;if(Rt|=4,v2(S.current),m2(S,S.current,j,f),Rt=V,Bu(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Nt,S)}catch{}return!0}finally{G.p=v,Y.T=p,z2(a,o)}}function P2(a,o,f){o=In(f,o),o=ag(a.stateNode,o,2),a=js(a,o,2),a!==null&&(_s(a,2),wi(a))}function Bt(a,o,f){if(a.tag===3)P2(a,a,f);else for(;o!==null;){if(o.tag===3){P2(o,a,f);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qs===null||!qs.has(p))){a=In(f,a),f=FS(2),p=js(o,f,2),p!==null&&(IS(f,p,o,a),_s(p,2),wi(p));break}}o=o.return}}function Mg(a,o,f){var p=a.pingCache;if(p===null){p=a.pingCache=new wM;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(f)||(kg=!0,v.add(f),a=TM.bind(null,a,o,f),o.then(a,a))}function TM(a,o,f){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,Wt===a&&(mt&f)===f&&(sr===4||sr===3&&(mt&62914560)===mt&&300>Te()-th?(Rt&2)===0&&Zl(a,0):Ag|=f,Yl===mt&&(Yl=0)),wi(a)}function F2(a,o){o===0&&(o=Ea()),a=Ra(a,o),a!==null&&(_s(a,o),wi(a))}function CM(a){var o=a.memoizedState,f=0;o!==null&&(f=o.retryLane),F2(a,f)}function OM(a,o){var f=0;switch(a.tag){case 31:case 13:var p=a.stateNode,v=a.memoizedState;v!==null&&(f=v.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),F2(a,f)}function _M(a,o){return Z(a,o)}var oh=null,eo=null,Ng=!1,uh=!1,Dg=!1,$s=0;function wi(a){a!==eo&&a.next===null&&(eo===null?oh=eo=a:eo=eo.next=a),uh=!0,Ng||(Ng=!0,MM())}function Bu(a,o){if(!Dg&&uh){Dg=!0;do for(var f=!1,p=oh;p!==null;){if(a!==0){var v=p.pendingLanes;if(v===0)var S=0;else{var j=p.suspendedLanes,V=p.pingedLanes;S=(1<<31-Xt(42|a)+1)-1,S&=v&~(j&~V),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,q2(p,S))}else S=mt,S=ka(p,p===Wt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Aa(p,S)||(f=!0,q2(p,S));p=p.next}while(f);Dg=!1}}function RM(){I2()}function I2(){uh=Ng=!1;var a=0;$s!==0&&UM()&&(a=$s);for(var o=Te(),f=null,p=oh;p!==null;){var v=p.next,S=U2(p,o);S===0?(p.next=null,f===null?oh=v:f.next=v,v===null&&(eo=f)):(f=p,(a!==0||(S&3)!==0)&&(uh=!0)),p=v}br!==0&&br!==5||Bu(a),$s!==0&&($s=0)}function U2(a,o){for(var f=a.suspendedLanes,p=a.pingedLanes,v=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var j=31-Xt(S),V=1<<j,ae=v[j];ae===-1?((V&f)===0||(V&p)!==0)&&(v[j]=pf(V,o)):ae<=o&&(a.expiredLanes|=V),S&=~V}if(o=Wt,f=mt,f=ka(a,a===o?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,f===0||a===o&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&oe(p),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||Aa(a,f)){if(o=f&-f,o===a.callbackPriority)return o;switch(p!==null&&oe(p),Be(f)){case 2:case 8:f=Ve;break;case 32:f=Qe;break;case 268435456:f=tn;break;default:f=Qe}return p=H2.bind(null,a),f=Z(f,p),a.callbackPriority=o,a.callbackNode=f,o}return p!==null&&p!==null&&oe(p),a.callbackPriority=2,a.callbackNode=null,2}function H2(a,o){if(br!==0&&br!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(lh()&&a.callbackNode!==f)return null;var p=mt;return p=ka(a,a===Wt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(k2(a,p,o),U2(a,Te()),a.callbackNode!=null&&a.callbackNode===f?H2.bind(null,a):null)}function q2(a,o){if(lh())return null;k2(a,o,!0)}function MM(){qM(function(){(Rt&6)!==0?Z(je,RM):I2()})}function Lg(){if($s===0){var a=Fl;a===0&&(a=ri,ri<<=1,(ri&261888)===0&&(ri=256)),$s=a}return $s}function W2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:yf(""+a)}function V2(a,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,a.id&&f.setAttribute("form",a.id),o.parentNode.insertBefore(f,o),a=new FormData(a),f.parentNode.removeChild(f),a}function NM(a,o,f,p,v){if(o==="submit"&&f&&f.stateNode===v){var S=W2((v[Ue]||null).action),j=p.submitter;j&&(o=(o=j[Ue]||null)?W2(o.formAction):j.getAttribute("formAction"),o!==null&&(S=o,j=null));var V=new wf("action","action",null,p,v);a.push({event:V,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if($s!==0){var ae=j?V2(v,j):new FormData(v);eg(f,{pending:!0,data:ae,method:v.method,action:S},null,ae)}}else typeof S=="function"&&(V.preventDefault(),ae=j?V2(v,j):new FormData(v),eg(f,{pending:!0,data:ae,method:v.method,action:S},S,ae))},currentTarget:v}]})}}for(var Bg=0;Bg<ym.length;Bg++){var zg=ym[Bg],DM=zg.toLowerCase(),LM=zg[0].toUpperCase()+zg.slice(1);ii(DM,"on"+LM)}ii(Sw,"onAnimationEnd"),ii(kw,"onAnimationIteration"),ii(Aw,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Y6,"onTransitionRun"),ii(K6,"onTransitionStart"),ii(Z6,"onTransitionCancel"),ii(Ew,"onTransitionEnd"),an("onMouseEnter",["mouseout","mouseover"]),an("onMouseLeave",["mouseout","mouseover"]),an("onPointerEnter",["pointerout","pointerover"]),an("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zu));function $2(a,o){o=(o&4)!==0;for(var f=0;f<a.length;f++){var p=a[f],v=p.event;p=p.listeners;e:{var S=void 0;if(o)for(var j=p.length-1;0<=j;j--){var V=p[j],ae=V.instance,xe=V.currentTarget;if(V=V.listener,ae!==S&&v.isPropagationStopped())break e;S=V,v.currentTarget=xe;try{S(v)}catch(Ce){Af(Ce)}v.currentTarget=null,S=ae}else for(j=0;j<p.length;j++){if(V=p[j],ae=V.instance,xe=V.currentTarget,V=V.listener,ae!==S&&v.isPropagationStopped())break e;S=V,v.currentTarget=xe;try{S(v)}catch(Ce){Af(Ce)}v.currentTarget=null,S=ae}}}}function dt(a,o){var f=o[Ze];f===void 0&&(f=o[Ze]=new Set);var p=a+"__bubble";f.has(p)||(G2(o,a,2,!1),f.add(p))}function jg(a,o,f){var p=0;o&&(p|=4),G2(f,a,p,o)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Pg(a){if(!a[ch]){a[ch]=!0,Sn.forEach(function(f){f!=="selectionchange"&&(BM.has(f)||jg(f,!1,a),jg(f,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[ch]||(o[ch]=!0,jg("selectionchange",!1,o))}}function G2(a,o,f,p){switch(Sk(o)){case 2:var v=uN;break;case 8:v=cN;break;default:v=Jg}f=v.bind(null,o,f,a),v=void 0,!im||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?a.addEventListener(o,f,{capture:!0,passive:v}):a.addEventListener(o,f,!0):v!==void 0?a.addEventListener(o,f,{passive:v}):a.addEventListener(o,f,!1)}function Fg(a,o,f,p,v){var S=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var j=p.tag;if(j===3||j===4){var V=p.stateNode.containerInfo;if(V===v)break;if(j===4)for(j=p.return;j!==null;){var ae=j.tag;if((ae===3||ae===4)&&j.stateNode.containerInfo===v)return;j=j.return}for(;V!==null;){if(j=kt(V),j===null)return;if(ae=j.tag,ae===5||ae===6||ae===26||ae===27){p=S=j;continue e}V=V.parentNode}}p=p.return}Zx(function(){var xe=S,Ce=rm(f),Me=[];e:{var we=Tw.get(a);if(we!==void 0){var Ae=wf,Ge=a;switch(a){case"keypress":if(bf(f)===0)break e;case"keydown":case"keyup":Ae=O6;break;case"focusin":Ge="focus",Ae=om;break;case"focusout":Ge="blur",Ae=om;break;case"beforeblur":case"afterblur":Ae=om;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=tw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=g6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=M6;break;case Sw:case kw:case Aw:Ae=b6;break;case Ew:Ae=D6;break;case"scroll":case"scrollend":Ae=p6;break;case"wheel":Ae=B6;break;case"copy":case"cut":case"paste":Ae=w6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=nw;break;case"toggle":case"beforetoggle":Ae=j6}var nt=(o&4)!==0,Ft=!nt&&(a==="scroll"||a==="scrollend"),me=nt?we!==null?we+"Capture":null:we;nt=[];for(var de=xe,be;de!==null;){var _e=de;if(be=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||be===null||me===null||(_e=iu(de,me),_e!=null&&nt.push(ju(de,_e,be))),Ft)break;de=de.return}0<nt.length&&(we=new Ae(we,Ge,null,f,Ce),Me.push({event:we,listeners:nt}))}}if((o&7)===0){e:{if(we=a==="mouseover"||a==="pointerover",Ae=a==="mouseout"||a==="pointerout",we&&f!==tm&&(Ge=f.relatedTarget||f.fromElement)&&(kt(Ge)||Ge[Ye]))break e;if((Ae||we)&&(we=Ce.window===Ce?Ce:(we=Ce.ownerDocument)?we.defaultView||we.parentWindow:window,Ae?(Ge=f.relatedTarget||f.toElement,Ae=xe,Ge=Ge?kt(Ge):null,Ge!==null&&(Ft=s(Ge),nt=Ge.tag,Ge!==Ft||nt!==5&&nt!==27&&nt!==6)&&(Ge=null)):(Ae=null,Ge=xe),Ae!==Ge)){if(nt=tw,_e="onMouseLeave",me="onMouseEnter",de="mouse",(a==="pointerout"||a==="pointerover")&&(nt=nw,_e="onPointerLeave",me="onPointerEnter",de="pointer"),Ft=Ae==null?we:wn(Ae),be=Ge==null?we:wn(Ge),we=new nt(_e,de+"leave",Ae,f,Ce),we.target=Ft,we.relatedTarget=be,_e=null,kt(Ce)===xe&&(nt=new nt(me,de+"enter",Ge,f,Ce),nt.target=be,nt.relatedTarget=Ft,_e=nt),Ft=_e,Ae&&Ge)t:{for(nt=zM,me=Ae,de=Ge,be=0,_e=me;_e;_e=nt(_e))be++;_e=0;for(var tt=de;tt;tt=nt(tt))_e++;for(;0<be-_e;)me=nt(me),be--;for(;0<_e-be;)de=nt(de),_e--;for(;be--;){if(me===de||de!==null&&me===de.alternate){nt=me;break t}me=nt(me),de=nt(de)}nt=null}else nt=null;Ae!==null&&Q2(Me,we,Ae,nt,!1),Ge!==null&&Ft!==null&&Q2(Me,Ft,Ge,nt,!0)}}e:{if(we=xe?wn(xe):window,Ae=we.nodeName&&we.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&we.type==="file")var Tt=fw;else if(uw(we))if(hw)Tt=G6;else{Tt=V6;var Xe=W6}else Ae=we.nodeName,!Ae||Ae.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?xe&&em(xe.elementType)&&(Tt=fw):Tt=$6;if(Tt&&(Tt=Tt(a,xe))){cw(Me,Tt,f,Ce);break e}Xe&&Xe(a,we,xe),a==="focusout"&&xe&&we.type==="number"&&xe.memoizedProps.value!=null&&Jp(we,"number",we.value)}switch(Xe=xe?wn(xe):window,a){case"focusin":(uw(Xe)||Xe.contentEditable==="true")&&(Ml=Xe,pm=xe,hu=null);break;case"focusout":hu=pm=Ml=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,xw(Me,f,Ce);break;case"selectionchange":if(X6)break;case"keydown":case"keyup":xw(Me,f,Ce)}var lt;if(cm)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Rl?lw(a,f)&&(gt="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(gt="onCompositionStart");gt&&(iw&&f.locale!=="ko"&&(Rl||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Rl&&(lt=Jx()):(Rs=Ce,sm="value"in Rs?Rs.value:Rs.textContent,Rl=!0)),Xe=fh(xe,gt),0<Xe.length&&(gt=new rw(gt,a,null,f,Ce),Me.push({event:gt,listeners:Xe}),lt?gt.data=lt:(lt=ow(f),lt!==null&&(gt.data=lt)))),(lt=F6?I6(a,f):U6(a,f))&&(gt=fh(xe,"onBeforeInput"),0<gt.length&&(Xe=new rw("onBeforeInput","beforeinput",null,f,Ce),Me.push({event:Xe,listeners:gt}),Xe.data=lt)),NM(Me,a,xe,f,Ce)}$2(Me,o)})}function ju(a,o,f){return{instance:a,listener:o,currentTarget:f}}function fh(a,o){for(var f=o+"Capture",p=[];a!==null;){var v=a,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=iu(a,f),v!=null&&p.unshift(ju(a,v,S)),v=iu(a,o),v!=null&&p.push(ju(a,v,S))),a.tag===3)return p;a=a.return}return[]}function zM(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Q2(a,o,f,p,v){for(var S=o._reactName,j=[];f!==null&&f!==p;){var V=f,ae=V.alternate,xe=V.stateNode;if(V=V.tag,ae!==null&&ae===p)break;V!==5&&V!==26&&V!==27||xe===null||(ae=xe,v?(xe=iu(f,S),xe!=null&&j.unshift(ju(f,xe,ae))):v||(xe=iu(f,S),xe!=null&&j.push(ju(f,xe,ae)))),f=f.return}j.length!==0&&a.push({event:o,listeners:j})}var jM=/\r\n?/g,PM=/\u0000|\uFFFD/g;function X2(a){return(typeof a=="string"?a:""+a).replace(jM,`
`).replace(PM,"")}function Y2(a,o){return o=X2(o),X2(a)===o}function Pt(a,o,f,p,v,S){switch(f){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Cl(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Cl(a,""+p);break;case"className":jn(a,"class",p);break;case"tabIndex":jn(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(a,f,p);break;case"style":Yx(a,p,S);break;case"data":if(o!=="object"){jn(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||f!=="href")){a.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(f);break}p=yf(""+p),a.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(o!=="input"&&Pt(a,o,"name",v.name,v,null),Pt(a,o,"formEncType",v.formEncType,v,null),Pt(a,o,"formMethod",v.formMethod,v,null),Pt(a,o,"formTarget",v.formTarget,v,null)):(Pt(a,o,"encType",v.encType,v,null),Pt(a,o,"method",v.method,v,null),Pt(a,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(f);break}p=yf(""+p),a.setAttribute(f,p);break;case"onClick":p!=null&&(a.onclick=Wi);break;case"onScroll":p!=null&&dt("scroll",a);break;case"onScrollEnd":p!=null&&dt("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(f=p.__html,f!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=f}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}f=yf(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(f,""+p):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":p===!0?a.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(f,p):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(f,p):a.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(f):a.setAttribute(f,p);break;case"popover":dt("beforetoggle",a),dt("toggle",a),ni(a,"popover",p);break;case"xlinkActuate":Et(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Et(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Et(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Et(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Et(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Et(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Et(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Et(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Et(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":ni(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=h6.get(f)||f,ni(a,f,p))}}function Ig(a,o,f,p,v,S){switch(f){case"style":Yx(a,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(f=p.__html,f!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=f}}break;case"children":typeof p=="string"?Cl(a,p):(typeof p=="number"||typeof p=="bigint")&&Cl(a,""+p);break;case"onScroll":p!=null&&dt("scroll",a);break;case"onScrollEnd":p!=null&&dt("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Wi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),o=f.slice(2,v?f.length-7:void 0),S=a[Ue]||null,S=S!=null?S[f]:null,typeof S=="function"&&a.removeEventListener(o,S,v),typeof p=="function")){typeof S!="function"&&S!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(o,p,v);break e}f in a?a[f]=p:p===!0?a.setAttribute(f,""):ni(a,f,p)}}}function Dr(a,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",a),dt("load",a);var p=!1,v=!1,S;for(S in f)if(f.hasOwnProperty(S)){var j=f[S];if(j!=null)switch(S){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Pt(a,o,S,j,f,null)}}v&&Pt(a,o,"srcSet",f.srcSet,f,null),p&&Pt(a,o,"src",f.src,f,null);return;case"input":dt("invalid",a);var V=S=j=v=null,ae=null,xe=null;for(p in f)if(f.hasOwnProperty(p)){var Ce=f[p];if(Ce!=null)switch(p){case"name":v=Ce;break;case"type":j=Ce;break;case"checked":ae=Ce;break;case"defaultChecked":xe=Ce;break;case"value":S=Ce;break;case"defaultValue":V=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,o));break;default:Pt(a,o,p,Ce,f,null)}}$x(a,S,V,ae,xe,j,v,!1);return;case"select":dt("invalid",a),p=j=S=null;for(v in f)if(f.hasOwnProperty(v)&&(V=f[v],V!=null))switch(v){case"value":S=V;break;case"defaultValue":j=V;break;case"multiple":p=V;default:Pt(a,o,v,V,f,null)}o=S,f=j,a.multiple=!!p,o!=null?Tl(a,!!p,o,!1):f!=null&&Tl(a,!!p,f,!0);return;case"textarea":dt("invalid",a),S=v=p=null;for(j in f)if(f.hasOwnProperty(j)&&(V=f[j],V!=null))switch(j){case"value":p=V;break;case"defaultValue":v=V;break;case"children":S=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(91));break;default:Pt(a,o,j,V,f,null)}Qx(a,p,v,S);return;case"option":for(ae in f)if(f.hasOwnProperty(ae)&&(p=f[ae],p!=null))switch(ae){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Pt(a,o,ae,p,f,null)}return;case"dialog":dt("beforetoggle",a),dt("toggle",a),dt("cancel",a),dt("close",a);break;case"iframe":case"object":dt("load",a);break;case"video":case"audio":for(p=0;p<zu.length;p++)dt(zu[p],a);break;case"image":dt("error",a),dt("load",a);break;case"details":dt("toggle",a);break;case"embed":case"source":case"link":dt("error",a),dt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in f)if(f.hasOwnProperty(xe)&&(p=f[xe],p!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Pt(a,o,xe,p,f,null)}return;default:if(em(o)){for(Ce in f)f.hasOwnProperty(Ce)&&(p=f[Ce],p!==void 0&&Ig(a,o,Ce,p,f,void 0));return}}for(V in f)f.hasOwnProperty(V)&&(p=f[V],p!=null&&Pt(a,o,V,p,f,null))}function FM(a,o,f,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,j=null,V=null,ae=null,xe=null,Ce=null;for(Ae in f){var Me=f[Ae];if(f.hasOwnProperty(Ae)&&Me!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":ae=Me;default:p.hasOwnProperty(Ae)||Pt(a,o,Ae,null,p,Me)}}for(var we in p){var Ae=p[we];if(Me=f[we],p.hasOwnProperty(we)&&(Ae!=null||Me!=null))switch(we){case"type":S=Ae;break;case"name":v=Ae;break;case"checked":xe=Ae;break;case"defaultChecked":Ce=Ae;break;case"value":j=Ae;break;case"defaultValue":V=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(n(137,o));break;default:Ae!==Me&&Pt(a,o,we,Ae,p,Me)}}Zp(a,j,V,ae,xe,Ce,S,v);return;case"select":Ae=j=V=we=null;for(S in f)if(ae=f[S],f.hasOwnProperty(S)&&ae!=null)switch(S){case"value":break;case"multiple":Ae=ae;default:p.hasOwnProperty(S)||Pt(a,o,S,null,p,ae)}for(v in p)if(S=p[v],ae=f[v],p.hasOwnProperty(v)&&(S!=null||ae!=null))switch(v){case"value":we=S;break;case"defaultValue":V=S;break;case"multiple":j=S;default:S!==ae&&Pt(a,o,v,S,p,ae)}o=V,f=j,p=Ae,we!=null?Tl(a,!!f,we,!1):!!p!=!!f&&(o!=null?Tl(a,!!f,o,!0):Tl(a,!!f,f?[]:"",!1));return;case"textarea":Ae=we=null;for(V in f)if(v=f[V],f.hasOwnProperty(V)&&v!=null&&!p.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Pt(a,o,V,null,p,v)}for(j in p)if(v=p[j],S=f[j],p.hasOwnProperty(j)&&(v!=null||S!=null))switch(j){case"value":we=v;break;case"defaultValue":Ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==S&&Pt(a,o,j,v,p,S)}Gx(a,we,Ae);return;case"option":for(var Ge in f)if(we=f[Ge],f.hasOwnProperty(Ge)&&we!=null&&!p.hasOwnProperty(Ge))switch(Ge){case"selected":a.selected=!1;break;default:Pt(a,o,Ge,null,p,we)}for(ae in p)if(we=p[ae],Ae=f[ae],p.hasOwnProperty(ae)&&we!==Ae&&(we!=null||Ae!=null))switch(ae){case"selected":a.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:Pt(a,o,ae,we,p,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in f)we=f[nt],f.hasOwnProperty(nt)&&we!=null&&!p.hasOwnProperty(nt)&&Pt(a,o,nt,null,p,we);for(xe in p)if(we=p[xe],Ae=f[xe],p.hasOwnProperty(xe)&&we!==Ae&&(we!=null||Ae!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(137,o));break;default:Pt(a,o,xe,we,p,Ae)}return;default:if(em(o)){for(var Ft in f)we=f[Ft],f.hasOwnProperty(Ft)&&we!==void 0&&!p.hasOwnProperty(Ft)&&Ig(a,o,Ft,void 0,p,we);for(Ce in p)we=p[Ce],Ae=f[Ce],!p.hasOwnProperty(Ce)||we===Ae||we===void 0&&Ae===void 0||Ig(a,o,Ce,we,p,Ae);return}}for(var me in f)we=f[me],f.hasOwnProperty(me)&&we!=null&&!p.hasOwnProperty(me)&&Pt(a,o,me,null,p,we);for(Me in p)we=p[Me],Ae=f[Me],!p.hasOwnProperty(Me)||we===Ae||we==null&&Ae==null||Pt(a,o,Me,we,p,Ae)}function K2(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IM(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var v=f[p],S=v.transferSize,j=v.initiatorType,V=v.duration;if(S&&V&&K2(j)){for(j=0,V=v.responseEnd,p+=1;p<f.length;p++){var ae=f[p],xe=ae.startTime;if(xe>V)break;var Ce=ae.transferSize,Me=ae.initiatorType;Ce&&K2(Me)&&(ae=ae.responseEnd,j+=Ce*(ae<V?1:(V-xe)/(ae-xe)))}if(--p,o+=8*(S+j)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ug=null,Hg=null;function hh(a){return a.nodeType===9?a:a.ownerDocument}function Z2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J2(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function qg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Wg=null;function UM(){var a=window.event;return a&&a.type==="popstate"?a===Wg?!1:(Wg=a,!0):(Wg=null,!1)}var ek=typeof setTimeout=="function"?setTimeout:void 0,HM=typeof clearTimeout=="function"?clearTimeout:void 0,tk=typeof Promise=="function"?Promise:void 0,qM=typeof queueMicrotask=="function"?queueMicrotask:typeof tk<"u"?function(a){return tk.resolve(null).then(a).catch(WM)}:ek;function WM(a){setTimeout(function(){throw a})}function Gs(a){return a==="head"}function rk(a,o){var f=o,p=0;do{var v=f.nextSibling;if(a.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"||f==="/&"){if(p===0){a.removeChild(v),io(o);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")Pu(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,Pu(f);for(var S=f.firstChild;S;){var j=S.nextSibling,V=S.nodeName;S[Kt]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=j}}else f==="body"&&Pu(a.ownerDocument.body);f=v}while(f);io(o)}function nk(a,o){var f=a;a=0;do{var p=f.nextSibling;if(f.nodeType===1?o?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(o?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=p}while(f)}function Vg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Vg(f),nr(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function VM(a,o,f,p){for(;a.nodeType===1;){var v=f;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Kt])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Vn(a.nextSibling),a===null)break}return null}function $M(a,o,f){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=Vn(a.nextSibling),a===null))return null;return a}function ik(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Vn(a.nextSibling),a===null))return null;return a}function $g(a){return a.data==="$?"||a.data==="$~"}function Gg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function GM(a,o){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||f.readyState!=="loading")o();else{var p=function(){o(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Vn(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Qg=null;function sk(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(o===0)return Vn(a.nextSibling);o--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||o++}a=a.nextSibling}return null}function ak(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(o===0)return a;o--}else f!=="/$"&&f!=="/&"||o++}a=a.previousSibling}return null}function lk(a,o,f){switch(o=hh(f),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Pu(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);nr(a)}var $n=new Map,ok=new Set;function dh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var as=G.d;G.d={f:QM,r:XM,D:YM,C:KM,L:ZM,m:JM,X:tN,S:eN,M:rN};function QM(){var a=as.f(),o=ih();return a||o}function XM(a){var o=At(a);o!==null&&o.tag===5&&o.type==="form"?ES(o):as.r(a)}var to=typeof document>"u"?null:document;function uk(a,o,f){var p=to;if(p&&typeof o=="string"&&o){var v=Pn(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),ok.has(v)||(ok.add(v),a={rel:a,crossOrigin:f,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),Dr(o,"link",a),qt(o),p.head.appendChild(o)))}}function YM(a){as.D(a),uk("dns-prefetch",a,null)}function KM(a,o){as.C(a,o),uk("preconnect",a,o)}function ZM(a,o,f){as.L(a,o,f);var p=to;if(p&&a&&o){var v='link[rel="preload"][as="'+Pn(o)+'"]';o==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+Pn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+Pn(f.imageSizes)+'"]')):v+='[href="'+Pn(a)+'"]';var S=v;switch(o){case"style":S=ro(a);break;case"script":S=no(a)}$n.has(S)||(a=m({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:a,as:o},f),$n.set(S,a),p.querySelector(v)!==null||o==="style"&&p.querySelector(Fu(S))||o==="script"&&p.querySelector(Iu(S))||(o=p.createElement("link"),Dr(o,"link",a),qt(o),p.head.appendChild(o)))}}function JM(a,o){as.m(a,o);var f=to;if(f&&a){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Pn(p)+'"][href="'+Pn(a)+'"]',S=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=no(a)}if(!$n.has(S)&&(a=m({rel:"modulepreload",href:a},o),$n.set(S,a),f.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Iu(S)))return}p=f.createElement("link"),Dr(p,"link",a),qt(p),f.head.appendChild(p)}}}function eN(a,o,f){as.S(a,o,f);var p=to;if(p&&a){var v=zn(p).hoistableStyles,S=ro(a);o=o||"default";var j=v.get(S);if(!j){var V={loading:0,preload:null};if(j=p.querySelector(Fu(S)))V.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},f),(f=$n.get(S))&&Xg(a,f);var ae=j=p.createElement("link");qt(ae),Dr(ae,"link",a),ae._p=new Promise(function(xe,Ce){ae.onload=xe,ae.onerror=Ce}),ae.addEventListener("load",function(){V.loading|=1}),ae.addEventListener("error",function(){V.loading|=2}),V.loading|=4,ph(j,o,p)}j={type:"stylesheet",instance:j,count:1,state:V},v.set(S,j)}}}function tN(a,o){as.X(a,o);var f=to;if(f&&a){var p=zn(f).hoistableScripts,v=no(a),S=p.get(v);S||(S=f.querySelector(Iu(v)),S||(a=m({src:a,async:!0},o),(o=$n.get(v))&&Yg(a,o),S=f.createElement("script"),qt(S),Dr(S,"link",a),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(v,S))}}function rN(a,o){as.M(a,o);var f=to;if(f&&a){var p=zn(f).hoistableScripts,v=no(a),S=p.get(v);S||(S=f.querySelector(Iu(v)),S||(a=m({src:a,async:!0,type:"module"},o),(o=$n.get(v))&&Yg(a,o),S=f.createElement("script"),qt(S),Dr(S,"link",a),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(v,S))}}function ck(a,o,f,p){var v=(v=ie.current)?dh(v):null;if(!v)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=ro(f.href),f=zn(v).hoistableStyles,p=f.get(o),p||(p={type:"style",instance:null,count:0,state:null},f.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=ro(f.href);var S=zn(v).hoistableStyles,j=S.get(a);if(j||(v=v.ownerDocument||v,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,j),(S=v.querySelector(Fu(a)))&&!S._p&&(j.instance=S,j.state.loading=5),$n.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},$n.set(a,f),S||nN(v,a,f,j.state))),o&&p===null)throw Error(n(528,""));return j}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=no(f),f=zn(v).hoistableScripts,p=f.get(o),p||(p={type:"script",instance:null,count:0,state:null},f.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function ro(a){return'href="'+Pn(a)+'"'}function Fu(a){return'link[rel="stylesheet"]['+a+"]"}function fk(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function nN(a,o,f,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Dr(o,"link",f),qt(o),a.head.appendChild(o))}function no(a){return'[src="'+Pn(a)+'"]'}function Iu(a){return"script[async]"+a}function hk(a,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+Pn(f.href)+'"]');if(p)return o.instance=p,qt(p),p;var v=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),qt(p),Dr(p,"style",v),ph(p,f.precedence,a),o.instance=p;case"stylesheet":v=ro(f.href);var S=a.querySelector(Fu(v));if(S)return o.state.loading|=4,o.instance=S,qt(S),S;p=fk(f),(v=$n.get(v))&&Xg(p,v),S=(a.ownerDocument||a).createElement("link"),qt(S);var j=S;return j._p=new Promise(function(V,ae){j.onload=V,j.onerror=ae}),Dr(S,"link",p),o.state.loading|=4,ph(S,f.precedence,a),o.instance=S;case"script":return S=no(f.src),(v=a.querySelector(Iu(S)))?(o.instance=v,qt(v),v):(p=f,(v=$n.get(S))&&(p=m({},f),Yg(p,v)),a=a.ownerDocument||a,v=a.createElement("script"),qt(v),Dr(v,"link",p),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,ph(p,f.precedence,a));return o.instance}function ph(a,o,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,S=v,j=0;j<p.length;j++){var V=p[j];if(V.dataset.precedence===o)S=V;else if(S!==v)break}S?S.parentNode.insertBefore(a,S.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(a,o.firstChild))}function Xg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Yg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var mh=null;function dk(a,o,f){if(mh===null){var p=new Map,v=mh=new Map;v.set(f,p)}else v=mh,p=v.get(f),p||(p=new Map,v.set(f,p));if(p.has(a))return p;for(p.set(a,null),f=f.getElementsByTagName(a),v=0;v<f.length;v++){var S=f[v];if(!(S[Kt]||S[Ie]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var j=S.getAttribute(o)||"";j=a+j;var V=p.get(j);V?V.push(S):p.set(j,[S])}}return p}function pk(a,o,f){a=a.ownerDocument||a,a.head.insertBefore(f,o==="title"?a.querySelector("head > title"):null)}function iN(a,o,f){if(f===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function mk(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function sN(a,o,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var v=ro(p.href),S=o.querySelector(Fu(v));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=gh.bind(a),o.then(a,a)),f.state.loading|=4,f.instance=S,qt(S);return}S=o.ownerDocument||o,p=fk(p),(v=$n.get(v))&&Xg(p,v),S=S.createElement("link"),qt(S);var j=S;j._p=new Promise(function(V,ae){j.onload=V,j.onerror=ae}),Dr(S,"link",p),f.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,o),(o=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=gh.bind(a),o.addEventListener("load",f),o.addEventListener("error",f))}}var Kg=0;function aN(a,o){return a.stylesheets&&a.count===0&&vh(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var p=setTimeout(function(){if(a.stylesheets&&vh(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+o);0<a.imgBytes&&Kg===0&&(Kg=62500*IM());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&vh(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>Kg?50:800)+o);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function gh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var yh=null;function vh(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,yh=new Map,o.forEach(lN,a),yh=null,gh.call(a))}function lN(a,o){if(!(o.state.loading&4)){var f=yh.get(a);if(f)var p=f.get(null);else{f=new Map,yh.set(a,f);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var j=v[S];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(f.set(j.dataset.precedence,j),p=j)}p&&f.set(null,p)}v=o.instance,j=v.getAttribute("data-precedence"),S=f.get(j)||p,S===p&&f.set(null,v),f.set(j,v),this.count++,p=gh.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),S?S.parentNode.insertBefore(v,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Uu={$$typeof:O,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function oN(a,o,f,p,v,S,j,V,ae){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.hiddenUpdates=Os(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function gk(a,o,f,p,v,S,j,V,ae,xe,Ce,Me){return a=new oN(a,o,f,j,ae,xe,Ce,Me,V),o=1,S===!0&&(o|=24),S=En(3,null,null,o),a.current=S,S.stateNode=a,o=Rm(),o.refCount++,a.pooledCache=o,o.refCount++,S.memoizedState={element:p,isDehydrated:f,cache:o},Lm(S),a}function yk(a){return a?(a=Ll,a):Ll}function vk(a,o,f,p,v,S){v=yk(v),p.context===null?p.context=v:p.pendingContext=v,p=zs(o),p.payload={element:f},S=S===void 0?null:S,S!==null&&(p.callback=S),f=js(a,p,o),f!==null&&(hn(f,a,o),bu(f,a,o))}function bk(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<o?f:o}}function Zg(a,o){bk(a,o),(a=a.alternate)&&bk(a,o)}function xk(a){if(a.tag===13||a.tag===31){var o=Ra(a,67108864);o!==null&&hn(o,a,67108864),Zg(a,67108864)}}function wk(a){if(a.tag===13||a.tag===31){var o=Rn();o=Se(o);var f=Ra(a,o);f!==null&&hn(f,a,o),Zg(a,o)}}var bh=!0;function uN(a,o,f,p){var v=Y.T;Y.T=null;var S=G.p;try{G.p=2,Jg(a,o,f,p)}finally{G.p=S,Y.T=v}}function cN(a,o,f,p){var v=Y.T;Y.T=null;var S=G.p;try{G.p=8,Jg(a,o,f,p)}finally{G.p=S,Y.T=v}}function Jg(a,o,f,p){if(bh){var v=e0(p);if(v===null)Fg(a,o,p,xh,f),kk(a,p);else if(hN(v,a,o,f,p))p.stopPropagation();else if(kk(a,p),o&4&&-1<fN.indexOf(a)){for(;v!==null;){var S=At(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var j=sn(S.pendingLanes);if(j!==0){var V=S;for(V.pendingLanes|=2,V.entangledLanes|=2;j;){var ae=1<<31-Xt(j);V.entanglements[1]|=ae,j&=~ae}wi(S),(Rt&6)===0&&(rh=Te()+500,Bu(0))}}break;case 31:case 13:V=Ra(S,2),V!==null&&hn(V,S,2),ih(),Zg(S,2)}if(S=e0(p),S===null&&Fg(a,o,p,xh,f),S===v)break;v=S}v!==null&&p.stopPropagation()}else Fg(a,o,p,null,f)}}function e0(a){return a=rm(a),t0(a)}var xh=null;function t0(a){if(xh=null,a=kt(a),a!==null){var o=s(a);if(o===null)a=null;else{var f=o.tag;if(f===13){if(a=l(o),a!==null)return a;a=null}else if(f===31){if(a=u(o),a!==null)return a;a=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return xh=a,null}function Sk(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case je:return 2;case Ve:return 8;case Qe:case Ht:return 32;case tn:return 268435456;default:return 32}default:return 32}}var r0=!1,Qs=null,Xs=null,Ys=null,Hu=new Map,qu=new Map,Ks=[],fN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kk(a,o){switch(a){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Hu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(o.pointerId)}}function Wu(a,o,f,p,v,S){return a===null||a.nativeEvent!==S?(a={blockedOn:o,domEventName:f,eventSystemFlags:p,nativeEvent:S,targetContainers:[v]},o!==null&&(o=At(o),o!==null&&xk(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function hN(a,o,f,p,v){switch(o){case"focusin":return Qs=Wu(Qs,a,o,f,p,v),!0;case"dragenter":return Xs=Wu(Xs,a,o,f,p,v),!0;case"mouseover":return Ys=Wu(Ys,a,o,f,p,v),!0;case"pointerover":var S=v.pointerId;return Hu.set(S,Wu(Hu.get(S)||null,a,o,f,p,v)),!0;case"gotpointercapture":return S=v.pointerId,qu.set(S,Wu(qu.get(S)||null,a,o,f,p,v)),!0}return!1}function Ak(a){var o=kt(a.target);if(o!==null){var f=s(o);if(f!==null){if(o=f.tag,o===13){if(o=l(f),o!==null){a.blockedOn=o,Ke(a.priority,function(){wk(f)});return}}else if(o===31){if(o=u(f),o!==null){a.blockedOn=o,Ke(a.priority,function(){wk(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function wh(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var f=e0(a.nativeEvent);if(f===null){f=a.nativeEvent;var p=new f.constructor(f.type,f);tm=p,f.target.dispatchEvent(p),tm=null}else return o=At(f),o!==null&&xk(o),a.blockedOn=f,!1;o.shift()}return!0}function Ek(a,o,f){wh(a)&&f.delete(o)}function dN(){r0=!1,Qs!==null&&wh(Qs)&&(Qs=null),Xs!==null&&wh(Xs)&&(Xs=null),Ys!==null&&wh(Ys)&&(Ys=null),Hu.forEach(Ek),qu.forEach(Ek)}function Sh(a,o){a.blockedOn===o&&(a.blockedOn=null,r0||(r0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dN)))}var kh=null;function Tk(a){kh!==a&&(kh=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kh===a&&(kh=null);for(var o=0;o<a.length;o+=3){var f=a[o],p=a[o+1],v=a[o+2];if(typeof p!="function"){if(t0(p||f)===null)continue;break}var S=At(f);S!==null&&(a.splice(o,3),o-=3,eg(S,{pending:!0,data:v,method:f.method,action:p},p,v))}}))}function io(a){function o(ae){return Sh(ae,a)}Qs!==null&&Sh(Qs,a),Xs!==null&&Sh(Xs,a),Ys!==null&&Sh(Ys,a),Hu.forEach(o),qu.forEach(o);for(var f=0;f<Ks.length;f++){var p=Ks[f];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Ks.length&&(f=Ks[0],f.blockedOn===null);)Ak(f),f.blockedOn===null&&Ks.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var v=f[p],S=f[p+1],j=v[Ue]||null;if(typeof S=="function")j||Tk(f);else if(j){var V=null;if(S&&S.hasAttribute("formAction")){if(v=S,j=S[Ue]||null)V=j.formAction;else if(t0(v)!==null)continue}else V=j.action;typeof V=="function"?f[p+1]=V:(f.splice(p,3),p-=3),Tk(f)}}}function Ck(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(j){return v=j})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function n0(a){this._internalRoot=a}Ah.prototype.render=n0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var f=o.current,p=Rn();vk(f,p,a,o,null,null)},Ah.prototype.unmount=n0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;vk(a.current,2,null,a,null,null),ih(),o[Ye]=null}};function Ah(a){this._internalRoot=a}Ah.prototype.unstable_scheduleHydration=function(a){if(a){var o=Pe();a={blockedOn:null,target:a,priority:o};for(var f=0;f<Ks.length&&o!==0&&o<Ks[f].priority;f++);Ks.splice(f,0,a),f===0&&Ak(a)}};var Ok=e.version;if(Ok!=="19.2.3")throw Error(n(527,Ok,"19.2.3"));G.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var pN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{Nt=Eh.inject(pN),zt=Eh}catch{}}return $u.createRoot=function(a,o){if(!i(a))throw Error(n(299));var f=!1,p="",v=BS,S=zS,j=jS;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),o=gk(a,1,!1,null,null,f,p,null,v,S,j,Ck),a[Ye]=o.current,Pg(a),new n0(o)},$u.hydrateRoot=function(a,o,f){if(!i(a))throw Error(n(299));var p=!1,v="",S=BS,j=zS,V=jS,ae=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(j=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError),f.formState!==void 0&&(ae=f.formState)),o=gk(a,1,!0,o,f??null,p,v,ae,S,j,V,Ck),o.context=yk(null),f=o.current,p=Rn(),p=Se(p),v=zs(p),v.callback=null,js(f,v,p),f=p,o.current.lanes=f,_s(o,f),wi(o),a[Ye]=o.current,Pg(a),new Ah(o)},$u.version="19.2.3",$u}var Pk;function CN(){if(Pk)return a0.exports;Pk=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),a0.exports=TN(),a0.exports}var ON=CN();var HO=r=>{throw TypeError(r)},_N=(r,e,t)=>e.has(r)||HO("Cannot "+t),c0=(r,e,t)=>(_N(r,e,"read from private field"),t?t.call(r):e.get(r)),RN=(r,e,t)=>e.has(r)?HO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Fk="popstate";function MN(r={}){function e(i,s){let{pathname:l="/",search:u="",hash:c=""}=ks(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ac("",{pathname:l,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let c=i.location.href,h=c.indexOf("#");u=h===-1?c:c.slice(0,h)}return u+"#"+(typeof s=="string"?s:Fi(s))}function n(i,s){rr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return DN(e,t,n,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function rr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NN(){return Math.random().toString(36).substring(2,10)}function Ik(r,e){return{usr:r.state,key:r.key,idx:e}}function Ac(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ks(e):e,state:t,key:e&&e.key||n||NN()}}function Fi({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ks(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function DN(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,u="POP",c=null,h=d();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function d(){return(l.state||{idx:null}).idx}function m(){u="POP";let E=d(),x=E==null?null:E-h;h=E,c&&c({action:u,location:w.location,delta:x})}function g(E,x){u="PUSH";let k=Ac(w.location,E,x);t&&t(k,E),h=d()+1;let O=Ik(k,h),T=w.createHref(k);try{l.pushState(O,"",T)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(T)}s&&c&&c({action:u,location:w.location,delta:1})}function y(E,x){u="REPLACE";let k=Ac(w.location,E,x);t&&t(k,E),h=d();let O=Ik(k,h),T=w.createHref(k);l.replaceState(O,"",T),s&&c&&c({action:u,location:w.location,delta:0})}function b(E){return qO(E)}let w={get action(){return u},get location(){return r(i,l)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Fk,m),c=E,()=>{i.removeEventListener(Fk,m),c=null}},createHref(E){return e(i,E)},createURL:b,encodeLocation(E){let x=b(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:y,go(E){return l.go(E)}};return w}function qO(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Fi(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}var lc,Uk=class{constructor(r){if(RN(this,lc,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(c0(this,lc).has(r))return c0(this,lc).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){c0(this,lc).set(r,e)}};lc=new WeakMap;var LN=new Set(["lazy","caseSensitive","path","id","index","children"]);function BN(r){return LN.has(r)}var zN=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function jN(r){return zN.has(r)}function PN(r){return r.index===!0}function Ec(r,e,t=[],n={},i=!1){return r.map((s,l)=>{let u=[...t,String(l)],c=typeof s.id=="string"?s.id:u.join("-");if(ct(s.index!==!0||!s.children,"Cannot specify children on an index route"),ct(i||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),PN(s)){let h={...s,id:c};return n[c]=Hk(h,e(h)),h}else{let h={...s,id:c,children:void 0};return n[c]=Hk(h,e(h)),s.children&&(h.children=Ec(s.children,e,u,n,i)),h}})}function Hk(r,e){return Object.assign(r,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...r.lazy,...e.lazy}}:{}})}function ta(r,e,t="/"){return oc(r,e,t,!1)}function oc(r,e,t,n){let i=typeof e=="string"?ks(e):e,s=bn(i.pathname||"/",t);if(s==null)return null;let l=WO(r);IN(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let h=KN(s);u=XN(l[c],h,n)}return u}function FN(r,e){let{route:t,pathname:n,params:i}=r;return{id:t.id,pathname:n,params:i,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function WO(r,e=[],t=[],n="",i=!1){let s=(l,u,c=i,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;ct(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let m=zi([n,d.relativePath]),g=t.concat(d);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),WO(l.children,e,g,m,c)),!(l.path==null&&!l.index)&&e.push({path:m,score:GN(m,l.index),routesMeta:g})};return r.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let c of VO(l.path))s(l,u,!0,c)}),e}function VO(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=VO(n.join("/")),u=[];return u.push(...l.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...l),u.map(c=>r.startsWith("/")&&c===""?"/":c)}function IN(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:QN(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var UN=/^:[\w-]+$/,HN=3,qN=2,WN=1,VN=10,$N=-2,qk=r=>r==="*";function GN(r,e){let t=r.split("/"),n=t.length;return t.some(qk)&&(n+=$N),e&&(n+=qN),t.filter(i=>!qk(i)).reduce((i,s)=>i+(UN.test(s)?HN:s===""?WN:VN),n)}function QN(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function XN(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",l=[];for(let u=0;u<n.length;++u){let c=n[u],h=u===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=Cd({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),g=c.route;if(!m&&h&&t&&!n[n.length-1].route.index&&(m=Cd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:zi([s,m.pathname]),pathnameBase:tD(zi([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=zi([s,m.pathnameBase]))}return l}function Cd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=YN(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,{paramName:d,isOptional:m},g)=>{if(d==="*"){let b=u[g]||"";l=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=u[g];return m&&!y?h[d]=void 0:h[d]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:r}}function YN(r,e=!1,t=!0){rr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function KN(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function bn(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function ZN({basename:r,pathname:e}){return e==="/"?r:zi([r,e])}var JN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mp=r=>JN.test(r);function eD(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?ks(r):r,s;if(t)if(mp(t))s=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),rr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?s=Wk(t.substring(1),"/"):s=Wk(t,e)}else s=e;return{pathname:s,search:rD(n),hash:nD(i)}}function Wk(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function f0(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $O(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ab(r){let e=$O(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function lb(r,e,t,n=!1){let i;typeof r=="string"?i=ks(r):(i={...r},ct(!i.pathname||!i.pathname.includes("?"),f0("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),f0("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),f0("#","search","hash",i)));let s=r===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let m=e.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}u=m>=0?e[m]:"/"}let c=eD(i,u),h=l&&l!=="/"&&l.endsWith("/"),d=(s||l===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}var zi=r=>r.join("/").replace(/\/\/+/g,"/"),tD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),rD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,gp=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Tc(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Yc(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ia=Symbol("Uninstrumented");function iD(r,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(s){let l=Object.keys(t);for(let u of l)s[u]&&t[u].push(s[u])}}));let n={};if(typeof e.lazy=="function"&&t.lazy.length>0){let i=go(t.lazy,e.lazy,()=>{});i&&(n.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(s=>{let l=i[s],u=t[`lazy.${s}`];if(typeof l=="function"&&u.length>0){let c=go(u,l,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[s]:c}))}})}return["loader","action"].forEach(i=>{let s=e[i];if(typeof s=="function"&&t[i].length>0){let l=s[ia]??s,u=go(t[i],l,(...c)=>Vk(c[0]));u&&(u[ia]=l,n[i]=u)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(n.middleware=e.middleware.map(i=>{let s=i[ia]??i,l=go(t.middleware,s,(...u)=>Vk(u[0]));return l?(l[ia]=s,l):i})),n}function sD(r,e){let t={navigate:[],fetch:[]};if(e.forEach(n=>n({instrument(i){let s=Object.keys(i);for(let l of s)i[l]&&t[l].push(i[l])}})),t.navigate.length>0){let n=r.navigate[ia]??r.navigate,i=go(t.navigate,n,(...s)=>{let[l,u]=s;return{to:typeof l=="number"||typeof l=="string"?l:l?Fi(l):".",...$k(r,u??{})}});i&&(i[ia]=n,r.navigate=i)}if(t.fetch.length>0){let n=r.fetch[ia]??r.fetch,i=go(t.fetch,n,(...s)=>{let[l,,u,c]=s;return{href:u??".",fetcherKey:l,...$k(r,c??{})}});i&&(i[ia]=n,r.fetch=i)}return r}function go(r,e,t){return r.length===0?null:async(...n)=>{let i=await GO(r,t(...n),()=>e(...n),r.length-1);if(i.type==="error")throw i.value;return i.value}}async function GO(r,e,t,n){let i=r[n],s;if(i){let l,u=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=GO(r,e,t,n-1),s=await l,ct(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(u,e)}catch(c){console.error("An instrumentation function threw an error:",c)}l||await u(),await l}else try{s={type:"success",value:await t()}}catch(l){s={type:"error",value:l}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Vk(r){let{request:e,context:t,params:n,unstable_pattern:i}=r;return{request:aD(e),params:{...n},unstable_pattern:i,context:lD(t)}}function $k(r,e){return{currentUrl:Fi(r.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function aD(r){return{method:r.method,url:r.url,headers:{get:(...e)=>r.headers.get(...e)}}}function lD(r){if(uD(r)){let e={...r};return Object.freeze(e),e}else return{get:e=>r.get(e)}}var oD=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uD(r){if(r===null||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===oD}var QO=["POST","PUT","PATCH","DELETE"],cD=new Set(QO),fD=["GET",...QO],hD=new Set(fD),dD=new Set([301,302,303,307,308]),pD=new Set([307,308]),h0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gD=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),XO="remix-router-transitions",YO=Symbol("ResetLoaderData");function yD(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ct(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=r.hydrationRouteProperties||[],i=r.mapRouteProperties||gD,s=i;if(r.unstable_instrumentations){let le=r.unstable_instrumentations;s=ye=>({...i(ye),...iD(le.map(Se=>Se.route).filter(Boolean),ye)})}let l={},u=Ec(r.routes,s,void 0,l),c,h=r.basename||"/";h.startsWith("/")||(h=`/${h}`);let d=r.dataStrategy||SD,m={...r.future},g=null,y=new Set,b=null,w=null,E=null,x=r.hydrationData!=null,k=ta(u,r.history.location,h),O=!1,T=null,_;if(k==null&&!r.patchRoutesOnNavigation){let le=Qn(404,{pathname:r.history.location.pathname}),{matches:ye,route:Se}=Th(u);_=!0,k=ye,T={[Se.id]:le}}else if(k&&!r.hydrationData&&Ea(k,u,r.history.location.pathname).active&&(k=null),k)if(k.some(le=>le.route.lazy))_=!1;else if(!k.some(le=>ob(le.route)))_=!0;else{let le=r.hydrationData?r.hydrationData.loaderData:null,ye=r.hydrationData?r.hydrationData.errors:null;if(ye){let Se=k.findIndex(Be=>ye[Be.route.id]!==void 0);_=k.slice(0,Se+1).every(Be=>!Iv(Be.route,le,ye))}else _=k.every(Se=>!Iv(Se.route,le,ye))}else{_=!1,k=[];let le=Ea(null,u,r.history.location.pathname);le.active&&le.matches&&(O=!0,k=le.matches)}let H,M={historyAction:r.history.action,location:r.history.location,matches:k,initialized:_,navigation:h0,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||T,fetchers:new Map,blockers:new Map},Q="POP",P=null,re=!1,pe,U=!1,X=new Map,R=null,ee=!1,Y=!1,G=new Set,ue=new Map,ce=0,ke=-1,q=new Map,I=new Set,K=new Map,se=new Map,he=new Set,ie=new Map,B,L=null;function te(){if(g=r.history.listen(({action:le,location:ye,delta:Se})=>{if(B){B(),B=void 0;return}rr(ie.size===0||Se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Be=yi({currentLocation:M.location,nextLocation:ye,historyAction:le});if(Be&&Se!=null){let Pe=new Promise(Ke=>{B=Ke});r.history.go(Se*-1),ri(Be,{state:"blocked",location:ye,proceed(){ri(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),Pe.then(()=>r.history.go(Se))},reset(){let Ke=new Map(M.blockers);Ke.set(Be,oo),$({blockers:Ke})}}),P?.resolve(),P=null;return}return F(le,ye)}),t){PD(e,X);let le=()=>FD(e,X);e.addEventListener("pagehide",le),R=()=>e.removeEventListener("pagehide",le)}return M.initialized||F("POP",M.location,{initialHydration:!0}),H}function J(){g&&g(),R&&R(),y.clear(),pe&&pe.abort(),M.fetchers.forEach((le,ye)=>ti(ye)),M.blockers.forEach((le,ye)=>kl(ye))}function W(le){return y.add(le),()=>y.delete(le)}function $(le,ye={}){le.matches&&(le.matches=le.matches.map(Pe=>{let Ke=l[Pe.route.id],$e=Pe.route;return $e.element!==Ke.element||$e.errorElement!==Ke.errorElement||$e.hydrateFallbackElement!==Ke.hydrateFallbackElement?{...Pe,route:Ke}:Pe})),M={...M,...le};let Se=[],Be=[];M.fetchers.forEach((Pe,Ke)=>{Pe.state==="idle"&&(he.has(Ke)?Se.push(Ke):Be.push(Ke))}),he.forEach(Pe=>{!M.fetchers.has(Pe)&&!ue.has(Pe)&&Se.push(Pe)}),[...y].forEach(Pe=>Pe(M,{deletedFetchers:Se,newErrors:le.errors??null,viewTransitionOpts:ye.viewTransitionOpts,flushSync:ye.flushSync===!0})),Se.forEach(Pe=>ti(Pe)),Be.forEach(Pe=>M.fetchers.delete(Pe))}function ge(le,ye,{flushSync:Se}={}){let Be=M.actionData!=null&&M.navigation.formMethod!=null&&Xr(M.navigation.formMethod)&&M.navigation.state==="loading"&&le.state?._isRedirect!==!0,Pe;ye.actionData?Object.keys(ye.actionData).length>0?Pe=ye.actionData:Pe=null:Be?Pe=M.actionData:Pe=null;let Ke=ye.loaderData?rA(M.loaderData,ye.loaderData,ye.matches||[],ye.errors):M.loaderData,$e=M.blockers;$e.size>0&&($e=new Map($e),$e.forEach((Ze,Je)=>$e.set(Je,oo)));let Ie=ee?!1:pf(le,ye.matches||M.matches),Ue=re===!0||M.navigation.formMethod!=null&&Xr(M.navigation.formMethod)&&le.state?._isRedirect!==!0;c&&(u=c,c=void 0),ee||Q==="POP"||(Q==="PUSH"?r.history.push(le,le.state):Q==="REPLACE"&&r.history.replace(le,le.state));let Ye;if(Q==="POP"){let Ze=X.get(M.location.pathname);Ze&&Ze.has(le.pathname)?Ye={currentLocation:M.location,nextLocation:le}:X.has(le.pathname)&&(Ye={currentLocation:le,nextLocation:M.location})}else if(U){let Ze=X.get(M.location.pathname);Ze?Ze.add(le.pathname):(Ze=new Set([le.pathname]),X.set(M.location.pathname,Ze)),Ye={currentLocation:M.location,nextLocation:le}}$({...ye,actionData:Pe,loaderData:Ke,historyAction:Q,location:le,initialized:!0,navigation:h0,revalidation:"idle",restoreScrollPosition:Ie,preventScrollReset:Ue,blockers:$e},{viewTransitionOpts:Ye,flushSync:Se===!0}),Q="POP",re=!1,U=!1,ee=!1,Y=!1,P?.resolve(),P=null,L?.resolve(),L=null}async function N(le,ye){if(P?.resolve(),P=null,typeof le=="number"){P||(P=aA());let Dt=P.promise;return r.history.go(le),Dt}let Se=Fv(M.location,M.matches,h,le,ye?.fromRouteId,ye?.relative),{path:Be,submission:Pe,error:Ke}=Gk(!1,Se,ye),$e=M.location,Ie=Ac(M.location,Be,ye&&ye.state);Ie={...Ie,...r.history.encodeLocation(Ie)};let Ue=ye&&ye.replace!=null?ye.replace:void 0,Ye="PUSH";Ue===!0?Ye="REPLACE":Ue===!1||Pe!=null&&Xr(Pe.formMethod)&&Pe.formAction===M.location.pathname+M.location.search&&(Ye="REPLACE");let Ze=ye&&"preventScrollReset"in ye?ye.preventScrollReset===!0:void 0,Je=(ye&&ye.flushSync)===!0,vt=yi({currentLocation:$e,nextLocation:Ie,historyAction:Ye});if(vt){ri(vt,{state:"blocked",location:Ie,proceed(){ri(vt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),N(le,ye)},reset(){let Dt=new Map(M.blockers);Dt.set(vt,oo),$({blockers:Dt})}});return}await F(Ye,Ie,{submission:Pe,pendingError:Ke,preventScrollReset:Ze,replace:ye&&ye.replace,enableViewTransition:ye&&ye.viewTransition,flushSync:Je})}function ve(){L||(L=aA()),Ve(),$({revalidation:"loading"});let le=L.promise;return M.navigation.state==="submitting"?le:M.navigation.state==="idle"?(F(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),le):(F(Q||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:U===!0}),le)}async function F(le,ye,Se){pe&&pe.abort(),pe=null,Q=le,ee=(Se&&Se.startUninterruptedRevalidation)===!0,Aa(M.location,M.matches),re=(Se&&Se.preventScrollReset)===!0,U=(Se&&Se.enableViewTransition)===!0;let Be=c||u,Pe=Se&&Se.overrideNavigation,Ke=Se?.initialHydration&&M.matches&&M.matches.length>0&&!O?M.matches:ta(Be,ye,h),$e=(Se&&Se.flushSync)===!0;if(Ke&&M.initialized&&!Y&&RD(M.location,ye)&&!(Se&&Se.submission&&Xr(Se.submission.formMethod))){ge(ye,{matches:Ke},{flushSync:$e});return}let Ie=Ea(Ke,Be,ye.pathname);if(Ie.active&&Ie.matches&&(Ke=Ie.matches),!Ke){let{error:nr,notFoundMatches:kt,route:At}=nn(ye.pathname);ge(ye,{matches:kt,loaderData:{},errors:{[At.id]:nr}},{flushSync:$e});return}pe=new AbortController;let Ue=uo(r.history,ye,pe.signal,Se&&Se.submission),Ye=r.getContext?await r.getContext():new Uk,Ze;if(Se&&Se.pendingError)Ze=[ra(Ke).route.id,{type:"error",error:Se.pendingError}];else if(Se&&Se.submission&&Xr(Se.submission.formMethod)){let nr=await A(Ue,ye,Se.submission,Ke,Ye,Ie.active,Se&&Se.initialHydration===!0,{replace:Se.replace,flushSync:$e});if(nr.shortCircuited)return;if(nr.pendingActionResult){let[kt,At]=nr.pendingActionResult;if(Ln(At)&&Tc(At.error)&&At.error.status===404){pe=null,ge(ye,{matches:nr.matches,loaderData:{},errors:{[kt]:At.error}});return}}Ke=nr.matches||Ke,Ze=nr.pendingActionResult,Pe=d0(ye,Se.submission),$e=!1,Ie.active=!1,Ue=uo(r.history,Ue.url,Ue.signal)}let{shortCircuited:Je,matches:vt,loaderData:Dt,errors:Kt}=await C(Ue,ye,Ke,Ye,Ie.active,Pe,Se&&Se.submission,Se&&Se.fetcherSubmission,Se&&Se.replace,Se&&Se.initialHydration===!0,$e,Ze);Je||(pe=null,ge(ye,{matches:vt||Ke,...nA(Ze),loaderData:Dt,errors:Kt}))}async function A(le,ye,Se,Be,Pe,Ke,$e,Ie={}){Ve();let Ue=zD(ye,Se);if($({navigation:Ue},{flushSync:Ie.flushSync===!0}),Ke){let Je=await Os(Be,ye.pathname,le.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){if(Je.partialMatches.length===0){let{matches:Dt,route:Kt}=Th(u);return{matches:Dt,pendingActionResult:[Kt.id,{type:"error",error:Je.error}]}}let vt=ra(Je.partialMatches).route.id;return{matches:Je.partialMatches,pendingActionResult:[vt,{type:"error",error:Je.error}]}}else if(Je.matches)Be=Je.matches;else{let{notFoundMatches:vt,error:Dt,route:Kt}=nn(ye.pathname);return{matches:vt,pendingActionResult:[Kt.id,{type:"error",error:Dt}]}}}let Ye,Ze=dd(Be,ye);if(!Ze.route.action&&!Ze.route.lazy)Ye={type:"error",error:Qn(405,{method:le.method,pathname:ye.pathname,routeId:Ze.route.id})};else{let Je=Ao(s,l,le,Be,Ze,$e?[]:n,Pe),vt=await Oe(le,Je,Pe,null);if(Ye=vt[Ze.route.id],!Ye){for(let Dt of Be)if(vt[Dt.route.id]){Ye=vt[Dt.route.id];break}}if(le.signal.aborted)return{shortCircuited:!0}}if(Ka(Ye)){let Je;return Ie&&Ie.replace!=null?Je=Ie.replace:Je=Jk(Ye.response.headers.get("Location"),new URL(le.url),h)===M.location.pathname+M.location.search,await Te(le,Ye,!0,{submission:Se,replace:Je}),{shortCircuited:!0}}if(Ln(Ye)){let Je=ra(Be,Ze.route.id);return(Ie&&Ie.replace)!==!0&&(Q="PUSH"),{matches:Be,pendingActionResult:[Je.route.id,Ye,Ze.route.id]}}return{matches:Be,pendingActionResult:[Ze.route.id,Ye]}}async function C(le,ye,Se,Be,Pe,Ke,$e,Ie,Ue,Ye,Ze,Je){let vt=Ke||d0(ye,$e),Dt=$e||Ie||sA(vt),Kt=!ee&&!Ye;if(Pe){if(Kt){let Er=D(Je);$({navigation:vt,...Er!==void 0?{actionData:Er}:{}},{flushSync:Ze})}let pt=await Os(Se,ye.pathname,le.signal);if(pt.type==="aborted")return{shortCircuited:!0};if(pt.type==="error"){if(pt.partialMatches.length===0){let{matches:ni,route:jn}=Th(u);return{matches:ni,loaderData:{},errors:{[jn.id]:pt.error}}}let Er=ra(pt.partialMatches).route.id;return{matches:pt.partialMatches,loaderData:{},errors:{[Er]:pt.error}}}else if(pt.matches)Se=pt.matches;else{let{error:Er,notFoundMatches:ni,route:jn}=nn(ye.pathname);return{matches:ni,loaderData:{},errors:{[jn.id]:Er}}}}let nr=c||u,{dsMatches:kt,revalidatingFetchers:At}=Qk(le,Be,s,l,r.history,M,Se,Dt,ye,Ye?[]:n,Ye===!0,Y,G,he,K,I,nr,h,r.patchRoutesOnNavigation!=null,Je);if(ke=++ce,!r.dataStrategy&&!kt.some(pt=>pt.shouldLoad)&&!kt.some(pt=>pt.route.middleware&&pt.route.middleware.length>0)&&At.length===0){let pt=Xt();return ge(ye,{matches:Se,loaderData:{},errors:Je&&Ln(Je[1])?{[Je[0]]:Je[1].error}:null,...nA(Je),...pt?{fetchers:new Map(M.fetchers)}:{}},{flushSync:Ze}),{shortCircuited:!0}}if(Kt){let pt={};if(!Pe){pt.navigation=vt;let Er=D(Je);Er!==void 0&&(pt.actionData=Er)}At.length>0&&(pt.fetchers=Z(At)),$(pt,{flushSync:Ze})}At.forEach(pt=>{zt(pt.key),pt.controller&&ue.set(pt.key,pt.controller)});let wn=()=>At.forEach(pt=>zt(pt.key));pe&&pe.signal.addEventListener("abort",wn);let{loaderResults:zn,fetcherResults:qt}=await je(kt,At,le,Be);if(le.signal.aborted)return{shortCircuited:!0};pe&&pe.signal.removeEventListener("abort",wn),At.forEach(pt=>ue.delete(pt.key));let Sn=Ch(zn);if(Sn)return await Te(le,Sn.result,!0,{replace:Ue}),{shortCircuited:!0};if(Sn=Ch(qt),Sn)return I.add(Sn.key),await Te(le,Sn.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:Al,errors:kn}=tA(M,Se,zn,Je,At,qt);Ye&&M.errors&&(kn={...M.errors,...kn});let an=Xt(),El=Sa(ke),Ta=an||El||At.length>0;return{matches:Se,loaderData:Al,errors:kn,...Ta?{fetchers:new Map(M.fetchers)}:{}}}function D(le){if(le&&!Ln(le[1]))return{[le[0]]:le[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Z(le){return le.forEach(ye=>{let Se=M.fetchers.get(ye.key),Be=Gu(void 0,Se?Se.data:void 0);M.fetchers.set(ye.key,Be)}),new Map(M.fetchers)}async function oe(le,ye,Se,Be){zt(le);let Pe=(Be&&Be.flushSync)===!0,Ke=c||u,$e=Fv(M.location,M.matches,h,Se,ye,Be?.relative),Ie=ta(Ke,$e,h),Ue=Ea(Ie,Ke,$e);if(Ue.active&&Ue.matches&&(Ie=Ue.matches),!Ie){Ht(le,ye,Qn(404,{pathname:$e}),{flushSync:Pe});return}let{path:Ye,submission:Ze,error:Je}=Gk(!0,$e,Be);if(Je){Ht(le,ye,Je,{flushSync:Pe});return}let vt=r.getContext?await r.getContext():new Uk,Dt=(Be&&Be.preventScrollReset)===!0;if(Ze&&Xr(Ze.formMethod)){await ne(le,ye,Ye,Ie,vt,Ue.active,Pe,Dt,Ze);return}K.set(le,{routeId:ye,path:Ye}),await Ee(le,ye,Ye,Ie,vt,Ue.active,Pe,Dt,Ze)}async function ne(le,ye,Se,Be,Pe,Ke,$e,Ie,Ue){Ve(),K.delete(le);let Ye=M.fetchers.get(le);Qe(le,jD(Ue,Ye),{flushSync:$e});let Ze=new AbortController,Je=uo(r.history,Se,Ze.signal,Ue);if(Ke){let Et=await Os(Be,new URL(Je.url).pathname,Je.signal,le);if(Et.type==="aborted")return;if(Et.type==="error"){Ht(le,ye,Et.error,{flushSync:$e});return}else if(Et.matches)Be=Et.matches;else{Ht(le,ye,Qn(404,{pathname:Se}),{flushSync:$e});return}}let vt=dd(Be,Se);if(!vt.route.action&&!vt.route.lazy){let Et=Qn(405,{method:Ue.formMethod,pathname:Se,routeId:ye});Ht(le,ye,Et,{flushSync:$e});return}ue.set(le,Ze);let Dt=ce,Kt=Ao(s,l,Je,Be,vt,n,Pe),nr=await Oe(Je,Kt,Pe,le),kt=nr[vt.route.id];if(!kt){for(let Et of Kt)if(nr[Et.route.id]){kt=nr[Et.route.id];break}}if(Je.signal.aborted){ue.get(le)===Ze&&ue.delete(le);return}if(he.has(le)){if(Ka(kt)||Ln(kt)){Qe(le,us(void 0));return}}else{if(Ka(kt))if(ue.delete(le),ke>Dt){Qe(le,us(void 0));return}else return I.add(le),Qe(le,Gu(Ue)),Te(Je,kt,!1,{fetcherSubmission:Ue,preventScrollReset:Ie});if(Ln(kt)){Ht(le,ye,kt.error);return}}let At=M.navigation.location||M.location,wn=uo(r.history,At,Ze.signal),zn=c||u,qt=M.navigation.state!=="idle"?ta(zn,M.navigation.location,h):M.matches;ct(qt,"Didn't find any matches after fetcher action");let Sn=++ce;q.set(le,Sn);let Al=Gu(Ue,kt.data);M.fetchers.set(le,Al);let{dsMatches:kn,revalidatingFetchers:an}=Qk(wn,Pe,s,l,r.history,M,qt,Ue,At,n,!1,Y,G,he,K,I,zn,h,r.patchRoutesOnNavigation!=null,[vt.route.id,kt]);an.filter(Et=>Et.key!==le).forEach(Et=>{let _r=Et.key,nu=M.fetchers.get(_r),Yp=Gu(void 0,nu?nu.data:void 0);M.fetchers.set(_r,Yp),zt(_r),Et.controller&&ue.set(_r,Et.controller)}),$({fetchers:new Map(M.fetchers)});let El=()=>an.forEach(Et=>zt(Et.key));Ze.signal.addEventListener("abort",El);let{loaderResults:Ta,fetcherResults:pt}=await je(kn,an,wn,Pe);if(Ze.signal.aborted)return;if(Ze.signal.removeEventListener("abort",El),q.delete(le),ue.delete(le),an.forEach(Et=>ue.delete(Et.key)),M.fetchers.has(le)){let Et=us(kt.data);M.fetchers.set(le,Et)}let Er=Ch(Ta);if(Er)return Te(wn,Er.result,!1,{preventScrollReset:Ie});if(Er=Ch(pt),Er)return I.add(Er.key),Te(wn,Er.result,!1,{preventScrollReset:Ie});let{loaderData:ni,errors:jn}=tA(M,qt,Ta,void 0,an,pt);Sa(Sn),M.navigation.state==="loading"&&Sn>ke?(ct(Q,"Expected pending action"),pe&&pe.abort(),ge(M.navigation.location,{matches:qt,loaderData:ni,errors:jn,fetchers:new Map(M.fetchers)})):($({errors:jn,loaderData:rA(M.loaderData,ni,qt,jn),fetchers:new Map(M.fetchers)}),Y=!1)}async function Ee(le,ye,Se,Be,Pe,Ke,$e,Ie,Ue){let Ye=M.fetchers.get(le);Qe(le,Gu(Ue,Ye?Ye.data:void 0),{flushSync:$e});let Ze=new AbortController,Je=uo(r.history,Se,Ze.signal);if(Ke){let At=await Os(Be,new URL(Je.url).pathname,Je.signal,le);if(At.type==="aborted")return;if(At.type==="error"){Ht(le,ye,At.error,{flushSync:$e});return}else if(At.matches)Be=At.matches;else{Ht(le,ye,Qn(404,{pathname:Se}),{flushSync:$e});return}}let vt=dd(Be,Se);ue.set(le,Ze);let Dt=ce,Kt=Ao(s,l,Je,Be,vt,n,Pe),kt=(await Oe(Je,Kt,Pe,le))[vt.route.id];if(ue.get(le)===Ze&&ue.delete(le),!Je.signal.aborted){if(he.has(le)){Qe(le,us(void 0));return}if(Ka(kt))if(ke>Dt){Qe(le,us(void 0));return}else{I.add(le),await Te(Je,kt,!1,{preventScrollReset:Ie});return}if(Ln(kt)){Ht(le,ye,kt.error);return}Qe(le,us(kt.data))}}async function Te(le,ye,Se,{submission:Be,fetcherSubmission:Pe,preventScrollReset:Ke,replace:$e}={}){Se||(P?.resolve(),P=null),ye.response.headers.has("X-Remix-Revalidate")&&(Y=!0);let Ie=ye.response.headers.get("Location");ct(Ie,"Expected a Location header on the redirect Response"),Ie=Jk(Ie,new URL(le.url),h);let Ue=Ac(M.location,Ie,{_isRedirect:!0});if(t){let Kt=!1;if(ye.response.headers.has("X-Remix-Reload-Document"))Kt=!0;else if(mp(Ie)){const nr=qO(Ie,!0);Kt=nr.origin!==e.location.origin||bn(nr.pathname,h)==null}if(Kt){$e?e.location.replace(Ie):e.location.assign(Ie);return}}pe=null;let Ye=$e===!0||ye.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ze,formAction:Je,formEncType:vt}=M.navigation;!Be&&!Pe&&Ze&&Je&&vt&&(Be=sA(M.navigation));let Dt=Be||Pe;if(pD.has(ye.response.status)&&Dt&&Xr(Dt.formMethod))await F(Ye,Ue,{submission:{...Dt,formAction:Ie},preventScrollReset:Ke||re,enableViewTransition:Se?U:void 0});else{let Kt=d0(Ue,Be);await F(Ye,Ue,{overrideNavigation:Kt,fetcherSubmission:Pe,preventScrollReset:Ke||re,enableViewTransition:Se?U:void 0})}}async function Oe(le,ye,Se,Be){let Pe,Ke={};try{Pe=await AD(d,le,ye,Be,Se,!1)}catch($e){return ye.filter(Ie=>Ie.shouldLoad).forEach(Ie=>{Ke[Ie.route.id]={type:"error",error:$e}}),Ke}if(le.signal.aborted)return Ke;for(let[$e,Ie]of Object.entries(Pe))if(LD(Ie)){let Ue=Ie.result;Ke[$e]={type:"redirect",response:OD(Ue,le,$e,ye,h)}}else Ke[$e]=await CD(Ie);return Ke}async function je(le,ye,Se,Be){let Pe=Oe(Se,le,Be,null),Ke=Promise.all(ye.map(async Ue=>{if(Ue.matches&&Ue.match&&Ue.request&&Ue.controller){let Ze=(await Oe(Ue.request,Ue.matches,Be,Ue.key))[Ue.match.route.id];return{[Ue.key]:Ze}}else return Promise.resolve({[Ue.key]:{type:"error",error:Qn(404,{pathname:Ue.path})}})})),$e=await Pe,Ie=(await Ke).reduce((Ue,Ye)=>Object.assign(Ue,Ye),{});return{loaderResults:$e,fetcherResults:Ie}}function Ve(){Y=!0,K.forEach((le,ye)=>{ue.has(ye)&&G.add(ye),zt(ye)})}function Qe(le,ye,Se={}){M.fetchers.set(le,ye),$({fetchers:new Map(M.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function Ht(le,ye,Se,Be={}){let Pe=ra(M.matches,ye);ti(le),$({errors:{[Pe.route.id]:Se},fetchers:new Map(M.fetchers)},{flushSync:(Be&&Be.flushSync)===!0})}function tn(le){return se.set(le,(se.get(le)||0)+1),he.has(le)&&he.delete(le),M.fetchers.get(le)||mD}function rn(le,ye){zt(le,ye?.reason),Qe(le,us(null))}function ti(le){let ye=M.fetchers.get(le);ue.has(le)&&!(ye&&ye.state==="loading"&&q.has(le))&&zt(le),K.delete(le),q.delete(le),I.delete(le),he.delete(le),G.delete(le),M.fetchers.delete(le)}function Nt(le){let ye=(se.get(le)||0)-1;ye<=0?(se.delete(le),he.add(le)):se.set(le,ye),$({fetchers:new Map(M.fetchers)})}function zt(le,ye){let Se=ue.get(le);Se&&(Se.abort(ye),ue.delete(le))}function $r(le){for(let ye of le){let Se=tn(ye),Be=us(Se.data);M.fetchers.set(ye,Be)}}function Xt(){let le=[],ye=!1;for(let Se of I){let Be=M.fetchers.get(Se);ct(Be,`Expected fetcher: ${Se}`),Be.state==="loading"&&(I.delete(Se),le.push(Se),ye=!0)}return $r(le),ye}function Sa(le){let ye=[];for(let[Se,Be]of q)if(Be<le){let Pe=M.fetchers.get(Se);ct(Pe,`Expected fetcher: ${Se}`),Pe.state==="loading"&&(zt(Se),q.delete(Se),ye.push(Se))}return $r(ye),ye.length>0}function ru(le,ye){let Se=M.blockers.get(le)||oo;return ie.get(le)!==ye&&ie.set(le,ye),Se}function kl(le){M.blockers.delete(le),ie.delete(le)}function ri(le,ye){let Se=M.blockers.get(le)||oo;ct(Se.state==="unblocked"&&ye.state==="blocked"||Se.state==="blocked"&&ye.state==="blocked"||Se.state==="blocked"&&ye.state==="proceeding"||Se.state==="blocked"&&ye.state==="unblocked"||Se.state==="proceeding"&&ye.state==="unblocked",`Invalid blocker state transition: ${Se.state} -> ${ye.state}`);let Be=new Map(M.blockers);Be.set(le,ye),$({blockers:Be})}function yi({currentLocation:le,nextLocation:ye,historyAction:Se}){if(ie.size===0)return;ie.size>1&&rr(!1,"A router only supports one blocker at a time");let Be=Array.from(ie.entries()),[Pe,Ke]=Be[Be.length-1],$e=M.blockers.get(Pe);if(!($e&&$e.state==="proceeding")&&Ke({currentLocation:le,nextLocation:ye,historyAction:Se}))return Pe}function nn(le){let ye=Qn(404,{pathname:le}),Se=c||u,{matches:Be,route:Pe}=Th(Se);return{notFoundMatches:Be,route:Pe,error:ye}}function sn(le,ye,Se){if(b=le,E=ye,w=Se||null,!x&&M.navigation===h0){x=!0;let Be=pf(M.location,M.matches);Be!=null&&$({restoreScrollPosition:Be})}return()=>{b=null,E=null,w=null}}function ka(le,ye){return w&&w(le,ye.map(Be=>FN(Be,M.loaderData)))||le.key}function Aa(le,ye){if(b&&E){let Se=ka(le,ye);b[Se]=E()}}function pf(le,ye){if(b){let Se=ka(le,ye),Be=b[Se];if(typeof Be=="number")return Be}return null}function Ea(le,ye,Se){if(r.patchRoutesOnNavigation)if(le){if(Object.keys(le[0].params).length>0)return{active:!0,matches:oc(ye,Se,h,!0)}}else return{active:!0,matches:oc(ye,Se,h,!0)||[]};return{active:!1,matches:null}}async function Os(le,ye,Se,Be){if(!r.patchRoutesOnNavigation)return{type:"success",matches:le};let Pe=le;for(;;){let Ke=c==null,$e=c||u,Ie=l;try{await r.patchRoutesOnNavigation({signal:Se,path:ye,matches:Pe,fetcherKey:Be,patch:(Ze,Je)=>{Se.aborted||Xk(Ze,Je,$e,Ie,s,!1)}})}catch(Ze){return{type:"error",error:Ze,partialMatches:Pe}}finally{Ke&&!Se.aborted&&(u=[...u])}if(Se.aborted)return{type:"aborted"};let Ue=ta($e,ye,h),Ye=null;if(Ue){if(Object.keys(Ue[0].params).length===0)return{type:"success",matches:Ue};if(Ye=oc($e,ye,h,!0),!(Ye&&Pe.length<Ye.length&&_s(Pe,Ye.slice(0,Pe.length))))return{type:"success",matches:Ue}}if(Ye||(Ye=oc($e,ye,h,!0)),!Ye||_s(Pe,Ye))return{type:"success",matches:null};Pe=Ye}}function _s(le,ye){return le.length===ye.length&&le.every((Se,Be)=>Se.route.id===ye[Be].route.id)}function Xp(le){l={},c=Ec(le,s,void 0,l)}function mf(le,ye,Se=!1){let Be=c==null;Xk(le,ye,c||u,l,s,Se),Be&&(u=[...u],$({}))}return H={get basename(){return h},get future(){return m},get state(){return M},get routes(){return u},get window(){return e},initialize:te,subscribe:W,enableScrollRestoration:sn,navigate:N,fetch:oe,revalidate:ve,createHref:le=>r.history.createHref(le),encodeLocation:le=>r.history.encodeLocation(le),getFetcher:tn,resetFetcher:rn,deleteFetcher:Nt,dispose:J,getBlocker:ru,deleteBlocker:kl,patchRoutes:mf,_internalFetchControllers:ue,_internalSetRoutes:Xp,_internalSetStateDoNotUseOrYouWillBreakYourApp(le){$(le)}},r.unstable_instrumentations&&(H=sD(H,r.unstable_instrumentations.map(le=>le.router).filter(Boolean))),H}function vD(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Fv(r,e,t,n,i,s){let l,u;if(i){l=[];for(let h of e)if(l.push(h),h.route.id===i){u=h;break}}else l=e,u=e[e.length-1];let c=lb(n||".",ab(l),bn(r.pathname,t)||r.pathname,s==="path");if(n==null&&(c.search=r.search,c.hash=r.hash),(n==null||n===""||n===".")&&u){let h=ub(c.search);if(u.route.index&&!h)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let d=new URLSearchParams(c.search),m=d.getAll("index");d.delete("index"),m.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();c.search=g?`?${g}`:""}}return t!=="/"&&(c.pathname=ZN({basename:t,pathname:c.pathname})),Fi(c)}function Gk(r,e,t){if(!t||!vD(t))return{path:e};if(t.formMethod&&!BD(t.formMethod))return{path:e,error:Qn(405,{method:t.formMethod})};let n=()=>({path:e,error:Qn(400,{type:"invalid-body"})}),s=(t.formMethod||"get").toUpperCase(),l=r_(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Xr(s))return n();let m=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((g,[y,b])=>`${g}${y}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:s,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:m}}}else if(t.formEncType==="application/json"){if(!Xr(s))return n();try{let m=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:s,formAction:l,formEncType:t.formEncType,formData:void 0,json:m,text:void 0}}}catch{return n()}}}ct(typeof FormData=="function","FormData is not available in this environment");let u,c;if(t.formData)u=Hv(t.formData),c=t.formData;else if(t.body instanceof FormData)u=Hv(t.body),c=t.body;else if(t.body instanceof URLSearchParams)u=t.body,c=eA(u);else if(t.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(t.body),c=eA(u)}catch{return n()}let h={formMethod:s,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Xr(h.formMethod))return{path:e,submission:h};let d=ks(e);return r&&d.search&&ub(d.search)&&u.append("index",""),d.search=`?${u}`,{path:Fi(d),submission:h}}function Qk(r,e,t,n,i,s,l,u,c,h,d,m,g,y,b,w,E,x,k,O){let T=O?Ln(O[1])?O[1].error:O[1].data:void 0,_=i.createURL(s.location),H=i.createURL(c),M;if(d&&s.errors){let R=Object.keys(s.errors)[0];M=l.findIndex(ee=>ee.route.id===R)}else if(O&&Ln(O[1])){let R=O[0];M=l.findIndex(ee=>ee.route.id===R)-1}let Q=O?O[1].statusCode:void 0,P=Q&&Q>=400,re={currentUrl:_,currentParams:s.matches[0]?.params||{},nextUrl:H,nextParams:l[0].params,...u,actionResult:T,actionStatus:Q},pe=Yc(l),U=l.map((R,ee)=>{let{route:Y}=R,G=null;if(M!=null&&ee>M?G=!1:Y.lazy?G=!0:ob(Y)?d?G=Iv(Y,s.loaderData,s.errors):bD(s.loaderData,s.matches[ee],R)&&(G=!0):G=!1,G!==null)return Uv(t,n,r,pe,R,h,e,G);let ue=P?!1:m||_.pathname+_.search===H.pathname+H.search||_.search!==H.search||xD(s.matches[ee],R),ce={...re,defaultShouldRevalidate:ue},ke=Od(R,ce);return Uv(t,n,r,pe,R,h,e,ke,ce)}),X=[];return b.forEach((R,ee)=>{if(d||!l.some(K=>K.route.id===R.routeId)||y.has(ee))return;let Y=s.fetchers.get(ee),G=Y&&Y.state!=="idle"&&Y.data===void 0,ue=ta(E,R.path,x);if(!ue){if(k&&G)return;X.push({key:ee,routeId:R.routeId,path:R.path,matches:null,match:null,request:null,controller:null});return}if(w.has(ee))return;let ce=dd(ue,R.path),ke=new AbortController,q=uo(i,R.path,ke.signal),I=null;if(g.has(ee))g.delete(ee),I=Ao(t,n,q,ue,ce,h,e);else if(G)m&&(I=Ao(t,n,q,ue,ce,h,e));else{let K={...re,defaultShouldRevalidate:P?!1:m};Od(ce,K)&&(I=Ao(t,n,q,ue,ce,h,e,K))}I&&X.push({key:ee,routeId:R.routeId,path:R.path,matches:I,match:ce,request:q,controller:ke})}),{dsMatches:U,revalidatingFetchers:X}}function ob(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function Iv(r,e,t){if(r.lazy)return!0;if(!ob(r))return!1;let n=e!=null&&r.id in e,i=t!=null&&t[r.id]!==void 0;return!n&&i?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!n&&!i}function bD(r,e,t){let n=!e||t.route.id!==e.route.id,i=!r.hasOwnProperty(t.route.id);return n||i}function xD(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Od(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Xk(r,e,t,n,i,s){let l;if(r){let h=n[r];ct(h,`No route found to patch children into: routeId = ${r}`),h.children||(h.children=[]),l=h.children}else l=t;let u=[],c=[];if(e.forEach(h=>{let d=l.find(m=>KO(h,m));d?c.push({existingRoute:d,newRoute:h}):u.push(h)}),u.length>0){let h=Ec(u,i,[r||"_","patch",String(l?.length||"0")],n);l.push(...h)}if(s&&c.length>0)for(let h=0;h<c.length;h++){let{existingRoute:d,newRoute:m}=c[h],g=d,[y]=Ec([m],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function KO(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,n)=>e.children?.some(i=>KO(t,i))):!1}var Yk=new WeakMap,ZO=({key:r,route:e,manifest:t,mapRouteProperties:n})=>{let i=t[e.id];if(ct(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[r];if(!s)return;let l=Yk.get(i);l||(l={},Yk.set(i,l));let u=l[r];if(u)return u;let c=(async()=>{let h=BN(r),m=i[r]!==void 0&&r!=="hasErrorBoundary";if(h)rr(!h,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),l[r]=Promise.resolve();else if(m)rr(!1,`Route "${i.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[r]:g}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[r]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return l[r]=c,c},Kk=new WeakMap;function wD(r,e,t,n,i){let s=t[r.id];if(ct(s,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let d=Kk.get(s);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let m=(async()=>{ct(typeof r.lazy=="function","No lazy route function found");let g=await r.lazy(),y={};for(let b in g){let w=g[b];if(w===void 0)continue;let E=jN(b),k=s[b]!==void 0&&b!=="hasErrorBoundary";E?rr(!E,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?rr(!k,`Route "${s.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):y[b]=w}Object.assign(s,y),Object.assign(s,{...n(s),lazy:void 0})})();return Kk.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let l=Object.keys(r.lazy),u=[],c;for(let d of l){if(i&&i.includes(d))continue;let m=ZO({key:d,route:r,manifest:t,mapRouteProperties:n});m&&(u.push(m),d===e&&(c=m))}let h=u.length>0?Promise.all(u).then(()=>{}):void 0;return h?.catch(()=>{}),c?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:c}}async function Zk(r){let e=r.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{t[e[s].route.id]=i}),t}async function SD(r){return r.matches.some(e=>e.route.middleware)?JO(r,()=>Zk(r)):Zk(r)}function JO(r,e){return kD(r,e,n=>n,ND,t);function t(n,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:n}}));{let{matches:l}=r,u=Math.min(Math.max(l.findIndex(h=>h.route.id===i),0),Math.max(l.findIndex(h=>h.shouldCallHandler()),0)),c=ra(l,l[u].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function kD(r,e,t,n,i){let{matches:s,request:l,params:u,context:c,unstable_pattern:h}=r,d=s.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await e_({request:l,params:u,context:c,unstable_pattern:h},d,e,t,n,i)}async function e_(r,e,t,n,i,s,l=0){let{request:u}=r;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let c=e[l];if(!c)return await t();let[h,d]=c,m,g=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await e_(r,e,t,n,i,s,l+1)},m.value}catch(y){return m={value:await s(y,h,m)},m.value}};try{let y=await d(r,g),b=y!=null?n(y):void 0;return i(b)?b:m?b??m.value:(m={value:await g()},m.value)}catch(y){return await s(y,h,m)}}function t_(r,e,t,n,i){let s=ZO({key:"middleware",route:n.route,manifest:e,mapRouteProperties:r}),l=wD(n.route,Xr(t.method)?"action":"loader",e,r,i);return{middleware:s,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Uv(r,e,t,n,i,s,l,u,c=null){let h=!1,d=t_(r,e,t,i,s);return{...i,_lazyPromises:d,shouldLoad:u,shouldRevalidateArgs:c,shouldCallHandler(m){return h=!0,c?typeof m=="boolean"?Od(i,{...c,defaultShouldRevalidate:m}):Od(i,c):u},resolve(m){let{lazy:g,loader:y,middleware:b}=i.route,w=h||u||m&&!Xr(t.method)&&(g||y),E=b&&b.length>0&&!y&&!g;return w&&(Xr(t.method)||!E)?ED({request:t,unstable_pattern:n,match:i,lazyHandlerPromise:d?.handler,lazyRoutePromise:d?.route,handlerOverride:m,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Ao(r,e,t,n,i,s,l,u=null){return n.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,shouldRevalidateArgs:u,shouldCallHandler:()=>!1,_lazyPromises:t_(r,e,t,c,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Uv(r,e,t,Yc(n),c,s,l,!0,u))}async function AD(r,e,t,n,i,s){t.some(h=>h._lazyPromises?.middleware)&&await Promise.all(t.map(h=>h._lazyPromises?.middleware));let l={request:e,unstable_pattern:Yc(t),params:t[0].params,context:i,matches:t},c=await r({...l,fetcherKey:n,runClientMiddleware:h=>{let d=l;return JO(d,()=>h({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return c}async function ED({request:r,unstable_pattern:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:s,scopedContext:l}){let u,c,h=Xr(r.method),d=h?"action":"loader",m=g=>{let y,b=new Promise((x,k)=>y=k);c=()=>y(),r.signal.addEventListener("abort",c);let w=x=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${t.route.id}]`)):g({request:r,unstable_pattern:e,params:t.params,context:l},...x!==void 0?[x]:[]),E=(async()=>{try{return{type:"data",result:await(s?s(k=>w(k)):w())}}catch(x){return{type:"error",result:x}}})();return Promise.race([E,b])};try{let g=h?t.route.action:t.route.loader;if(n||i)if(g){let y,[b]=await Promise.all([m(g).catch(w=>{y=w}),n,i]);if(y!==void 0)throw y;u=b}else{await n;let y=h?t.route.action:t.route.loader;if(y)[u]=await Promise.all([m(y),i]);else if(d==="action"){let b=new URL(r.url),w=b.pathname+b.search;throw Qn(405,{method:r.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(g)u=await m(g);else{let y=new URL(r.url),b=y.pathname+y.search;throw Qn(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{c&&r.signal.removeEventListener("abort",c)}return u}async function TD(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function CD(r){let{result:e,type:t}=r;if(n_(e)){let n;try{n=await TD(e)}catch(i){return{type:"error",error:i}}return t==="error"?{type:"error",error:new gp(e.status,e.statusText,n),statusCode:e.status,headers:e.headers}:{type:"data",data:n,statusCode:e.status,headers:e.headers}}return t==="error"?iA(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:MD(e),statusCode:Tc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Tc(e)?e.status:void 0}:iA(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function OD(r,e,t,n,i){let s=r.headers.get("Location");if(ct(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!mp(s)){let l=n.slice(0,n.findIndex(u=>u.route.id===t)+1);s=Fv(new URL(e.url),l,i,s),r.headers.set("Location",s)}return r}function Jk(r,e,t){if(mp(r)){let n=r,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=bn(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return r}function uo(r,e,t,n){let i=r.createURL(r_(e)).toString(),s={signal:t};if(n&&Xr(n.formMethod)){let{formMethod:l,formEncType:u}=n;s.method=l.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(n.json)):u==="text/plain"?s.body=n.text:u==="application/x-www-form-urlencoded"&&n.formData?s.body=Hv(n.formData):s.body=n.formData}return new Request(i,s)}function Hv(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function eA(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function _D(r,e,t,n=!1,i=!1){let s={},l=null,u,c=!1,h={},d=t&&Ln(t[1])?t[1].error:void 0;return r.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,y=e[g];if(ct(!Ka(y),"Cannot handle redirect results in processLoaderData"),Ln(y)){let b=y.error;if(d!==void 0&&(b=d,d=void 0),l=l||{},i)l[g]=b;else{let w=ra(r,g);l[w.route.id]==null&&(l[w.route.id]=b)}n||(s[g]=YO),c||(c=!0,u=Tc(y.error)?y.error.status:500),y.headers&&(h[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!c&&(u=y.statusCode),y.headers&&(h[g]=y.headers)}),d!==void 0&&t&&(l={[t[0]]:d},t[2]&&(s[t[2]]=void 0)),{loaderData:s,errors:l,statusCode:u||200,loaderHeaders:h}}function tA(r,e,t,n,i,s){let{loaderData:l,errors:u}=_D(e,t,n);return i.filter(c=>!c.matches||c.matches.some(h=>h.shouldLoad)).forEach(c=>{let{key:h,match:d,controller:m}=c;if(m&&m.signal.aborted)return;let g=s[h];if(ct(g,"Did not find corresponding fetcher result"),Ln(g)){let y=ra(r.matches,d?.route.id);u&&u[y.route.id]||(u={...u,[y.route.id]:g.error}),r.fetchers.delete(h)}else if(Ka(g))ct(!1,"Unhandled fetcher revalidation redirect");else{let y=us(g.data);r.fetchers.set(h,y)}}),{loaderData:l,errors:u}}function rA(r,e,t,n){let i=Object.entries(e).filter(([,s])=>s!==YO).reduce((s,[l,u])=>(s[l]=u,s),{});for(let s of t){let l=s.route.id;if(!e.hasOwnProperty(l)&&r.hasOwnProperty(l)&&s.route.loader&&(i[l]=r[l]),n&&n.hasOwnProperty(l))break}return i}function nA(r){return r?Ln(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function ra(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function Th(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Qn(r,{pathname:e,routeId:t,method:n,type:i,message:s}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return r===400?(l="Bad Request",n&&e&&t?u=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):r===403?(l="Forbidden",u=`Route "${t}" does not match URL "${e}"`):r===404?(l="Not Found",u=`No route matches URL "${e}"`):r===405&&(l="Method Not Allowed",n&&e&&t?u=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(u=`Invalid request method "${n.toUpperCase()}"`)),new gp(r||500,l,new Error(u),!0)}function Ch(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[n,i]=e[t];if(Ka(i))return{key:n,result:i}}}function r_(r){let e=typeof r=="string"?ks(r):r;return Fi({...e,hash:""})}function RD(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function MD(r){return new gp(r.init?.status??500,r.init?.statusText??"Internal Server Error",r.data)}function ND(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,t])=>typeof e=="string"&&DD(t))}function DD(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function LD(r){return n_(r.result)&&dD.has(r.result.status)}function Ln(r){return r.type==="error"}function Ka(r){return(r&&r.type)==="redirect"}function iA(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function n_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function BD(r){return hD.has(r.toUpperCase())}function Xr(r){return cD.has(r.toUpperCase())}function ub(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function dd(r,e){let t=typeof e=="string"?ks(e).search:e.search;if(r[r.length-1].route.index&&ub(t||""))return r[r.length-1];let n=$O(r);return n[n.length-1]}function sA(r){let{formMethod:e,formAction:t,formEncType:n,text:i,formData:s,json:l}=r;if(!(!e||!t||!n)){if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:n,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:l,text:void 0}}}function d0(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zD(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Gu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function jD(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function us(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function PD(r,e){try{let t=r.sessionStorage.getItem(XO);if(t){let n=JSON.parse(t);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function FD(r,e){if(e.size>0){let t={};for(let[n,i]of e)t[n]=[...i];try{r.sessionStorage.setItem(XO,JSON.stringify(t))}catch(n){rr(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function aA(){let r,e,t=new Promise((n,i)=>{r=async s=>{n(s);try{await t}catch{}},e=async s=>{i(s);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var yl=fe.createContext(null);yl.displayName="DataRouter";var Kc=fe.createContext(null);Kc.displayName="DataRouterState";fe.createContext(!1);var cb=fe.createContext({isTransitioning:!1});cb.displayName="ViewTransition";var i_=fe.createContext(new Map);i_.displayName="Fetchers";var ID=fe.createContext(null);ID.displayName="Await";var pi=fe.createContext(null);pi.displayName="Navigation";var yp=fe.createContext(null);yp.displayName="Location";var Ui=fe.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var fb=fe.createContext(null);fb.displayName="RouteError";function UD(r,{relative:e}={}){ct(Zc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=fe.useContext(pi),{hash:i,pathname:s,search:l}=Jc(r,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:zi([t,s])),n.createHref({pathname:u,search:l,hash:i})}function Zc(){return fe.useContext(yp)!=null}function ya(){return ct(Zc(),"useLocation() may be used only in the context of a <Router> component."),fe.useContext(yp).location}var s_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a_(r){fe.useContext(pi).static||fe.useLayoutEffect(r)}function vp(){let{isDataRoute:r}=fe.useContext(Ui);return r?r8():HD()}function HD(){ct(Zc(),"useNavigate() may be used only in the context of a <Router> component.");let r=fe.useContext(yl),{basename:e,navigator:t}=fe.useContext(pi),{matches:n}=fe.useContext(Ui),{pathname:i}=ya(),s=JSON.stringify(ab(n)),l=fe.useRef(!1);return a_(()=>{l.current=!0}),fe.useCallback((c,h={})=>{if(rr(l.current,s_),!l.current)return;if(typeof c=="number"){t.go(c);return}let d=lb(c,JSON.parse(s),i,h.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:zi([e,d.pathname])),(h.replace?t.replace:t.push)(d,h.state,h)},[e,t,s,i,r])}var qD=fe.createContext(null);function WD(r){let e=fe.useContext(Ui).outlet;return fe.useMemo(()=>e&&fe.createElement(qD.Provider,{value:r},e),[e,r])}function Jc(r,{relative:e}={}){let{matches:t}=fe.useContext(Ui),{pathname:n}=ya(),i=JSON.stringify(ab(t));return fe.useMemo(()=>lb(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function VD(r,e,t,n,i){ct(Zc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=fe.useContext(pi),{matches:l}=fe.useContext(Ui),u=l[l.length-1],c=u?u.params:{},h=u?u.pathname:"/",d=u?u.pathnameBase:"/",m=u&&u.route;{let k=m&&m.path||"";u_(h,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=ya(),y;y=g;let b=y.pathname||"/",w=b;if(d!=="/"){let k=d.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let E=ta(r,{pathname:w});return rr(m||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),rr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),YD(E&&E.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:zi([d,s.encodeLocation?s.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:zi([d,s.encodeLocation?s.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,t,n,i)}function $D(){let r=JD(),e=Tc(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=fe.createElement(fe.Fragment,null,fe.createElement("p",null," Hey developer "),fe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",fe.createElement("code",{style:s},"ErrorBoundary")," or"," ",fe.createElement("code",{style:s},"errorElement")," prop on your route.")),fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},e),t?fe.createElement("pre",{style:i},t):null,l)}var GD=fe.createElement($D,null),QD=class extends fe.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?fe.createElement(Ui.Provider,{value:this.props.routeContext},fe.createElement(fb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XD({routeContext:r,match:e,children:t}){let n=fe.useContext(yl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),fe.createElement(Ui.Provider,{value:r},t)}function YD(r,e=[],t=null,n=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,l=t?.errors;if(l!=null){let d=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,c=-1;if(t)for(let d=0;d<s.length;d++){let m=s[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:g,errors:y}=t,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let h=t&&n?(d,m)=>{n(d,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:Yc(t.matches),errorInfo:m})}:void 0;return s.reduceRight((d,m,g)=>{let y,b=!1,w=null,E=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||GD,u&&(c<0&&g===0?(u_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):c===g&&(b=!0,E=m.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),k=()=>{let O;return y?O=w:b?O=E:m.route.Component?O=fe.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=d,fe.createElement(XD,{match:m,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:O})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?fe.createElement(QD,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:h}):k()},null)}function hb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l_(r){let e=fe.useContext(yl);return ct(e,hb(r)),e}function o_(r){let e=fe.useContext(Kc);return ct(e,hb(r)),e}function KD(r){let e=fe.useContext(Ui);return ct(e,hb(r)),e}function db(r){let e=KD(r),t=e.matches[e.matches.length-1];return ct(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function ZD(){return db("useRouteId")}function JD(){let r=fe.useContext(fb),e=o_("useRouteError"),t=db("useRouteError");return r!==void 0?r:e.errors?.[t]}var e8=0;function t8(r){let{router:e,basename:t}=l_("useBlocker"),n=o_("useBlocker"),[i,s]=fe.useState(""),l=fe.useCallback(u=>{if(typeof r!="function")return!!r;if(t==="/")return r(u);let{currentLocation:c,nextLocation:h,historyAction:d}=u;return r({currentLocation:{...c,pathname:bn(c.pathname,t)||c.pathname},nextLocation:{...h,pathname:bn(h.pathname,t)||h.pathname},historyAction:d})},[t,r]);return fe.useEffect(()=>{let u=String(++e8);return s(u),()=>e.deleteBlocker(u)},[e]),fe.useEffect(()=>{i!==""&&e.getBlocker(i,l)},[e,i,l]),i&&n.blockers.has(i)?n.blockers.get(i):oo}function r8(){let{router:r}=l_("useNavigate"),e=db("useNavigate"),t=fe.useRef(!1);return a_(()=>{t.current=!0}),fe.useCallback(async(i,s={})=>{rr(t.current,s_),t.current&&(typeof i=="number"?await r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var lA={};function u_(r,e,t){!e&&!lA[r]&&(lA[r]=!0,rr(!1,t))}var oA={};function uA(r,e){!r&&!oA[e]&&(oA[e]=!0,console.warn(e))}var n8="useOptimistic",cA=SN[n8],i8=()=>{};function s8(r){return cA?cA(r):[r,i8]}function a8(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&rr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:fe.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&rr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:fe.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&rr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:fe.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var l8=["HydrateFallback","hydrateFallbackElement"],o8=class{constructor(){this.status="pending",this.promise=new Promise((r,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",r(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function u8({router:r,flushSync:e,unstable_onError:t,unstable_useTransitions:n}){let[i,s]=fe.useState(r.state),[l,u]=s8(i),[c,h]=fe.useState(),[d,m]=fe.useState({isTransitioning:!1}),[g,y]=fe.useState(),[b,w]=fe.useState(),[E,x]=fe.useState(),k=fe.useRef(new Map),O=fe.useCallback((M,{deletedFetchers:Q,newErrors:P,flushSync:re,viewTransitionOpts:pe})=>{P&&t&&Object.values(P).forEach(X=>t(X,{location:M.location,params:M.matches[0]?.params??{},unstable_pattern:Yc(M.matches)})),M.fetchers.forEach((X,R)=>{X.data!==void 0&&k.current.set(R,X.data)}),Q.forEach(X=>k.current.delete(X)),uA(re===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let U=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(uA(pe==null||U,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!pe||!U){e&&re?e(()=>s(M)):n===!1?s(M):fe.startTransition(()=>{n===!0&&u(X=>fA(X,M)),s(M)});return}if(e&&re){e(()=>{b&&(g?.resolve(),b.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})});let X=r.window.document.startViewTransition(()=>{e(()=>s(M))});X.finished.finally(()=>{e(()=>{y(void 0),w(void 0),h(void 0),m({isTransitioning:!1})})}),e(()=>w(X));return}b?(g?.resolve(),b.skipTransition(),x({state:M,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})):(h(M),m({isTransitioning:!0,flushSync:!1,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation}))},[r.window,e,b,g,n,u,t]);fe.useLayoutEffect(()=>r.subscribe(O),[r,O]),fe.useEffect(()=>{d.isTransitioning&&!d.flushSync&&y(new o8)},[d]),fe.useEffect(()=>{if(g&&c&&r.window){let M=c,Q=g.promise,P=r.window.document.startViewTransition(async()=>{n===!1?s(M):fe.startTransition(()=>{n===!0&&u(re=>fA(re,M)),s(M)}),await Q});P.finished.finally(()=>{y(void 0),w(void 0),h(void 0),m({isTransitioning:!1})}),w(P)}},[c,g,r.window,n,u]),fe.useEffect(()=>{g&&c&&l.location.key===c.location.key&&g.resolve()},[g,b,l.location,c]),fe.useEffect(()=>{!d.isTransitioning&&E&&(h(E.state),m({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),x(void 0))},[d.isTransitioning,E]);let T=fe.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:M=>r.navigate(M),push:(M,Q,P)=>r.navigate(M,{state:Q,preventScrollReset:P?.preventScrollReset}),replace:(M,Q,P)=>r.navigate(M,{replace:!0,state:Q,preventScrollReset:P?.preventScrollReset})}),[r]),_=r.basename||"/",H=fe.useMemo(()=>({router:r,navigator:T,static:!1,basename:_,unstable_onError:t}),[r,T,_,t]);return fe.createElement(fe.Fragment,null,fe.createElement(yl.Provider,{value:H},fe.createElement(Kc.Provider,{value:l},fe.createElement(i_.Provider,{value:k.current},fe.createElement(cb.Provider,{value:d},fe.createElement(d8,{basename:_,location:l.location,navigationType:l.historyAction,navigator:T,unstable_useTransitions:n===!0},fe.createElement(c8,{routes:r.routes,future:r.future,state:l,unstable_onError:t})))))),null)}function fA(r,e){return{...r,navigation:e.navigation.state!=="idle"?e.navigation:r.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:r.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:r.actionData,fetchers:e.fetchers}}var c8=fe.memo(f8);function f8({routes:r,future:e,state:t,unstable_onError:n}){return VD(r,void 0,t,n,e)}function h8(r){return WD(r.context)}function d8({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){ct(!Zc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),c=fe.useMemo(()=>({basename:u,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[u,i,s,l]);typeof t=="string"&&(t=ks(t));let{pathname:h="/",search:d="",hash:m="",state:g=null,key:y="default"}=t,b=fe.useMemo(()=>{let w=bn(h,u);return w==null?null:{location:{pathname:w,search:d,hash:m,state:g,key:y},navigationType:n}},[u,h,d,m,g,y,n]);return rr(b!=null,`<Router basename="${u}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:fe.createElement(pi.Provider,{value:c},fe.createElement(yp.Provider,{children:e,value:b}))}var pd="get",md="application/x-www-form-urlencoded";function bp(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function p8(r){return bp(r)&&r.tagName.toLowerCase()==="button"}function m8(r){return bp(r)&&r.tagName.toLowerCase()==="form"}function g8(r){return bp(r)&&r.tagName.toLowerCase()==="input"}function y8(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function v8(r,e){return r.button===0&&(!e||e==="_self")&&!y8(r)}function qv(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(i=>[t,i]):[[t,n]])},[]))}function b8(r,e){let t=qv(r);return e&&e.forEach((n,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var Oh=null;function x8(){if(Oh===null)try{new FormData(document.createElement("form"),0),Oh=!1}catch{Oh=!0}return Oh}var w8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function p0(r){return r!=null&&!w8.has(r)?(rr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${md}"`),null):r}function S8(r,e){let t,n,i,s,l;if(m8(r)){let u=r.getAttribute("action");n=u?bn(u,e):null,t=r.getAttribute("method")||pd,i=p0(r.getAttribute("enctype"))||md,s=new FormData(r)}else if(p8(r)||g8(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||u.getAttribute("action");if(n=c?bn(c,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||pd,i=p0(r.getAttribute("formenctype"))||p0(u.getAttribute("enctype"))||md,s=new FormData(u,r),!x8()){let{name:h,type:d,value:m}=r;if(d==="image"){let g=h?`${h}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else h&&s.append(h,m)}}else{if(bp(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=pd,n=null,i=md,l=r}return s&&i==="text/plain"&&(l=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pb(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function k8(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&bn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function A8(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E8(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function T8(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await A8(s,t);return l.links?l.links():[]}return[]}));return R8(n.flat(1).filter(E8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hA(r,e,t,n,i,s){let l=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,u=(c,h)=>t[h].pathname!==c.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,h)=>l(c,h)||u(c,h)):s==="data"?e.filter((c,h)=>{let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(l(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function C8(r,e,{includeHydrateFallback:t}={}){return O8(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function O8(r){return[...new Set(r)]}function _8(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function R8(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify(_8(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}function c_(){let r=fe.useContext(yl);return pb(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function M8(){let r=fe.useContext(Kc);return pb(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mb=fe.createContext(void 0);mb.displayName="FrameworkContext";function f_(){let r=fe.useContext(mb);return pb(r,"You must render this element inside a <HydratedRouter> element"),r}function N8(r,e){let t=fe.useContext(mb),[n,i]=fe.useState(!1),[s,l]=fe.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:d,onTouchStart:m}=e,g=fe.useRef(null);fe.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let w=x=>{x.forEach(k=>{l(k.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[r]),fe.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let y=()=>{i(!0)},b=()=>{i(!1),l(!1)};return t?r!=="intent"?[s,g,{}]:[s,g,{onFocus:Qu(u,y),onBlur:Qu(c,b),onMouseEnter:Qu(h,y),onMouseLeave:Qu(d,b),onTouchStart:Qu(m,y)}]:[!1,g,{}]}function Qu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function D8({page:r,...e}){let{router:t}=c_(),n=fe.useMemo(()=>ta(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?fe.createElement(B8,{page:r,matches:n,...e}):null}function L8(r){let{manifest:e,routeModules:t}=f_(),[n,i]=fe.useState([]);return fe.useEffect(()=>{let s=!1;return T8(r,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[r,e,t]),n}function B8({page:r,matches:e,...t}){let n=ya(),{manifest:i,routeModules:s}=f_(),{basename:l}=c_(),{loaderData:u,matches:c}=M8(),h=fe.useMemo(()=>hA(r,e,c,i,n,"data"),[r,e,c,i,n]),d=fe.useMemo(()=>hA(r,e,c,i,n,"assets"),[r,e,c,i,n]),m=fe.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(e.forEach(x=>{let k=i.routes[x.route.id];!k||!k.hasLoader||(!h.some(O=>O.route.id===x.route.id)&&x.route.id in u&&s[x.route.id]?.shouldRevalidate||k.hasClientLoader?w=!0:b.add(x.route.id))}),b.size===0)return[];let E=k8(r,l,"data");return w&&b.size>0&&E.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[E.pathname+E.search]},[l,u,n,i,h,e,r,s]),g=fe.useMemo(()=>C8(d,i),[d,i]),y=L8(d);return fe.createElement(fe.Fragment,null,m.map(b=>fe.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>fe.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:w})=>fe.createElement("link",{key:b,nonce:t.nonce,...w})))}function z8(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var h_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h_&&(window.__reactRouterVersion="7.10.1")}catch{}function j8(r,e){return yD({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:MN({window:e?.window}),hydrationData:P8(),routes:r,mapRouteProperties:a8,hydrationRouteProperties:l8,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function P8(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:F8(r.errors)}),r}function F8(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")t[n]=new gp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let l=new s(i.message);l.stack="",t[n]=l}catch{}}if(t[n]==null){let s=new Error(i.message);s.stack="",t[n]=s}}else t[n]=i;return t}var d_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vl=fe.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:l,state:u,target:c,to:h,preventScrollReset:d,viewTransition:m,...g},y){let{basename:b,unstable_useTransitions:w}=fe.useContext(pi),E=typeof h=="string"&&d_.test(h),x,k=!1;if(typeof h=="string"&&E&&(x=h,h_))try{let re=new URL(window.location.href),pe=h.startsWith("//")?new URL(re.protocol+h):new URL(h),U=bn(pe.pathname,b);pe.origin===re.origin&&U!=null?h=U+pe.search+pe.hash:k=!0}catch{rr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=UD(h,{relative:i}),[T,_,H]=N8(n,g),M=H8(h,{replace:l,state:u,target:c,preventScrollReset:d,relative:i,viewTransition:m,unstable_useTransitions:w});function Q(re){e&&e(re),re.defaultPrevented||M(re)}let P=fe.createElement("a",{...g,...H,href:x||O,onClick:k||s?e:Q,ref:z8(y,_),target:c,"data-discover":!E&&t==="render"?"true":void 0});return T&&!E?fe.createElement(fe.Fragment,null,P,fe.createElement(D8,{page:O})):P});vl.displayName="Link";var Wv=fe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:l,viewTransition:u,children:c,...h},d){let m=Jc(l,{relative:h.relative}),g=ya(),y=fe.useContext(Kc),{navigator:b,basename:w}=fe.useContext(pi),E=y!=null&&G8(m)&&u===!0,x=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=g.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(k=k.toLowerCase(),O=O?O.toLowerCase():null,x=x.toLowerCase()),O&&w&&(O=bn(O,w)||O);const T=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let _=k===x||!i&&k.startsWith(x)&&k.charAt(T)==="/",H=O!=null&&(O===x||!i&&O.startsWith(x)&&O.charAt(x.length)==="/"),M={isActive:_,isPending:H,isTransitioning:E},Q=_?e:void 0,P;typeof n=="function"?P=n(M):P=[n,_?"active":null,H?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let re=typeof s=="function"?s(M):s;return fe.createElement(vl,{...h,"aria-current":Q,className:P,ref:d,style:re,to:l,viewTransition:u},typeof c=="function"?c(M):c)});Wv.displayName="NavLink";var I8=fe.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:l=pd,action:u,onSubmit:c,relative:h,preventScrollReset:d,viewTransition:m,...g},y)=>{let{unstable_useTransitions:b}=fe.useContext(pi),w=V8(),E=$8(u,{relative:h}),x=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&d_.test(u),O=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let _=T.nativeEvent.submitter,H=_?.getAttribute("formmethod")||l,M=()=>w(_||T.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:i,state:s,relative:h,preventScrollReset:d,viewTransition:m});b&&t!==!1?fe.startTransition(()=>M()):M()};return fe.createElement("form",{ref:y,method:x,action:E,onSubmit:n?c:O,...g,"data-discover":!k&&r==="render"?"true":void 0})});I8.displayName="Form";function U8(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p_(r){let e=fe.useContext(yl);return ct(e,U8(r)),e}function H8(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:l,unstable_useTransitions:u}={}){let c=vp(),h=ya(),d=Jc(r,{relative:s});return fe.useCallback(m=>{if(v8(m,e)){m.preventDefault();let g=t!==void 0?t:Fi(h)===Fi(d),y=()=>c(r,{replace:g,state:n,preventScrollReset:i,relative:s,viewTransition:l});u?fe.startTransition(()=>y()):y()}},[h,c,d,t,n,e,r,i,s,l,u])}function gb(r){rr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=fe.useRef(qv(r)),t=fe.useRef(!1),n=ya(),i=fe.useMemo(()=>b8(n.search,t.current?null:e.current),[n.search]),s=vp(),l=fe.useCallback((u,c)=>{const h=qv(typeof u=="function"?u(new URLSearchParams(i)):u);t.current=!0,s("?"+h,c)},[s,i]);return[i,l]}var q8=0,W8=()=>`__${String(++q8)}__`;function V8(){let{router:r}=p_("useSubmit"),{basename:e}=fe.useContext(pi),t=ZD(),n=r.fetch,i=r.navigate;return fe.useCallback(async(s,l={})=>{let{action:u,method:c,encType:h,formData:d,body:m}=S8(s,e);if(l.navigate===!1){let g=l.fetcherKey||W8();await n(g,t,l.action||u,{preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||c,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||u,{preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||c,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,i,e,t])}function $8(r,{relative:e}={}){let{basename:t}=fe.useContext(pi),n=fe.useContext(Ui);ct(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Jc(r||".",{relative:e})},l=ya();if(r==null){s.search=l.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(d=>d==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let d=u.toString();s.search=d?`?${d}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:zi([t,s.pathname])),Fi(s)}function G8(r,{relative:e}={}){let t=fe.useContext(cb);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=p_("useViewTransitionState"),i=Jc(r,{relative:e});if(!t.isTransitioning)return!1;let s=bn(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=bn(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Cd(i.pathname,l)!=null||Cd(i.pathname,s)!=null}var Q8=UO();function X8(r){return fe.createElement(u8,{flushSync:Q8.flushSync,...r})}const Y8=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K8=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),dA=r=>{const e=K8(r);return e.charAt(0).toUpperCase()+e.slice(1)},m_=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),Z8=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var J8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eL=fe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:l,...u},c)=>fe.createElement("svg",{ref:c,...J8,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:m_("lucide",i),...!s&&!Z8(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,d])=>fe.createElement(h,d)),...Array.isArray(s)?s:[s]]));const St=(r,e)=>{const t=fe.forwardRef(({className:n,...i},s)=>fe.createElement(eL,{ref:s,iconNode:e,className:m_(`lucide-${Y8(dA(r))}`,`lucide-${r}`,n),...i}));return t.displayName=dA(r),t};const tL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xp=St("arrow-left",tL);const rL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nL=St("book-open",rL);const iL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],g_=St("check",iL);const sL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pA=St("chevron-down",sL);const aL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lL=St("chevron-right",aL);const oL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mA=St("chevron-up",oL);const uL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fl=St("circle-alert",uL);const cL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lo=St("circle-check-big",cL);const fL=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],hL=St("clipboard-list",fL);const dL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pL=St("clock",dL);const mL=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],y_=St("code",mL);const gL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yL=St("copy",gL);const vL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],yb=St("file-down",vL);const bL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vb=St("file-text",bL);const xL=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],wp=St("folder-open",xL);const wL=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],SL=St("folder",wL);const kL=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],AL=St("grip-vertical",kL);const EL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],TL=St("house",EL);const CL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],OL=St("info",CL);const _L=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],RL=St("lightbulb",_L);const ML=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],NL=St("loader-circle",ML);const DL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],LL=St("moon",DL);const BL=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],zL=St("palette",BL);const jL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],PL=St("pencil",jL);const FL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sl=St("plus",FL);const IL=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],bb=St("printer",IL);const UL=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],v_=St("rectangle-ellipsis",UL);const HL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xb=St("refresh-cw",HL);const qL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wb=St("save",qL);const WL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VL=St("settings",WL);const $L=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],GL=St("sun",$L);const QL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],al=St("trash-2",QL);const XL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sb=St("x",XL);function kb(r,e){const t=new Blob([r],{type:"text/yaml;charset=utf-8"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=e.endsWith(".yaml")?e:`${e}.yaml`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}function Sp(){return new Promise(r=>{const e=document.createElement("input");e.type="file",e.accept=".yaml,.yml",e.onchange=async t=>{const n=t.target.files?.[0];if(!n){r(null);return}const i=await n.text();r({content:i,filename:n.name})},e.click()})}function Ab(r,e){const t=window.open("","_blank");if(!t){alert("");return}t.document.write(r),t.document.title=e,t.document.close(),setTimeout(()=>{t.print()},1500)}function Eb(r,e){const t=new Blob([r],{type:"text/html;charset=utf-8"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=e.endsWith(".html")?e:`${e}.html`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}const Tb="kyozai-recent-projects",YL=10;function _d(){try{const r=localStorage.getItem(Tb);return r?JSON.parse(r):[]}catch{return[]}}function hl(r){try{const t=_d().filter(i=>i.filename!==r.filename);t.unshift({...r,lastOpened:new Date().toISOString()});const n=t.slice(0,YL);localStorage.setItem(Tb,JSON.stringify(n))}catch{console.error("Failed to save recent project")}}function KL(r){try{const t=_d().filter(n=>n.filename!==r);localStorage.setItem(Tb,JSON.stringify(t))}catch{console.error("Failed to remove recent project")}}function ZL(r){switch(r){case"exam":return"";case"worksheet":return"";case"lesson-plan":return""}}const JL={exam:"",worksheet:"","lesson-plan":""},m0={exam:"1",worksheet:"","lesson-plan":""};function eB({isOpen:r,onClose:e,onConfirm:t,type:n}){const[i,s]=fe.useState(m0[n]);if(!r)return null;const l=()=>{const c=i.trim()||m0[n];t(c.endsWith(".yaml")?c:`${c}.yaml`),e()},u=c=>{c.key==="Enter"?l():c.key==="Escape"&&e()};return z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:z.jsxs("div",{className:"bg-[var(--color-surface)] rounded-2xl shadow-2xl w-[400px] overflow-hidden",children:[z.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--color-border)]",children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx(vb,{size:20,className:"text-[var(--color-primary)]"}),z.jsxs("h2",{className:"text-lg font-semibold",children:["",JL[n],""]})]}),z.jsx("button",{onClick:e,className:"p-1 rounded-lg hover:bg-[var(--color-surface-hover)] text-[var(--color-text-muted)]",children:z.jsx(Sb,{size:20})})]}),z.jsxs("div",{className:"p-6",children:[z.jsx("label",{className:"block text-sm text-[var(--color-text-muted)] mb-2",children:""}),z.jsx("input",{type:"text",value:i,onChange:c=>s(c.target.value),onKeyDown:u,autoFocus:!0,className:"w-full px-4 py-3 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-lg",placeholder:m0[n]}),z.jsx("p",{className:"mt-2 text-xs text-[var(--color-text-muted)]",children:"  .yaml "})]}),z.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-[var(--color-border)] bg-[var(--color-surface-hover)]",children:[z.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg hover:bg-[var(--color-border)] transition-colors",children:""}),z.jsx("button",{onClick:l,className:"px-6 py-2 rounded-lg bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary-dark)] transition-colors font-medium",children:""})]})]})})}const tB=[{to:"/",icon:TL,label:""},{to:"/exam",icon:vb,label:"",type:"exam"},{to:"/worksheet",icon:hL,label:"",type:"worksheet"},{to:"/lesson-plan",icon:nL,label:"",type:"lesson-plan"}];function rB(){const r=vp(),[e,t]=fe.useState(!1),[n,i]=fe.useState("exam"),s=async()=>{const c=await Sp();if(c){const h=c.content.toLowerCase();let d="exam";h.includes("")||h.includes("")||h.includes("")?d="exam":h.includes(":")&&!h.includes("")?d="worksheet":(h.includes(":")||h.includes("")||h.includes(""))&&(d="lesson-plan"),hl({filename:c.filename,type:d,lastOpened:new Date().toISOString()}),r(`/${d}`)}},l=c=>{i(c),t(!0)},u=c=>{r(`/${n}/new?filename=${encodeURIComponent(c)}`)};return z.jsxs(z.Fragment,{children:[z.jsxs("aside",{className:"w-56 bg-[var(--color-surface)] border-r border-[var(--color-border)] flex flex-col",children:[z.jsx("div",{className:"p-4 border-b border-[var(--color-border)]",children:z.jsx("h1",{className:"text-lg font-bold flex items-center gap-2",children:" "})}),z.jsxs("nav",{className:"flex-1 p-2 space-y-1",children:[tB.map(({to:c,icon:h,label:d,type:m})=>z.jsxs("div",{className:"flex items-center gap-1",children:[z.jsxs(Wv,{to:c,className:({isActive:g})=>`flex-1 flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 ${g?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)] hover:text-[var(--color-text)]"}`,children:[z.jsx(h,{size:20}),z.jsx("span",{children:d})]}),m&&z.jsx("button",{onClick:()=>l(m),className:"p-2 rounded-lg text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)] hover:text-[var(--color-primary)] transition-all",title:`${d}`,children:z.jsx(sl,{size:16})})]},c)),z.jsx("div",{className:"pt-4 mt-4 border-t border-[var(--color-border)]",children:z.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)] hover:text-[var(--color-text)] transition-all duration-200",children:[z.jsx(wp,{size:20}),z.jsx("span",{children:""})]})})]}),z.jsx("div",{className:"p-2 border-t border-[var(--color-border)]",children:z.jsxs(Wv,{to:"/settings",className:({isActive:c})=>`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 ${c?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)] hover:text-[var(--color-text)]"}`,children:[z.jsx(VL,{size:20}),z.jsx("span",{children:""})]})})]}),z.jsx(eB,{isOpen:e,onClose:()=>t(!1),onConfirm:u,type:n})]})}function nB(){return z.jsxs("div",{className:"flex h-screen overflow-hidden",children:[z.jsx(rB,{}),z.jsx("main",{className:"flex-1 overflow-auto bg-[var(--color-background)]",children:z.jsx(h8,{})})]})}const iB=[{to:"/exam/new",title:" ",subtitle:"",color:"from-blue-500 to-blue-600"},{to:"/worksheet/new",title:" ",subtitle:"",color:"from-emerald-500 to-emerald-600"},{to:"/lesson-plan/new",title:" ",subtitle:"",color:"from-purple-500 to-purple-600"}];function sB(){const[r,e]=fe.useState([]),t=vp();fe.useEffect(()=>{e(_d())},[]);const n=(l,u)=>{l.stopPropagation(),KL(u),e(_d())},i=l=>{t(`/${l.type}`)},s=l=>{const u=new Date(l),c=u.getMonth()+1,h=u.getDate(),d=u.getHours().toString().padStart(2,"0"),m=u.getMinutes().toString().padStart(2,"0");return`${c}/${h} ${d}:${m}`};return z.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[z.jsxs("div",{className:"mb-10",children:[z.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),z.jsx("p",{className:"text-[var(--color-text-muted)]",children:""})]}),z.jsxs("section",{className:"mb-12",children:[z.jsx("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:" "}),z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:iB.map(({to:l,title:u,subtitle:c,color:h})=>z.jsxs(vl,{to:l,className:"group relative overflow-hidden rounded-2xl bg-[var(--color-surface)] border border-[var(--color-border)] p-6 transition-all duration-300 hover:border-[var(--color-primary)] hover:shadow-lg hover:shadow-blue-500/10 hover:-translate-y-1",children:[z.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${h} opacity-0 group-hover:opacity-10 transition-opacity duration-300`}),z.jsxs("div",{className:"relative",children:[z.jsx("div",{className:"text-4xl mb-4",children:u.split(" ")[0]}),z.jsx("h3",{className:"text-lg font-semibold mb-1",children:u.split(" ")[1]}),z.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:c}),z.jsxs("div",{className:"mt-4 flex items-center text-[var(--color-primary)] opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[z.jsx("span",{className:"text-sm",children:""}),z.jsx(lL,{size:16,className:"ml-1"})]})]})]},l))})]}),z.jsxs("section",{children:[z.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[z.jsx(pL,{size:20}),""]}),z.jsx("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] overflow-hidden",children:r.length>0?z.jsx("ul",{className:"divide-y divide-[var(--color-border)]",children:r.map((l,u)=>z.jsx("li",{children:z.jsxs("div",{onClick:()=>i(l),className:"w-full flex items-center justify-between px-5 py-4 hover:bg-[var(--color-surface-hover)] transition-colors duration-200 cursor-pointer",children:[z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsx("span",{className:"text-2xl",children:ZL(l.type)}),z.jsx("div",{className:"text-left",children:z.jsx("p",{className:"font-medium",children:l.filename})})]}),z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsx("span",{className:"text-sm text-[var(--color-text-muted)]",children:s(l.lastOpened)}),z.jsx("button",{onClick:c=>n(c,l.filename),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400 transition-colors",children:z.jsx(al,{size:16})})]})]})},u))}):z.jsx("div",{className:"p-8 text-center text-[var(--color-text-muted)]",children:""})})]})]})}let Vv=[],b_=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?b_:Vv).push(t=t+r[e])})();function aB(r){if(r<768)return!1;for(let e=0,t=Vv.length;;){let n=e+t>>1;if(r<Vv[n])t=n;else if(r>=b_[n])e=n+1;else return!0;if(e==t)return!1}}function gA(r){return r>=127462&&r<=127487}const yA=8205;function lB(r,e,t=!0,n=!0){return(t?x_:oB)(r,e,n)}function x_(r,e,t){if(e==r.length)return e;e&&w_(r.charCodeAt(e))&&S_(r.charCodeAt(e-1))&&e--;let n=g0(r,e);for(e+=vA(n);e<r.length;){let i=g0(r,e);if(n==yA||i==yA||t&&aB(i))e+=vA(i),n=i;else if(gA(i)){let s=0,l=e-2;for(;l>=0&&gA(g0(r,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function oB(r,e,t){for(;e>0;){let n=x_(r,e-2,t);if(n<e)return n;e--}return 0}function g0(r,e){let t=r.charCodeAt(e);if(!S_(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return w_(n)?(t-55296<<10)+(n-56320)+65536:t}function w_(r){return r>=56320&&r<57344}function S_(r){return r>=55296&&r<56320}function vA(r){return r<65536?1:2}let Mt=class k_{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=Bo(this,e,t);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),Ri.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Bo(this,e,t);let n=[];return this.decompose(e,t,n,0),Ri.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new mc(this),s=new mc(e);for(let l=t,u=t;;){if(i.next(l),s.next(l),l=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(u+=i.value.length,i.done||u>=n)return!0}}iter(e=1){return new mc(this,e)}iterRange(e,t=this.length){return new A_(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new E_(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?k_.empty:e.length<=32?new cr(e):Ri.from(cr.split(e,[]))}};class cr extends Mt{constructor(e,t=uB(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let s=0;;s++){let l=this.text[s],u=i+l.length;if((t?n:u)>=e)return new cB(i,u,n,l);i=u+1,n++}}decompose(e,t,n,i){let s=e<=0&&t>=this.length?this:new cr(bA(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let l=n.pop(),u=gd(s.text,l.text.slice(),0,s.length);if(u.length<=32)n.push(new cr(u,l.length+s.length));else{let c=u.length>>1;n.push(new cr(u.slice(0,c)),new cr(u.slice(c)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof cr))return super.replace(e,t,n);[e,t]=Bo(this,e,t);let i=gd(this.text,gd(n.text,bA(this.text,0,e)),t),s=this.length+n.length-(t-e);return i.length<=32?new cr(i,s):Ri.from(cr.split(i,[]),s)}sliceString(e,t=this.length,n=`
`){[e,t]=Bo(this,e,t);let i="";for(let s=0,l=0;s<=t&&l<this.text.length;l++){let u=this.text[l],c=s+u.length;s>e&&l&&(i+=n),e<c&&t>s&&(i+=u.slice(Math.max(0,e-s),t-s)),s=c+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(let s of e)n.push(s),i+=s.length+1,n.length==32&&(t.push(new cr(n,i)),n=[],i=-1);return i>-1&&t.push(new cr(n,i)),t}}class Ri extends Mt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,i){for(let s=0;;s++){let l=this.children[s],u=i+l.length,c=n+l.lines-1;if((t?c:u)>=e)return l.lineInner(e,t,n,i);i=u+1,n=c+1}}decompose(e,t,n,i){for(let s=0,l=0;l<=t&&s<this.children.length;s++){let u=this.children[s],c=l+u.length;if(e<=c&&t>=l){let h=i&((l<=e?1:0)|(c>=t?2:0));l>=e&&c<=t&&!h?n.push(u):u.decompose(e-l,t-l,n,h)}l=c+1}}replace(e,t,n){if([e,t]=Bo(this,e,t),n.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let l=this.children[i],u=s+l.length;if(e>=s&&t<=u){let c=l.replace(e-s,t-s,n),h=this.lines-l.lines+c.lines;if(c.lines<h>>4&&c.lines>h>>6){let d=this.children.slice();return d[i]=c,new Ri(d,this.length-(t-e)+n.length)}return super.replace(s,u,c)}s=u+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=Bo(this,e,t);let i="";for(let s=0,l=0;s<this.children.length&&l<=t;s++){let u=this.children[s],c=l+u.length;l>e&&s&&(i+=n),e<c&&t>l&&(i+=u.sliceString(e-l,t-l,n)),l=c+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Ri))return 0;let n=0,[i,s,l,u]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==l||s==u)return n;let c=this.children[i],h=e.children[s];if(c!=h)return n+c.scanIdentical(h,t);n+=c.length+1}}static from(e,t=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let y of e)n+=y.lines;if(n<32){let y=[];for(let b of e)b.flatten(y);return new cr(y,t)}let i=Math.max(32,n>>5),s=i<<1,l=i>>1,u=[],c=0,h=-1,d=[];function m(y){let b;if(y.lines>s&&y instanceof Ri)for(let w of y.children)m(w);else y.lines>l&&(c>l||!c)?(g(),u.push(y)):y instanceof cr&&c&&(b=d[d.length-1])instanceof cr&&y.lines+b.lines<=32?(c+=y.lines,h+=y.length+1,d[d.length-1]=new cr(b.text.concat(y.text),b.length+1+y.length)):(c+y.lines>i&&g(),c+=y.lines,h+=y.length+1,d.push(y))}function g(){c!=0&&(u.push(d.length==1?d[0]:Ri.from(d,h)),h=-1,c=d.length=0)}for(let y of e)m(y);return g(),u.length==1?u[0]:new Ri(u,t)}}Mt.empty=new cr([""],0);function uB(r){let e=-1;for(let t of r)e+=t.length+1;return e}function gd(r,e,t=0,n=1e9){for(let i=0,s=0,l=!0;s<r.length&&i<=n;s++){let u=r[s],c=i+u.length;c>=t&&(c>n&&(u=u.slice(0,n-i)),i<t&&(u=u.slice(t-i)),l?(e[e.length-1]+=u,l=!1):e.push(u)),i=c+1}return e}function bA(r,e,t){return gd(r,[""],e,t)}class mc{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof cr?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],l=s>>1,u=i instanceof cr?i.text.length:i.children.length;if(l==(t>0?u:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof cr){let c=i.text[l+(t<0?-1:0)];if(this.offsets[n]+=t,c.length>Math.max(0,e))return this.value=e==0?c:t>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=i.children[l+(t<0?-1:0)];e>c.length?(e-=c.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(c),this.offsets.push(t>0?1:(c instanceof cr?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class A_{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new mc(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class E_{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Mt.prototype[Symbol.iterator]=function(){return this.iter()},mc.prototype[Symbol.iterator]=A_.prototype[Symbol.iterator]=E_.prototype[Symbol.iterator]=function(){return this});class cB{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}function Bo(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function Sr(r,e,t=!0,n=!0){return lB(r,e,t,n)}function fB(r){return r>=56320&&r<57344}function hB(r){return r>=55296&&r<56320}function dn(r,e){let t=r.charCodeAt(e);if(!hB(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return fB(n)?(t-55296<<10)+(n-56320)+65536:t}function Cb(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function Mi(r){return r<65536?1:2}const $v=/\r\n?|\n/;var Kr=(function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r})(Kr||(Kr={}));class ji{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let s=this.sections[t++],l=this.sections[t++];l<0?(e(n,i,s),i+=s):i+=l,n+=s}}iterChangedRanges(e,t=!1){Gv(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new ji(e)}composeDesc(e){return this.empty?e:e.empty?this:T_(this,e)}mapDesc(e,t=!1){return e.empty?this:Qv(this,e,t)}mapPos(e,t=-1,n=Kr.Simple){let i=0,s=0;for(let l=0;l<this.sections.length;){let u=this.sections[l++],c=this.sections[l++],h=i+u;if(c<0){if(h>e)return s+(e-i);s+=u}else{if(n!=Kr.Simple&&h>=e&&(n==Kr.TrackDel&&i<e&&h>e||n==Kr.TrackBefore&&i<e||n==Kr.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!u)return e==i||t<0?s:s+c;s+=c}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let n=0,i=0;n<this.sections.length&&i<=t;){let s=this.sections[n++],l=this.sections[n++],u=i+s;if(l>=0&&i<=t&&u>=e)return i<e&&u>t?"cover":!0;i=u}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ji(e)}static create(e){return new ji(e)}}class xr extends ji{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Gv(this,(t,n,i,s,l)=>e=e.replace(i,i+(n-t),l),!1),e}mapDesc(e,t=!1){return Qv(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,s=0;i<t.length;i+=2){let l=t[i],u=t[i+1];if(u>=0){t[i]=u,t[i+1]=l;let c=i>>1;for(;n.length<c;)n.push(Mt.empty);n.push(l?e.slice(s,s+l):Mt.empty)}s+=l}return new xr(t,n)}compose(e){return this.empty?e:e.empty?this:T_(this,e,!0)}map(e,t=!1){return e.empty?this:Qv(this,e,t,!0)}iterChanges(e,t=!1){Gv(this,e,t)}get desc(){return ji.create(this.sections)}filter(e){let t=[],n=[],i=[],s=new Cc(this);e:for(let l=0,u=0;;){let c=l==e.length?1e9:e[l++];for(;u<c||u==c&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,c-u);Ur(i,d,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;Ur(t,d,m),m>0&&sa(n,t,s.text),s.forward(d),u+=d}let h=e[l++];for(;u<h;){if(s.done)break e;let d=Math.min(s.len,h-u);Ur(t,d,-1),Ur(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),u+=d}}return{changes:new xr(t,n),filtered:ji.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],s=[],l=0,u=null;function c(d=!1){if(!d&&!i.length)return;l<t&&Ur(i,t-l,-1);let m=new xr(i,s);u=u?u.compose(m.map(u)):m,i=[],s=[],l=0}function h(d){if(Array.isArray(d))for(let m of d)h(m);else if(d instanceof xr){if(d.length!=t)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${t})`);c(),u=u?u.compose(d.map(u)):d}else{let{from:m,to:g=m,insert:y}=d;if(m>g||m<0||g>t)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${t})`);let b=y?typeof y=="string"?Mt.of(y.split(n||$v)):y:Mt.empty,w=b.length;if(m==g&&w==0)return;m<l&&c(),m>l&&Ur(i,m-l,-1),Ur(i,g-m,w),sa(s,i,b),l=g}}return h(e),c(!u),u}static empty(e){return new xr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,u)=>u&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;n.length<i;)n.push(Mt.empty);n[i]=Mt.of(s.slice(1)),t.push(s[0],n[i].length)}}}return new xr(t,n)}static createSet(e,t){return new xr(e,t)}}function Ur(r,e,t,n=!1){if(e==0&&t<=0)return;let i=r.length-2;i>=0&&t<=0&&t==r[i+1]?r[i]+=e:i>=0&&e==0&&r[i]==0?r[i+1]+=t:n?(r[i]+=e,r[i+1]+=t):r.push(e,t)}function sa(r,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<n;)r.push(Mt.empty);r.push(t)}}function Gv(r,e,t){let n=r.inserted;for(let i=0,s=0,l=0;l<r.sections.length;){let u=r.sections[l++],c=r.sections[l++];if(c<0)i+=u,s+=u;else{let h=i,d=s,m=Mt.empty;for(;h+=u,d+=c,c&&n&&(m=m.append(n[l-2>>1])),!(t||l==r.sections.length||r.sections[l+1]<0);)u=r.sections[l++],c=r.sections[l++];e(i,h,s,d,m),i=h,s=d}}}function Qv(r,e,t,n=!1){let i=[],s=n?[]:null,l=new Cc(r),u=new Cc(e);for(let c=-1;;){if(l.done&&u.len||u.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&u.ins==-1){let h=Math.min(l.len,u.len);Ur(i,h,-1),l.forward(h),u.forward(h)}else if(u.ins>=0&&(l.ins<0||c==l.i||l.off==0&&(u.len<l.len||u.len==l.len&&!t))){let h=u.len;for(Ur(i,u.ins,-1);h;){let d=Math.min(l.len,h);l.ins>=0&&c<l.i&&l.len<=d&&(Ur(i,0,l.ins),s&&sa(s,i,l.text),c=l.i),l.forward(d),h-=d}u.next()}else if(l.ins>=0){let h=0,d=l.len;for(;d;)if(u.ins==-1){let m=Math.min(d,u.len);h+=m,d-=m,u.forward(m)}else if(u.ins==0&&u.len<d)d-=u.len,u.next();else break;Ur(i,h,c<l.i?l.ins:0),s&&c<l.i&&sa(s,i,l.text),c=l.i,l.forward(l.len-d)}else{if(l.done&&u.done)return s?xr.createSet(i,s):ji.create(i);throw new Error("Mismatched change set lengths")}}}function T_(r,e,t=!1){let n=[],i=t?[]:null,s=new Cc(r),l=new Cc(e);for(let u=!1;;){if(s.done&&l.done)return i?xr.createSet(n,i):ji.create(n);if(s.ins==0)Ur(n,s.len,0,u),s.next();else if(l.len==0&&!l.done)Ur(n,0,l.ins,u),i&&sa(i,n,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let c=Math.min(s.len2,l.len),h=n.length;if(s.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;Ur(n,c,d,u),i&&d&&sa(i,n,l.text)}else l.ins==-1?(Ur(n,s.off?0:s.len,c,u),i&&sa(i,n,s.textBit(c))):(Ur(n,s.off?0:s.len,l.off?0:l.ins,u),i&&!l.off&&sa(i,n,l.text));u=(s.ins>c||l.ins>=0&&l.len>c)&&(u||n.length>h),s.forward2(c),l.forward(c)}}}}class Cc{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Mt.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Mt.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Za{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new Za(n,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Ne.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Ne.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ne.range(e.anchor,e.head)}static create(e,t,n){return new Za(e,t,n)}}class Ne{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Ne.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ne([this.main],0)}addRange(e,t=!0){return Ne.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Ne.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ne(e.ranges.map(t=>Za.fromJSON(t)),e.main)}static single(e,t=e){return new Ne([Ne.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=n:s.from<n)return Ne.normalized(e.slice(),t);n=s.to}return new Ne(e,t)}static cursor(e,t=0,n,i){return Za.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,t,n,i){let s=(n??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?Za.create(t,e,48|s):Za.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let n=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(n);for(let i=1;i<e.length;i++){let s=e[i],l=e[i-1];if(s.empty?s.from<=l.to:s.from<l.to){let u=l.from,c=Math.max(s.to,l.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?Ne.range(c,u):Ne.range(u,c))}}return new Ne(e,t)}}function C_(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Ob=0;class We{constructor(e,t,n,i,s){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.id=Ob++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new We(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:_b),!!e.static,e.enables)}of(e){return new yd([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new yd(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new yd(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function _b(r,e){return r==e||r.length==e.length&&r.every((t,n)=>t===e[n])}class yd{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=Ob++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,s=this.id,l=e[s]>>1,u=this.type==2,c=!1,h=!1,d=[];for(let m of this.dependencies)m=="doc"?c=!0:m=="selection"?h=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[l]=n(m),1},update(m,g){if(c&&g.docChanged||h&&(g.docChanged||g.selection)||Xv(m,d)){let y=n(m);if(u?!xA(y,m.values[l],i):!i(y,m.values[l]))return m.values[l]=y,1}return 0},reconfigure:(m,g)=>{let y,b=g.config.address[s];if(b!=null){let w=Md(g,b);if(this.dependencies.every(E=>E instanceof We?g.facet(E)===m.facet(E):E instanceof Fr?g.field(E,!1)==m.field(E,!1):!0)||(u?xA(y=n(m),w,i):i(y=n(m),w)))return m.values[l]=w,0}else y=n(m);return m.values[l]=y,1}}}}function xA(r,e,t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!t(r[n],e[n]))return!1;return!0}function Xv(r,e){let t=!1;for(let n of e)gc(r,n)&1&&(t=!0);return t}function dB(r,e,t){let n=t.map(c=>r[c.id]),i=t.map(c=>c.type),s=n.filter(c=>!(c&1)),l=r[e.id]>>1;function u(c){let h=[];for(let d=0;d<n.length;d++){let m=Md(c,n[d]);if(i[d]==2)for(let g of m)h.push(g);else h.push(m)}return e.combine(h)}return{create(c){for(let h of n)gc(c,h);return c.values[l]=u(c),1},update(c,h){if(!Xv(c,s))return 0;let d=u(c);return e.compare(d,c.values[l])?0:(c.values[l]=d,1)},reconfigure(c,h){let d=Xv(c,n),m=h.config.facets[e.id],g=h.facet(e);if(m&&!d&&_b(t,m))return c.values[l]=g,0;let y=u(c);return e.compare(y,g)?(c.values[l]=g,0):(c.values[l]=y,1)}}}const _h=We.define({static:!0});class Fr{constructor(e,t,n,i,s){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Fr(Ob++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(_h).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,i)=>{let s=n.values[t],l=this.updateF(s,i);return this.compareF(s,l)?0:(n.values[t]=l,1)},reconfigure:(n,i)=>{let s=n.facet(_h),l=i.facet(_h),u;return(u=s.find(c=>c.field==this))&&u!=l.find(c=>c.field==this)?(n.values[t]=u.create(n),1):i.config.address[this.id]!=null?(n.values[t]=i.field(this),0):(n.values[t]=this.create(n),1)}}}init(e){return[this,_h.of({field:this,create:e})]}get extension(){return this}}const Qa={lowest:4,low:3,default:2,high:1,highest:0};function Xu(r){return e=>new O_(e,r)}const bl={highest:Xu(Qa.highest),high:Xu(Qa.high),default:Xu(Qa.default),low:Xu(Qa.low),lowest:Xu(Qa.lowest)};class O_{constructor(e,t){this.inner=e,this.prec=t}}class kp{of(e){return new Yv(this,e)}reconfigure(e){return kp.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Yv{constructor(e,t){this.compartment=e,this.inner=t}}class Rd{constructor(e,t,n,i,s,l){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let i=[],s=Object.create(null),l=new Map;for(let g of pB(e,t,l))g instanceof Fr?i.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let u=Object.create(null),c=[],h=[];for(let g of i)u[g.id]=h.length<<1,h.push(y=>g.slot(y));let d=n?.config.facets;for(let g in s){let y=s[g],b=y[0].facet,w=d&&d[g]||[];if(y.every(E=>E.type==0))if(u[b.id]=c.length<<1|1,_b(w,y))c.push(n.facet(b));else{let E=b.combine(y.map(x=>x.value));c.push(n&&b.compare(E,n.facet(b))?n.facet(b):E)}else{for(let E of y)E.type==0?(u[E.id]=c.length<<1|1,c.push(E.value)):(u[E.id]=h.length<<1,h.push(x=>E.dynamicSlot(x)));u[b.id]=h.length<<1,h.push(E=>dB(E,b,y))}}let m=h.map(g=>g(u));return new Rd(e,l,m,u,c,s)}}function pB(r,e,t){let n=[[],[],[],[],[]],i=new Map;function s(l,u){let c=i.get(l);if(c!=null){if(c<=u)return;let h=n[c].indexOf(l);h>-1&&n[c].splice(h,1),l instanceof Yv&&t.delete(l.compartment)}if(i.set(l,u),Array.isArray(l))for(let h of l)s(h,u);else if(l instanceof Yv){if(t.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(l.compartment)||l.inner;t.set(l.compartment,h),s(h,u)}else if(l instanceof O_)s(l.inner,l.prec);else if(l instanceof Fr)n[u].push(l),l.provides&&s(l.provides,u);else if(l instanceof yd)n[u].push(l),l.facet.extensions&&s(l.facet.extensions,Qa.default);else{let h=l.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,u)}}return s(r,Qa.default),n.reduce((l,u)=>l.concat(u))}function gc(r,e){if(e&1)return 2;let t=e>>1,n=r.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;r.status[t]=4;let i=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|i}function Md(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const __=We.define(),Kv=We.define({combine:r=>r.some(e=>e),static:!0}),R_=We.define({combine:r=>r.length?r[0]:void 0,static:!0}),M_=We.define(),N_=We.define(),D_=We.define(),L_=We.define({combine:r=>r.length?r[0]:!1});class As{constructor(e,t){this.type=e,this.value=t}static define(){return new mB}}class mB{of(e){return new As(this,e)}}class gB{constructor(e){this.map=e}of(e){return new ot(this,e)}}class ot{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new ot(this.type,t)}is(e){return this.type==e}static define(e={}){return new gB(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let i of e){let s=i.map(t);s&&n.push(s)}return n}}ot.reconfigure=ot.define();ot.appendConfig=ot.define();class kr{constructor(e,t,n,i,s,l){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,n&&C_(n,t.newLength),s.some(u=>u.type==kr.time)||(this.annotations=s.concat(kr.time.of(Date.now())))}static create(e,t,n,i,s,l){return new kr(e,t,n,i,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(kr.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}kr.time=As.define();kr.userEvent=As.define();kr.addToHistory=As.define();kr.remote=As.define();function yB(r,e){let t=[];for(let n=0,i=0;;){let s,l;if(n<r.length&&(i==e.length||e[i]>=r[n]))s=r[n++],l=r[n++];else if(i<e.length)s=e[i++],l=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,l):t[t.length-1]<l&&(t[t.length-1]=l)}}function B_(r,e,t){var n;let i,s,l;return t?(i=e.changes,s=xr.empty(e.changes.length),l=r.changes.compose(e.changes)):(i=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),l=r.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(s):(n=r.selection)===null||n===void 0?void 0:n.map(i),effects:ot.mapEffects(r.effects,i).concat(ot.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function Zv(r,e,t){let n=e.selection,i=Eo(e.annotations);return e.userEvent&&(i=i.concat(kr.userEvent.of(e.userEvent))),{changes:e.changes instanceof xr?e.changes:xr.of(e.changes||[],t,r.facet(R_)),selection:n&&(n instanceof Ne?n:Ne.single(n.anchor,n.head)),effects:Eo(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function z_(r,e,t){let n=Zv(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let l=!!e[s].sequential;n=B_(n,Zv(r,e[s],l?n.changes.newLength:r.doc.length),l)}let i=kr.create(r,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return bB(t?vB(i):i)}function vB(r){let e=r.startState,t=!0;for(let i of e.facet(M_)){let s=i(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:yB(t,s))}if(t!==!0){let i,s;if(t===!1)s=r.changes.invertedDesc,i=xr.empty(e.doc.length);else{let l=r.changes.filter(t);i=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}r=kr.create(e,i,r.selection&&r.selection.map(s),ot.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let n=e.facet(N_);for(let i=n.length-1;i>=0;i--){let s=n[i](r);s instanceof kr?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof kr?r=s[0]:r=z_(e,Eo(s),!1)}return r}function bB(r){let e=r.startState,t=e.facet(D_),n=r;for(let i=t.length-1;i>=0;i--){let s=t[i](r);s&&Object.keys(s).length&&(n=B_(n,Zv(e,s,r.changes.newLength),!0))}return n==r?r:kr.create(e,r.changes,r.selection,n.effects,n.annotations,n.scrollIntoView)}const xB=[];function Eo(r){return r==null?xB:Array.isArray(r)?r:[r]}var tr=(function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r})(tr||(tr={}));const wB=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Jv;try{Jv=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function SB(r){if(Jv)return Jv.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||wB.test(t)))return!0}return!1}function kB(r){return e=>{if(!/\S/.test(e))return tr.Space;if(SB(e))return tr.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return tr.Word;return tr.Other}}class wt{constructor(e,t,n,i,s,l){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)gc(this,u<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return gc(this,n),Md(this,n)}update(...e){return z_(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:i}=t;for(let u of e.effects)u.is(kp.reconfigure)?(t&&(i=new Map,t.compartments.forEach((c,h)=>i.set(h,c)),t=null),i.set(u.value.compartment,u.value.extension)):u.is(ot.reconfigure)?(t=null,n=u.value):u.is(ot.appendConfig)&&(t=null,n=Eo(n).concat(u.value));let s;t?s=e.startState.values.slice():(t=Rd.resolve(n,i,this),s=new wt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(c,h)=>h.reconfigure(c,this),null).values);let l=e.startState.facet(Kv)?e.newSelection:e.newSelection.asSingle();new wt(t,e.newDoc,l,s,(u,c)=>c.update(u,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Ne.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),s=[n.range],l=Eo(n.effects);for(let u=1;u<t.ranges.length;u++){let c=e(t.ranges[u]),h=this.changes(c.changes),d=h.map(i);for(let g=0;g<u;g++)s[g]=s[g].map(d);let m=i.mapDesc(h,!0);s.push(c.range.map(m)),i=i.compose(d),l=ot.mapEffects(l,d).concat(ot.mapEffects(Eo(c.effects),m))}return{changes:i,selection:Ne.create(s,t.mainIndex),effects:l}}changes(e=[]){return e instanceof xr?e:xr.of(e,this.doc.length,this.facet(wt.lineSeparator))}toText(e){return Mt.of(e.split(this.facet(wt.lineSeparator)||$v))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(gc(this,t),Md(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof Fr&&this.config.address[i.id]!=null&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let l=n[s],u=e[s];i.push(l.init(c=>l.spec.fromJSON(u,c)))}}return wt.create({doc:e.doc,selection:Ne.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Rd.resolve(e.extensions||[],new Map),n=e.doc instanceof Mt?e.doc:Mt.of((e.doc||"").split(t.staticFacet(wt.lineSeparator)||$v)),i=e.selection?e.selection instanceof Ne?e.selection:Ne.single(e.selection.anchor,e.selection.head):Ne.single(0);return C_(i,n.length),t.staticFacet(Kv)||(i=i.asSingle()),new wt(t,n,i,t.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(wt.tabSize)}get lineBreak(){return this.facet(wt.lineSeparator)||`
`}get readOnly(){return this.facet(L_)}phrase(e,...t){for(let n of this.facet(wt.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?n:t[s-1]})),e}languageDataAt(e,t,n=-1){let i=[];for(let s of this.facet(__))for(let l of s(this,t,n))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){return kB(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-n,u=e-n;for(;l>0;){let c=Sr(t,l,!1);if(s(t.slice(c,l))!=tr.Word)break;l=c}for(;u<i;){let c=Sr(t,u);if(s(t.slice(u,c))!=tr.Word)break;u=c}return l==u?null:Ne.range(l+n,u+n)}}wt.allowMultipleSelections=Kv;wt.tabSize=We.define({combine:r=>r.length?r[0]:4});wt.lineSeparator=R_;wt.readOnly=L_;wt.phrases=We.define({compare(r,e){let t=Object.keys(r),n=Object.keys(e);return t.length==n.length&&t.every(i=>r[i]==e[i])}});wt.languageData=__;wt.changeFilter=M_;wt.transactionFilter=N_;wt.transactionExtender=D_;kp.reconfigure=ot.define();function Hi(r,e,t={}){let n={};for(let i of r)for(let s of Object.keys(i)){let l=i[s],u=n[s];if(u===void 0)n[s]=l;else if(!(u===l||l===void 0))if(Object.hasOwnProperty.call(t,s))n[s]=t[s](u,l);else throw new Error("Config merge conflict for field "+s)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class ca{eq(e){return this==e}range(e,t=e){return e1.create(e,t,this)}}ca.prototype.startSide=ca.prototype.endSide=0;ca.prototype.point=!1;ca.prototype.mapMode=Kr.TrackDel;let e1=class j_{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new j_(e,t,n)}};function t1(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class Rb{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,i=0){let s=n?this.to:this.from;for(let l=i,u=s.length;;){if(l==u)return l;let c=l+u>>1,h=s[c]-e||(n?this.value[c].endSide:this.value[c].startSide)-t;if(c==l)return h>=0?l:u;h>=0?u=c:l=c+1}}between(e,t,n,i){for(let s=this.findIndex(t,-1e9,!0),l=this.findIndex(n,1e9,!1,s);s<l;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let n=[],i=[],s=[],l=-1,u=-1;for(let c=0;c<this.value.length;c++){let h=this.value[c],d=this.from[c]+e,m=this.to[c]+e,g,y;if(d==m){let b=t.mapPos(d,h.startSide,h.mapMode);if(b==null||(g=y=b,h.startSide!=h.endSide&&(y=t.mapPos(d,h.endSide),y<g)))continue}else if(g=t.mapPos(d,h.startSide),y=t.mapPos(m,h.endSide),g>y||g==y&&h.startSide>0&&h.endSide<=0)continue;(y-g||h.endSide-h.startSide)<0||(l<0&&(l=g),h.point&&(u=Math.max(u,y-g)),n.push(h),i.push(g-l),s.push(y-l))}return{mapped:n.length?new Rb(i,s,n,u):null,pos:l}}}class yt{constructor(e,t,n,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}static create(e,t,n,i){return new yt(e,t,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:s=this.length}=e,l=e.filter;if(t.length==0&&!l)return this;if(n&&(t=t.slice().sort(t1)),this.isEmpty)return t.length?yt.of(t):this;let u=new P_(this,null,-1).goto(0),c=0,h=[],d=new vs;for(;u.value||c<t.length;)if(c<t.length&&(u.from-t[c].from||u.startSide-t[c].value.startSide)>=0){let m=t[c++];d.addInner(m.from,m.to,m.value)||h.push(m)}else u.rangeIndex==1&&u.chunkIndex<this.chunk.length&&(c==t.length||this.chunkEnd(u.chunkIndex)<t[c].from)&&(!l||i>this.chunkEnd(u.chunkIndex)||s<this.chunkPos[u.chunkIndex])&&d.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!l||i>u.to||s<u.from||l(u.from,u.to,u.value))&&(d.addInner(u.from,u.to,u.value)||h.push(e1.create(u.from,u.to,u.value))),u.next());return d.finishInner(this.nextLayer.isEmpty&&!h.length?yt.empty:this.nextLayer.update({add:h,filter:l,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],i=-1;for(let l=0;l<this.chunk.length;l++){let u=this.chunkPos[l],c=this.chunk[l],h=e.touchesRange(u,u+c.length);if(h===!1)i=Math.max(i,c.maxPoint),t.push(c),n.push(e.mapPos(u));else if(h===!0){let{mapped:d,pos:m}=c.map(u,e);d&&(i=Math.max(i,d.maxPoint),t.push(d),n.push(m))}}let s=this.nextLayer.map(e);return t.length==0?s:new yt(n,t,s||yt.empty,i)}between(e,t,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],l=this.chunk[i];if(t>=s&&e<=s+l.length&&l.between(s,e-s,t-s,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return Oc.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Oc.from(e).goto(t)}static compare(e,t,n,i,s=-1){let l=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),u=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),c=wA(l,u,n),h=new Yu(l,c,s),d=new Yu(u,c,s);n.iterGaps((m,g,y)=>SA(h,m,d,g,y,i)),n.empty&&n.length==0&&SA(h,0,d,0,0,i)}static eq(e,t,n=0,i){i==null&&(i=999999999);let s=e.filter(d=>!d.isEmpty&&t.indexOf(d)<0),l=t.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let u=wA(s,l),c=new Yu(s,u,0).goto(n),h=new Yu(l,u,0).goto(n);for(;;){if(c.to!=h.to||!r1(c.active,h.active)||c.point&&(!h.point||!c.point.eq(h.point)))return!1;if(c.to>i)return!0;c.next(),h.next()}}static spans(e,t,n,i,s=-1){let l=new Yu(e,null,s).goto(t),u=t,c=l.openStart;for(;;){let h=Math.min(l.to,n);if(l.point){let d=l.activeForPoint(l.to),m=l.pointFrom<t?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,c);i.point(u,h,l.point,d,m,l.pointRank),c=Math.min(l.openEnd(h),d.length)}else h>u&&(i.span(u,h,l.active,c),c=l.openEnd(h));if(l.to>n)return c+(l.point&&l.to>n?1:0);u=l.to,l.next()}}static of(e,t=!1){let n=new vs;for(let i of e instanceof e1?[e]:t?AB(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return yt.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=yt.empty;i=i.nextLayer)t=new yt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}yt.empty=new yt([],[],null,-1);function AB(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let n=r[t];if(t1(e,n)>0)return r.slice().sort(t1);e=n}return r}yt.empty.nextLayer=yt.empty;class vs{finishChunk(e){this.chunks.push(new Rb(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new vs)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(yt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=yt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function wA(r,e,t){let n=new Map;for(let s of r)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&n.set(s.chunk[l],s.chunkPos[l]);let i=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let u=n.get(s.chunk[l]);u!=null&&(t?t.mapPos(u):u)==s.chunkPos[l]&&!t?.touchesRange(u,u+s.chunk[l].length)&&i.add(s.chunk[l])}return i}class P_{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Oc{constructor(e){this.heap=e}static from(e,t=null,n=-1){let i=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=n&&i.push(new P_(l,t,n,s));return i.length==1?i[0]:new Oc(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)y0(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)y0(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),y0(this.heap,0)}}}function y0(r,e){for(let t=r[e];;){let n=(e<<1)+1;if(n>=r.length)break;let i=r[n];if(n+1<r.length&&i.compare(r[n+1])>=0&&(i=r[n+1],n++),t.compare(i)<0)break;r[n]=t,r[e]=i,e=n}}class Yu{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Oc.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Rh(this.active,e),Rh(this.activeTo,e),Rh(this.activeRank,e),this.minActive=kA(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Mh(this.active,t,n),Mh(this.activeTo,t,i),Mh(this.activeRank,t,s),e&&Mh(e,t,this.cursor.from),this.minActive=kA(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Rh(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function SA(r,e,t,n,i,s){r.goto(e),t.goto(n);let l=n+i,u=n,c=n-e;for(;;){let h=r.to+c-t.to,d=h||r.endSide-t.endSide,m=d<0?r.to+c:t.to,g=Math.min(m,l);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&r1(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(u,g,r.point,t.point):g>u&&!r1(r.active,t.active)&&s.compareRange(u,g,r.active,t.active),m>l)break;(h||r.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(m),u=m,d<=0&&r.next(),d>=0&&t.next()}}function r1(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function Rh(r,e){for(let t=e,n=r.length-1;t<n;t++)r[t]=r[t+1];r.pop()}function Mh(r,e,t){for(let n=r.length-1;n>=e;n--)r[n+1]=r[n];r[e]=t}function kA(r,e){let t=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||r[i].endSide-r[t].endSide)<0&&(t=i,n=e[i]);return t}function Ko(r,e,t=r.length){let n=0;for(let i=0;i<t&&i<r.length;)r.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=Sr(r,i));return n}function n1(r,e,t,n){for(let i=0,s=0;;){if(s>=e)return i;if(i==r.length)break;s+=r.charCodeAt(i)==9?t-s%t:1,i=Sr(r,i)}return n===!0?-1:r.length}const i1="",AA=typeof Symbol>"u"?"__"+i1:Symbol.for(i1),s1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),EA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class fa{constructor(e,t){this.rules=[];let{finish:n}=t||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,u,c,h){let d=[],m=/^@(\w+)\b/.exec(l[0]),g=m&&m[1]=="keyframes";if(m&&u==null)return c.push(l[0]+";");for(let y in u){let b=u[y];if(/&/.test(y))s(y.split(/,\s*/).map(w=>l.map(E=>w.replace(/&/,E))).reduce((w,E)=>w.concat(E)),b,c);else if(b&&typeof b=="object"){if(!m)throw new RangeError("The value of a property ("+y+") should be a primitive value.");s(i(y),b,d,g)}else b!=null&&d.push(y.replace(/_.*/,"").replace(/[A-Z]/g,w=>"-"+w.toLowerCase())+": "+b+";")}(d.length||g)&&c.push((n&&!m&&!h?l.map(n):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)s(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=EA[AA]||1;return EA[AA]=e+1,i1+e.toString(36)}static mount(e,t,n){let i=e[s1],s=n&&n.nonce;i?s&&i.setNonce(s):i=new EB(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let TA=new Map;class EB{constructor(e,t){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=TA.get(n);if(s)return e[s1]=s;this.sheet=new i.CSSStyleSheet,TA.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[s1]=this}mount(e,t){let n=this.sheet,i=0,s=0;for(let l=0;l<e.length;l++){let u=e[l],c=this.modules.indexOf(u);if(c<s&&c>-1&&(this.modules.splice(c,1),s--,c=-1),c==-1){if(this.modules.splice(s++,0,u),n)for(let h=0;h<u.rules.length;h++)n.insertRule(u.rules[h],i++)}else{for(;s<c;)i+=this.modules[s++].rules.length;i+=u.rules.length,s++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let l="";for(let c=0;c<this.modules.length;c++)l+=this.modules[c].getRules()+`
`;this.styleTag.textContent=l;let u=t.head||t;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ha={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_c={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},TB=typeof navigator<"u"&&/Mac/.test(navigator.platform),CB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Br=0;Br<10;Br++)ha[48+Br]=ha[96+Br]=String(Br);for(var Br=1;Br<=24;Br++)ha[Br+111]="F"+Br;for(var Br=65;Br<=90;Br++)ha[Br]=String.fromCharCode(Br+32),_c[Br]=String.fromCharCode(Br);for(var v0 in ha)_c.hasOwnProperty(v0)||(_c[v0]=ha[v0]);function OB(r){var e=TB&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||CB&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?_c:ha)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function $t(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];typeof i=="string"?r.setAttribute(n,i):i!=null&&(r[n]=i)}e++}for(;e<arguments.length;e++)F_(r,arguments[e]);return r}function F_(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)F_(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Yr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},a1=typeof document<"u"?document:{documentElement:{style:{}}};const l1=/Edge\/(\d+)/.exec(Yr.userAgent),I_=/MSIE \d/.test(Yr.userAgent),o1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Yr.userAgent),Ap=!!(I_||o1||l1),CA=!Ap&&/gecko\/(\d+)/i.test(Yr.userAgent),b0=!Ap&&/Chrome\/(\d+)/.exec(Yr.userAgent),_B="webkitFontSmoothing"in a1.documentElement.style,u1=!Ap&&/Apple Computer/.test(Yr.vendor),OA=u1&&(/Mobile\/\w+/.test(Yr.userAgent)||Yr.maxTouchPoints>2);var qe={mac:OA||/Mac/.test(Yr.platform),windows:/Win/.test(Yr.platform),linux:/Linux|X11/.test(Yr.platform),ie:Ap,ie_version:I_?a1.documentMode||6:o1?+o1[1]:l1?+l1[1]:0,gecko:CA,gecko_version:CA?+(/Firefox\/(\d+)/.exec(Yr.userAgent)||[0,0])[1]:0,chrome:!!b0,chrome_version:b0?+b0[1]:0,ios:OA,android:/Android\b/.test(Yr.userAgent),webkit_version:_B?+(/\bAppleWebKit\/(\d+)/.exec(Yr.userAgent)||[0,0])[1]:0,safari:u1,safari_version:u1?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Yr.userAgent)||[0,0])[1]:0,tabSize:a1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Mb(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const Nd=Object.create(null);function Nb(r,e,t){if(r==e)return!0;r||(r=Nd),e||(e=Nd);let n=Object.keys(r),i=Object.keys(e);if(n.length-0!=i.length-0)return!1;for(let s of n)if(s!=t&&(i.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function RB(r,e){for(let t=r.attributes.length-1;t>=0;t--){let n=r.attributes[t].name;e[n]==null&&r.removeAttribute(n)}for(let t in e){let n=e[t];t=="style"?r.style.cssText=n:r.getAttribute(t)!=n&&r.setAttribute(t,n)}}function _A(r,e,t){let n=!1;if(e)for(let i in e)t&&i in t||(n=!0,i=="style"?r.style.cssText="":r.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(n=!0,i=="style"?r.style.cssText=t[i]:r.setAttribute(i,t[i]));return n}function MB(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let n=r.attributes[t];e[n.name]=n.value}return e}class Es{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var jr=(function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r})(jr||(jr={}));class it extends ca{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new ef(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new dl(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:s,end:l}=U_(e,t);n=(s?t?-3e8:-1:5e8)-1,i=(l?t?2e8:1:-6e8)+1}return new dl(e,n,i,t,e.widget||null,!0)}static line(e){return new tf(e)}static set(e,t=!1){return yt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}it.none=yt.empty;class ef extends it{constructor(e){let{start:t,end:n}=U_(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?Mb(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Nd}eq(e){return this==e||e instanceof ef&&this.tagName==e.tagName&&Nb(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}ef.prototype.point=!1;class tf extends it{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof tf&&this.spec.class==e.spec.class&&Nb(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}tf.prototype.mapMode=Kr.TrackBefore;tf.prototype.point=!0;class dl extends it{constructor(e,t,n,i,s,l){super(t,n,s,e),this.block=i,this.isReplace=l,this.mapMode=i?t<=0?Kr.TrackBefore:Kr.TrackAfter:Kr.TrackDel}get type(){return this.startSide!=this.endSide?jr.WidgetRange:this.startSide<=0?jr.WidgetBefore:jr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof dl&&NB(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}dl.prototype.point=!0;function U_(r,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=r;return t==null&&(t=r.inclusive),n==null&&(n=r.inclusive),{start:t??e,end:n??e}}function NB(r,e){return r==e||!!(r&&e&&r.compare(e))}function To(r,e,t,n=0){let i=t.length-1;i>=0&&t[i]+n>=r?t[i]=Math.max(t[i],e):t.push(r,e)}class Rc extends ca{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(e){return e==this||e instanceof Rc&&this.tagName==e.tagName&&Nb(this.attributes,e.attributes)}static create(e){return new Rc(e.tagName,e.attributes||Nd)}static set(e,t=!1){return yt.of(e,t)}}Rc.prototype.startSide=Rc.prototype.endSide=-1;function Mc(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function c1(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function vd(r,e){if(!e.anchorNode)return!1;try{return c1(r,e.anchorNode)}catch{return!1}}function bd(r){return r.nodeType==3?Nc(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function yc(r,e,t,n){return t?RA(r,e,t,n,-1)||RA(r,e,t,n,1):!1}function da(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function Dd(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function RA(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:bs(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=da(r)+(i<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=i<0?bs(r):0}else return!1}}function bs(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Ld(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function DB(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function H_(r,e){let t=e.width/r.offsetWidth,n=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-r.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function LB(r,e,t,n,i,s,l,u){let c=r.ownerDocument,h=c.defaultView||window;for(let d=r,m=!1;d&&!m;)if(d.nodeType==1){let g,y=d==c.body,b=1,w=1;if(y)g=DB(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let k=d.getBoundingClientRect();({scaleX:b,scaleY:w}=H_(d,k)),g={left:k.left,right:k.left+d.clientWidth*b,top:k.top,bottom:k.top+d.clientHeight*w}}let E=0,x=0;if(i=="nearest")e.top<g.top?(x=e.top-(g.top+l),t>0&&e.bottom>g.bottom+x&&(x=e.bottom-g.bottom+l)):e.bottom>g.bottom&&(x=e.bottom-g.bottom+l,t<0&&e.top-x<g.top&&(x=e.top-(g.top+l)));else{let k=e.bottom-e.top,O=g.bottom-g.top;x=(i=="center"&&k<=O?e.top+k/2-O/2:i=="start"||i=="center"&&t<0?e.top-l:e.bottom-O+l)-g.top}if(n=="nearest"?e.left<g.left?(E=e.left-(g.left+s),t>0&&e.right>g.right+E&&(E=e.right-g.right+s)):e.right>g.right&&(E=e.right-g.right+s,t<0&&e.left<g.left+E&&(E=e.left-(g.left+s))):E=(n=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:n=="start"==u?e.left-s:e.right-(g.right-g.left)+s)-g.left,E||x)if(y)h.scrollBy(E,x);else{let k=0,O=0;if(x){let T=d.scrollTop;d.scrollTop+=x/w,O=(d.scrollTop-T)*w}if(E){let T=d.scrollLeft;d.scrollLeft+=E/b,k=(d.scrollLeft-T)*b}e={left:e.left-k,top:e.top-O,right:e.right-k,bottom:e.bottom-O},k&&Math.abs(k-E)<1&&(n="nearest"),O&&Math.abs(O-x)<1&&(i="nearest")}if(y)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function BB(r){let e=r.ownerDocument,t,n;for(let i=r.parentNode;i&&!(i==e.body||t&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:n}}class zB{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?bs(t):0),n,Math.min(e.focusOffset,n?bs(n):0))}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let Ga=null;qe.safari&&qe.safari_version>=26&&(Ga=!1);function q_(r){if(r.setActive)return r.setActive();if(Ga)return r.focus(Ga);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(Ga==null?{get preventScroll(){return Ga={preventScroll:!0},!0}}:void 0),!Ga){Ga=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],s=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let MA;function Nc(r,e,t=e){let n=MA||(MA=document.createRange());return n.setEnd(r,t),n.setStart(r,e),n}function Co(r,e,t,n){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,r.dispatchEvent(s);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,r.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function jB(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function PB(r,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,bs(t));;)if(n){if(t.nodeType!=1)return!1;let i=t.childNodes[n-1];i.contentEditable=="false"?n--:(t=i,n=bs(t))}else{if(t==r)return!0;n=da(t),t=t.parentNode}}function W_(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function V_(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=bs(t)}else if(t.parentNode&&!Dd(t))n=da(t),t=t.parentNode;else return null}}function $_(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!Dd(t))n=da(t)+1,t=t.parentNode;else return null}}class fi{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new fi(e.parentNode,da(e),t)}static after(e,t){return new fi(e.parentNode,da(e)+1,t)}}var Qt=(function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r})(Qt||(Qt={}));const pl=Qt.LTR,Db=Qt.RTL;function G_(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const FB=G_("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),IB=G_("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),f1=Object.create(null),Si=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);f1[e]=t,f1[t]=-e}function Q_(r){return r<=247?FB[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?IB[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const UB=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ms{get dir(){return this.level%2?Db:pl}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,i){let s=-1;for(let l=0;l<e.length;l++){let u=e[l];if(u.from<=t&&u.to>=t){if(u.level==n)return l;(s<0||(i!=0?i<0?u.from<t:u.to>t:e[s].level>u.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}function X_(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let n=r[t],i=e[t];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!X_(n.inner,i.inner))return!1}return!0}const Gt=[];function HB(r,e,t,n,i){for(let s=0;s<=n.length;s++){let l=s?n[s-1].to:e,u=s<n.length?n[s].from:t,c=s?256:i;for(let h=l,d=c,m=c;h<u;h++){let g=Q_(r.charCodeAt(h));g==512?g=d:g==8&&m==4&&(g=16),Gt[h]=g==4?2:g,g&7&&(m=g),d=g}for(let h=l,d=c,m=c;h<u;h++){let g=Gt[h];if(g==128)h<u-1&&d==Gt[h+1]&&d&24?g=Gt[h]=d:Gt[h]=256;else if(g==64){let y=h+1;for(;y<u&&Gt[y]==64;)y++;let b=h&&d==8||y<t&&Gt[y]==8?m==1?1:8:256;for(let w=h;w<y;w++)Gt[w]=b;h=y-1}else g==8&&m==1&&(Gt[h]=1);d=g,g&7&&(m=g)}}}function qB(r,e,t,n,i){let s=i==1?2:1;for(let l=0,u=0,c=0;l<=n.length;l++){let h=l?n[l-1].to:e,d=l<n.length?n[l].from:t;for(let m=h,g,y,b;m<d;m++)if(y=f1[g=r.charCodeAt(m)])if(y<0){for(let w=u-3;w>=0;w-=3)if(Si[w+1]==-y){let E=Si[w+2],x=E&2?i:E&4?E&1?s:i:0;x&&(Gt[m]=Gt[Si[w]]=x),u=w;break}}else{if(Si.length==189)break;Si[u++]=m,Si[u++]=g,Si[u++]=c}else if((b=Gt[m])==2||b==1){let w=b==i;c=w?0:1;for(let E=u-3;E>=0;E-=3){let x=Si[E+2];if(x&2)break;if(w)Si[E+2]|=2;else{if(x&4)break;Si[E+2]|=4}}}}}function WB(r,e,t,n){for(let i=0,s=n;i<=t.length;i++){let l=i?t[i-1].to:r,u=i<t.length?t[i].from:e;for(let c=l;c<u;){let h=Gt[c];if(h==256){let d=c+1;for(;;)if(d==u){if(i==t.length)break;d=t[i++].to,u=i<t.length?t[i].from:e}else if(Gt[d]==256)d++;else break;let m=s==1,g=(d<e?Gt[d]:n)==1,y=m==g?m?1:2:n;for(let b=d,w=i,E=w?t[w-1].to:r;b>c;)b==E&&(b=t[--w].from,E=w?t[w-1].to:r),Gt[--b]=y;c=d}else s=h,c++}}}function h1(r,e,t,n,i,s,l){let u=n%2?2:1;if(n%2==i%2)for(let c=e,h=0;c<t;){let d=!0,m=!1;if(h==s.length||c<s[h].from){let w=Gt[c];w!=u&&(d=!1,m=w==16)}let g=!d&&u==1?[]:null,y=d?n:n+1,b=c;e:for(;;)if(h<s.length&&b==s[h].from){if(m)break e;let w=s[h];if(!d)for(let E=w.to,x=h+1;;){if(E==t)break e;if(x<s.length&&s[x].from==E)E=s[x++].to;else{if(Gt[E]==u)break e;break}}if(h++,g)g.push(w);else{w.from>c&&l.push(new ms(c,w.from,y));let E=w.direction==pl!=!(y%2);d1(r,E?n+1:n,i,w.inner,w.from,w.to,l),c=w.to}b=w.to}else{if(b==t||(d?Gt[b]!=u:Gt[b]==u))break;b++}g?h1(r,c,b,n+1,i,g,l):c<b&&l.push(new ms(c,b,y)),c=b}else for(let c=t,h=s.length;c>e;){let d=!0,m=!1;if(!h||c>s[h-1].to){let w=Gt[c-1];w!=u&&(d=!1,m=w==16)}let g=!d&&u==1?[]:null,y=d?n:n+1,b=c;e:for(;;)if(h&&b==s[h-1].to){if(m)break e;let w=s[--h];if(!d)for(let E=w.from,x=h;;){if(E==e)break e;if(x&&s[x-1].to==E)E=s[--x].from;else{if(Gt[E-1]==u)break e;break}}if(g)g.push(w);else{w.to<c&&l.push(new ms(w.to,c,y));let E=w.direction==pl!=!(y%2);d1(r,E?n+1:n,i,w.inner,w.from,w.to,l),c=w.from}b=w.from}else{if(b==e||(d?Gt[b-1]!=u:Gt[b-1]==u))break;b--}g?h1(r,b,c,n+1,i,g,l):b<c&&l.push(new ms(b,c,y)),c=b}}function d1(r,e,t,n,i,s,l){let u=e%2?2:1;HB(r,i,s,n,u),qB(r,i,s,n,u),WB(i,s,n,u),h1(r,i,s,e,t,n,l)}function VB(r,e,t){if(!r)return[new ms(0,0,e==Db?1:0)];if(e==pl&&!t.length&&!UB.test(r))return Y_(r.length);if(t.length)for(;r.length>Gt.length;)Gt[Gt.length]=256;let n=[],i=e==pl?0:1;return d1(r,i,i,t,0,r.length,n),n}function Y_(r){return[new ms(0,r,0)]}let K_="";function $B(r,e,t,n,i){var s;let l=n.head-r.from,u=ms.find(e,l,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc),c=e[u],h=c.side(i,t);if(l==h){let g=u+=i?1:-1;if(g<0||g>=e.length)return null;c=e[u=g],l=c.side(!i,t),h=c.side(i,t)}let d=Sr(r.text,l,c.forward(i,t));(d<c.from||d>c.to)&&(d=h),K_=r.text.slice(Math.min(l,d),Math.max(l,d));let m=u==(i?e.length-1:0)?null:e[u+(i?1:-1)];return m&&d==h&&m.level+(i?0:1)<c.level?Ne.cursor(m.side(!i,t)+r.from,m.forward(i,t)?1:-1,m.level):Ne.cursor(d+r.from,c.forward(i,t)?-1:1,c.level)}function GB(r,e,t){for(let n=e;n<t;n++){let i=Q_(r.charCodeAt(n));if(i==1)return pl;if(i==2||i==4)return Db}return pl}const Z_=We.define(),J_=We.define(),eR=We.define(),tR=We.define(),p1=We.define(),rR=We.define(),nR=We.define(),Lb=We.define(),Bb=We.define(),iR=We.define({combine:r=>r.some(e=>e)}),sR=We.define({combine:r=>r.some(e=>e)}),aR=We.define();class Oo{constructor(e,t="nearest",n="nearest",i=5,s=5,l=!1){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=s,this.isSnapshot=l}map(e){return e.empty?this:new Oo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Oo(Ne.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Nh=ot.define({map:(r,e)=>r.map(e)}),lR=ot.define();function gn(r,e,t){let n=r.facet(tR);n.length?n[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const ps=We.define({combine:r=>r.length?r[0]:!0});let QB=0;const yo=We.define({combine(r){return r.filter((e,t)=>{for(let n=0;n<t;n++)if(r[n].plugin==e.plugin)return!1;return!0})}});class vr{constructor(e,t,n,i,s){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(yo.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(yo.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:n,eventObservers:i,provide:s,decorations:l}=t||{};return new vr(QB++,e,n,i,u=>{let c=[];return l&&c.push(Dc.of(h=>{let d=h.plugin(u);return d?l(d):it.none})),s&&c.push(s(u)),c})}static fromClass(e,t){return vr.define((n,i)=>new e(n,i),t)}}class x0{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(gn(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){gn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){gn(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const oR=We.define(),zb=We.define(),Dc=We.define(),uR=We.define(),cR=We.define(),rf=We.define(),fR=We.define();function NA(r,e){let t=r.state.facet(fR);if(!t.length)return t;let n=t.map(s=>s instanceof Function?s(r):s),i=[];return yt.spans(n,e.from,e.to,{point(){},span(s,l,u,c){let h=s-e.from,d=l-e.from,m=i;for(let g=u.length-1;g>=0;g--,c--){let y=u[g].spec.bidiIsolate,b;if(y==null&&(y=GB(e.text,h,d)),c>0&&m.length&&(b=m[m.length-1]).to==h&&b.direction==y)b.to=d,m=b.inner;else{let w={from:h,to:d,direction:y,inner:[]};m.push(w),m=w.inner}}}}),i}const hR=We.define();function jb(r){let e=0,t=0,n=0,i=0;for(let s of r.state.facet(hR)){let l=s(r);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(t=Math.max(t,l.right)),l.top!=null&&(n=Math.max(n,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:t,top:n,bottom:i}}const uc=We.define();class Xn{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new Xn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let i=0,s=0,l=0;;){let u=i<e.length?e[i].fromB:1e9,c=s<t.length?t[s]:1e9,h=Math.min(u,c);if(h==1e9)break;let d=h+l,m=h,g=d;for(;;)if(s<t.length&&t[s]<=m){let y=t[s+1];s+=2,m=Math.max(m,y);for(let b=i;b<e.length&&e[b].fromB<=m;b++)l=e[b].toA-e[b].toB;g=Math.max(g,y+l)}else if(i<e.length&&e[i].fromB<=m){let y=e[i++];m=Math.max(m,y.toB),g=Math.max(g,y.toA),l=y.toA-y.toB}else break;n.push(new Xn(d,g,h,m))}return n}}class Bd{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=xr.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,l,u,c)=>i.push(new Xn(s,l,u,c))),this.changedRanges=i}static create(e,t,n){return new Bd(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const XB=[];class Ar{constructor(e,t,n=0){this.dom=e,this.length=t,this.flags=n,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return XB}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let t=this.domAttrs;t&&RB(this.dom,t)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let n=t;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let n=da(this.dom),i=this.length?e>0:t>0;return new fi(this.parent.dom,n+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Tp)return e;return null}static get(e){return e.cmTile}}class Ep extends Ar{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,n=null,i,s=e?.node==t?e:null,l=0;for(let u of this.children){if(u.sync(e),l+=u.length+u.breakAfter,i=n?n.nextSibling:t.firstChild,s&&i!=u.dom&&(s.written=!0),u.dom.parentNode==t)for(;i&&i!=u.dom;)i=DA(i);else t.insertBefore(u.dom,i);n=u.dom}for(i=n?n.nextSibling:t.firstChild,s&&i&&(s.written=!0);i;)i=DA(i);this.length=l}}function DA(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class Tp extends Ep{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=Ar.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],n=this,i=0,s=0;;)if(i==n.children.length){if(!t.length)return;n=n.parent,n.breakAfter&&s++,i=t.pop()}else{let l=n.children[i++];if(l instanceof la)t.push(i),n=l,i=0;else{let u=s+l.length,c=e(l,s);if(c!==void 0)return c;s=u+l.breakAfter}}}resolveBlock(e,t){let n,i=-1,s,l=-1;if(this.blockTiles((u,c)=>{let h=c+u.length;if(e>=c&&e<=h){if(u.isWidget()&&t>=-1&&t<=1){if(u.flags&32)return!0;u.flags&16&&(n=void 0)}(c<e||e==h&&(t<-1?u.length:u.covers(1)))&&(!n||!u.isWidget()&&n.isWidget())&&(n=u,i=e-c),(h>e||e==c&&(t>1?u.length:u.covers(-1)))&&(!s||!u.isWidget()&&s.isWidget())&&(s=u,l=e-c)}}),!n&&!s)throw new Error("No tile at position "+e);return n&&t<0||!s?{tile:n,offset:i}:{tile:s,offset:l}}}class la extends Ep{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,t){let n=new la(t||document.createElement(e.tagName),e);return t||(n.flags|=4),n}}class zo extends Ep{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(e,t,n){let i=new zo(t||document.createElement("div"),e);return(!t||!n)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,t,n){let i=null,s=-1,l=null,u=-1;function c(d,m){for(let g=0,y=0;g<d.children.length&&y<=m;g++){let b=d.children[g],w=y+b.length;w>=m&&(b.isComposite()?c(b,m-y):(!l||l.isHidden&&(t>0||n&&KB(l,b)))&&(w>m||b.flags&32)?(l=b,u=m-y):(y<m||b.flags&16&&!b.isHidden)&&(i=b,s=m-y)),y=w}}c(this,e);let h=(t<0?i:l)||i||l;return h?{tile:h,offset:h==i?s:u}:null}coordsIn(e,t){let n=this.resolveInline(e,t,!0);return n?n.tile.coordsIn(Math.max(0,n.offset),t):YB(this)}domIn(e,t){let n=this.resolveInline(e,t);if(n){let{tile:i,offset:s}=n;if(this.dom.contains(i.dom))return i.isText()?new fi(i.dom,Math.min(i.dom.nodeValue.length,s)):i.domPosFor(s,i.flags&16?1:i.flags&32?-1:t);let l=n.tile.parent,u=!1;for(let c of l.children){if(u)return new fi(c.dom,0);c==n.tile&&(u=!0)}}return new fi(this.dom,0)}}function YB(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=bd(e);return t[t.length-1]||null}function KB(r,e){let t=r.coordsIn(0,1),n=e.coordsIn(0,1);return t&&n&&n.top<t.bottom}class mn extends Ep{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(e,t){let n=new mn(t||document.createElement(e.tagName),e);return t||(n.flags|=4),n}}class Ja extends Ar{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let n=this.dom.nodeValue.length;e>n&&(e=n);let i=e,s=e,l=0;e==0&&t<0||e==n&&t>=0?qe.chrome||qe.gecko||(e?(i--,l=1):s<n&&(s++,l=-1)):t<0?i--:s<n&&s++;let u=Nc(this.dom,i,s).getClientRects();if(!u.length)return null;let c=u[(l?l<0:t>=0)?0:u.length-1];return qe.safari&&!l&&c.width==0&&(c=Array.prototype.find.call(u,h=>h.width)||c),l?Ld(c,l<0):c||null}static of(e,t){let n=new Ja(t||document.createTextNode(e),e);return t||(n.flags|=2),n}}class jo extends Ar{constructor(e,t,n,i){super(e,t,i),this.widget=n}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,n){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;if(n)return Ld(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let u=this.flags&16?!0:this.flags&32?!1:e>0;for(let c=u?s.length-1:0;l=s[c],!(e>0?c==0:c==s.length-1||l.top<l.bottom);c+=u?-1:1);return Ld(l,!u)}}get overrideDOMText(){if(!this.length)return Mt.empty;let{root:e}=this;if(!e)return Mt.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,t,n,i,s){return s||(s=e.toDOM(t),e.editable||(s.contentEditable="false")),new jo(s,n,e,i)}}class zd extends Ar{constructor(e){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),super(t,0,e)}get isHidden(){return!1}get overrideDOMText(){return Mt.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class ZB{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,n){let{tile:i,index:s,beforeBreak:l,parents:u}=this;for(;e||t>0;)if(i.isComposite())if(l){if(!e)break;n&&n.break(),e--,l=!1}else if(s==i.children.length){if(!e&&!u.length)break;n&&n.leave(i),l=!!i.breakAfter,{tile:i,index:s}=u.pop(),s++}else{let c=i.children[s],h=c.breakAfter;(t>0?c.length<=e:c.length<e)&&(!n||n.skip(c,0,c.length)!==!1||!c.isComposite)?(l=!!h,s++,e-=c.length):(u.push({tile:i,index:s}),i=c,s=0,n&&c.isComposite()&&n.enter(c))}else if(s==i.length)l=!!i.breakAfter,{tile:i,index:s}=u.pop(),s++;else if(e){let c=Math.min(e,i.length-s);n&&n.skip(i,s,s+c),e-=c,s+=c}else break;return this.tile=i,this.index=s,this.beforeBreak=l,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class JB{constructor(e,t,n,i){this.from=e,this.to=t,this.wrapper=n,this.rank=i}}class e9{constructor(e,t,n){this.cache=e,this.root=t,this.blockWrappers=n,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,n,i){var s;this.flushBuffer();let l=this.ensureMarks(t,n),u=l.lastChild;if(u&&u.isText()&&!(u.flags&8)){this.cache.reused.set(u,2);let c=l.children[l.children.length-1]=new Ja(u.dom,u.text+e);c.parent=l}else l.append(i||Ja.of(e,(s=this.cache.find(Ja))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let n=this.curLine;n.dom!=t.line.dom&&(n.setDOM(this.cache.reused.has(t.line)?w0(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let i=n;for(let l=t.marks.length-1;l>=0;l--){let u=t.marks[l],c=i.lastChild;if(c instanceof mn&&c.mark.eq(u.mark))c.dom!=u.dom&&c.setDOM(w0(u.dom)),i=c;else{if(this.cache.reused.get(u)){let d=Ar.get(u.dom);d&&d.setDOM(w0(u.dom))}let h=mn.of(u.mark,u.dom);i.append(h),i=h}this.cache.reused.set(u,2)}let s=new Ja(e.text,e.text.nodeValue);s.flags|=8,i.append(s)}addInlineWidget(e,t,n){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let s=this.ensureMarks(t,n);!i&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,n){this.flushBuffer(),this.ensureMarks(t,n).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){var n;e||(e=dR);let i=zo.start(e,t||((n=this.cache.find(zo))===null||n===void 0?void 0:n.dom),!!t);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){var n;let i=this.curLine;for(let s=e.length-1;s>=0;s--){let l=e[s],u;if(t>0&&(u=i.lastChild)&&u instanceof mn&&u.mark.eq(l))i=u,t--;else{let c=mn.of(l,(n=this.cache.find(mn,h=>h.mark.eq(l)))===null||n===void 0?void 0:n.dom);i.append(c),i=c,t=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!LA(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(qe.ios&&LA(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(S0,0,32)||new jo(S0.toDOM(),0,S0,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new JB(e.from,e.to,e.value,e.rank),n=this.wrappers.length;for(;n>0&&(this.wrappers[n-1].rank-t.rank||this.wrappers[n-1].to-t.to)<0;)n--;this.wrappers.splice(n,0,t)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let t=this.root;for(let n of this.wrappers){let i=t.lastChild;if(n.from<this.pos&&i instanceof la&&i.wrapper.eq(n.wrapper))t=i;else{let s=la.of(n.wrapper,(e=this.cache.find(la,l=>l.wrapper.eq(n.wrapper)))===null||e===void 0?void 0:e.dom);t.append(s),t=s}}return t}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),n=this.cache.find(zd,void 0,1);return n&&(n.flags=t),n||new zd(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class t9{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:l}=this.cursor.next(this.skipCount);if(this.skipCount=0,l)throw new Error("Ran out of text content when drawing inline views");this.text=i;let u=this.textOff=Math.min(e,i.length);return s?null:i.slice(0,u)}let t=Math.min(this.text.length,this.textOff+e),n=this.text.slice(this.textOff,t);return this.textOff=t,n}}const jd=[jo,zo,Ja,mn,zd,la,Tp];for(let r=0;r<jd.length;r++)jd[r].bucket=r;class r9{constructor(e){this.view=e,this.buckets=jd.map(()=>[]),this.index=jd.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,n=this.buckets[t];n.length<6?n.push(e):n[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,n=2){let i=e.bucket,s=this.buckets[i],l=this.index[i];for(let u=s.length-1;u>=0;u--){let c=(u+l)%s.length,h=s[c];if((!t||t(h))&&!this.reused.has(h))return s.splice(c,1),c<l&&this.index[i]--,this.reused.set(h,n),h}return null}findWidget(e,t,n){let i=this.buckets[0];if(i.length)for(let s=0,l=0;;s++){if(s==i.length){if(l)return null;l=1,s=0}let u=i[s];if(!this.reused.has(u)&&(l==0?u.widget.compare(e):u.widget.constructor==e.constructor&&e.updateDOM(u.dom,this.view)))return i.splice(s,1),s<this.index[0]&&this.index[0]--,this.reused.set(u,1),u.length=t,u.flags=u.flags&-498|n,u}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}}class n9{constructor(e,t,n,i,s){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new r9(e),this.text=new t9(e.state.doc),this.builder=new e9(this.cache,new Tp(e,e.contentDOM),yt.iter(n)),this.cache.reused.set(t,2),this.old=new ZB(t)}run(e,t){let n=t&&this.getCompositionContext(t.text);for(let i=0,s=0,l=0;;){let u=l<e.length?e[l++]:null,c=u?u.fromA:this.old.root.length;if(c>i){let h=c-i;this.preserve(h,!l,!u),i=c,s+=h}if(!u)break;this.forward(u.fromA,u.toA),t&&u.fromA<=t.range.fromA&&u.toA>=t.range.toA?(this.emit(s,t.range.fromB),this.builder.addComposition(t,n),this.emit(t.range.toB,u.toB)):this.emit(s,u.toB),s=u.toB,i=u.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,n){let i=a9(this.old),s=this.openMarks;this.old.advance(e,n?1:-1,{skip:(l,u,c)=>{if(l.isWidget())if(this.openWidget)this.builder.continueWidget(c-u);else{let h=c>0||u<l.length?jo.of(l.widget,this.view,c-u,l.flags&496,this.cache.maybeReuse(l)):this.cache.reuse(l);h.flags&256?(h.flags&=-2,this.builder.addBlockWidget(h)):(this.builder.ensureLine(null),this.builder.addInlineWidget(h,i,s),s=i.length)}else if(l.isText())this.builder.ensureLine(null),!u&&c==l.length?this.builder.addText(l.text,i,s,this.cache.reuse(l)):(this.cache.add(l),this.builder.addText(l.text.slice(u,c),i,s)),s=i.length;else if(l.isLine())l.flags&=-2,this.cache.reused.set(l,1),this.builder.addLine(l);else if(l instanceof zd)this.cache.add(l);else if(l instanceof mn)this.builder.ensureLine(null),this.builder.addMark(l,i,s),this.cache.reused.set(l,1),s=i.length;else return!1;this.openWidget=!1},enter:l=>{l.isLine()?this.builder.addLineStart(l.attrs,this.cache.maybeReuse(l)):(this.cache.add(l),l instanceof mn&&i.unshift(l.mark)),this.openWidget=!1},leave:l=>{l.isLine()?i.length&&(i.length=s=0):l instanceof mn&&(i.shift(),s=Math.min(s,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let n=null,i=this.builder,s=0,l=yt.spans(this.decorations,e,t,{point:(u,c,h,d,m,g)=>{if(h instanceof dl){if(this.disallowBlockEffectsFor[g]){if(h.block)throw new RangeError("Block decorations may not be specified via plugins");if(c>this.view.state.doc.lineAt(u).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=d.length,m>d.length)i.continueWidget(c-u);else{let y=h.widget||(h.block?Po.block:Po.inline),b=i9(h),w=this.cache.findWidget(y,c-u,b)||jo.of(y,this.view,c-u,b);h.block?(h.startSide>0&&i.addLineStartIfNotCovered(n),i.addBlockWidget(w)):(i.ensureLine(n),i.addInlineWidget(w,d,m))}n=null}else n=s9(n,h);c>u&&this.text.skip(c-u)},span:(u,c,h,d)=>{for(let m=u;m<c;){let g=this.text.next(Math.min(512,c-m));g==null?(i.addLineStartIfNotCovered(n),i.addBreak(),m++):(i.ensureLine(n),i.addText(g,h,d),m+=g.length),n=null}}});i.addLineStartIfNotCovered(n),this.openWidget=l>s,this.openMarks=l}forward(e,t){this.old.advance(t-e,1,{skip:(n,i,s)=>{(n.isText()||s==n.length)&&this.cache.add(n)},enter:n=>this.cache.add(n),leave:()=>{},break:()=>{}})}getCompositionContext(e){let t=[],n=null;for(let i=e.parentNode;;i=i.parentNode){let s=Ar.get(i);if(i==this.view.contentDOM)break;s instanceof mn?t.push(s):s?.isLine()?n=s:i.nodeName=="DIV"&&!n&&i!=this.view.contentDOM?n=new zo(i,dR):t.push(mn.of(new ef({tagName:i.nodeName.toLowerCase(),attributes:MB(i)}),i))}return{line:n,marks:t}}}function LA(r,e){let t=n=>{for(let i of n.children)if((e?i.isText():i.length)||t(i))return!0;return!1};return t(r)}function i9(r){let e=r.isReplace?(r.startSide<0?64:0)|(r.endSide>0?128:0):r.startSide>0?32:16;return r.block&&(e|=256),e}const dR={class:"cm-line"};function s9(r,e){let t=e.spec.attributes,n=e.spec.class;return!t&&!n||(r||(r={class:"cm-line"}),t&&Mb(t,r),n&&(r.class+=" "+n)),r}function a9(r){let e=[];for(let t=r.parents.length;t>1;t--){let n=t==r.parents.length?r.tile:r.parents[t].tile;n instanceof mn&&e.push(n.mark)}return e}function w0(r){let e=Ar.get(r);return e&&e.setDOM(r.cloneNode()),r}class Po extends Es{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Po.inline=new Po("span");Po.block=new Po("div");const S0=new class extends Es{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class BA{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=it.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Tp(e,e.contentDOM),this.updateInner([new Xn(0,0,0,e.state.doc.length)],null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:d,toA:m})=>m<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!m9(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?o9(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:m}=this.hasComposition;n=new Xn(d,m,e.changes.mapPos(d,-1),e.changes.mapPos(m,1)).addToSet(n.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(qe.ie||qe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,u=this.blockWrappers;this.updateDeco();let c=f9(l,this.decorations,e.changes);c.length&&(n=Xn.extendWithRanges(n,c));let h=d9(u,this.blockWrappers,e.changes);return h.length&&(n=Xn.extendWithRanges(n,h)),s&&!n.some(d=>d.fromA<=s.range.fromA&&d.toA>=s.range.toA)&&(n=s.range.addToSet(n.slice())),this.tile.flags&2&&n.length==0?!1:(this.updateInner(n,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:n}=this.view;n.ignore(()=>{if(t||e.length){let l=this.tile,u=new n9(this.view,l,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=u.run(e,t),m1(l,u.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=qe.chrome||qe.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||n.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof k0&&i.push(s.dom);n.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(lR)&&(this.editContextFormatting=n.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:n}=this.tile,i=this.view.root.activeElement,s=i==n,l=!s&&!(this.view.state.facet(ps)||n.tabIndex>-1)&&vd(n,this.view.observer.selectionRange)&&!(i&&n.contains(i));if(!(s||t||l))return;let u=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,h,d;if(c.empty?d=h=this.inlineDOMNearPos(c.anchor,c.assoc||1):(d=this.inlineDOMNearPos(c.head,c.head==c.from?1:-1),h=this.inlineDOMNearPos(c.anchor,c.anchor==c.from?1:-1)),qe.gecko&&c.empty&&!this.hasComposition&&l9(h)){let g=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(g,h.node.childNodes[h.offset]||null)),h=d=new fi(g,0),u=!0}let m=this.view.observer.selectionRange;(u||!m.focusNode||(!yc(h.node,h.offset,m.anchorNode,m.anchorOffset)||!yc(d.node,d.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,c))&&(this.view.observer.ignore(()=>{qe.android&&qe.chrome&&n.contains(m.focusNode)&&p9(m.focusNode,n)&&(n.blur(),n.focus({preventScroll:!0}));let g=Mc(this.view.root);if(g)if(c.empty){if(qe.gecko){let y=u9(h.node,h.offset);if(y&&y!=3){let b=(y==1?V_:$_)(h.node,h.offset);b&&(h=new fi(b.node,b.offset))}}g.collapse(h.node,h.offset),c.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=c.bidiLevel)}else if(g.extend){g.collapse(h.node,h.offset);try{g.extend(d.node,d.offset)}catch{}}else{let y=document.createRange();c.anchor>c.head&&([h,d]=[d,h]),y.setEnd(d.node,d.offset),y.setStart(h.node,h.offset),g.removeAllRanges(),g.addRange(y)}l&&this.view.root.activeElement==n&&(n.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(h,d)),this.impreciseAnchor=h.precise?null:new fi(m.anchorNode,m.anchorOffset),this.impreciseHead=d.precise?null:new fi(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&yc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=Mc(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let l=this.lineAt(t.head,t.assoc);if(!l)return;let u=l.posAtStart;if(t.head==u||t.head==u+l.length)return;let c=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!c||!h||c.bottom>h.top)return;let d=this.domAtPos(t.head+t.assoc,t.assoc);n.collapse(d.node,d.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&n.collapse(i,s)}posFromDOM(e,t){let n=this.tile.nearest(e);if(!n)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=n.posAtStart;if(n.isComposite()){let s;if(e==n.dom)s=n.dom.childNodes[t];else{let l=bs(e)==0?0:t==0?-1:1;for(;;){let u=e.parentNode;if(u==n.dom)break;l==0&&u.firstChild!=u.lastChild&&(e==u.firstChild?l=-1:l=1),e=u}l<0?s=e:s=e.nextSibling}if(s==n.dom.firstChild)return i;for(;s&&!Ar.get(s);)s=s.nextSibling;if(!s)return i+n.length;for(let l=0,u=i;;l++){let c=n.children[l];if(c.dom==s)return u;u+=c.length+c.breakAfter}}else return n.isText()?e==n.dom?i+t:i+(t?n.length:0):i}domAtPos(e,t){let{tile:n,offset:i}=this.tile.resolveBlock(e,t);return n.isWidget()?n.domPosFor(e,t):n.domIn(i,t)}inlineDOMNearPos(e,t){let n,i=-1,s=!1,l,u=-1,c=!1;return this.tile.blockTiles((h,d)=>{if(h.isWidget()){if(h.flags&32&&d>=e)return!0;h.flags&16&&(s=!0)}else{let m=d+h.length;if(d<=e&&(n=h,i=e-d,s=m<e),m>=e&&!l&&(l=h,u=e-d,c=d>e),d>e&&l)return!0}}),!n&&!l?this.domAtPos(e,t):(s&&l?n=null:c&&n&&(l=null),n&&t<0||!l?n.domIn(i,t):l.domIn(u,t))}coordsAt(e,t){let{tile:n,offset:i}=this.tile.resolveBlock(e,t);return n.isWidget()?n.widget instanceof k0?null:n.coordsInWidget(i,t,!0):n.coordsIn(i,t)}lineAt(e,t){let{tile:n}=this.tile.resolveBlock(e,t);return n.isLine()?n:null}coordsForChar(e){let{tile:t,offset:n}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function i(s,l){if(s.isComposite())for(let u of s.children){if(u.length>=l){let c=i(u,l);if(c)return c}if(l-=u.length,l<0)break}else if(s.isText()&&l<s.length){let u=Sr(s.text,l);if(u==l)return null;let c=Nc(s.dom,l,u).getClientRects();for(let h=0;h<c.length;h++){let d=c[h];if(h==c.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return i(t,n)}measureVisibleLineHeights(e){let t=[],{from:n,to:i}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,c=this.view.textDirection==Qt.LTR,h=0,d=(m,g,y)=>{for(let b=0;b<m.children.length&&!(g>i);b++){let w=m.children[b],E=g+w.length,x=w.dom.getBoundingClientRect(),{height:k}=x;if(y&&!b&&(h+=x.top-y.top),w instanceof la)E>n&&d(w,g,x);else if(g>=n&&(h>0&&t.push(-h),t.push(k+h),h=0,l)){let O=w.dom.lastChild,T=O?bd(O):[];if(T.length){let _=T[T.length-1],H=c?_.right-x.left:x.right-_.left;H>u&&(u=H,this.minWidth=s,this.minWidthFrom=g,this.minWidthTo=E)}}y&&b==m.children.length-1&&(h+=y.bottom-x.bottom),g=E+w.breakAfter}};return d(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction=="rtl"?Qt.RTL:Qt.LTR}measureTextSize(){let e=this.tile.blockTiles(l=>{if(l.isLine()&&l.children.length&&l.length<=20){let u=0,c;for(let h of l.children){if(!h.isText()||/[^ -~]/.test(h.text))return;let d=bd(h.dom);if(d.length!=1)return;u+=d[0].width,c=d[0].height}if(u)return{lineHeight:l.dom.getBoundingClientRect().height,charWidth:u/l.length,textHeight:c}}});if(e)return e;let t=document.createElement("div"),n,i,s;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let l=bd(t.firstChild)[0];n=t.getBoundingClientRect().height,i=l&&l.width?l.width/27:7,s=l&&l.height?l.height:n,t.remove()}),{lineHeight:n,charWidth:i,textHeight:s}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],l=s?s.from-1:this.view.state.doc.length;if(l>n){let u=(t.lineBlockAt(l).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(it.replace({widget:new k0(u),block:!0,inclusive:!0,isBlockGap:!0}).range(n,l))}if(!s)break;n=s.to+1}return it.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Dc).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),n=!1,i=this.view.state.facet(cR).map((s,l)=>{let u=typeof s=="function";return u&&(n=!0),u?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=n,t.push(yt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(uR).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(aR))try{if(h(this.view,e.range,e))return!0}catch(d){gn(this.view.state,d,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!n)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let s=jb(this.view),l={left:n.left-s.left,top:n.top-s.top,right:n.right+s.right,bottom:n.bottom+s.bottom},{offsetWidth:u,offsetHeight:c}=this.view.scrollDOM;LB(this.view.scrollDOM,l,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,u),-u),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==Qt.LTR)}lineHasWidget(e){let t=n=>n.isWidget()||n.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){m1(this.tile)}}function m1(r,e){let t=e?.get(r);if(t!=1){t==null&&r.destroy();for(let n of r.children)m1(n,e)}}function l9(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function pR(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let n=V_(t.focusNode,t.focusOffset),i=$_(t.focusNode,t.focusOffset),s=n||i;if(i&&n&&i.node!=n.node){let u=Ar.get(i.node);if(!u||u.isText()&&u.text!=i.node.nodeValue)s=i;else if(r.docView.lastCompositionAfterCursor){let c=Ar.get(n.node);!c||c.isText()&&c.text!=n.node.nodeValue||(s=i)}}if(r.docView.lastCompositionAfterCursor=s!=n,!s)return null;let l=e-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function o9(r,e,t){let n=pR(r,t);if(!n)return null;let{node:i,from:s,to:l}=n,u=i.nodeValue;if(/[\n\r]/.test(u)||r.state.doc.sliceString(n.from,n.to)!=u)return null;let c=e.invertedDesc;return{range:new Xn(c.mapPos(s),c.mapPos(l),s,l),text:i}}function u9(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let c9=class{constructor(){this.changes=[]}compareRange(e,t){To(e,t,this.changes)}comparePoint(e,t){To(e,t,this.changes)}boundChange(e){To(e,e,this.changes)}};function f9(r,e,t){let n=new c9;return yt.compare(r,e,t,n),n.changes}class h9{constructor(){this.changes=[]}compareRange(e,t){To(e,t,this.changes)}comparePoint(){}boundChange(e){To(e,e,this.changes)}}function d9(r,e,t){let n=new h9;return yt.compare(r,e,t,n),n.changes}function p9(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function m9(r,e){let t=!1;return e&&r.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(t=!0)}),t}class k0 extends Es{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function g9(r,e,t=1){let n=r.charCategorizer(e),i=r.doc.lineAt(e),s=e-i.from;if(i.length==0)return Ne.cursor(e);s==0?t=1:s==i.length&&(t=-1);let l=s,u=s;t<0?l=Sr(i.text,s,!1):u=Sr(i.text,s);let c=n(i.text.slice(l,u));for(;l>0;){let h=Sr(i.text,l,!1);if(n(i.text.slice(h,l))!=c)break;l=h}for(;u<i.length;){let h=Sr(i.text,u);if(n(i.text.slice(u,h))!=c)break;u=h}return Ne.range(l+i.from,u+i.from)}function y9(r,e,t,n,i){let s=Math.round((n-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let u=r.viewState.heightOracle.textHeight,c=Math.floor((i-t.top-(r.defaultLineHeight-u)*.5)/u);s+=c*r.viewState.heightOracle.lineLength}let l=r.state.sliceDoc(t.from,t.to);return t.from+n1(l,s,r.state.tabSize)}function g1(r,e,t){let n=r.lineBlockAt(e);if(Array.isArray(n.type)){let i;for(let s of n.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==jr.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||n}return n}function v9(r,e,t,n){let i=g1(r,e.head,e.assoc||-1),s=!n||i.type!=jr.Text||!(r.lineWrapping||i.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=r.dom.getBoundingClientRect(),u=r.textDirectionAt(i.from),c=r.posAtCoords({x:t==(u==Qt.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(c!=null)return Ne.cursor(c,t?-1:1)}return Ne.cursor(t?i.to:i.from,t?-1:1)}function zA(r,e,t,n){let i=r.state.doc.lineAt(e.head),s=r.bidiSpans(i),l=r.textDirectionAt(i.from);for(let u=e,c=null;;){let h=$B(i,s,l,u,t),d=K_;if(!h){if(i.number==(t?r.state.doc.lines:1))return u;d=`
`,i=r.state.doc.line(i.number+(t?1:-1)),s=r.bidiSpans(i),h=r.visualLineSide(i,!t)}if(c){if(!c(d))return u}else{if(!n)return h;c=n(d)}u=h}}function b9(r,e,t){let n=r.state.charCategorizer(e),i=n(t);return s=>{let l=n(s);return i==tr.Space&&(i=l),i==l}}function x9(r,e,t,n){let i=e.head,s=t?1:-1;if(i==(t?r.state.doc.length:0))return Ne.cursor(i,e.assoc);let l=e.goalColumn,u,c=r.contentDOM.getBoundingClientRect(),h=r.coordsAtPos(i,e.assoc||-1),d=r.documentTop;if(h)l==null&&(l=h.left-c.left),u=s<0?h.top:h.bottom;else{let y=r.viewState.lineBlockAt(i);l==null&&(l=Math.min(c.right-c.left,r.defaultCharacterWidth*(i-y.from))),u=(s<0?y.top:y.bottom)+d}let m=c.left+l,g=n??r.viewState.heightOracle.textHeight>>1;for(let y=0;;y+=10){let b=u+(g+y)*s,w=y1(r,{x:m,y:b},!1,s);return Ne.cursor(w.pos,w.assoc,void 0,l)}}function vc(r,e,t){for(;;){let n=0;for(let i of r)i.between(e-1,e+1,(s,l,u)=>{if(e>s&&e<l){let c=n||t||(e-s<l-e?-1:1);e=c<0?s:l,n=c}});if(!n)return e}}function mR(r,e){let t=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],s=null;if(i.empty){let l=vc(r,i.from,0);l!=i.from&&(s=Ne.cursor(l,-1))}else{let l=vc(r,i.from,-1),u=vc(r,i.to,1);(l!=i.from||u!=i.to)&&(s=Ne.range(i.from==i.anchor?l:u,i.from==i.head?l:u))}s&&(t||(t=e.ranges.slice()),t[n]=s)}return t?Ne.create(t,e.mainIndex):e}function A0(r,e,t){let n=vc(r.state.facet(rf).map(i=>i(r)),t.from,e.head>t.from?-1:1);return n==t.from?t:Ne.cursor(n,n<t.from?1:-1)}class Ni{constructor(e,t){this.pos=e,this.assoc=t}}function y1(r,e,t,n){let i=r.contentDOM.getBoundingClientRect(),s=i.top+r.viewState.paddingTop,{x:l,y:u}=e,c=u-s,h;for(;;){if(c<0)return new Ni(0,1);if(c>r.viewState.docHeight)return new Ni(r.state.doc.length,-1);if(h=r.elementAtHeight(c),n==null)break;if(h.type==jr.Text){let g=r.docView.coordsAt(n<0?h.from:h.to,n);if(g&&(n<0?g.top<=c+s:g.bottom>=c+s))break}let m=r.viewState.heightOracle.textHeight/2;c=n>0?h.bottom+m:h.top-m}if(r.viewport.from>=h.to||r.viewport.to<=h.from){if(t)return null;if(h.type==jr.Text){let m=y9(r,i,h,l,u);return new Ni(m,m==h.from?1:-1)}}if(h.type!=jr.Text)return c<(h.top+h.bottom)/2?new Ni(h.from,1):new Ni(h.to,-1);let d=r.docView.lineAt(h.from,2);return(!d||d.length!=h.length)&&(d=r.docView.lineAt(h.from,-2)),gR(r,d,h.from,l,u)}function gR(r,e,t,n,i){let s=-1,l=null,u=1e9,c=1e9,h=i,d=i,m=(g,y)=>{for(let b=0;b<g.length;b++){let w=g[b];if(w.top==w.bottom)continue;let E=w.left>n?w.left-n:w.right<n?n-w.right:0,x=w.top>i?w.top-i:w.bottom<i?i-w.bottom:0;w.top<=d&&w.bottom>=h&&(h=Math.min(w.top,h),d=Math.max(w.bottom,d),x=0),(s<0||(x-c||E-u)<0)&&(s>=0&&c&&u<E&&l.top<=d-2&&l.bottom>=h+2?c=0:(s=y,u=E,c=x,l=w))}};if(e.isText()){for(let y=0;y<e.length;){let b=Sr(e.text,y);if(m(Nc(e.dom,y,b).getClientRects(),y),!u&&!c)break;y=b}return n>(l.left+l.right)/2==(jA(r,s+t)==Qt.LTR)?new Ni(t+Sr(e.text,s),-1):new Ni(t+s,1)}else{if(!e.length)return new Ni(t,1);for(let w=0;w<e.children.length;w++){let E=e.children[w];if(E.flags&48)continue;let x=(E.dom.nodeType==1?E.dom:Nc(E.dom,0,E.length)).getClientRects();if(m(x,w),!u&&!c)break}let g=e.children[s],y=e.posBefore(g,t);return g.isComposite()||g.isText()?gR(r,g,y,Math.max(l.left,Math.min(l.right,n)),i):n>(l.left+l.right)/2==(jA(r,s+t)==Qt.LTR)?new Ni(y+g.length,-1):new Ni(y,1)}}function jA(r,e){let t=r.state.doc.lineAt(e);return r.bidiSpans(t)[ms.find(r.bidiSpans(t),e-t.from,-1,1)].dir}const cc="";class w9{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(wt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=cc}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let s=this.text.length;this.readNode(i);let l=Ar.get(i),u=i.nextSibling;if(u==t){l?.breakAfter&&!u&&this.lineBreak();break}let c=Ar.get(u);(l&&c?l.breakAfter:(l?l.breakAfter:Dd(i))||Dd(u)&&(i.nodeName!="BR"||l?.isWidget())&&this.text.length>s)&&!k9(u,t)&&this.lineBreak(),i=u}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,u;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),l=this.lineSeparator.length):(u=i.exec(t))&&(s=u.index,l=u[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=l-1);n=s+l}}readNode(e){let t=Ar.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(S9(e,n.node,n.offset)?t:0))}}function S9(r,e,t){for(;;){if(!e||t<bs(e))return!1;if(e==r)return!0;t=da(e)+1,e=e.parentNode}}function k9(r,e){let t;for(;!(r==e||!r);r=r.nextSibling){let n=Ar.get(r);if(!n?.isWidget())return!1;n&&(t||(t=[])).push(n)}if(t)for(let n of t){let i=n.overrideDOMText;if(i?.length)return!1}return!0}class PA{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class A9{constructor(e,t,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=yR(e.docView.tile,t,n,0))){let u=s||l?[]:T9(e),c=new w9(u,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=C9(u,this.bounds.from)}else{let u=e.observer.selectionRange,c=s&&s.node==u.focusNode&&s.offset==u.focusOffset||!c1(e.contentDOM,u.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(u.focusNode,u.focusOffset),h=l&&l.node==u.anchorNode&&l.offset==u.anchorOffset||!c1(e.contentDOM,u.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(u.anchorNode,u.anchorOffset),d=e.viewport;if((qe.ios||qe.chrome)&&e.state.selection.main.empty&&c!=h&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(c,h),g=Math.max(c,h),y=d.from-m,b=d.to-g;(y==0||y==1||m==0)&&(b==0||b==-1||g==e.state.doc.length)&&(c=0,h=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(Ne.range(h,c)):this.newSel=Ne.single(h,c)}}}function yR(r,e,t,n){if(r.isComposite()){let i=-1,s=-1,l=-1,u=-1;for(let c=0,h=n,d=n;c<r.children.length;c++){let m=r.children[c],g=h+m.length;if(h<e&&g>t)return yR(m,e,t,h);if(g>=e&&i==-1&&(i=c,s=h),h>t&&m.dom.parentNode==r.dom){l=c,u=d;break}d=g,h=g+m.breakAfter}return{from:s,to:u<0?n+r.length:u,startDOM:(i?r.children[i-1].dom.nextSibling:null)||r.dom.firstChild,endDOM:l<r.children.length&&l>=0?r.children[l].dom:null}}else return r.isText()?{from:n,to:n+r.length,startDOM:r.dom,endDOM:r.dom.nextSibling}:null}function vR(r,e){let t,{newSel:n}=e,i=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:u}=e.bounds,c=i.from,h=null;(s===8||qe.android&&e.text.length<u-l)&&(c=i.to,h="end");let d=bR(r.state.doc.sliceString(l,u,cc),e.text,c-l,h);d&&(qe.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==cc+cc&&d.toB--,t={from:l+d.from,to:l+d.toA,insert:Mt.of(e.text.slice(d.from,d.toB).split(cc))})}else n&&(!r.hasFocus&&r.state.facet(ps)||n.main.eq(i))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!i.empty&&n&&n.main.empty?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,i.to)}:(qe.mac||qe.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=Ne.single(n.main.anchor-1,n.main.head-1)),t={from:t.from,to:t.to,insert:Mt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,i.to))}:r.state.doc.lineAt(i.from).to<i.to&&r.docView.lineHasWidget(i.to)&&r.inputState.insertingTextAt>Date.now()-50?t={from:i.from,to:i.to,insert:r.state.toText(r.inputState.insertingText)}:qe.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(n&&(n=Ne.single(n.main.anchor-1,n.main.head-1)),t={from:i.from,to:i.to,insert:Mt.of([" "])}),t)return Pb(r,t,n,s);if(n&&!n.main.eq(i)){let l=!1,u="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(l=!0),u=r.inputState.lastSelectionOrigin,u=="select.pointer"&&(n=mR(r.state.facet(rf).map(c=>c(r)),n))),r.dispatch({selection:n,scrollIntoView:l,userEvent:u}),!0}else return!1}function Pb(r,e,t,n=-1){if(qe.ios&&r.inputState.flushIOSKey(e))return!0;let i=r.state.selection.main;if(qe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&r.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Co(r.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Co(r.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Co(r.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let l,u=()=>l||(l=E9(r,e,t));return r.state.facet(rR).some(c=>c(r,e.from,e.to,s,u))||r.dispatch(u()),!0}function E9(r,e,t){let n,i=r.state,s=i.selection.main,l=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let c=e.from<s.from?-1:1,h=c<0?s.from:s.to,d=vc(i.facet(rf).map(m=>m(r)),h,c);e.from==d&&(l=d)}if(l>-1)n={changes:e,selection:Ne.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let c=s.from<e.from?i.sliceDoc(s.from,e.from):"",h=s.to>e.to?i.sliceDoc(e.to,s.to):"";n=i.replaceSelection(r.state.toText(c+e.insert.sliceString(0,void 0,r.state.lineBreak)+h))}else{let c=i.changes(e),h=t&&t.main.to<=c.newLength?t.main:void 0;if(i.selection.ranges.length>1&&(r.inputState.composing>=0||r.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=r.state.sliceDoc(e.from,e.to),m,g=t&&pR(r,t.main.head);if(g){let b=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-b}}else m=r.state.doc.lineAt(s.head);let y=s.to-e.to;n=i.changeByRange(b=>{if(b.from==s.from&&b.to==s.to)return{changes:c,range:h||b.map(c)};let w=b.to-y,E=w-d.length;if(r.state.sliceDoc(E,w)!=d||w>=m.from&&E<=m.to)return{range:b};let x=i.changes({from:E,to:w,insert:e.insert}),k=b.to-s.to;return{changes:x,range:h?Ne.range(Math.max(0,h.anchor+k),Math.max(0,h.head+k)):b.map(x)}})}else n={changes:c,selection:h&&i.selection.replaceRange(h)}}let u="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,u+=".compose",r.inputState.compositionFirstChange&&(u+=".start",r.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:u,scrollIntoView:!0})}function bR(r,e,t,n){let i=Math.min(r.length,e.length),s=0;for(;s<i&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&r.length==e.length)return null;let l=r.length,u=e.length;for(;l>0&&u>0&&r.charCodeAt(l-1)==e.charCodeAt(u-1);)l--,u--;if(n=="end"){let c=Math.max(0,s-Math.min(l,u));t-=l+c-s}if(l<s&&r.length<e.length){let c=t<=s&&t>=l?s-t:0;s-=c,u=s+(u-l),l=s}else if(u<s){let c=t<=s&&t>=u?s-t:0;s-=c,l=s+(l-u),u=s}return{from:s,toA:l,toB:u}}function T9(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new PA(t,n)),(i!=t||s!=n)&&e.push(new PA(i,s))),e}function C9(r,e){if(r.length==0)return null;let t=r[0].pos,n=r.length==2?r[1].pos:t;return t>-1&&n>-1?Ne.single(t+e,n+e):null}class O9{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,qe.safari&&e.contentDOM.addEventListener("input",()=>null),qe.gecko&&q9(e.contentDOM.ownerDocument)}handleEvent(e){!z9(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,t);for(let i of n.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=_9(e),n=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let l=!t[s].handlers.length,u=n[s];u&&l!=!u.handlers.length&&(i.removeEventListener(s,this.handleEvent),u=null),u||i.addEventListener(s,this.handleEvent,{passive:l})}for(let s in n)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&wR.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),qe.android&&qe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return qe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=xR.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||R9.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Co(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:qe.safari&&!qe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function FA(r,e){return(t,n)=>{try{return e.call(r,n,t)}catch(i){gn(t.state,i)}}}function _9(r){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of r){let i=n.spec,s=i&&i.plugin.domEventHandlers,l=i&&i.plugin.domEventObservers;if(s)for(let u in s){let c=s[u];c&&t(u).handlers.push(FA(n.value,c))}if(l)for(let u in l){let c=l[u];c&&t(u).observers.push(FA(n.value,c))}}for(let n in di)t(n).handlers.push(di[n]);for(let n in Jn)t(n).observers.push(Jn[n]);return e}const xR=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],R9="dthko",wR=[16,17,18,20,91,92,224,225],Dh=6;function Lh(r){return Math.max(0,r)*.7+8}function M9(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class N9{constructor(e,t,n,i){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=BB(e.contentDOM),this.atoms=e.state.facet(rf).map(l=>l(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(wt.allowMultipleSelections)&&D9(e,t),this.dragging=B9(e,t)&&AR(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&M9(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,i=0,s=0,l=this.view.win.innerWidth,u=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:u}=this.scrollParents.y.getBoundingClientRect());let c=jb(this.view);e.clientX-c.left<=i+Dh?t=-Lh(i-e.clientX):e.clientX+c.right>=l-Dh&&(t=Lh(e.clientX-l)),e.clientY-c.top<=s+Dh?n=-Lh(s-e.clientY):e.clientY+c.bottom>=u-Dh&&(n=Lh(e.clientY-u)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,n=mR(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function D9(r,e){let t=r.state.facet(Z_);return t.length?t[0](e):qe.mac?e.metaKey:e.ctrlKey}function L9(r,e){let t=r.state.facet(J_);return t.length?t[0](e):qe.mac?!e.altKey:!e.ctrlKey}function B9(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let n=Mc(r.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let l=i[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function z9(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=Ar.get(t))&&n.isWidget()&&!n.isHidden&&n.widget.ignoreEvent(e))return!1;return!0}const di=Object.create(null),Jn=Object.create(null),SR=qe.ie&&qe.ie_version<15||qe.ios&&qe.webkit_version<604;function j9(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),kR(r,t.value)},50)}function Cp(r,e,t){for(let n of r.facet(e))t=n(t,r);return t}function kR(r,e){e=Cp(r.state,Lb,e);let{state:t}=r,n,i=1,s=t.toText(e),l=s.lines==t.selection.ranges.length;if(v1!=null&&t.selection.ranges.every(c=>c.empty)&&v1==s.toString()){let c=-1;n=t.changeByRange(h=>{let d=t.doc.lineAt(h.from);if(d.from==c)return{range:h};c=d.from;let m=t.toText((l?s.line(i++).text:e)+t.lineBreak);return{changes:{from:d.from,insert:m},range:Ne.cursor(h.from+m.length)}})}else l?n=t.changeByRange(c=>{let h=s.line(i++);return{changes:{from:c.from,to:c.to,insert:h.text},range:Ne.cursor(c.from+h.length)}}):n=t.replaceSelection(s);r.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Jn.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};di.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);Jn.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Jn.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};di.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of r.state.facet(eR))if(t=n(r,e),t)break;if(!t&&e.button==0&&(t=F9(r,e)),t){let n=!r.hasFocus;r.inputState.startMouseSelection(new N9(r,e,t,n)),n&&r.observer.ignore(()=>{q_(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let i=r.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else r.inputState.setSelectionOrigin("select.pointer");return!1};function IA(r,e,t,n){if(n==1)return Ne.cursor(e,t);if(n==2)return g9(r.state,e,t);{let i=r.docView.lineAt(e,t),s=r.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:s.from,u=i?i.posAtEnd:s.to;return u<r.state.doc.length&&u==s.to&&u++,Ne.range(l,u)}}const P9=qe.ie&&qe.ie_version<=11;let UA=null,HA=0,qA=0;function AR(r){if(!P9)return r.detail;let e=UA,t=qA;return UA=r,qA=Date.now(),HA=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(HA+1)%3:1}function F9(r,e){let t=r.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),n=AR(e),i=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,l,u){let c=r.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),h,d=IA(r,c.pos,c.assoc,n);if(t.pos!=c.pos&&!l){let m=IA(r,t.pos,t.assoc,n),g=Math.min(m.from,d.from),y=Math.max(m.to,d.to);d=g<d.from?Ne.range(g,y):Ne.range(y,g)}return l?i.replaceRange(i.main.extend(d.from,d.to)):u&&n==1&&i.ranges.length>1&&(h=I9(i,c.pos))?h:u?i.addRange(d):Ne.create([d])}}}function I9(r,e){for(let t=0;t<r.ranges.length;t++){let{from:n,to:i}=r.ranges[t];if(n<=e&&i>=e)return Ne.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}di.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let i=r.docView.tile.nearest(e.target);if(i&&i.isWidget()){let s=i.posAtStart,l=s+i.length;(s>=t.to||l<=t.from)&&(t=Ne.range(s,l))}}let{inputState:n}=r;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Cp(r.state,Bb,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};di.dragend=r=>(r.inputState.draggedContent=null,!1);function WA(r,e,t,n){if(t=Cp(r.state,Lb,t),!t)return;let i=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,l=n&&s&&L9(r,e)?{from:s.from,to:s.to}:null,u={from:i,insert:t},c=r.state.changes(l?[l,u]:u);r.focus(),r.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),r.inputState.draggedContent=null}di.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),i=0,s=()=>{++i==t.length&&WA(r,e,n.filter(l=>l!=null).join(r.state.lineBreak),!1)};for(let l=0;l<t.length;l++){let u=new FileReader;u.onerror=s,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(n[l]=u.result),s()},u.readAsText(t[l])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return WA(r,e,n,!0),!0}return!1};di.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=SR?null:e.clipboardData;return t?(kR(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(j9(r),!1)};function U9(r,e){let t=r.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),r.focus()},50)}function H9(r){let e=[],t=[],n=!1;for(let i of r.selection.ranges)i.empty||(e.push(r.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of r.selection.ranges){let l=r.doc.lineAt(s);l.number>i&&(e.push(l.text),t.push({from:l.from,to:Math.min(r.doc.length,l.to+1)})),i=l.number}n=!0}return{text:Cp(r,Bb,e.join(r.lineBreak)),ranges:t,linewise:n}}let v1=null;di.copy=di.cut=(r,e)=>{let{text:t,ranges:n,linewise:i}=H9(r.state);if(!t&&!i)return!1;v1=i?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=SR?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(U9(r,t),!1)};const ER=As.define();function TR(r,e){let t=[];for(let n of r.facet(nR)){let i=n(r,e);i&&t.push(i)}return t.length?r.update({effects:t,annotations:ER.of(!0)}):null}function CR(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=TR(r.state,e);t?r.dispatch(t):r.update([])}},10)}Jn.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),CR(r)};Jn.blur=r=>{r.observer.clearSelectionRange(),CR(r)};Jn.compositionstart=Jn.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};Jn.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,qe.chrome&&qe.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};Jn.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};di.beforeinput=(r,e)=>{var t,n;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(r.inputState.insertingText=e.data,r.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&r.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),l=e.getTargetRanges();if(s&&l.length){let u=l[0],c=r.posAtDOM(u.startContainer,u.startOffset),h=r.posAtDOM(u.endContainer,u.endOffset);return Pb(r,{from:c,to:h,insert:r.state.toText(s)},null),!0}}let i;if(qe.chrome&&qe.android&&(i=xR.find(s=>s.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return qe.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),qe.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>Jn.compositionend(r,e),20),!1};const VA=new Set;function q9(r){VA.has(r)||(VA.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const $A=["pre-wrap","normal","pre-line","break-spaces"];let Fo=!1;function GA(){Fo=!1}class W9{constructor(e){this.lineWrapping=e,this.doc=Mt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return $A.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,n,i,s,l){let u=$A.indexOf(e)>-1,c=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=u;if(this.lineWrapping=u,this.lineHeight=t,this.charWidth=n,this.textHeight=i,this.lineLength=s,c){this.heightSamples={};for(let h=0;h<l.length;h++){let d=l[h];d<0?h++:this.heightSamples[Math.floor(d*10)]=!0}}return c}}class V9{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ci{constructor(e,t,n,i,s){this.from=e,this.length=t,this.top=n,this.height=i,this._content=s}get type(){return typeof this._content=="number"?jr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof dl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ci(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Yt=(function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r})(Yt||(Yt={}));const xd=.001;class en{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>xd&&(Fo=!0),this.height=e)}replace(e,t,n){return en.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let s=this,l=n.doc;for(let u=i.length-1;u>=0;u--){let{fromA:c,toA:h,fromB:d,toB:m}=i[u],g=s.lineAt(c,Yt.ByPosNoHeight,n.setDoc(t),0,0),y=g.to>=h?g:s.lineAt(h,Yt.ByPosNoHeight,n,0,0);for(m+=y.to-h,h=y.to;u>0&&g.from<=i[u-1].toA;)c=i[u-1].fromA,d=i[u-1].fromB,u--,c<g.from&&(g=s.lineAt(c,Yt.ByPosNoHeight,n,0,0));d+=g.from-c,c=g.from;let b=Fb.build(n.setDoc(l),e,d,m);s=Pd(s,s.replace(c,h,b))}return s.updateHeight(n,0)}static empty(){return new Dn(0,0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,i=0,s=0;for(;;)if(t==n)if(i>s*2){let u=e[t-1];u.break?e.splice(--t,1,u.left,null,u.right):e.splice(--t,1,u.left,u.right),n+=1+u.break,i-=u.size}else if(s>i*2){let u=e[n];u.break?e.splice(n,1,u.left,null,u.right):e.splice(n,1,u.left,u.right),n+=2+u.break,s-=u.size}else break;else if(i<s){let u=e[t++];u&&(i+=u.size)}else{let u=e[--n];u&&(s+=u.size)}let l=0;return e[t-1]==null?(l=1,t--):e[t]==null&&(l=1,n++),new G9(en.of(e.slice(0,t)),l,en.of(e.slice(n)))}}function Pd(r,e){return r==e?r:(r.constructor!=e.constructor&&(Fo=!0),e)}en.prototype.size=1;const $9=it.replace({});class OR extends en{constructor(e,t,n){super(e,t),this.deco=n,this.spaceAbove=0}mainBlock(e,t){return new ci(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,n,i){return this.spaceAbove&&e<n+this.spaceAbove?new ci(i,0,n,this.spaceAbove,$9):this.mainBlock(n,i)}lineAt(e,t,n,i,s){let l=this.mainBlock(i,s);return this.spaceAbove?this.blockAt(0,n,i,s).join(l):l}forEachLine(e,t,n,i,s,l){e<=s+this.length&&t>=s&&l(this.lineAt(0,Yt.ByPos,n,i,s))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Dn extends OR{constructor(e,t,n){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=n}mainBlock(e,t){return new ci(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,t,n){let i=n[0];return n.length==1&&(i instanceof Dn||i instanceof Lr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Lr?i=new Dn(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):en.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setMeasuredHeight(i):(n||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Lr extends en{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-n+1,l,u=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*s);l=c/s,this.length>s+1&&(u=(this.height-c)/(this.length-s-1))}else l=this.height/s;return{firstLine:n,lastLine:i,perLine:l,perChar:u}}blockAt(e,t,n,i){let{firstLine:s,lastLine:l,perLine:u,perChar:c}=this.heightMetrics(t,i);if(t.lineWrapping){let h=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),d=t.doc.lineAt(h),m=u+d.length*c,g=Math.max(n,e-m/2);return new ci(d.from,d.length,g,m,0)}else{let h=Math.max(0,Math.min(l-s,Math.floor((e-n)/u))),{from:d,length:m}=t.doc.line(s+h);return new ci(d,m,n+u*h,u,0)}}lineAt(e,t,n,i,s){if(t==Yt.ByHeight)return this.blockAt(e,n,i,s);if(t==Yt.ByPosNoHeight){let{from:y,to:b}=n.doc.lineAt(e);return new ci(y,b-y,0,0,0)}let{firstLine:l,perLine:u,perChar:c}=this.heightMetrics(n,s),h=n.doc.lineAt(e),d=u+h.length*c,m=h.number-l,g=i+u*m+c*(h.from-s-m);return new ci(h.from,h.length,Math.max(i,Math.min(g,i+this.height-d)),d,0)}forEachLine(e,t,n,i,s,l){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:u,perLine:c,perChar:h}=this.heightMetrics(n,s);for(let d=e,m=i;d<=t;){let g=n.doc.lineAt(d);if(d==e){let b=g.number-u;m+=c*b+h*(e-s-b)}let y=c+h*g.length;l(new ci(g.from,g.length,m,y,0)),m+=y,d=g.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let s=n[n.length-1];s instanceof Lr?n[n.length-1]=new Lr(s.length+i):n.push(null,new Lr(i-1))}if(e>0){let s=n[0];s instanceof Lr?n[0]=new Lr(e+s.length):n.unshift(new Lr(e-1),null)}return en.of(n)}decomposeLeft(e,t){t.push(new Lr(e-1),null)}decomposeRight(e,t){t.push(null,new Lr(this.length-e-1))}updateHeight(e,t=0,n=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let l=[],u=Math.max(t,i.from),c=-1;for(i.from>t&&l.push(new Lr(i.from-t-1).updateHeight(e,t));u<=s&&i.more;){let d=e.doc.lineAt(u).length;l.length&&l.push(null);let m=i.heights[i.index++],g=0;m<0&&(g=-m,m=i.heights[i.index++]),c==-1?c=m:Math.abs(m-c)>=xd&&(c=-2);let y=new Dn(d,m,g);y.outdated=!1,l.push(y),u+=d+1}u<=s&&l.push(null,new Lr(s-u).updateHeight(e,u));let h=en.of(l);return(c<0||Math.abs(h.height-this.height)>=xd||Math.abs(c-this.heightMetrics(e,t).perLine)>=xd)&&(Fo=!0),Pd(this,h)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class G9 extends en{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,i){let s=n+this.left.height;return e<s?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,n,i,s){let l=i+this.left.height,u=s+this.left.length+this.break,c=t==Yt.ByHeight?e<l:e<u,h=c?this.left.lineAt(e,t,n,i,s):this.right.lineAt(e,t,n,l,u);if(this.break||(c?h.to<u:h.from>u))return h;let d=t==Yt.ByPosNoHeight?Yt.ByPosNoHeight:Yt.ByPos;return c?h.join(this.right.lineAt(u,d,n,l,u)):this.left.lineAt(u,d,n,i,s).join(h)}forEachLine(e,t,n,i,s,l){let u=i+this.left.height,c=s+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,t,n,i,s,l),t>=c&&this.right.forEachLine(e,t,n,u,c,l);else{let h=this.lineAt(c,Yt.ByPos,n,i,s);e<h.from&&this.left.forEachLine(e,h.from-1,n,i,s,l),h.to>=e&&h.from<=t&&l(h),t>h.to&&this.right.forEachLine(h.to+1,t,n,u,c,l)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let u of n)s.push(u);if(e>0&&QA(s,l-1),t<this.length){let u=s.length;this.decomposeRight(t,s),QA(s,u)}return en.of(s)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?en.of(this.break?[e,null,t]:[e,t]):(this.left=Pd(this.left,e),this.right=Pd(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:s,right:l}=this,u=t+s.length+this.break,c=null;return i&&i.from<=t+s.length&&i.more?c=s=s.updateHeight(e,t,n,i):s.updateHeight(e,t,n),i&&i.from<=u+l.length&&i.more?c=l=l.updateHeight(e,u,n,i):l.updateHeight(e,u,n),c?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function QA(r,e){let t,n;r[e]==null&&(t=r[e-1])instanceof Lr&&(n=r[e+1])instanceof Lr&&r.splice(e-1,3,new Lr(t.length+1+n.length))}const Q9=5;class Fb{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Dn?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Dn(n-this.pos,-1,0)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,s=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=t-e;n.block?this.addBlock(new OR(l,i,n)):(l||s||i>=Q9)&&this.addLineDeco(i,s,l)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Dn(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let n=new Lr(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Dn)return e;let t=new Dn(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Dn)&&!this.isCovered?this.nodes.push(new Dn(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof Dn&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,t,n,i){let s=new Fb(n,e);return yt.spans(t,n,i,s,0),s.finish(n)}}function X9(r,e,t){let n=new Y9;return yt.compare(r,e,t,n,0),n.changes}class Y9{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&To(e,t,this.changes,5)}}function K9(r,e){let t=r.getBoundingClientRect(),n=r.ownerDocument,i=n.defaultView||window,s=Math.max(0,t.left),l=Math.min(i.innerWidth,t.right),u=Math.max(0,t.top),c=Math.min(i.innerHeight,t.bottom);for(let h=r.parentNode;h&&h!=n.body;)if(h.nodeType==1){let d=h,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let g=d.getBoundingClientRect();s=Math.max(s,g.left),l=Math.min(l,g.right),u=Math.max(u,g.top),c=Math.min(h==r.parentNode?i.innerHeight:c,g.bottom)}h=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:s-t.left,right:Math.max(s,l)-t.left,top:u-(t.top+e),bottom:Math.max(u,c)-(t.top+e)}}function Z9(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function J9(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class E0{constructor(e,t,n,i){this.from=e,this.to=t,this.size=n,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=t[n];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return it.replace({widget:new ez(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class ez extends Es{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class XA{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=YA,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Qt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(zb).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new W9(t),this.stateDeco=e.facet(Dc).filter(n=>typeof n!="function"),this.heightMap=en.empty().applyChanges(this.stateDeco,Mt.empty,this.heightOracle.setDoc(e.doc),[new Xn(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=it.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some(({from:s,to:l})=>i>=s&&i<=l)){let{from:s,to:l}=this.lineBlockAt(i);e.push(new Bh(s,l))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?YA:new Ib(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(fc(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Dc).filter(d=>typeof d!="function");let i=e.changedRanges,s=Xn.extendWithRanges(i,X9(n,this.stateDeco,e?e.changes:xr.empty(this.state.doc.length))),l=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);GA(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||Fo)&&(e.flags|=2),u?(this.scrollAnchorPos=e.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let c=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<c.from||t.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,t));let h=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(sR)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?Qt.RTL:Qt.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),u=t.getBoundingClientRect(),c=l||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let h=0,d=0;if(u.width&&u.height){let{scaleX:T,scaleY:_}=H_(t,u);(T>.005&&Math.abs(this.scaleX-T)>.005||_>.005&&Math.abs(this.scaleY-_)>.005)&&(this.scaleX=T,this.scaleY=_,h|=16,l=c=!0)}let m=(parseInt(n.paddingTop)||0)*this.scaleY,g=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=W_(e.scrollDOM);let b=(this.printing?J9:K9)(t,this.paddingTop),w=b.top-this.pixelViewport.top,E=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let x=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(x!=this.inView&&(this.inView=x,x&&(c=!0)),!this.inView&&!this.scrollTarget&&!Z9(e.dom))return 0;let k=u.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=u.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),c){let T=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(T)&&(l=!0),l||i.lineWrapping&&Math.abs(k-this.contentDOMWidth)>i.charWidth){let{lineHeight:_,charWidth:H,textHeight:M}=e.docView.measureTextSize();l=_>0&&i.refresh(s,_,H,M,Math.max(5,k/H),T),l&&(e.docView.minWidth=0,h|=16)}w>0&&E>0?d=Math.max(w,E):w<0&&E<0&&(d=Math.min(w,E)),GA();for(let _ of this.viewports){let H=_.from==this.viewport.from?T:e.docView.measureVisibleLineHeights(_);this.heightMap=(l?en.empty().applyChanges(this.stateDeco,Mt.empty,this.heightOracle,[new Xn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new V9(_.from,H))}Fo&&(h|=2)}let O=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return O&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),h|=this.updateForViewport()),(h&2||O)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:u}=this,c=new Bh(i.lineAt(l-n*1e3,Yt.ByHeight,s,0,0).from,i.lineAt(u+(1-n)*1e3,Yt.ByHeight,s,0,0).to);if(t){let{head:h}=t.range;if(h<c.from||h>c.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=i.lineAt(h,Yt.ByPos,s,0,0),g;t.y=="center"?g=(m.top+m.bottom)/2-d/2:t.y=="start"||t.y=="nearest"&&h<c.from?g=m.top:g=m.bottom-d,c=new Bh(i.lineAt(g-1e3/2,Yt.ByHeight,s,0,0).from,i.lineAt(g+d+1e3/2,Yt.ByHeight,s,0,0).to)}}return c}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Bh(this.heightMap.lineAt(n,Yt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Yt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Yt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Yt.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:u}=this;return(e==0||i<=l-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||s>=u+Math.max(10,Math.min(n,250)))&&i>l-2*1e3&&s<u+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let i of e)t.touchesRange(i.from,i.to)||n.push(new E0(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,s=i>>1,l=i<<1;if(this.defaultTextDirection!=Qt.LTR&&!n)return[];let u=[],c=(d,m,g,y)=>{if(m-d<s)return;let b=this.state.selection.main,w=[b.from];b.empty||w.push(b.to);for(let x of w)if(x>d&&x<m){c(d,x-10,g,y),c(x+10,m,g,y);return}let E=rz(e,x=>x.from>=g.from&&x.to<=g.to&&Math.abs(x.from-d)<s&&Math.abs(x.to-m)<s&&!w.some(k=>x.from<k&&x.to>k));if(!E){if(m<g.to&&t&&n&&t.visibleRanges.some(O=>O.from<=m&&O.to>=m)){let O=t.moveToLineBoundary(Ne.cursor(m),!1,!0).head;O>d&&(m=O)}let x=this.gapSize(g,d,m,y),k=n||x<2e6?x:2e6;E=new E0(d,m,x,k)}u.push(E)},h=d=>{if(d.length<l||d.type!=jr.Text)return;let m=tz(d.from,d.to,this.stateDeco);if(m.total<l)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,y,b;if(n){let w=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,E,x;if(g!=null){let k=jh(m,g),O=((this.visibleBottom-this.visibleTop)/2+w)/d.height;E=k-O,x=k+O}else E=(this.visibleTop-d.top-w)/d.height,x=(this.visibleBottom-d.top+w)/d.height;y=zh(m,E),b=zh(m,x)}else{let w=m.total*this.heightOracle.charWidth,E=i*this.heightOracle.charWidth,x=0;if(w>2e6)for(let H of e)H.from>=d.from&&H.from<d.to&&H.size!=H.displaySize&&H.from*this.heightOracle.charWidth+x<this.pixelViewport.left&&(x=H.size-H.displaySize);let k=this.pixelViewport.left+x,O=this.pixelViewport.right+x,T,_;if(g!=null){let H=jh(m,g),M=((O-k)/2+E)/w;T=H-M,_=H+M}else T=(k-E)/w,_=(O+E)/w;y=zh(m,T),b=zh(m,_)}y>d.from&&c(d.from,y,d,m),b<d.to&&c(b,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(h):h(d);return u}gapSize(e,t,n,i){let s=jh(i,n)-jh(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){E0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=it.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];yt.spans(t,this.viewport.from,this.viewport.to,{span(s,l){n.push({from:s,to:l})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let s=0;s<n.length&&!(i&8);s++){let l=this.visibleRanges[s],u=n[s];(l.from!=u.from||l.to!=u.to)&&(i|=4,e&&e.mapPos(l.from,-1)==u.from&&e.mapPos(l.to,1)==u.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||fc(this.heightMap.lineAt(e,Yt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||fc(this.heightMap.lineAt(this.scaler.fromDOM(e),Yt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return fc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Bh{constructor(e,t){this.from=e,this.to=t}}function tz(r,e,t){let n=[],i=r,s=0;return yt.spans(t,r,e,{span(){},point(l,u){l>i&&(n.push({from:i,to:l}),s+=l-i),i=u}},20),i<e&&(n.push({from:i,to:e}),s+=e-i),{total:s,ranges:n}}function zh({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(r*t);for(let i=0;;i++){let{from:s,to:l}=e[i],u=l-s;if(n<=u)return s+n;n-=u}}function jh(r,e){let t=0;for(let{from:n,to:i}of r.ranges){if(e<=i){t+=e-n;break}t+=i-n}return t/r.total}function rz(r,e){for(let t of r)if(e(t))return t}const YA={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class Ib{constructor(e,t,n){let i=0,s=0,l=0;this.viewports=n.map(({from:u,to:c})=>{let h=t.lineAt(u,Yt.ByPos,e,0,0).top,d=t.lineAt(c,Yt.ByPos,e,0,0).bottom;return i+=d-h,{from:u,to:c,top:h,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let u of this.viewports)u.domTop=l+(u.top-s)*this.scale,l=u.domBottom=u.domTop+(u.bottom-u.top),s=u.bottom}toDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return n+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,i=s.domBottom}}eq(e){return e instanceof Ib?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function fc(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),n=e.toDOM(r.bottom);return new ci(r.from,r.length,t,n-t,Array.isArray(r._content)?r._content.map(i=>fc(i,e)):r._content)}const Ph=We.define({combine:r=>r.join(" ")}),b1=We.define({combine:r=>r.indexOf(!0)>-1}),x1=fa.newName(),_R=fa.newName(),RR=fa.newName(),MR={"&light":"."+_R,"&dark":"."+RR};function w1(r,e,t){return new fa(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return r;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):r+" "+n}})}const nz=w1("."+x1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},MR),iz={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},T0=qe.ie&&qe.ie_version<=11;class sz{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new zB,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(qe.ie&&qe.ie_version<=11||qe.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&qe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(qe.chrome&&qe.chrome_version<126)&&(this.editContext=new lz(e),e.state.facet(ps)&&(e.contentDOM.editContext=this.editContext.editContext)),T0&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(ps)?n.root.activeElement!=this.dom:!vd(this.dom,i))return;let s=i.anchorNode&&n.docView.tile.nearest(i.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(qe.ie&&qe.ie_version<=11||qe.android&&qe.chrome)&&!n.state.selection.main.empty&&i.focusNode&&yc(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Mc(e.root);if(!t)return!1;let n=qe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&az(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let i=vd(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&PB(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,iz),T0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),T0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Co(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,i=!1;for(let s of e){let l=this.readMutation(s);l&&(l.typeOver&&(i=!0),t==-1?{from:t,to:n}=l:(t=Math.min(l.from,t),n=Math.max(l.to,n)))}return{from:t,to:n,typeOver:i}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),i=this.selectionChanged&&vd(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new A9(this.view,e,t,n);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,i=vR(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type=="attributes"),e.type=="childList"){let n=KA(t,e.previousSibling||e.target.previousSibling,-1),i=KA(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ps)!=e.state.facet(ps)&&(e.view.contentDOM.editContext=e.state.facet(ps)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function KA(r,e,t){for(;e;){let n=Ar.get(e);if(n&&n.parent==r)return n;let i=e.parentNode;e=i!=r.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function ZA(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,l=r.docView.domAtPos(r.state.selection.main.anchor,1);return yc(l.node,l.offset,i,s)&&([t,n,i,s]=[i,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}}function az(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return ZA(r,i)}let t=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",n,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",n,!0),t?ZA(r,t):null}class lz{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let i=e.state.selection.main,{anchor:s,head:l}=i,u=this.toEditorPos(n.updateRangeStart),c=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:u,drifted:!1});let h=c-u>n.text.length;u==this.from&&s<this.from?u=s:c==this.to&&s>this.to&&(c=s);let d=bR(e.state.sliceDoc(u,c),n.text,(h?i.from:i.to)-u,h?"end":null);if(!d){let g=Ne.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));g.main.eq(i)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:d.from+u,to:d.toA+u,insert:Mt.of(n.text.slice(d.from,d.toB).split(`
`))};if((qe.mac||qe.android)&&m.from==l-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:u,to:c,insert:Mt.of([n.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);Pb(e,m,Ne.single(this.toEditorPos(n.selectionStart,g),this.toEditorPos(n.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,n.updateRangeStart-1),Math.min(t.text.length,n.updateRangeStart+1)))&&this.handlers.compositionend(n)},this.handlers.characterboundsupdate=n=>{let i=[],s=null;for(let l=this.toEditorPos(n.rangeStart),u=this.toEditorPos(n.rangeEnd);l<u;l++){let c=e.coordsForChar(l);s=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let s of n.getTextFormats()){let l=s.underlineStyle,u=s.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(u)){let c=this.toEditorPos(s.rangeStart),h=this.toEditorPos(s.rangeEnd);if(c<h){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(u)?1:2}px`;i.push(it.mark({attributes:{style:d}}).range(c,h))}}}e.dispatch({effects:lR.of(it.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=Mc(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,l,u,c,h)=>{if(n)return;let d=h.length-(l-s);if(i&&l>=i.to)if(i.from==s&&i.to==l&&i.insert.eq(h)){i=this.pendingContextChange=null,t+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(s+=t,l+=t,l<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+h.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),h.toString()),this.to+=d}t+=d}),i&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class He{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(s=>n(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||jB(e.parent)||document,this.viewState=new XA(e.state||wt.create(e)),e.scrollTo&&e.scrollTo.is(Nh)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(yo).map(i=>new x0(i));for(let i of this.plugins)i.update(this);this.observer=new sz(this),this.inputState=new O9(this),this.inputState.ensureHandlers(this.plugins),this.docView=new BA(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof kr?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,i,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,u=0,c=null;e.some(g=>g.annotation(ER))?(this.inputState.notifiedFocused=l,u=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,c=TR(s,l),c||(u=1));let h=this.observer.delayedAndroidKey,d=null;if(h?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(wt.phrases)!=this.state.facet(wt.phrases))return this.setState(s);i=Bd.create(this,s,e),i.flags|=u;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:y}=g.state.selection;m=new Oo(y.empty?y:Ne.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of g.effects)y.is(Nh)&&(m=y.value.clip(this.state))}this.viewState.update(i,m),this.bidiCache=Fd.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(uc)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Ph)!=i.state.facet(Ph)&&(this.viewState.mustMeasureContent=!0),(t||n||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(p1))try{g(i)}catch(y){gn(this.state,y,"update listener")}(c||d)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),d&&!vR(this,d)&&h.force&&Co(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new XA(e),this.plugins=e.facet(yo).map(n=>new x0(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new BA(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(yo),n=e.state.facet(yo);if(t!=n){let i=[];for(let s of n){let l=t.indexOf(s);if(l<0)i.push(new x0(s));else{let u=this.plugins[l];u.mustUpdate=e,i.push(u)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){gn(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(l<0)if(W_(n))s=-1,l=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(i);s=y.from,l=y.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];c&4||([this.measureRequests,h]=[h,this.measureRequests]);let d=h.map(y=>{try{return y.read(this)}catch(b){return gn(this.state,b),JA}}),m=Bd.create(this,this.state,[]),g=!1;m.flags|=c,t?t.flags|=c:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let y=0;y<h.length;y++)if(d[y]!=JA)try{let b=h[y];b.write&&b.write(d[y],this)}catch(b){gn(this.state,b)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let b=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(b>1||b<-1){i=i+b,n.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let u of this.state.facet(p1))u(t)}get themeClasses(){return x1+" "+(this.state.facet(b1)?RR:_R)+" "+this.state.facet(Ph)}updateAttrs(){let e=eE(this,oR,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ps)?"true":"false",class:"cm-content",style:`${qe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),eE(this,zb,t);let n=this.observer.ignore(()=>{let i=_A(this.contentDOM,this.contentAttrs,t),s=_A(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let i of n.effects)if(i.is(He.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(uc);let e=this.state.facet(He.cspNonce);fa.mount(this.root,this.styleModules.concat(nz).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return A0(this,e,zA(this,e,t,n))}moveByGroup(e,t){return A0(this,e,zA(this,e,t,n=>b9(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=n[t?n.length-1:0];return Ne.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,n=!0){return v9(this,e,t,n)}moveVertically(e,t,n){return A0(this,e,x9(this,e,t,n))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let n=y1(this,e,t);return n&&n.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),y1(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),l=s[ms.find(s,e-i.from,-1,t)];return Ld(n,l.dir==Qt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(iR)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>oz)return Y_(e.length);let t=this.textDirectionAt(e.from),n;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||X_(s.isolates,n=NA(this,e))))return s.order;n||(n=NA(this,e));let i=VB(e.text,t,n);return this.bidiCache.push(new Fd(e.from,e.to,t,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||qe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{q_(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Nh.of(new Oo(typeof e=="number"?Ne.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return Nh.of(new Oo(Ne.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return vr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return vr.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=fa.newName(),i=[Ph.of(n),uc.of(w1(`.${n}`,e))];return t&&t.dark&&i.push(b1.of(!0)),i}static baseTheme(e){return bl.lowest(uc.of(w1("."+x1,e,MR)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),i=n&&Ar.get(n)||Ar.get(e);return((t=i?.root)===null||t===void 0?void 0:t.view)||null}}He.styleModule=uc;He.inputHandler=rR;He.clipboardInputFilter=Lb;He.clipboardOutputFilter=Bb;He.scrollHandler=aR;He.focusChangeEffect=nR;He.perLineTextDirection=iR;He.exceptionSink=tR;He.updateListener=p1;He.editable=ps;He.mouseSelectionStyle=eR;He.dragMovesSelection=J_;He.clickAddsSelectionRange=Z_;He.decorations=Dc;He.blockWrappers=uR;He.outerDecorations=cR;He.atomicRanges=rf;He.bidiIsolatedRanges=fR;He.scrollMargins=hR;He.darkTheme=b1;He.cspNonce=We.define({combine:r=>r.length?r[0]:""});He.contentAttributes=zb;He.editorAttributes=oR;He.lineWrapping=He.contentAttributes.of({class:"cm-lineWrapping"});He.announce=ot.define();const oz=4096,JA={};class Fd{constructor(e,t,n,i,s,l){this.from=e,this.to=t,this.dir=n,this.isolates=i,this.fresh=s,this.order=l}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:Qt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==i&&!t.touchesRange(l.from,l.to)&&n.push(new Fd(t.mapPos(l.from,1),t.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return n}}function eE(r,e,t){for(let n=r.state.facet(e),i=n.length-1;i>=0;i--){let s=n[i],l=typeof s=="function"?s(r):s;l&&Mb(l,t)}return t}const uz=qe.mac?"mac":qe.windows?"win":qe.linux?"linux":"key";function cz(r,e){const t=r.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let i,s,l,u;for(let c=0;c<t.length-1;++c){const h=t[c];if(/^(cmd|meta|m)$/i.test(h))u=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e=="mac"?u=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),u&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function Fh(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const fz=bl.default(He.domEventHandlers({keydown(r,e){return DR(NR(e.state),r,e,"editor")}})),Ub=We.define({enables:fz}),tE=new WeakMap;function NR(r){let e=r.facet(Ub),t=tE.get(e);return t||tE.set(e,t=pz(e.reduce((n,i)=>n.concat(i),[]))),t}function hz(r,e,t){return DR(NR(r.state),e,r,t)}let na=null;const dz=4e3;function pz(r,e=uz){let t=Object.create(null),n=Object.create(null),i=(l,u)=>{let c=n[l];if(c==null)n[l]=u;else if(c!=u)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,u,c,h,d)=>{var m,g;let y=t[l]||(t[l]=Object.create(null)),b=u.split(/ (?!$)/).map(x=>cz(x,e));for(let x=1;x<b.length;x++){let k=b.slice(0,x).join(" ");i(k,!0),y[k]||(y[k]={preventDefault:!0,stopPropagation:!1,run:[O=>{let T=na={view:O,prefix:k,scope:l};return setTimeout(()=>{na==T&&(na=null)},dz),!0}]})}let w=b.join(" ");i(w,!1);let E=y[w]||(y[w]={preventDefault:!1,stopPropagation:!1,run:((g=(m=y._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});c&&E.run.push(c),h&&(E.preventDefault=!0),d&&(E.stopPropagation=!0)};for(let l of r){let u=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let h of u){let d=t[h]||(t[h]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=l;for(let g in d)d[g].run.push(y=>m(y,S1))}let c=l[e]||l.key;if(c)for(let h of u)s(h,c,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(h,"Shift-"+c,l.shift,l.preventDefault,l.stopPropagation)}return t}let S1=null;function DR(r,e,t,n){S1=e;let i=OB(e),s=dn(i,0),l=Mi(s)==i.length&&i!=" ",u="",c=!1,h=!1,d=!1;na&&na.view==t&&na.scope==n&&(u=na.prefix+" ",wR.indexOf(e.keyCode)<0&&(h=!0,na=null));let m=new Set,g=E=>{if(E){for(let x of E.run)if(!m.has(x)&&(m.add(x),x(t)))return E.stopPropagation&&(d=!0),!0;E.preventDefault&&(E.stopPropagation&&(d=!0),h=!0)}return!1},y=r[n],b,w;return y&&(g(y[u+Fh(i,e,!l)])?c=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(qe.windows&&e.ctrlKey&&e.altKey)&&!(qe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=ha[e.keyCode])&&b!=i?(g(y[u+Fh(b,e,!0)])||e.shiftKey&&(w=_c[e.keyCode])!=i&&w!=b&&g(y[u+Fh(w,e,!1)]))&&(c=!0):l&&e.shiftKey&&g(y[u+Fh(i,e,!0)])&&(c=!0),!c&&g(y._any)&&(c=!0)),h&&(c=!0),c&&d&&e.stopPropagation(),S1=null,c}class nf{constructor(e,t,n,i,s){this.className=e,this.left=t,this.top=n,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let s=LR(e);return[new nf(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return mz(e,t,n)}}function LR(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==Qt.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function rE(r,e,t,n){let i=r.coordsAtPos(e,t*2);if(!i)return n;let s=r.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,u=r.posAtCoords({x:s.left+1,y:l}),c=r.posAtCoords({x:s.right-1,y:l});return u==null||c==null?n:{from:Math.max(n.from,Math.min(u,c)),to:Math.min(n.to,Math.max(u,c))}}function mz(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let n=Math.max(t.from,r.viewport.from),i=Math.min(t.to,r.viewport.to),s=r.textDirection==Qt.LTR,l=r.contentDOM,u=l.getBoundingClientRect(),c=LR(r),h=l.querySelector(".cm-line"),d=h&&window.getComputedStyle(h),m=u.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=u.right-(d?parseInt(d.paddingRight):0),y=g1(r,n,1),b=g1(r,i,-1),w=y.type==jr.Text?y:null,E=b.type==jr.Text?b:null;if(w&&(r.lineWrapping||y.widgetLineBreaks)&&(w=rE(r,n,1,w)),E&&(r.lineWrapping||b.widgetLineBreaks)&&(E=rE(r,i,-1,E)),w&&E&&w.from==E.from&&w.to==E.to)return k(O(t.from,t.to,w));{let _=w?O(t.from,null,w):T(y,!1),H=E?O(null,t.to,E):T(b,!0),M=[];return(w||y).to<(E||b).from-(w&&E?1:0)||y.widgetLineBreaks>1&&_.bottom+r.defaultLineHeight/2<H.top?M.push(x(m,_.bottom,g,H.top)):_.bottom<H.top&&r.elementAtHeight((_.bottom+H.top)/2).type==jr.Text&&(_.bottom=H.top=(_.bottom+H.top)/2),k(_).concat(M).concat(k(H))}function x(_,H,M,Q){return new nf(e,_-c.left,H-c.top,M-_,Q-H)}function k({top:_,bottom:H,horizontal:M}){let Q=[];for(let P=0;P<M.length;P+=2)Q.push(x(M[P],_,M[P+1],H));return Q}function O(_,H,M){let Q=1e9,P=-1e9,re=[];function pe(R,ee,Y,G,ue){let ce=r.coordsAtPos(R,R==M.to?-2:2),ke=r.coordsAtPos(Y,Y==M.from?2:-2);!ce||!ke||(Q=Math.min(ce.top,ke.top,Q),P=Math.max(ce.bottom,ke.bottom,P),ue==Qt.LTR?re.push(s&&ee?m:ce.left,s&&G?g:ke.right):re.push(!s&&G?m:ke.left,!s&&ee?g:ce.right))}let U=_??M.from,X=H??M.to;for(let R of r.visibleRanges)if(R.to>U&&R.from<X)for(let ee=Math.max(R.from,U),Y=Math.min(R.to,X);;){let G=r.state.doc.lineAt(ee);for(let ue of r.bidiSpans(G)){let ce=ue.from+G.from,ke=ue.to+G.from;if(ce>=Y)break;ke>ee&&pe(Math.max(ce,ee),_==null&&ce<=U,Math.min(ke,Y),H==null&&ke>=X,ue.dir)}if(ee=G.to+1,ee>=Y)break}return re.length==0&&pe(U,_==null,X,H==null,r.textDirection),{top:Q,bottom:P,horizontal:re}}function T(_,H){let M=u.top+(H?_.top:_.bottom);return{top:M,bottom:M,horizontal:[]}}}function gz(r,e){return r.constructor==e.constructor&&r.eq(e)}class yz{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(wd)!=e.state.facet(wd)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(wd);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!gz(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[n].constructor&&i.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e,qe.safari&&qe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const wd=We.define();function BR(r){return[vr.define(e=>new yz(e,r)),wd.of(r)]}const Lc=We.define({combine(r){return Hi(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function vz(r={}){return[Lc.of(r),bz,xz,wz,sR.of(!0)]}function zR(r){return r.startState.facet(Lc)!=r.state.facet(Lc)}const bz=BR({above:!0,markers(r){let{state:e}=r,t=e.facet(Lc),n=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let l=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=i.empty?i:Ne.cursor(i.head,i.head>i.anchor?-1:1);for(let c of nf.forRange(r,l,u))n.push(c)}}return n},update(r,e){r.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=zR(r);return t&&nE(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){nE(e.state,r)},class:"cm-cursorLayer"});function nE(r,e){e.style.animationDuration=r.facet(Lc).cursorBlinkRate+"ms"}const xz=BR({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:nf.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||zR(r)},class:"cm-selectionLayer"}),wz=bl.highest(He.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),jR=ot.define({map(r,e){return r==null?null:e.mapPos(r)}}),hc=Fr.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,n)=>n.is(jR)?n.value:t,r)}}),Sz=vr.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(hc);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(hc)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(hc),t=e!=null&&r.coordsAtPos(e);if(!t)return null;let n=r.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+r.scrollDOM.scrollLeft*r.scaleX,top:t.top-n.top+r.scrollDOM.scrollTop*r.scaleY,height:t.bottom-t.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/t+"px",this.cursor.style.height=r.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(hc)!=r&&this.view.dispatch({effects:jR.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function kz(){return[hc,Sz]}function iE(r,e,t,n,i){e.lastIndex=0;for(let s=r.iterRange(t,n),l=t,u;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;u=e.exec(s.value);)i(l+u.index,u)}function Az(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let n=[];for(let{from:i,to:s}of t)i=Math.max(r.state.doc.lineAt(i).from,i-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=s:n.push({from:i,to:s});return n}class Ez{constructor(e){const{regexp:t,decoration:n,decorate:i,boundary:s,maxLength:l=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(u,c,h,d)=>i(d,h,h+u[0].length,u,c);else if(typeof n=="function")this.addMatch=(u,c,h,d)=>{let m=n(u,c,h);m&&d(h,h+u[0].length,m)};else if(n)this.addMatch=(u,c,h,d)=>d(h,h+u[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=l}createDeco(e){let t=new vs,n=t.add.bind(t);for(let{from:i,to:s}of Az(e,this.maxLength))iE(e.state.doc,this.regexp,i,s,(l,u)=>this.addMatch(u,e,l,n));return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,l,u,c)=>{c>=e.view.viewport.from&&u<=e.view.viewport.to&&(n=Math.min(u,n),i=Math.max(c,i))}),e.viewportMoved||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){for(let s of e.visibleRanges){let l=Math.max(s.from,n),u=Math.min(s.to,i);if(u>=l){let c=e.state.doc.lineAt(l),h=c.to<u?e.state.doc.lineAt(u):c,d=Math.max(s.from,c.from),m=Math.min(s.to,h.to);if(this.boundary){for(;l>c.from;l--)if(this.boundary.test(c.text[l-1-c.from])){d=l;break}for(;u<h.to;u++)if(this.boundary.test(h.text[u-h.from])){m=u;break}}let g=[],y,b=(w,E,x)=>g.push(x.range(w,E));if(c==h)for(this.regexp.lastIndex=d-c.from;(y=this.regexp.exec(c.text))&&y.index<m-c.from;)this.addMatch(y,e,y.index+c.from,b);else iE(e.state.doc,this.regexp,d,m,(w,E)=>this.addMatch(E,e,w,b));t=t.update({filterFrom:d,filterTo:m,filter:(w,E)=>w<d||E>m,add:g})}}return t}}const k1=/x/.unicode!=null?"gu":"g",Tz=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,k1),Cz={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let C0=null;function Oz(){var r;if(C0==null&&typeof document<"u"&&document.body){let e=document.body.style;C0=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return C0||!1}const Sd=We.define({combine(r){let e=Hi(r,{render:null,specialChars:Tz,addSpecialChars:null});return(e.replaceTabs=!Oz())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,k1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,k1)),e}});function _z(r={}){return[Sd.of(r),Rz()]}let sE=null;function Rz(){return sE||(sE=vr.fromClass(class{constructor(r){this.view=r,this.decorations=it.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(Sd)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new Ez({regexp:r.specialChars,decoration:(e,t,n)=>{let{doc:i}=t.state,s=dn(e[0],0);if(s==9){let l=i.lineAt(n),u=t.state.tabSize,c=Ko(l.text,u,n-l.from);return it.replace({widget:new Lz((u-c%u)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=it.replace({widget:new Dz(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(Sd);r.startState.facet(Sd)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const Mz="";function Nz(r){return r>=32?Mz:r==10?"":String.fromCharCode(9216+r)}class Dz extends Es{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Nz(this.code),n=e.state.phrase("Control character")+" "+(Cz[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=n,s.setAttribute("aria-label",n),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Lz extends Es{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Bz(){return jz}const zz=it.line({class:"cm-activeLine"}),jz=vr.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let n of r.state.selection.ranges){let i=r.lineBlockAt(n.head);i.from>e&&(t.push(zz.range(i.from)),e=i.from)}return it.set(t)}},{decorations:r=>r.decorations}),A1=2e3;function Pz(r,e,t){let n=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>A1||t.off>A1||e.col<0||t.col<0){let l=Math.min(e.off,t.off),u=Math.max(e.off,t.off);for(let c=n;c<=i;c++){let h=r.doc.line(c);h.length<=u&&s.push(Ne.range(h.from+l,h.to+u))}}else{let l=Math.min(e.col,t.col),u=Math.max(e.col,t.col);for(let c=n;c<=i;c++){let h=r.doc.line(c),d=n1(h.text,l,r.tabSize,!0);if(d<0)s.push(Ne.cursor(h.to));else{let m=n1(h.text,u,r.tabSize);s.push(Ne.range(h.from+d,h.from+m))}}}return s}function Fz(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function aE(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),n=r.state.doc.lineAt(t),i=t-n.from,s=i>A1?-1:i==n.length?Fz(r,e.clientX):Ko(n.text,r.state.tabSize,t-n.from);return{line:n.number,col:s,off:i}}function Iz(r,e){let t=aE(r,e),n=r.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),l=i.state.doc.lineAt(s);t={line:l.number,col:t.col,off:Math.min(t.off,l.length)},n=n.map(i.changes)}},get(i,s,l){let u=aE(r,i);if(!u)return n;let c=Pz(r.state,t,u);return c.length?l?Ne.create(c.concat(n.ranges)):Ne.create(c):n}}:null}function Uz(r){let e=(t=>t.altKey&&t.button==0);return He.mouseSelectionStyle.of((t,n)=>e(n)?Iz(t,n):null)}const Hz={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},qz={style:"cursor: crosshair"};function Wz(r={}){let[e,t]=Hz[r.key||"Alt"],n=vr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[n,He.contentAttributes.of(i=>{var s;return!((s=i.plugin(n))===null||s===void 0)&&s.isDown?qz:null})]}const Ih="-10000px";class PR{constructor(e,t,n,i){this.facet=t,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(l=>l);let s=null;this.tooltipViews=this.tooltips.map(l=>s=n(l,s))}update(e,t){var n;let i=e.state.facet(this.facet),s=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let l=[],u=t?[]:null;for(let c=0;c<s.length;c++){let h=s[c],d=-1;if(h){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==h.create&&(d=m)}if(d<0)l[c]=this.createTooltipView(h,c?l[c-1]:null),u&&(u[c]=!!h.above);else{let m=l[c]=this.tooltipViews[d];u&&(u[c]=t[d]),m.update&&m.update(e)}}}for(let c of this.tooltipViews)l.indexOf(c)<0&&(this.removeTooltipView(c),(n=c.destroy)===null||n===void 0||n.call(c));return t&&(u.forEach((c,h)=>t[h]=c),t.length=u.length),this.input=i,this.tooltips=s,this.tooltipViews=l,!0}}function Vz(r){let e=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const O0=We.define({combine:r=>{var e,t,n;return{position:qe.ios?"absolute":((e=r.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=r.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||Vz}}}),lE=new WeakMap,Hb=vr.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(O0);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new PR(r,qb,(t,n)=>this.createTooltip(t,n),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,n=r.state.facet(O0);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),n=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Ih,t.dom.style.left="0px",this.container.insertBefore(t.dom,n),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(r=n.destroy)===null||r===void 0||r.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(qe.safari){let l=s.getBoundingClientRect();t=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(r=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=jb(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,l)=>{let u=this.manager.tooltipViews[l];return u.getCoords?u.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(O0).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{visible:t,space:n,scaleX:i,scaleY:s}=r,l=[];for(let u=0;u<this.manager.tooltips.length;u++){let c=this.manager.tooltips[u],h=this.manager.tooltipViews[u],{dom:d}=h,m=r.pos[u],g=r.size[u];if(!m||c.clip!==!1&&(m.bottom<=Math.max(t.top,n.top)||m.top>=Math.min(t.bottom,n.bottom)||m.right<Math.max(t.left,n.left)-.1||m.left>Math.min(t.right,n.right)+.1)){d.style.top=Ih;continue}let y=c.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,b=y?7:0,w=g.right-g.left,E=(e=lE.get(h))!==null&&e!==void 0?e:g.bottom-g.top,x=h.offset||Gz,k=this.view.textDirection==Qt.LTR,O=g.width>n.right-n.left?k?n.left:n.right-g.width:k?Math.max(n.left,Math.min(m.left-(y?14:0)+x.x,n.right-w)):Math.min(Math.max(n.left,m.left-w+(y?14:0)-x.x),n.right-w),T=this.above[u];!c.strictSide&&(T?m.top-E-b-x.y<n.top:m.bottom+E+b+x.y>n.bottom)&&T==n.bottom-m.bottom>m.top-n.top&&(T=this.above[u]=!T);let _=(T?m.top-n.top:n.bottom-m.bottom)-b;if(_<E&&h.resize!==!1){if(_<this.view.defaultLineHeight){d.style.top=Ih;continue}lE.set(h,E),d.style.height=(E=_)/s+"px"}else d.style.height&&(d.style.height="");let H=T?m.top-E-b-x.y:m.bottom+b+x.y,M=O+w;if(h.overlap!==!0)for(let Q of l)Q.left<M&&Q.right>O&&Q.top<H+E&&Q.bottom>H&&(H=T?Q.top-E-2-b:Q.bottom+b+2);if(this.position=="absolute"?(d.style.top=(H-r.parent.top)/s+"px",oE(d,(O-r.parent.left)/i)):(d.style.top=H/s+"px",oE(d,O/i)),y){let Q=m.left+(k?x.x:-x.x)-(O+14-7);y.style.left=Q/i+"px"}h.overlap!==!0&&l.push({left:O,top:H,right:M,bottom:H+E}),d.classList.toggle("cm-tooltip-above",T),d.classList.toggle("cm-tooltip-below",!T),h.positioned&&h.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Ih}},{eventObservers:{scroll(){this.maybeMeasure()}}});function oE(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const $z=He.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Gz={x:0,y:0},qb=We.define({enables:[Hb,$z]}),Id=We.define({combine:r=>r.reduce((e,t)=>e.concat(t),[])});class Op{static create(e){return new Op(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new PR(e,Id,(t,n)=>this.createHostedView(t,n),t=>t.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Qz=qb.compute([Id],r=>{let e=r.facet(Id);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:Op.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Xz{constructor(e,t,n,i,s){this.view=e,this.source=t,this.field=n,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.tile.nearest(t.target);if(!n)return;let i,s=1;if(n.isWidget())i=n.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let u=e.coordsAtPos(i);if(!u||t.y<u.top||t.y>u.bottom||t.x<u.left-e.defaultCharacterWidth||t.x>u.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),h=c&&c.dir==Qt.RTL?-1:1;s=t.x<u.left?-h:h}let l=this.source(e,i,s);if(l?.then){let u=this.pending={pos:i};l.then(c=>{this.pending==u&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>gn(e.state,c,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(Hb),t=e?e.manager.tooltips.findIndex(n=>n.create==Op.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!Yz(s.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,u=(n=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:l;(l==u?this.view.posAtCoords(this.lastMove)!=l:!Kz(this.view,l,u,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Uh=4;function Yz(r,e){let{left:t,right:n,top:i,bottom:s}=r.getBoundingClientRect(),l;if(l=r.querySelector(".cm-tooltip-arrow")){let u=l.getBoundingClientRect();i=Math.min(u.top,i),s=Math.max(u.bottom,s)}return e.clientX>=t-Uh&&e.clientX<=n+Uh&&e.clientY>=i-Uh&&e.clientY<=s+Uh}function Kz(r,e,t,n,i,s){let l=r.scrollDOM.getBoundingClientRect(),u=r.documentTop+r.documentPadding.top+r.contentHeight;if(l.left>n||l.right<n||l.top>i||Math.min(l.bottom,u)<i)return!1;let c=r.posAtCoords({x:n,y:i},!1);return c>=e&&c<=t}function Zz(r,e={}){let t=ot.define(),n=Fr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(s,l))),s.docChanged)){let l=[];for(let u of i){let c=s.changes.mapPos(u.pos,-1,Kr.TrackDel);if(c!=null){let h=Object.assign(Object.create(null),u);h.pos=c,h.end!=null&&(h.end=s.changes.mapPos(h.end)),l.push(h)}}i=l}for(let l of s.effects)l.is(t)&&(i=l.value),l.is(Jz)&&(i=[]);return i},provide:i=>Id.from(i)});return{active:n,extension:[n,vr.define(i=>new Xz(i,r,n,t,e.hoverTime||300)),Qz]}}function FR(r,e){let t=r.plugin(Hb);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const Jz=ot.define(),uE=We.define({combine(r){let e,t;for(let n of r)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Bc(r,e){let t=r.plugin(IR),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const IR=vr.fromClass(class{constructor(r){this.input=r.state.facet(zc),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(uE);this.top=new Hh(r,!0,e.topContainer),this.bottom=new Hh(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(uE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Hh(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Hh(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(zc);if(t!=this.input){let n=t.filter(c=>c),i=[],s=[],l=[],u=[];for(let c of n){let h=this.specs.indexOf(c),d;h<0?(d=c(r.view),u.push(d)):(d=this.panels[h],d.update&&d.update(r)),i.push(d),(d.top?s:l).push(d)}this.specs=n,this.panels=i,this.top.sync(s),this.bottom.sync(l);for(let c of u)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let n of this.panels)n.update&&n.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>He.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Hh{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=cE(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=cE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function cE(r){let e=r.nextSibling;return r.remove(),e}const zc=We.define({enables:IR});class xs extends ca{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}xs.prototype.elementClass="";xs.prototype.toDOM=void 0;xs.prototype.mapMode=Kr.TrackBefore;xs.prototype.startSide=xs.prototype.endSide=-1;xs.prototype.point=!0;const kd=We.define(),ej=We.define(),tj={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>yt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},bc=We.define();function rj(r){return[UR(),bc.of({...tj,...r})]}const fE=We.define({combine:r=>r.some(e=>e)});function UR(r){return[nj]}const nj=vr.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(bc).map(e=>new dE(r,e)),this.fixed=!r.state.facet(fE);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}if(r.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(fE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=yt.iter(this.view.state.facet(kd),this.view.viewport.from),n=[],i=this.gutters.map(s=>new ij(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(s.type)){let l=!0;for(let u of s.type)if(u.type==jr.Text&&l){E1(t,n,u.from);for(let c of i)c.line(this.view,u,n);l=!1}else if(u.widget)for(let c of i)c.widget(this.view,u)}else if(s.type==jr.Text){E1(t,n,s.from);for(let l of i)l.line(this.view,s,n)}else if(s.widget)for(let l of i)l.widget(this.view,s);for(let s of i)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let e=r.startState.facet(bc),t=r.state.facet(bc),n=r.docChanged||r.heightChanged||r.viewportChanged||!yt.eq(r.startState.facet(kd),r.state.facet(kd),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(r)&&(n=!0);else{n=!0;let i=[];for(let s of t){let l=e.indexOf(s);l<0?i.push(new dE(this.view,s)):(this.gutters[l].update(r),i.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return n}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>He.scrollMargins.of(e=>{let t=e.plugin(r);if(!t||t.gutters.length==0||!t.fixed)return null;let n=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Qt.LTR?{left:n,right:i}:{right:n,left:i}})});function hE(r){return Array.isArray(r)?r:[r]}function E1(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class ij{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=yt.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,l=t.height/e.scaleY;if(this.i==i.elements.length){let u=new HR(e,l,s,n);i.elements.push(u),i.dom.appendChild(u.dom)}else i.elements[this.i].update(e,l,s,n);this.height=t.bottom,this.i++}line(e,t,n){let i=[];E1(this.cursor,i,t.from),n.length&&(i=i.concat(n));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),i=n?[n]:null;for(let s of e.state.facet(ej)){let l=s(e,t.widget,t);l&&(i||(i=[])).push(l)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class dE{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,i=>{let s=i.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let c=s.getBoundingClientRect();l=(c.top+c.bottom)/2}else l=i.clientY;let u=e.lineBlockAtHeight(l-e.documentTop);t.domEventHandlers[n](e,u,i)&&i.preventDefault()});this.markers=hE(t.markers(e)),t.initialSpacer&&(this.spacer=new HR(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=hE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!yt.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class HR{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),sj(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let n="cm-gutterElement",i=this.dom.firstChild;for(let s=0,l=0;;){let u=l,c=s<t.length?t[s++]:null,h=!1;if(c){let d=c.elementClass;d&&(n+=" "+d);for(let m=l;m<this.markers.length;m++)if(this.markers[m].compare(c)){u=m,h=!0;break}}else u=this.markers.length;for(;l<u;){let d=this.markers[l++];if(d.toDOM){d.destroy(i);let m=i.nextSibling;i.remove(),i=m}}if(!c)break;c.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(c.toDOM(e),i)),h&&l++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function sj(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const aj=We.define(),lj=We.define(),vo=We.define({combine(r){return Hi(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let i in t){let s=n[i],l=t[i];n[i]=s?(u,c,h)=>s(u,c,h)||l(u,c,h):l}return n}})}});class _0 extends xs{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function R0(r,e){return r.state.facet(vo).formatNumber(e,r.state)}const oj=bc.compute([vo],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(aj)},lineMarker(e,t,n){return n.some(i=>i.toDOM)?null:new _0(R0(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let i of e.state.facet(lj)){let s=i(e,t,n);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(vo)!=e.state.facet(vo),initialSpacer(e){return new _0(R0(e,pE(e.state.doc.lines)))},updateSpacer(e,t){let n=R0(t.view,pE(t.view.state.doc.lines));return n==e.number?e:new _0(n)},domEventHandlers:r.facet(vo).domEventHandlers,side:"before"}));function uj(r={}){return[vo.of(r),UR(),oj]}function pE(r){let e=9;for(;e<r;)e=e*10+9;return e}const cj=new class extends xs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},fj=kd.compute(["selection"],r=>{let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.head).from;i>t&&(t=i,e.push(cj.range(i)))}return yt.of(e)});function hj(){return fj}const qR=1024;let dj=0;class M0{constructor(e,t){this.from=e,this.to=t}}class ft{constructor(e={}){this.id=dj++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=xn.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}ft.closedBy=new ft({deserialize:r=>r.split(" ")});ft.openedBy=new ft({deserialize:r=>r.split(" ")});ft.group=new ft({deserialize:r=>r.split(" ")});ft.isolate=new ft({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});ft.contextHash=new ft({perNode:!0});ft.lookAhead=new ft({perNode:!0});ft.mounted=new ft({perNode:!0});class Ud{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[ft.mounted.id]}}const pj=Object.create(null);class xn{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):pj,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new xn(e.name||"",t,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(ft.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return n=>{for(let i=n.prop(ft.group),s=-1;s<(i?i.length:0);s++){let l=t[s<0?n.name:i[s]];if(l)return l}}}}xn.none=new xn("",Object.create(null),0,8);class Wb{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let i=null;for(let s of e){let l=s(n);if(l){i||(i=Object.assign({},n.props));let u=l[1],c=l[0];c.combine&&c.id in i&&(u=c.combine(i[c.id],u)),i[c.id]=u}}t.push(i?new xn(n.name,i,n.id,n.flags):n)}return new Wb(t)}}const qh=new WeakMap,mE=new WeakMap;var Cr;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Cr||(Cr={}));class yr{constructor(e,t,n,i,s){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,u]of s)this.props[typeof l=="number"?l:l.id]=u}}toString(){let e=Ud.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let i=n.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new C1(this.topNode,e)}cursorAt(e,t=0,n=0){let i=qh.get(this)||this.topNode,s=new C1(i);return s.moveTo(e,t),qh.set(this,s._tree),s}get topNode(){return new Zn(this,0,0,null)}resolve(e,t=0){let n=jc(qh.get(this)||this.topNode,e,t,!1);return qh.set(this,n),n}resolveInner(e,t=0){let n=jc(mE.get(this)||this.topNode,e,t,!0);return mE.set(this,n),n}resolveStack(e,t=0){return yj(this,e,t)}iterate(e){let{enter:t,leave:n,from:i=0,to:s=this.length}=e,l=e.mode||0,u=(l&Cr.IncludeAnonymous)>0;for(let c=this.cursor(l|Cr.IncludeAnonymous);;){let h=!1;if(c.from<=s&&c.to>=i&&(!u&&c.type.isAnonymous||t(c)!==!1)){if(c.firstChild())continue;h=!0}for(;h&&n&&(u||!c.type.isAnonymous)&&n(c),!c.nextSibling();){if(!c.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Gb(xn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,i)=>new yr(this.type,t,n,i,this.propValues),e.makeTree||((t,n,i)=>new yr(xn.none,t,n,i)))}static build(e){return vj(e)}}yr.empty=new yr(xn.none,[],[],0);class Vb{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Vb(this.buffer,this.index)}}class pa{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return xn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let l=[];for(;e<n;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,t,n,i,s){let{buffer:l}=this,u=-1;for(let c=e;c!=t&&!(WR(s,i,l[c+1],l[c+2])&&(u=c,n>0));c=l[c+3]);return u}slice(e,t,n){let i=this.buffer,s=new Uint16Array(t-e),l=0;for(let u=e,c=0;u<t;){s[c++]=i[u++],s[c++]=i[u++]-n;let h=s[c++]=i[u++]-n;s[c++]=i[u++]-e,l=Math.max(l,h)}return new pa(s,l,this.set)}}function WR(r,e,t,n){switch(r){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function jc(r,e,t,n){for(var i;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let l=!n&&r instanceof Zn&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=n?0:Cr.IgnoreOverlays;if(n)for(let l=r,u=l.parent;u;l=u,u=l.parent)l instanceof Zn&&l.index<0&&((i=u.enter(e,t,s))===null||i===void 0?void 0:i.from)!=l.from&&(r=u);for(;;){let l=r.enter(e,t,s);if(!l)return r;r=l}}class VR{cursor(e=0){return new C1(this,e)}getChild(e,t=null,n=null){let i=gE(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return gE(this,e,t,n)}resolve(e,t=0){return jc(this,e,t,!1)}resolveInner(e,t=0){return jc(this,e,t,!0)}matchContext(e){return T1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}get node(){return this}get next(){return this.parent}}class Zn extends VR{constructor(e,t,n,i){super(),this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,i,s=0){for(let l=this;;){for(let{children:u,positions:c}=l._tree,h=t>0?u.length:-1;e!=h;e+=t){let d=u[e],m=c[e]+l.from;if(WR(i,n,m,m+d.length)){if(d instanceof pa){if(s&Cr.ExcludeBuffers)continue;let g=d.findChild(0,d.buffer.length,t,n-m,i);if(g>-1)return new aa(new mj(l,d,e,m),null,g)}else if(s&Cr.IncludeAnonymous||!d.type.isAnonymous||$b(d)){let g;if(!(s&Cr.IgnoreMounts)&&(g=Ud.get(d))&&!g.overlay)return new Zn(g.tree,m,e,l);let y=new Zn(d,m,e,l);return s&Cr.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(t<0?d.children.length-1:0,t,n,i)}}}if(s&Cr.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+t:e=t<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,n=0){let i;if(!(n&Cr.IgnoreOverlays)&&(i=Ud.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:l,to:u}of i.overlay)if((t>0?l<=s:l<s)&&(t<0?u>=s:u>s))return new Zn(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function gE(r,e,t,n){let i=r.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let l=!1;!l;)if(l=i.type.is(t),!i.nextSibling())return s}for(;;){if(n!=null&&i.type.is(n))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return n==null?s:[]}}function T1(r,e,t=e.length-1){for(let n=r;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class mj{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class aa extends VR{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return s<0?null:new aa(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,n=0){if(n&Cr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new aa(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new aa(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new aa(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,s=n.buffer[this.index+3];if(s>i){let l=n.buffer[this.index+1];e.push(n.slice(i,s,l)),t.push(0)}return new yr(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function $R(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>t.from||l.to<t.to)&&(t=l,e=s)}let n=t instanceof Zn&&t.index<0?null:t.parent,i=r.slice();return n?i[e]=n:i.splice(e,1),new gj(i,t)}class gj{constructor(e,t){this.heads=e,this.node=t}get next(){return $R(this.heads)}}function yj(r,e,t){let n=r.resolveInner(e,t),i=null;for(let s=n instanceof Zn?n:n.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(i||(i=[n])).push(l.resolve(e,t)),s=l}else{let l=Ud.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let u=new Zn(l.tree,l.overlay[0].from+s.from,-1,s);(i||(i=[n])).push(jc(u,e,t,!1))}}return i?$R(i):n}class C1{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Zn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof Zn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&Cr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Cr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Cr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let s=t+e,l=e<0?-1:n._tree.children.length;s!=l;s+=e){let u=n._tree.children[s];if(this.mode&Cr.IncludeAnonymous||u instanceof pa||!u.type.isAnonymous||$b(u))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;t=l,n=s+1;break e}i=this.stack[--s]}for(let i=n;i<this.stack.length;i++)t=new aa(this.buffer,t,this.stack[i]);return this.bufferNode=new aa(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return T1(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return T1(this._tree,e,i);let l=n[t.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function $b(r){return r.children.some(e=>e instanceof pa||!e.type.isAnonymous||$b(e))}function vj(r){var e;let{buffer:t,nodeSet:n,maxBufferLength:i=qR,reused:s=[],minRepeatType:l=n.types.length}=r,u=Array.isArray(t)?new Vb(t,t.length):t,c=n.types,h=0,d=0;function m(_,H,M,Q,P,re){let{id:pe,start:U,end:X,size:R}=u,ee=d,Y=h;if(R<0)if(u.next(),R==-1){let q=s[pe];M.push(q),Q.push(U-_);return}else if(R==-3){h=pe;return}else if(R==-4){d=pe;return}else throw new RangeError(`Unrecognized record size: ${R}`);let G=c[pe],ue,ce,ke=U-_;if(X-U<=i&&(ce=E(u.pos-H,P))){let q=new Uint16Array(ce.size-ce.skip),I=u.pos-ce.size,K=q.length;for(;u.pos>I;)K=x(ce.start,q,K);ue=new pa(q,X-ce.start,n),ke=ce.start-_}else{let q=u.pos-R;u.next();let I=[],K=[],se=pe>=l?pe:-1,he=0,ie=X;for(;u.pos>q;)se>=0&&u.id==se&&u.size>=0?(u.end<=ie-i&&(b(I,K,U,he,u.end,ie,se,ee,Y),he=I.length,ie=u.end),u.next()):re>2500?g(U,q,I,K):m(U,q,I,K,se,re+1);if(se>=0&&he>0&&he<I.length&&b(I,K,U,he,U,ie,se,ee,Y),I.reverse(),K.reverse(),se>-1&&he>0){let B=y(G,Y);ue=Gb(G,I,K,0,I.length,0,X-U,B,B)}else ue=w(G,I,K,X-U,ee-X,Y)}M.push(ue),Q.push(ke)}function g(_,H,M,Q){let P=[],re=0,pe=-1;for(;u.pos>H;){let{id:U,start:X,end:R,size:ee}=u;if(ee>4)u.next();else{if(pe>-1&&X<pe)break;pe<0&&(pe=R-i),P.push(U,X,R),re++,u.next()}}if(re){let U=new Uint16Array(re*4),X=P[P.length-2];for(let R=P.length-3,ee=0;R>=0;R-=3)U[ee++]=P[R],U[ee++]=P[R+1]-X,U[ee++]=P[R+2]-X,U[ee++]=ee;M.push(new pa(U,P[2]-X,n)),Q.push(X-_)}}function y(_,H){return(M,Q,P)=>{let re=0,pe=M.length-1,U,X;if(pe>=0&&(U=M[pe])instanceof yr){if(!pe&&U.type==_&&U.length==P)return U;(X=U.prop(ft.lookAhead))&&(re=Q[pe]+U.length+X)}return w(_,M,Q,P,re,H)}}function b(_,H,M,Q,P,re,pe,U,X){let R=[],ee=[];for(;_.length>Q;)R.push(_.pop()),ee.push(H.pop()+M-P);_.push(w(n.types[pe],R,ee,re-P,U-re,X)),H.push(P-M)}function w(_,H,M,Q,P,re,pe){if(re){let U=[ft.contextHash,re];pe=pe?[U].concat(pe):[U]}if(P>25){let U=[ft.lookAhead,P];pe=pe?[U].concat(pe):[U]}return new yr(_,H,M,Q,pe)}function E(_,H){let M=u.fork(),Q=0,P=0,re=0,pe=M.end-i,U={size:0,start:0,skip:0};e:for(let X=M.pos-_;M.pos>X;){let R=M.size;if(M.id==H&&R>=0){U.size=Q,U.start=P,U.skip=re,re+=4,Q+=4,M.next();continue}let ee=M.pos-R;if(R<0||ee<X||M.start<pe)break;let Y=M.id>=l?4:0,G=M.start;for(M.next();M.pos>ee;){if(M.size<0)if(M.size==-3||M.size==-4)Y+=4;else break e;else M.id>=l&&(Y+=4);M.next()}P=G,Q+=R,re+=Y}return(H<0||Q==_)&&(U.size=Q,U.start=P,U.skip=re),U.size>4?U:void 0}function x(_,H,M){let{id:Q,start:P,end:re,size:pe}=u;if(u.next(),pe>=0&&Q<l){let U=M;if(pe>4){let X=u.pos-(pe-4);for(;u.pos>X;)M=x(_,H,M)}H[--M]=U,H[--M]=re-_,H[--M]=P-_,H[--M]=Q}else pe==-3?h=Q:pe==-4&&(d=Q);return M}let k=[],O=[];for(;u.pos>0;)m(r.start||0,r.bufferStart||0,k,O,-1,0);let T=(e=r.length)!==null&&e!==void 0?e:k.length?O[0]+k[0].length:0;return new yr(c[r.topID],k.reverse(),O.reverse(),T)}const yE=new WeakMap;function Ad(r,e){if(!r.isAnonymous||e instanceof pa||e.type!=r)return 1;let t=yE.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=r||!(n instanceof yr)){t=1;break}t+=Ad(r,n)}yE.set(e,t)}return t}function Gb(r,e,t,n,i,s,l,u,c){let h=0;for(let b=n;b<i;b++)h+=Ad(r,e[b]);let d=Math.ceil(h*1.5/8),m=[],g=[];function y(b,w,E,x,k){for(let O=E;O<x;){let T=O,_=w[O],H=Ad(r,b[O]);for(O++;O<x;O++){let M=Ad(r,b[O]);if(H+M>=d)break;H+=M}if(O==T+1){if(H>d){let M=b[T];y(M.children,M.positions,0,M.children.length,w[T]+k);continue}m.push(b[T])}else{let M=w[O-1]+b[O-1].length-_;m.push(Gb(r,b,w,T,O,_,M,null,c))}g.push(_+k-s)}}return y(e,t,n,i,0),(u||c)(m,g,l)}class ll{constructor(e,t,n,i,s=!1,l=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let i=[new ll(0,e.length,e,0,!1,n)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,n=128){if(!t.length)return e;let i=[],s=1,l=e.length?e[0]:null;for(let u=0,c=0,h=0;;u++){let d=u<t.length?t[u]:null,m=d?d.fromA:1e9;if(m-c>=n)for(;l&&l.from<m;){let g=l;if(c>=g.from||m<=g.to||h){let y=Math.max(g.from,c)-h,b=Math.min(g.to,m)-h;g=y>=b?null:new ll(y,b,g.tree,g.offset+h,u>0,!!d)}if(g&&i.push(g),l.to>m)break;l=s<e.length?e[s++]:null}if(!d)break;c=d.toA,h=d.toA-d.toB}return i}}class GR{startParse(e,t,n){return typeof e=="string"&&(e=new bj(e)),n=n?n.length?n.map(i=>new M0(i.from,i.to)):[new M0(0,0)]:[new M0(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let s=i.advance();if(s)return s}}}class bj{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new ft({perNode:!0});let xj=0,fs=class O1{constructor(e,t,n,i){this.name=e,this.set=t,this.base=n,this.modified=i,this.id=xj++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof O1&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new O1(n,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new Hd(e);return n=>n.modified.indexOf(t)>-1?n:Hd.get(n.base||n,n.modified.concat(t).sort((i,s)=>i.id-s.id))}},wj=0;class Hd{constructor(e){this.name=e,this.instances=[],this.id=wj++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(u=>u.base==e&&Sj(t,u.modified));if(n)return n;let i=[],s=new fs(e.name,i,e,t);for(let u of t)u.instances.push(s);let l=kj(t);for(let u of e.set)if(!u.modified.length)for(let c of l)i.push(Hd.get(u,c));return s}}function Sj(r,e){return r.length==e.length&&r.every((t,n)=>t==e[n])}function kj(r){let e=[[]];for(let t=0;t<r.length;t++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(r[t]));return e.sort((t,n)=>n.length-t.length)}function QR(r){let e=Object.create(null);for(let t in r){let n=r[t];Array.isArray(n)||(n=[n]);for(let i of t.split(" "))if(i){let s=[],l=2,u=i;for(let m=0;;){if(u=="..."&&m>0&&m+3==i.length){l=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!g)throw new RangeError("Invalid path: "+i);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==i.length)break;let y=i[m++];if(m==i.length&&y=="!"){l=0;break}if(y!="/")throw new RangeError("Invalid path: "+i);u=i.slice(m)}let c=s.length-1,h=s[c];if(!h)throw new RangeError("Invalid path: "+i);let d=new Pc(n,l,c>0?s.slice(0,c):null);e[h]=d.sort(e[h])}}return XR.add(e)}const XR=new ft({combine(r,e){let t,n,i;for(;r||e;){if(!r||e&&r.depth>=e.depth?(i=e,e=e.next):(i=r,r=r.next),t&&t.mode==i.mode&&!i.context&&!t.context)continue;let s=new Pc(i.tags,i.mode,i.context);t?t.next=s:n=s,t=s}return n}});class Pc{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Pc.empty=new Pc([],2,null);function YR(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let l of s.tag)t[l.id]=s.class;let{scope:n,all:i=null}=e||{};return{style:s=>{let l=i;for(let u of s)for(let c of u.set){let h=t[c.id];if(h){l=l?l+" "+h:h;break}}return l},scope:n}}function Aj(r,e){let t=null;for(let n of r){let i=n.style(e);i&&(t=t?t+" "+i:i)}return t}function Ej(r,e,t,n=0,i=r.length){let s=new Tj(n,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),n,i,"",s.highlighters),s.flush(i)}class Tj{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,s){let{type:l,from:u,to:c}=e;if(u>=n||c<=t)return;l.isTop&&(s=this.highlighters.filter(y=>!y.scope||y.scope(l)));let h=i,d=Cj(e)||Pc.empty,m=Aj(s,d.tags);if(m&&(h&&(h+=" "),h+=m,d.mode==1&&(i+=(i?" ":"")+m)),this.startSpan(Math.max(t,u),h),d.opaque)return;let g=e.tree&&e.tree.prop(ft.mounted);if(g&&g.overlay){let y=e.node.enter(g.overlay[0].from+u,1),b=this.highlighters.filter(E=>!E.scope||E.scope(g.tree.type)),w=e.firstChild();for(let E=0,x=u;;E++){let k=E<g.overlay.length?g.overlay[E]:null,O=k?k.from+u:c,T=Math.max(t,x),_=Math.min(n,O);if(T<_&&w)for(;e.from<_&&(this.highlightRange(e,T,_,i,s),this.startSpan(Math.min(_,e.to),h),!(e.to>=O||!e.nextSibling())););if(!k||O>n)break;x=k.to+u,x>t&&(this.highlightRange(y.cursor(),Math.max(t,k.from+u),Math.min(n,x),"",b),this.startSpan(Math.min(n,x),h))}w&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,s),this.startSpan(Math.min(n,e.to),h)}while(e.nextSibling());e.parent()}}}function Cj(r){let e=r.type.prop(XR);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const Fe=fs.define,Wh=Fe(),Js=Fe(),vE=Fe(Js),bE=Fe(Js),ea=Fe(),Vh=Fe(ea),N0=Fe(ea),Ti=Fe(),qa=Fe(Ti),ki=Fe(),Ai=Fe(),_1=Fe(),Ku=Fe(_1),$h=Fe(),ze={comment:Wh,lineComment:Fe(Wh),blockComment:Fe(Wh),docComment:Fe(Wh),name:Js,variableName:Fe(Js),typeName:vE,tagName:Fe(vE),propertyName:bE,attributeName:Fe(bE),className:Fe(Js),labelName:Fe(Js),namespace:Fe(Js),macroName:Fe(Js),literal:ea,string:Vh,docString:Fe(Vh),character:Fe(Vh),attributeValue:Fe(Vh),number:N0,integer:Fe(N0),float:Fe(N0),bool:Fe(ea),regexp:Fe(ea),escape:Fe(ea),color:Fe(ea),url:Fe(ea),keyword:ki,self:Fe(ki),null:Fe(ki),atom:Fe(ki),unit:Fe(ki),modifier:Fe(ki),operatorKeyword:Fe(ki),controlKeyword:Fe(ki),definitionKeyword:Fe(ki),moduleKeyword:Fe(ki),operator:Ai,derefOperator:Fe(Ai),arithmeticOperator:Fe(Ai),logicOperator:Fe(Ai),bitwiseOperator:Fe(Ai),compareOperator:Fe(Ai),updateOperator:Fe(Ai),definitionOperator:Fe(Ai),typeOperator:Fe(Ai),controlOperator:Fe(Ai),punctuation:_1,separator:Fe(_1),bracket:Ku,angleBracket:Fe(Ku),squareBracket:Fe(Ku),paren:Fe(Ku),brace:Fe(Ku),content:Ti,heading:qa,heading1:Fe(qa),heading2:Fe(qa),heading3:Fe(qa),heading4:Fe(qa),heading5:Fe(qa),heading6:Fe(qa),contentSeparator:Fe(Ti),list:Fe(Ti),quote:Fe(Ti),emphasis:Fe(Ti),strong:Fe(Ti),link:Fe(Ti),monospace:Fe(Ti),strikethrough:Fe(Ti),inserted:Fe(),deleted:Fe(),changed:Fe(),invalid:Fe(),meta:$h,documentMeta:Fe($h),annotation:Fe($h),processingInstruction:Fe($h),definition:fs.defineModifier("definition"),constant:fs.defineModifier("constant"),function:fs.defineModifier("function"),standard:fs.defineModifier("standard"),local:fs.defineModifier("local"),special:fs.defineModifier("special")};for(let r in ze){let e=ze[r];e instanceof fs&&(e.name=r)}YR([{tag:ze.link,class:"tok-link"},{tag:ze.heading,class:"tok-heading"},{tag:ze.emphasis,class:"tok-emphasis"},{tag:ze.strong,class:"tok-strong"},{tag:ze.keyword,class:"tok-keyword"},{tag:ze.atom,class:"tok-atom"},{tag:ze.bool,class:"tok-bool"},{tag:ze.url,class:"tok-url"},{tag:ze.labelName,class:"tok-labelName"},{tag:ze.inserted,class:"tok-inserted"},{tag:ze.deleted,class:"tok-deleted"},{tag:ze.literal,class:"tok-literal"},{tag:ze.string,class:"tok-string"},{tag:ze.number,class:"tok-number"},{tag:[ze.regexp,ze.escape,ze.special(ze.string)],class:"tok-string2"},{tag:ze.variableName,class:"tok-variableName"},{tag:ze.local(ze.variableName),class:"tok-variableName tok-local"},{tag:ze.definition(ze.variableName),class:"tok-variableName tok-definition"},{tag:ze.special(ze.variableName),class:"tok-variableName2"},{tag:ze.definition(ze.propertyName),class:"tok-propertyName tok-definition"},{tag:ze.typeName,class:"tok-typeName"},{tag:ze.namespace,class:"tok-namespace"},{tag:ze.className,class:"tok-className"},{tag:ze.macroName,class:"tok-macroName"},{tag:ze.propertyName,class:"tok-propertyName"},{tag:ze.operator,class:"tok-operator"},{tag:ze.comment,class:"tok-comment"},{tag:ze.meta,class:"tok-meta"},{tag:ze.invalid,class:"tok-invalid"},{tag:ze.punctuation,class:"tok-punctuation"}]);var D0;const bo=new ft;function Oj(r){return We.define({combine:r?e=>e.concat(r):void 0})}const _j=new ft;class hi{constructor(e,t,n=[],i=""){this.data=e,this.name=i,wt.prototype.hasOwnProperty("tree")||Object.defineProperty(wt.prototype,"tree",{get(){return Hr(this)}}),this.parser=t,this.extension=[ma.of(this),wt.languageData.of((s,l,u)=>{let c=xE(s,l,u),h=c.type.prop(bo);if(!h)return[];let d=s.facet(h),m=c.type.prop(_j);if(m){let g=c.resolve(l-c.from,u);for(let y of m)if(y.test(g,s)){let b=s.facet(y.facet);return y.type=="replace"?b:b.concat(d)}}return d})].concat(n)}isActiveAt(e,t,n=-1){return xE(e,t,n).type.prop(bo)==this.data}findRegions(e){let t=e.facet(ma);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],i=(s,l)=>{if(s.prop(bo)==this.data){n.push({from:l,to:l+s.length});return}let u=s.prop(ft.mounted);if(u){if(u.tree.prop(bo)==this.data){if(u.overlay)for(let c of u.overlay)n.push({from:c.from+l,to:c.to+l});else n.push({from:l,to:l+s.length});return}else if(u.overlay){let c=n.length;if(i(u.tree,u.overlay[0].from+l),n.length>c)return}}for(let c=0;c<s.children.length;c++){let h=s.children[c];h instanceof yr&&i(h,s.positions[c]+l)}};return i(Hr(e),0),n}get allowsNesting(){return!0}}hi.setState=ot.define();function xE(r,e,t){let n=r.facet(ma),i=Hr(r).topNode;if(!n||n.allowsNesting)for(let s=i;s;s=s.enter(e,t,Cr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class qd extends hi{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=Oj(e.languageData);return new qd(t,e.parser.configure({props:[bo.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new qd(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Hr(r){let e=r.field(hi.state,!1);return e?e.tree:yr.empty}class Rj{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Zu=null;class Wd{constructor(e,t,n=[],i,s,l,u,c){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=s,this.viewport=l,this.skipped=u,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Wd(e,t,[],yr.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Rj(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=yr.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(ll.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ll.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Zu;Zu=this;try{return e()}finally{Zu=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=wE(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:s,viewport:l,skipped:u}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((h,d,m,g)=>c.push({fromA:h,toA:d,fromB:m,toB:g})),n=ll.applyChanges(n,c),i=yr.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){u=[];for(let h of this.skipped){let d=e.mapPos(h.from,1),m=e.mapPos(h.to,-1);d<m&&u.push({from:d,to:m})}}}return new Wd(this.parser,t,n,i,s,l,u,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:s}=this.skipped[n];i<e.to&&s>e.from&&(this.fragments=wE(this.fragments,i,s),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends GR{createParse(t,n,i){let s=i[0].from,l=i[i.length-1].to;return{parsedPos:s,advance(){let c=Zu;if(c){for(let h of i)c.tempSkipped.push(h);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=l,new yr(xn.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Zu}}function wE(r,e,t){return ll.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class Io{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Io(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Wd.create(e.facet(ma).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Io(n)}}hi.state=Fr.define({create:Io.init,update(r,e){for(let t of e.effects)if(t.is(hi.setState))return t.value;return e.startState.facet(ma)!=e.state.facet(ma)?Io.init(e.state):r.apply(e)}});let KR=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(KR=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const L0=typeof navigator<"u"&&(!((D0=navigator.scheduling)===null||D0===void 0)&&D0.isInputPending)?()=>navigator.scheduling.isInputPending():null,Mj=vr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(hi.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(hi.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=KR(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,s=n.field(hi.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!L0?Math.max(25,e.timeRemaining()-5):1e9),u=s.context.treeLen<i&&n.doc.length>i+1e3,c=s.context.work(()=>L0&&L0()||Date.now()>l,i+(u?0:1e5));this.chunkBudget-=Date.now()-t,(c||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:hi.setState.of(new Io(s.context))})),this.chunkBudget>0&&!(c&&!u)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>gn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ma=We.define({combine(r){return r.length?r[0]:null},enables:r=>[hi.state,Mj,He.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class Nj{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Dj=We.define(),Qb=We.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function Vd(r){let e=r.facet(Qb);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function Fc(r,e){let t="",n=r.tabSize,i=r.facet(Qb)[0];if(i=="	"){for(;e>=n;)t+="	",e-=n;i=" "}for(let s=0;s<e;s++)t+=i;return t}function Xb(r,e){r instanceof wt&&(r=new _p(r));for(let n of r.state.facet(Dj)){let i=n(r,e);if(i!==void 0)return i}let t=Hr(r.state);return t.length>=e?Lj(r,t,e):null}class _p{constructor(e,t={}){this.state=e,this.options=t,this.unit=Vd(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=n.from&&i<=n.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,t);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.countColumn(n,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(s+=l-this.countColumn(n,n.search(/\S|$/))),s}countColumn(e,t=e.length){return Ko(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let l=s(i);if(l>-1)return l}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ZR=new ft;function Lj(r,e,t){let n=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=n.node){let s=[];for(let l=i;l&&!(l.from<n.node.from||l.to>n.node.to||l.from==n.node.from&&l.type==n.node.type);l=l.parent)s.push(l);for(let l=s.length-1;l>=0;l--)n={node:s[l],next:n}}return JR(n,r,t)}function JR(r,e,t){for(let n=r;n;n=n.next){let i=zj(n.node);if(i)return i(Yb.create(e,t,n))}return 0}function Bj(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function zj(r){let e=r.type.prop(ZR);if(e)return e;let t=r.firstChild,n;if(t&&(n=t.type.prop(ft.closedBy))){let i=r.lastChild,s=i&&n.indexOf(i.name)>-1;return l=>e3(l,!0,1,void 0,s&&!Bj(l)?i.from:void 0)}return r.parent==null?jj:null}function jj(){return 0}class Yb extends _p{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new Yb(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(Pj(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return JR(this.context.next,this.base,this.pos)}}function Pj(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function Fj(r){let e=r.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let i=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),l=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let u=t.to;;){let c=e.childAfter(u);if(!c||c==n)return null;if(!c.type.isSkipped){if(c.from>=l)return null;let h=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+h}}u=c.to}}function SE({closing:r,align:e=!0,units:t=1}){return n=>e3(n,e,t,r)}function e3(r,e,t,n,i){let s=r.textAfter,l=s.match(/^\s*/)[0].length,u=n&&s.slice(l,l+n.length)==n||i==r.pos+l,c=e?Fj(r):null;return c?u?r.column(c.from):r.column(c.to):r.baseIndent+(u?0:r.unit*t)}const Ij=200;function Uj(){return wt.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:n}=r.newSelection.main,i=t.lineAt(n);if(n>i.from+Ij)return r;let s=t.sliceString(i.from,n);if(!e.some(h=>h.test(s)))return r;let{state:l}=r,u=-1,c=[];for(let{head:h}of l.selection.ranges){let d=l.doc.lineAt(h);if(d.from==u)continue;u=d.from;let m=Xb(l,d.from);if(m==null)continue;let g=/^\s*/.exec(d.text)[0],y=Fc(l,m);g!=y&&c.push({from:d.from,to:d.from+g.length,insert:y})}return c.length?[r,{changes:c,sequential:!0}]:r})}const Hj=We.define(),t3=new ft;function qj(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}function Wj(r,e,t){let n=Hr(r);if(n.length<t)return null;let i=n.resolveStack(t,1),s=null;for(let l=i;l;l=l.next){let u=l.node;if(u.to<=t||u.from>t)continue;if(s&&u.from<e)break;let c=u.type.prop(t3);if(c&&(u.to<n.length-50||n.length==r.doc.length||!Vj(u))){let h=c(u,r);h&&h.from<=t&&h.from>=e&&h.to>t&&(s=h)}}return s}function Vj(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function $d(r,e,t){for(let n of r.facet(Hj)){let i=n(r,e,t);if(i)return i}return Wj(r,e,t)}function r3(r,e){let t=e.mapPos(r.from,1),n=e.mapPos(r.to,-1);return t>=n?void 0:{from:t,to:n}}const Rp=ot.define({map:r3}),sf=ot.define({map:r3});function n3(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(r.lineBlockAt(t));return e}const ml=Fr.define({create(){return it.none},update(r,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,n)=>r=kE(r,t,n)),r=r.map(e.changes);for(let t of e.effects)if(t.is(Rp)&&!$j(r,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(a3),i=n?it.replace({widget:new Jj(n(e.state,t.value))}):AE;r=r.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(sf)&&(r=r.update({filter:(n,i)=>t.value.from!=n||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(r=kE(r,e.selection.main.head)),r},provide:r=>He.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(n,i)=>{t.push(n,i)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let n=r[t++],i=r[t++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(AE.range(n,i))}return it.set(e,!0)}});function kE(r,e,t=e){let n=!1;return r.between(e,t,(i,s)=>{i<t&&s>e&&(n=!0)}),n?r.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):r}function Gd(r,e,t){var n;let i=null;return(n=r.field(ml,!1))===null||n===void 0||n.between(e,t,(s,l)=>{(!i||i.from>s)&&(i={from:s,to:l})}),i}function $j(r,e,t){let n=!1;return r.between(e,e,(i,s)=>{i==e&&s==t&&(n=!0)}),n}function i3(r,e){return r.field(ml,!1)?e:e.concat(ot.appendConfig.of(l3()))}const Gj=r=>{for(let e of n3(r)){let t=$d(r.state,e.from,e.to);if(t)return r.dispatch({effects:i3(r.state,[Rp.of(t),s3(r,t)])}),!0}return!1},Qj=r=>{if(!r.state.field(ml,!1))return!1;let e=[];for(let t of n3(r)){let n=Gd(r.state,t.from,t.to);n&&e.push(sf.of(n),s3(r,n,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function s3(r,e,t=!0){let n=r.state.doc.lineAt(e.from).number,i=r.state.doc.lineAt(e.to).number;return He.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${r.state.phrase("to")} ${i}.`)}const Xj=r=>{let{state:e}=r,t=[];for(let n=0;n<e.doc.length;){let i=r.lineBlockAt(n),s=$d(e,i.from,i.to);s&&t.push(Rp.of(s)),n=(s?r.lineBlockAt(s.to):i).to+1}return t.length&&r.dispatch({effects:i3(r.state,t)}),!!t.length},Yj=r=>{let e=r.state.field(ml,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(n,i)=>{t.push(sf.of({from:n,to:i}))}),r.dispatch({effects:t}),!0},Kj=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Gj},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Qj},{key:"Ctrl-Alt-[",run:Xj},{key:"Ctrl-Alt-]",run:Yj}],Zj={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},a3=We.define({combine(r){return Hi(r,Zj)}});function l3(r){return[ml,rP]}function o3(r,e){let{state:t}=r,n=t.facet(a3),i=l=>{let u=r.lineBlockAt(r.posAtDOM(l.target)),c=Gd(r.state,u.from,u.to);c&&r.dispatch({effects:sf.of(c)}),l.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(r,i,e);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const AE=it.replace({widget:new class extends Es{toDOM(r){return o3(r,null)}}});class Jj extends Es{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return o3(e,this.value)}}const eP={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class B0 extends xs{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function tP(r={}){let e={...eP,...r},t=new B0(e,!0),n=new B0(e,!1),i=vr.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(ma)!=l.state.facet(ma)||l.startState.field(ml,!1)!=l.state.field(ml,!1)||Hr(l.startState)!=Hr(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let u=new vs;for(let c of l.viewportLineBlocks){let h=Gd(l.state,c.from,c.to)?n:$d(l.state,c.from,c.to)?t:null;h&&u.add(c.from,c.from,h)}return u.finish()}}),{domEventHandlers:s}=e;return[i,rj({class:"cm-foldGutter",markers(l){var u;return((u=l.plugin(i))===null||u===void 0?void 0:u.markers)||yt.empty},initialSpacer(){return new B0(e,!1)},domEventHandlers:{...s,click:(l,u,c)=>{if(s.click&&s.click(l,u,c))return!0;let h=Gd(l.state,u.from,u.to);if(h)return l.dispatch({effects:sf.of(h)}),!0;let d=$d(l.state,u.from,u.to);return d?(l.dispatch({effects:Rp.of(d)}),!0):!1}}}),l3()]}const rP=He.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Mp{constructor(e,t){this.specs=e;let n;function i(u){let c=fa.newName();return(n||(n=Object.create(null)))["."+c]=u,c}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,l=t.scope;this.scope=l instanceof hi?u=>u.prop(bo)==l.data:l?u=>u==l:void 0,this.style=YR(e.map(u=>({tag:u.tag,class:u.class||i(Object.assign({},u,{tag:null}))})),{all:s}).style,this.module=n?new fa(n):null,this.themeType=t.themeType}static define(e,t){return new Mp(e,t||{})}}const R1=We.define(),u3=We.define({combine(r){return r.length?[r[0]]:null}});function z0(r){let e=r.facet(R1);return e.length?e:r.facet(u3)}function nP(r,e){let t=[sP],n;return r instanceof Mp&&(r.module&&t.push(He.styleModule.of(r.module)),n=r.themeType),e?.fallback?t.push(u3.of(r)):n?t.push(R1.computeN([He.darkTheme],i=>i.facet(He.darkTheme)==(n=="dark")?[r]:[])):t.push(R1.of(r)),t}class iP{constructor(e){this.markCache=Object.create(null),this.tree=Hr(e.state),this.decorations=this.buildDeco(e,z0(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Hr(e.state),n=z0(e.state),i=n!=z0(e.startState),{viewport:s}=e.view,l=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return it.none;let n=new vs;for(let{from:i,to:s}of e.visibleRanges)Ej(this.tree,t,(l,u,c)=>{n.add(l,u,this.markCache[c]||(this.markCache[c]=it.mark({class:c})))},i,s);return n.finish()}}const sP=bl.high(vr.fromClass(iP,{decorations:r=>r.decorations})),aP=Mp.define([{tag:ze.meta,color:"#404740"},{tag:ze.link,textDecoration:"underline"},{tag:ze.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ze.emphasis,fontStyle:"italic"},{tag:ze.strong,fontWeight:"bold"},{tag:ze.strikethrough,textDecoration:"line-through"},{tag:ze.keyword,color:"#708"},{tag:[ze.atom,ze.bool,ze.url,ze.contentSeparator,ze.labelName],color:"#219"},{tag:[ze.literal,ze.inserted],color:"#164"},{tag:[ze.string,ze.deleted],color:"#a11"},{tag:[ze.regexp,ze.escape,ze.special(ze.string)],color:"#e40"},{tag:ze.definition(ze.variableName),color:"#00f"},{tag:ze.local(ze.variableName),color:"#30a"},{tag:[ze.typeName,ze.namespace],color:"#085"},{tag:ze.className,color:"#167"},{tag:[ze.special(ze.variableName),ze.macroName],color:"#256"},{tag:ze.definition(ze.propertyName),color:"#00c"},{tag:ze.comment,color:"#940"},{tag:ze.invalid,color:"#f00"}]),lP=He.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),c3=1e4,f3="()[]{}",h3=We.define({combine(r){return Hi(r,{afterCursor:!0,brackets:f3,maxScanDistance:c3,renderMatch:cP})}}),oP=it.mark({class:"cm-matchingBracket"}),uP=it.mark({class:"cm-nonmatchingBracket"});function cP(r){let e=[],t=r.matched?oP:uP;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const fP=Fr.define({create(){return it.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],n=e.state.facet(h3);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Di(e.state,i.head,-1,n)||i.head>0&&Di(e.state,i.head-1,1,n)||n.afterCursor&&(Di(e.state,i.head,1,n)||i.head<e.state.doc.length&&Di(e.state,i.head+1,-1,n));s&&(t=t.concat(n.renderMatch(s,e.state)))}return it.set(t,!0)},provide:r=>He.decorations.from(r)}),hP=[fP,lP];function dP(r={}){return[h3.of(r),hP]}const pP=new ft;function M1(r,e,t){let n=r.prop(e<0?ft.openedBy:ft.closedBy);if(n)return n;if(r.name.length==1){let i=t.indexOf(r.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function N1(r){let e=r.type.prop(pP);return e?e(r.node):r}function Di(r,e,t,n={}){let i=n.maxScanDistance||c3,s=n.brackets||f3,l=Hr(r),u=l.resolveInner(e,t);for(let c=u;c;c=c.parent){let h=M1(c.type,t,s);if(h&&c.from<c.to){let d=N1(c);if(d&&(t>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return mP(r,e,t,c,d,h,s)}}return gP(r,e,t,l,u.type,i,s)}function mP(r,e,t,n,i,s,l){let u=n.parent,c={from:i.from,to:i.to},h=0,d=u?.cursor();if(d&&(t<0?d.childBefore(n.from):d.childAfter(n.to)))do if(t<0?d.to<=n.from:d.from>=n.to){if(h==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let m=N1(d);return{start:c,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(M1(d.type,t,l))h++;else if(M1(d.type,-t,l)){if(h==0){let m=N1(d);return{start:c,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}h--}}while(t<0?d.prevSibling():d.nextSibling());return{start:c,matched:!1}}function gP(r,e,t,n,i,s,l){let u=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),c=l.indexOf(u);if(c<0||c%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},d=r.doc.iterRange(e,t>0?r.doc.length:0),m=0;for(let g=0;!d.next().done&&g<=s;){let y=d.value;t<0&&(g+=y.length);let b=e+g*t;for(let w=t>0?0:y.length-1,E=t>0?y.length:-1;w!=E;w+=t){let x=l.indexOf(y[w]);if(!(x<0||n.resolveInner(b+w,1).type!=i))if(x%2==0==t>0)m++;else{if(m==1)return{start:h,end:{from:b+w,to:b+w+1},matched:x>>1==c>>1};m--}}t>0&&(g+=y.length)}return d.done?{start:h,matched:!1}:null}const yP=Object.create(null),EE=[xn.none],TE=[],CE=Object.create(null),vP=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])vP[r]=bP(yP,e);function j0(r,e){TE.indexOf(r)>-1||(TE.push(r),console.warn(e))}function bP(r,e){let t=[];for(let u of e.split(" ")){let c=[];for(let h of u.split(".")){let d=r[h]||ze[h];d?typeof d=="function"?c.length?c=c.map(d):j0(h,`Modifier ${h} used at start of tag`):c.length?j0(h,`Tag ${h} used as modifier`):c=Array.isArray(d)?d:[d]:j0(h,`Unknown highlighting tag ${h}`)}for(let h of c)t.push(h)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+t.map(u=>u.id),s=CE[i];if(s)return s.id;let l=CE[i]=xn.define({id:EE.length,name:n,props:[QR({[n]:t})]});return EE.push(l),l.id}Qt.RTL,Qt.LTR;const xP=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),n=Zb(r.state,t.from);return n.line?wP(r):n.block?kP(r):!1};function Kb(r,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=r(e,t);return i?(n(t.update(i)),!0):!1}}const wP=Kb(TP,0),SP=Kb(d3,0),kP=Kb((r,e)=>d3(r,e,EP(e)),0);function Zb(r,e){let t=r.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const Ju=50;function AP(r,{open:e,close:t},n,i){let s=r.sliceDoc(n-Ju,n),l=r.sliceDoc(i,i+Ju),u=/\s*$/.exec(s)[0].length,c=/^\s*/.exec(l)[0].length,h=s.length-u;if(s.slice(h-e.length,h)==e&&l.slice(c,c+t.length)==t)return{open:{pos:n-u,margin:u&&1},close:{pos:i+c,margin:c&&1}};let d,m;i-n<=2*Ju?d=m=r.sliceDoc(n,i):(d=r.sliceDoc(n,n+Ju),m=r.sliceDoc(i-Ju,i));let g=/^\s*/.exec(d)[0].length,y=/\s*$/.exec(m)[0].length,b=m.length-y-t.length;return d.slice(g,g+e.length)==e&&m.slice(b,b+t.length)==t?{open:{pos:n+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:i-y-t.length,margin:/\s/.test(m.charAt(b-1))?1:0}}:null}function EP(r){let e=[];for(let t of r.selection.ranges){let n=r.doc.lineAt(t.from),i=t.to<=n.to?n:r.doc.lineAt(t.to);i.from>n.from&&i.from==t.to&&(i=t.to==n.to+1?n:r.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function d3(r,e,t=e.selection.ranges){let n=t.map(s=>Zb(e,s.from).block);if(!n.every(s=>s))return null;let i=t.map((s,l)=>AP(e,n[l],s.from,s.to));if(r!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,l)=>i[l]?[]:[{from:s.from,insert:n[l].open+" "},{from:s.to,insert:" "+n[l].close}]))};if(r!=1&&i.some(s=>s)){let s=[];for(let l=0,u;l<i.length;l++)if(u=i[l]){let c=n[l],{open:h,close:d}=u;s.push({from:h.pos-c.open.length,to:h.pos+h.margin},{from:d.pos-d.margin,to:d.pos+c.close.length})}return{changes:s}}return null}function TP(r,e,t=e.selection.ranges){let n=[],i=-1;for(let{from:s,to:l}of t){let u=n.length,c=1e9,h=Zb(e,s).line;if(h){for(let d=s;d<=l;){let m=e.doc.lineAt(d);if(m.from>i&&(s==l||l>m.from)){i=m.from;let g=/^\s*/.exec(m.text)[0].length,y=g==m.length,b=m.text.slice(g,g+h.length)==h?g:-1;g<m.text.length&&g<c&&(c=g),n.push({line:m,comment:b,token:h,indent:g,empty:y,single:!1})}d=m.to+1}if(c<1e9)for(let d=u;d<n.length;d++)n[d].indent<n[d].line.text.length&&(n[d].indent=c);n.length==u+1&&(n[u].single=!0)}}if(r!=2&&n.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:u,token:c,indent:h,empty:d,single:m}of n)(m||!d)&&s.push({from:u.from+h,insert:c+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(r!=1&&n.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:u,token:c}of n)if(u>=0){let h=l.from+u,d=h+c.length;l.text[d-l.from]==" "&&d++,s.push({from:h,to:d})}return{changes:s}}return null}const D1=As.define(),CP=As.define(),OP=We.define(),p3=We.define({combine(r){return Hi(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,i)=>e(n,i)||t(n,i)})}}),m3=Fr.define({create(){return Li.empty},update(r,e){let t=e.state.facet(p3),n=e.annotation(D1);if(n){let c=yn.fromTransaction(e,n.selection),h=n.side,d=h==0?r.undone:r.done;return c?d=Qd(d,d.length,t.minDepth,c):d=v3(d,e.startState.selection),new Li(h==0?n.rest:d,h==0?d:n.rest)}let i=e.annotation(CP);if((i=="full"||i=="before")&&(r=r.isolate()),e.annotation(kr.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=yn.fromTransaction(e),l=e.annotation(kr.time),u=e.annotation(kr.userEvent);return s?r=r.addChanges(s,l,u,t,e):e.selection&&(r=r.addSelection(e.startState.selection,l,u,t.newGroupDelay)),(i=="full"||i=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new Li(r.done.map(yn.fromJSON),r.undone.map(yn.fromJSON))}});function _P(r={}){return[m3,p3.of(r),He.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?g3:e.inputType=="historyRedo"?L1:null;return n?(e.preventDefault(),n(t)):!1}})]}function Np(r,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let i=t.field(m3,!1);if(!i)return!1;let s=i.pop(r,t,e);return s?(n(s),!0):!1}}const g3=Np(0,!1),L1=Np(1,!1),RP=Np(0,!0),MP=Np(1,!0);class yn{constructor(e,t,n,i,s){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new yn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new yn(e.changes&&xr.fromJSON(e.changes),[],e.mapped&&ji.fromJSON(e.mapped),e.startSelection&&Ne.fromJSON(e.startSelection),e.selectionsAfter.map(Ne.fromJSON))}static fromTransaction(e,t){let n=Yn;for(let i of e.startState.facet(OP)){let s=i(e);s.length&&(n=n.concat(s))}return!n.length&&e.changes.empty?null:new yn(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,Yn)}static selection(e){return new yn(void 0,Yn,void 0,void 0,e)}}function Qd(r,e,t,n){let i=e+1>t+20?e-t-1:0,s=r.slice(i,e);return s.push(n),s}function NP(r,e){let t=[],n=!1;return r.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,l,u)=>{for(let c=0;c<t.length;){let h=t[c++],d=t[c++];u>=h&&l<=d&&(n=!0)}}),n}function DP(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function y3(r,e){return r.length?e.length?r.concat(e):r:e}const Yn=[],LP=200;function v3(r,e){if(r.length){let t=r[r.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-LP));return n.length&&n[n.length-1].eq(e)?r:(n.push(e),Qd(r,r.length-1,1e9,t.setSelAfter(n)))}else return[yn.selection([e])]}function BP(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function P0(r,e){if(!r.length)return r;let t=r.length,n=Yn;for(;t;){let i=zP(r[t-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let s=r.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,n=i.selectionsAfter}return n.length?[yn.selection(n)]:Yn}function zP(r,e,t){let n=y3(r.selectionsAfter.length?r.selectionsAfter.map(u=>u.map(e)):Yn,t);if(!r.changes)return yn.selection(n);let i=r.changes.map(e),s=e.mapDesc(r.changes,!0),l=r.mapped?r.mapped.composeDesc(s):s;return new yn(i,ot.mapEffects(r.effects,e),l,r.startSelection.map(s),n)}const jP=/^(input\.type|delete)($|\.)/;class Li{constructor(e,t,n=0,i=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new Li(this.done,this.undone):this}addChanges(e,t,n,i,s){let l=this.done,u=l[l.length-1];return u&&u.changes&&!u.changes.empty&&e.changes&&(!n||jP.test(n))&&(!u.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,NP(u.changes,e.changes))||n=="input.type.compose")?l=Qd(l,l.length-1,i.minDepth,new yn(e.changes.compose(u.changes),y3(ot.mapEffects(e.effects,u.changes),u.effects),u.mapped,u.startSelection,Yn)):l=Qd(l,l.length,i.minDepth,e),new Li(l,Yn,t,n)}addSelection(e,t,n,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Yn;return s.length>0&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&DP(s[s.length-1],e)?this:new Li(v3(this.done,e),this.undone,t,n)}addMapping(e){return new Li(P0(this.done,e),P0(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],l=s.selectionsAfter[0]||t.selection;if(n&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:D1.of({side:e,rest:BP(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let u=i.length==1?Yn:i.slice(0,i.length-1);return s.mapped&&(u=P0(u,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:D1.of({side:e,rest:u,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Li.empty=new Li(Yn,Yn);const PP=[{key:"Mod-z",run:g3,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:L1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:L1,preventDefault:!0},{key:"Mod-u",run:RP,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:MP,preventDefault:!0}];function Zo(r,e){return Ne.create(r.ranges.map(e),r.mainIndex)}function mi(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function gi({state:r,dispatch:e},t){let n=Zo(r.selection,t);return n.eq(r.selection,!0)?!1:(e(mi(r,n)),!0)}function Dp(r,e){return Ne.cursor(e?r.to:r.from)}function b3(r,e){return gi(r,t=>t.empty?r.moveByChar(t,e):Dp(t,e))}function Wr(r){return r.textDirectionAt(r.state.selection.main.head)==Qt.LTR}const x3=r=>b3(r,!Wr(r)),w3=r=>b3(r,Wr(r));function S3(r,e){return gi(r,t=>t.empty?r.moveByGroup(t,e):Dp(t,e))}const FP=r=>S3(r,!Wr(r)),IP=r=>S3(r,Wr(r));function UP(r,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function Lp(r,e,t){let n=Hr(r).resolveInner(e.head),i=t?ft.closedBy:ft.openedBy;for(let c=e.head;;){let h=t?n.childAfter(c):n.childBefore(c);if(!h)break;UP(r,h,i)?n=h:c=t?h.to:h.from}let s=n.type.prop(i),l,u;return s&&(l=t?Di(r,n.from,1):Di(r,n.to,-1))&&l.matched?u=t?l.end.to:l.end.from:u=t?n.to:n.from,Ne.cursor(u,t?-1:1)}const HP=r=>gi(r,e=>Lp(r.state,e,!Wr(r))),qP=r=>gi(r,e=>Lp(r.state,e,Wr(r)));function k3(r,e){return gi(r,t=>{if(!t.empty)return Dp(t,e);let n=r.moveVertically(t,e);return n.head!=t.head?n:r.moveToLineBoundary(t,e)})}const A3=r=>k3(r,!1),E3=r=>k3(r,!0);function T3(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,n=0,i;if(e){for(let s of r.state.facet(He.scrollMargins)){let l=s(r);l?.top&&(t=Math.max(l?.top,t)),l?.bottom&&(n=Math.max(l?.bottom,n))}i=r.scrollDOM.clientHeight-t-n}else i=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(r.defaultLineHeight,i-5)}}function C3(r,e){let t=T3(r),{state:n}=r,i=Zo(n.selection,l=>l.empty?r.moveVertically(l,e,t.height):Dp(l,e));if(i.eq(n.selection))return!1;let s;if(t.selfScroll){let l=r.coordsAtPos(n.selection.main.head),u=r.scrollDOM.getBoundingClientRect(),c=u.top+t.marginTop,h=u.bottom-t.marginBottom;l&&l.top>c&&l.bottom<h&&(s=He.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-c}))}return r.dispatch(mi(n,i),{effects:s}),!0}const OE=r=>C3(r,!1),B1=r=>C3(r,!0);function va(r,e,t){let n=r.lineBlockAt(e.head),i=r.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?n.to:n.from)&&(i=r.moveToLineBoundary(e,t,!1)),!t&&i.head==n.from&&n.length){let s=/^\s*/.exec(r.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;s&&e.head!=n.from+s&&(i=Ne.cursor(n.from+s))}return i}const WP=r=>gi(r,e=>va(r,e,!0)),VP=r=>gi(r,e=>va(r,e,!1)),$P=r=>gi(r,e=>va(r,e,!Wr(r))),GP=r=>gi(r,e=>va(r,e,Wr(r))),QP=r=>gi(r,e=>Ne.cursor(r.lineBlockAt(e.head).from,1)),XP=r=>gi(r,e=>Ne.cursor(r.lineBlockAt(e.head).to,-1));function YP(r,e,t){let n=!1,i=Zo(r.selection,s=>{let l=Di(r,s.head,-1)||Di(r,s.head,1)||s.head>0&&Di(r,s.head-1,1)||s.head<r.doc.length&&Di(r,s.head+1,-1);if(!l||!l.end)return s;n=!0;let u=l.start.from==s.head?l.end.to:l.end.from;return Ne.cursor(u)});return n?(e(mi(r,i)),!0):!1}const KP=({state:r,dispatch:e})=>YP(r,e);function ei(r,e){let t=Zo(r.state.selection,n=>{let i=e(n);return Ne.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(mi(r.state,t)),!0)}function O3(r,e){return ei(r,t=>r.moveByChar(t,e))}const _3=r=>O3(r,!Wr(r)),R3=r=>O3(r,Wr(r));function M3(r,e){return ei(r,t=>r.moveByGroup(t,e))}const ZP=r=>M3(r,!Wr(r)),JP=r=>M3(r,Wr(r)),e7=r=>ei(r,e=>Lp(r.state,e,!Wr(r))),t7=r=>ei(r,e=>Lp(r.state,e,Wr(r)));function N3(r,e){return ei(r,t=>r.moveVertically(t,e))}const D3=r=>N3(r,!1),L3=r=>N3(r,!0);function B3(r,e){return ei(r,t=>r.moveVertically(t,e,T3(r).height))}const _E=r=>B3(r,!1),RE=r=>B3(r,!0),r7=r=>ei(r,e=>va(r,e,!0)),n7=r=>ei(r,e=>va(r,e,!1)),i7=r=>ei(r,e=>va(r,e,!Wr(r))),s7=r=>ei(r,e=>va(r,e,Wr(r))),a7=r=>ei(r,e=>Ne.cursor(r.lineBlockAt(e.head).from)),l7=r=>ei(r,e=>Ne.cursor(r.lineBlockAt(e.head).to)),ME=({state:r,dispatch:e})=>(e(mi(r,{anchor:0})),!0),NE=({state:r,dispatch:e})=>(e(mi(r,{anchor:r.doc.length})),!0),DE=({state:r,dispatch:e})=>(e(mi(r,{anchor:r.selection.main.anchor,head:0})),!0),LE=({state:r,dispatch:e})=>(e(mi(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),o7=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),u7=({state:r,dispatch:e})=>{let t=Bp(r).map(({from:n,to:i})=>Ne.range(n,Math.min(i+1,r.doc.length)));return e(r.update({selection:Ne.create(t),userEvent:"select"})),!0},c7=({state:r,dispatch:e})=>{let t=Zo(r.selection,n=>{let i=Hr(r),s=i.resolveStack(n.from,1);if(n.empty){let l=i.resolveStack(n.from,-1);l.node.from>=s.node.from&&l.node.to<=s.node.to&&(s=l)}for(let l=s;l;l=l.next){let{node:u}=l;if((u.from<n.from&&u.to>=n.to||u.to>n.to&&u.from<=n.from)&&l.next)return Ne.range(u.to,u.from)}return n});return t.eq(r.selection)?!1:(e(mi(r,t)),!0)};function z3(r,e){let{state:t}=r,n=t.selection,i=t.selection.ranges.slice();for(let s of t.selection.ranges){let l=t.doc.lineAt(s.head);if(e?l.to<r.state.doc.length:l.from>0)for(let u=s;;){let c=r.moveVertically(u,e);if(c.head<l.from||c.head>l.to){i.some(h=>h.head==c.head)||i.push(c);break}else{if(c.head==u.head)break;u=c}}}return i.length==n.ranges.length?!1:(r.dispatch(mi(t,Ne.create(i,i.length-1))),!0)}const f7=r=>z3(r,!1),h7=r=>z3(r,!0),d7=({state:r,dispatch:e})=>{let t=r.selection,n=null;return t.ranges.length>1?n=Ne.create([t.main]):t.main.empty||(n=Ne.create([Ne.cursor(t.main.head)])),n?(e(mi(r,n)),!0):!1};function af(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:n}=r,i=n.changeByRange(s=>{let{from:l,to:u}=s;if(l==u){let c=e(s);c<l?(t="delete.backward",c=Gh(r,c,!1)):c>l&&(t="delete.forward",c=Gh(r,c,!0)),l=Math.min(l,c),u=Math.max(u,c)}else l=Gh(r,l,!1),u=Gh(r,u,!0);return l==u?{range:s}:{changes:{from:l,to:u},range:Ne.cursor(l,l<s.head?-1:1)}});return i.changes.empty?!1:(r.dispatch(n.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?He.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Gh(r,e,t){if(r instanceof He)for(let n of r.state.facet(He.atomicRanges).map(i=>i(r)))n.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const j3=(r,e,t)=>af(r,n=>{let i=n.from,{state:s}=r,l=s.doc.lineAt(i),u,c;if(t&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(u=l.text.slice(0,i-l.from))){if(u[u.length-1]=="	")return i-1;let h=Ko(u,s.tabSize),d=h%Vd(s)||Vd(s);for(let m=0;m<d&&u[u.length-1-m]==" ";m++)i--;c=i}else c=Sr(l.text,i-l.from,e,e)+l.from,c==i&&l.number!=(e?s.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(c-l.from,i-l.from))&&(c=Sr(l.text,c-l.from,!1,!1)+l.from);return c}),z1=r=>j3(r,!1,!0),P3=r=>j3(r,!0,!1),F3=(r,e)=>af(r,t=>{let n=t.head,{state:i}=r,s=i.doc.lineAt(n),l=i.charCategorizer(n);for(let u=null;;){if(n==(e?s.to:s.from)){n==t.head&&s.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let c=Sr(s.text,n-s.from,e)+s.from,h=s.text.slice(Math.min(n,c)-s.from,Math.max(n,c)-s.from),d=l(h);if(u!=null&&d!=u)break;(h!=" "||n!=t.head)&&(u=d),n=c}return n}),I3=r=>F3(r,!1),p7=r=>F3(r,!0),m7=r=>af(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),g7=r=>af(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),y7=r=>af(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),v7=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Mt.of(["",""])},range:Ne.cursor(n.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},b7=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>{if(!n.empty||n.from==0||n.from==r.doc.length)return{range:n};let i=n.from,s=r.doc.lineAt(i),l=i==s.from?i-1:Sr(s.text,i-s.from,!1)+s.from,u=i==s.to?i+1:Sr(s.text,i-s.from,!0)+s.from;return{changes:{from:l,to:u,insert:r.doc.slice(i,u).append(r.doc.slice(l,i))},range:Ne.cursor(u)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Bp(r){let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.from),s=r.doc.lineAt(n.to);if(!n.empty&&n.to==s.from&&(s=r.doc.lineAt(n.to-1)),t>=i.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(n)}else e.push({from:i.from,to:s.to,ranges:[n]});t=s.number+1}return e}function U3(r,e,t){if(r.readOnly)return!1;let n=[],i=[];for(let s of Bp(r)){if(t?s.to==r.doc.length:s.from==0)continue;let l=r.doc.lineAt(t?s.to+1:s.from-1),u=l.length+1;if(t){n.push({from:s.to,to:l.to},{from:s.from,insert:l.text+r.lineBreak});for(let c of s.ranges)i.push(Ne.range(Math.min(r.doc.length,c.anchor+u),Math.min(r.doc.length,c.head+u)))}else{n.push({from:l.from,to:s.from},{from:s.to,insert:r.lineBreak+l.text});for(let c of s.ranges)i.push(Ne.range(c.anchor-u,c.head-u))}}return n.length?(e(r.update({changes:n,scrollIntoView:!0,selection:Ne.create(i,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const x7=({state:r,dispatch:e})=>U3(r,e,!1),w7=({state:r,dispatch:e})=>U3(r,e,!0);function H3(r,e,t){if(r.readOnly)return!1;let n=[];for(let i of Bp(r))t?n.push({from:i.from,insert:r.doc.slice(i.from,i.to)+r.lineBreak}):n.push({from:i.to,insert:r.lineBreak+r.doc.slice(i.from,i.to)});return e(r.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const S7=({state:r,dispatch:e})=>H3(r,e,!1),k7=({state:r,dispatch:e})=>H3(r,e,!0),A7=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(Bp(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),n=Zo(e.selection,i=>{let s;if(r.lineWrapping){let l=r.lineBlockAt(i.head),u=r.coordsAtPos(i.head,i.assoc||1);u&&(s=l.bottom+r.documentTop-u.bottom+r.defaultLineHeight/2)}return r.moveVertically(i,!0,s)}).map(t);return r.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function E7(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Hr(r).resolveInner(e),n=t.childBefore(e),i=t.childAfter(e),s;return n&&i&&n.to<=e&&i.from>=e&&(s=n.type.prop(ft.closedBy))&&s.indexOf(i.name)>-1&&r.doc.lineAt(n.to).from==r.doc.lineAt(i.from).from&&!/\S/.test(r.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}const BE=q3(!1),T7=q3(!0);function q3(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:s,to:l}=i,u=e.doc.lineAt(s),c=!r&&s==l&&E7(e,s);r&&(s=l=(l<=u.to?u:e.doc.lineAt(l)).to);let h=new _p(e,{simulateBreak:s,simulateDoubleBreak:!!c}),d=Xb(h,s);for(d==null&&(d=Ko(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));l<u.to&&/\s/.test(u.text[l-u.from]);)l++;c?{from:s,to:l}=c:s>u.from&&s<u.from+100&&!/\S/.test(u.text.slice(0,s))&&(s=u.from);let m=["",Fc(e,d)];return c&&m.push(Fc(e,h.lineIndent(u.from,-1))),{changes:{from:s,to:l,insert:Mt.of(m)},range:Ne.cursor(s+1+m[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function Jb(r,e){let t=-1;return r.changeByRange(n=>{let i=[];for(let l=n.from;l<=n.to;){let u=r.doc.lineAt(l);u.number>t&&(n.empty||n.to>u.from)&&(e(u,i,n),t=u.number),l=u.to+1}let s=r.changes(i);return{changes:i,range:Ne.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const C7=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),n=new _p(r,{overrideIndentation:s=>{let l=t[s];return l??-1}}),i=Jb(r,(s,l,u)=>{let c=Xb(n,s.from);if(c==null)return;/\S/.test(s.text)||(c=0);let h=/^\s*/.exec(s.text)[0],d=Fc(r,c);(h!=d||u.from<s.from+h.length)&&(t[s.from]=c,l.push({from:s.from,to:s.from+h.length,insert:d}))});return i.changes.empty||e(r.update(i,{userEvent:"indent"})),!0},O7=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Jb(r,(t,n)=>{n.push({from:t.from,insert:r.facet(Qb)})}),{userEvent:"input.indent"})),!0),_7=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Jb(r,(t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Ko(i,r.tabSize),l=0,u=Fc(r,Math.max(0,s-Vd(r)));for(;l<i.length&&l<u.length&&i.charCodeAt(l)==u.charCodeAt(l);)l++;n.push({from:t.from+l,to:t.from+i.length,insert:u.slice(l)})}),{userEvent:"delete.dedent"})),!0),R7=r=>(r.setTabFocusMode(),!0),M7=[{key:"Ctrl-b",run:x3,shift:_3,preventDefault:!0},{key:"Ctrl-f",run:w3,shift:R3},{key:"Ctrl-p",run:A3,shift:D3},{key:"Ctrl-n",run:E3,shift:L3},{key:"Ctrl-a",run:QP,shift:a7},{key:"Ctrl-e",run:XP,shift:l7},{key:"Ctrl-d",run:P3},{key:"Ctrl-h",run:z1},{key:"Ctrl-k",run:m7},{key:"Ctrl-Alt-h",run:I3},{key:"Ctrl-o",run:v7},{key:"Ctrl-t",run:b7},{key:"Ctrl-v",run:B1}],N7=[{key:"ArrowLeft",run:x3,shift:_3,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:FP,shift:ZP,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:$P,shift:i7,preventDefault:!0},{key:"ArrowRight",run:w3,shift:R3,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:IP,shift:JP,preventDefault:!0},{mac:"Cmd-ArrowRight",run:GP,shift:s7,preventDefault:!0},{key:"ArrowUp",run:A3,shift:D3,preventDefault:!0},{mac:"Cmd-ArrowUp",run:ME,shift:DE},{mac:"Ctrl-ArrowUp",run:OE,shift:_E},{key:"ArrowDown",run:E3,shift:L3,preventDefault:!0},{mac:"Cmd-ArrowDown",run:NE,shift:LE},{mac:"Ctrl-ArrowDown",run:B1,shift:RE},{key:"PageUp",run:OE,shift:_E},{key:"PageDown",run:B1,shift:RE},{key:"Home",run:VP,shift:n7,preventDefault:!0},{key:"Mod-Home",run:ME,shift:DE},{key:"End",run:WP,shift:r7,preventDefault:!0},{key:"Mod-End",run:NE,shift:LE},{key:"Enter",run:BE,shift:BE},{key:"Mod-a",run:o7},{key:"Backspace",run:z1,shift:z1,preventDefault:!0},{key:"Delete",run:P3,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:I3,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:p7,preventDefault:!0},{mac:"Mod-Backspace",run:g7,preventDefault:!0},{mac:"Mod-Delete",run:y7,preventDefault:!0}].concat(M7.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),D7=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:HP,shift:e7},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:qP,shift:t7},{key:"Alt-ArrowUp",run:x7},{key:"Shift-Alt-ArrowUp",run:S7},{key:"Alt-ArrowDown",run:w7},{key:"Shift-Alt-ArrowDown",run:k7},{key:"Mod-Alt-ArrowUp",run:f7},{key:"Mod-Alt-ArrowDown",run:h7},{key:"Escape",run:d7},{key:"Mod-Enter",run:T7},{key:"Alt-l",mac:"Ctrl-l",run:u7},{key:"Mod-i",run:c7,preventDefault:!0},{key:"Mod-[",run:_7},{key:"Mod-]",run:O7},{key:"Mod-Alt-\\",run:C7},{key:"Shift-Mod-k",run:A7},{key:"Shift-Mod-\\",run:KP},{key:"Mod-/",run:xP},{key:"Alt-A",run:SP},{key:"Ctrl-m",mac:"Shift-Alt-m",run:R7}].concat(N7),zE=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class Uo{constructor(e,t,n=0,i=e.length,s,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=s?u=>s(zE(u)):zE,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return dn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Cb(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Mi(e);let i=this.normalize(t);if(i.length)for(let s=0,l=n;;s++){let u=i.charCodeAt(s),c=this.match(u,l,this.bufferPos+this.bufferStart);if(s==i.length-1){if(c)return this.value=c,this;break}l==n&&s<t.length&&t.charCodeAt(s)==u&&l++}}}match(e,t,n){let i=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],u=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[s+1],to:n}:(this.matches[s]++,u=!0)),u||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:n}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Uo.prototype[Symbol.iterator]=function(){return this});const W3={from:-1,to:-1,match:/.*/.exec("")},ex="gm"+(/x/.unicode==null?"":"u");class V3{constructor(e,t,n,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=W3,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new $3(e,t,n,i,s);this.re=new RegExp(t,ex+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=Xd(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,i=n+t[0].length;if(this.matchPos=Xd(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const F0=new WeakMap;class _o{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let i=F0.get(e);if(!i||i.from>=n||i.to<=t){let u=new _o(t,e.sliceString(t,n));return F0.set(e,u),u}if(i.from==t&&i.to==n)return i;let{text:s,from:l}=i;return l>t&&(s=e.sliceString(t,l)+s,l=t),i.to<n&&(s+=e.sliceString(i.to,n)),F0.set(e,new _o(l,s)),new _o(t,s.slice(t-l,n-l))}}class $3{constructor(e,t,n,i,s){this.text=e,this.to=s,this.done=!1,this.value=W3,this.matchPos=Xd(e,i),this.re=new RegExp(t,ex+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=_o.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,i=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this.matchPos=Xd(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=_o.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(V3.prototype[Symbol.iterator]=$3.prototype[Symbol.iterator]=function(){return this});function L7(r){try{return new RegExp(r,ex),!0}catch{return!1}}function Xd(r,e){if(e>=r.length)return e;let t=r.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function j1(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),t=$t("input",{class:"cm-textfield",name:"line",value:e}),n=$t("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),r.dispatch({effects:xc.of(!1)}),r.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},$t("label",r.state.phrase("Go to line"),": ",t)," ",$t("button",{class:"cm-button",type:"submit"},r.state.phrase("go")),$t("button",{name:"close",onclick:()=>{r.dispatch({effects:xc.of(!1)}),r.focus()},"aria-label":r.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:l}=r,u=l.doc.lineAt(l.selection.main.head),[,c,h,d,m]=s,g=d?+d.slice(1):0,y=h?+h:u.number;if(h&&m){let E=y/100;c&&(E=E*(c=="-"?-1:1)+u.number/l.doc.lines),y=Math.round(l.doc.lines*E)}else h&&c&&(y=y*(c=="-"?-1:1)+u.number);let b=l.doc.line(Math.max(1,Math.min(l.doc.lines,y))),w=Ne.cursor(b.from+Math.max(0,Math.min(g,b.length)));r.dispatch({effects:[xc.of(!1),He.scrollIntoView(w.from,{y:"center"})],selection:w}),r.focus()}return{dom:n}}const xc=ot.define(),jE=Fr.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(xc)&&(r=t.value);return r},provide:r=>zc.from(r,e=>e?j1:null)}),B7=r=>{let e=Bc(r,j1);if(!e){let t=[xc.of(!0)];r.state.field(jE,!1)==null&&t.push(ot.appendConfig.of([jE,z7])),r.dispatch({effects:t}),e=Bc(r,j1)}return e&&e.dom.querySelector("input").select(),!0},z7=He.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),j7={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},P7=We.define({combine(r){return Hi(r,j7,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function F7(r){return[W7,q7]}const I7=it.mark({class:"cm-selectionMatch"}),U7=it.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function PE(r,e,t,n){return(t==0||r(e.sliceDoc(t-1,t))!=tr.Word)&&(n==e.doc.length||r(e.sliceDoc(n,n+1))!=tr.Word)}function H7(r,e,t,n){return r(e.sliceDoc(t,t+1))==tr.Word&&r(e.sliceDoc(n-1,n))==tr.Word}const q7=vr.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(P7),{state:t}=r,n=t.selection;if(n.ranges.length>1)return it.none;let i=n.main,s,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return it.none;let c=t.wordAt(i.head);if(!c)return it.none;l=t.charCategorizer(i.head),s=t.sliceDoc(c.from,c.to)}else{let c=i.to-i.from;if(c<e.minSelectionLength||c>200)return it.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),l=t.charCategorizer(i.head),!(PE(l,t,i.from,i.to)&&H7(l,t,i.from,i.to)))return it.none}else if(s=t.sliceDoc(i.from,i.to),!s)return it.none}let u=[];for(let c of r.visibleRanges){let h=new Uo(t.doc,s,c.from,c.to);for(;!h.next().done;){let{from:d,to:m}=h.value;if((!l||PE(l,t,d,m))&&(i.empty&&d<=i.from&&m>=i.to?u.push(U7.range(d,m)):(d>=i.to||m<=i.from)&&u.push(I7.range(d,m)),u.length>e.maxMatches))return it.none}}return it.set(u)}},{decorations:r=>r.decorations}),W7=He.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),V7=({state:r,dispatch:e})=>{let{selection:t}=r,n=Ne.create(t.ranges.map(i=>r.wordAt(i.head)||Ne.cursor(i.head)),t.mainIndex);return n.eq(t)?!1:(e(r.update({selection:n})),!0)};function $7(r,e){let{main:t,ranges:n}=r.selection,i=r.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let l=!1,u=new Uo(r.doc,e,n[n.length-1].to);;)if(u.next(),u.done){if(l)return null;u=new Uo(r.doc,e,0,Math.max(0,n[n.length-1].from-1)),l=!0}else{if(l&&n.some(c=>c.from==u.value.from))continue;if(s){let c=r.wordAt(u.value.from);if(!c||c.from!=u.value.from||c.to!=u.value.to)continue}return u.value}}const G7=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(s=>s.from===s.to))return V7({state:r,dispatch:e});let n=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(s=>r.sliceDoc(s.from,s.to)!=n))return!1;let i=$7(r,n);return i?(e(r.update({selection:r.selection.addRange(Ne.range(i.from,i.to),!1),effects:He.scrollIntoView(i.to)})),!0):!1},Jo=We.define({combine(r){return Hi(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new sF(e),scrollToMatch:e=>He.scrollIntoView(e)})}});class G3{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||L7(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new K7(this):new X7(this)}getCursor(e,t=0,n){let i=e.doc?e:wt.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?fo(this,i,t,n):co(this,i,t,n)}}class Q3{constructor(e){this.spec=e}}function co(r,e,t,n){return new Uo(e.doc,r.unquoted,t,n,r.caseSensitive?void 0:i=>i.toLowerCase(),r.wholeWord?Q7(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Q7(r,e){return(t,n,i,s)=>((s>t||s+i.length<n)&&(s=Math.max(0,t-2),i=r.sliceString(s,Math.min(r.length,n+2))),(e(Yd(i,t-s))!=tr.Word||e(Kd(i,t-s))!=tr.Word)&&(e(Kd(i,n-s))!=tr.Word||e(Yd(i,n-s))!=tr.Word))}class X7 extends Q3{constructor(e){super(e)}nextMatch(e,t,n){let i=co(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=co(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==n?null:i.value}prevMatchInRange(e,t,n){for(let i=n;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),l=co(this.spec,e,s,i),u=null;for(;!l.nextOverlapping().done;)u=l.value;if(u)return u;if(s==t)return null;i-=1e4}}prevMatch(e,t,n){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=n)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=co(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=co(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function fo(r,e,t,n){return new V3(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?Y7(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function Yd(r,e){return r.slice(Sr(r,e,!1),e)}function Kd(r,e){return r.slice(e,Sr(r,e))}function Y7(r){return(e,t,n)=>!n[0].length||(r(Yd(n.input,n.index))!=tr.Word||r(Kd(n.input,n.index))!=tr.Word)&&(r(Kd(n.input,n.index+n[0].length))!=tr.Word||r(Yd(n.input,n.index+n[0].length))!=tr.Word)}class K7 extends Q3{nextMatch(e,t,n){let i=fo(this.spec,e,n,e.doc.length).next();return i.done&&(i=fo(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=1;;i++){let s=Math.max(t,n-i*1e4),l=fo(this.spec,e,s,n),u=null;for(;!l.next().done;)u=l.value;if(u&&(s==t||u.from>s+10))return u;if(s==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let i=n.length;i>0;i--){let s=+n.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+n.slice(i)}return t})}matchAll(e,t){let n=fo(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=fo(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Ic=ot.define(),tx=ot.define(),oa=Fr.define({create(r){return new I0(P1(r).create(),null)},update(r,e){for(let t of e.effects)t.is(Ic)?r=new I0(t.value.create(),r.panel):t.is(tx)&&(r=new I0(r.query,t.value?rx:null));return r},provide:r=>zc.from(r,e=>e.panel)});class I0{constructor(e,t){this.query=e,this.panel=t}}const Z7=it.mark({class:"cm-searchMatch"}),J7=it.mark({class:"cm-searchMatch cm-searchMatch-selected"}),eF=vr.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(oa))}update(r){let e=r.state.field(oa);(e!=r.startState.field(oa)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return it.none;let{view:t}=this,n=new vs;for(let i=0,s=t.visibleRanges,l=s.length;i<l;i++){let{from:u,to:c}=s[i];for(;i<l-1&&c>s[i+1].from-500;)c=s[++i].to;r.highlight(t.state,u,c,(h,d)=>{let m=t.state.selection.ranges.some(g=>g.from==h&&g.to==d);n.add(h,d,m?J7:Z7)})}return n.finish()}},{decorations:r=>r.decorations});function lf(r){return e=>{let t=e.state.field(oa,!1);return t&&t.query.spec.valid?r(e,t):K3(e)}}const Zd=lf((r,{query:e})=>{let{to:t}=r.state.selection.main,n=e.nextMatch(r.state,t,t);if(!n)return!1;let i=Ne.single(n.from,n.to),s=r.state.facet(Jo);return r.dispatch({selection:i,effects:[nx(r,n),s.scrollToMatch(i.main,r)],userEvent:"select.search"}),Y3(r),!0}),Jd=lf((r,{query:e})=>{let{state:t}=r,{from:n}=t.selection.main,i=e.prevMatch(t,n,n);if(!i)return!1;let s=Ne.single(i.from,i.to),l=r.state.facet(Jo);return r.dispatch({selection:s,effects:[nx(r,i),l.scrollToMatch(s.main,r)],userEvent:"select.search"}),Y3(r),!0}),tF=lf((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:Ne.create(t.map(n=>Ne.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),rF=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:i}=t.main,s=[],l=0;for(let u=new Uo(r.doc,r.sliceDoc(n,i));!u.next().done;){if(s.length>1e3)return!1;u.value.from==n&&(l=s.length),s.push(Ne.range(u.value.from,u.value.to))}return e(r.update({selection:Ne.create(s,l),userEvent:"select.search.matches"})),!0},FE=lf((r,{query:e})=>{let{state:t}=r,{from:n,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,n,n);if(!s)return!1;let l=s,u=[],c,h,d=[];l.from==n&&l.to==i&&(h=t.toText(e.getReplacement(l)),u.push({from:l.from,to:l.to,insert:h}),l=e.nextMatch(t,l.from,l.to),d.push(He.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+".")));let m=r.state.changes(u);return l&&(c=Ne.single(l.from,l.to).map(m),d.push(nx(r,l)),d.push(t.facet(Jo).scrollToMatch(c.main,r))),r.dispatch({changes:m,selection:c,effects:d,userEvent:"input.replace"}),!0}),nF=lf((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(i=>{let{from:s,to:l}=i;return{from:s,to:l,insert:e.getReplacement(i)}});if(!t.length)return!1;let n=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:He.announce.of(n),userEvent:"input.replace.all"}),!0});function rx(r){return r.state.facet(Jo).createPanel(r)}function P1(r,e){var t,n,i,s,l;let u=r.selection.main,c=u.empty||u.to>u.from+100?"":r.sliceDoc(u.from,u.to);if(e&&!c)return e;let h=r.facet(Jo);return new G3({search:((t=e?.literal)!==null&&t!==void 0?t:h.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:h.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:h.wholeWord})}function X3(r){let e=Bc(r,rx);return e&&e.dom.querySelector("[main-field]")}function Y3(r){let e=X3(r);e&&e==r.root.activeElement&&e.select()}const K3=r=>{let e=r.state.field(oa,!1);if(e&&e.panel){let t=X3(r);if(t&&t!=r.root.activeElement){let n=P1(r.state,e.query.spec);n.valid&&r.dispatch({effects:Ic.of(n)}),t.focus(),t.select()}}else r.dispatch({effects:[tx.of(!0),e?Ic.of(P1(r.state,e.query.spec)):ot.appendConfig.of(lF)]});return!0},Z3=r=>{let e=r.state.field(oa,!1);if(!e||!e.panel)return!1;let t=Bc(r,rx);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:tx.of(!1)}),!0},iF=[{key:"Mod-f",run:K3,scope:"editor search-panel"},{key:"F3",run:Zd,shift:Jd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Zd,shift:Jd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Z3,scope:"editor search-panel"},{key:"Mod-Shift-l",run:rF},{key:"Mod-Alt-g",run:B7},{key:"Mod-d",run:G7,preventDefault:!0}];class sF{constructor(e){this.view=e;let t=this.query=e.state.field(oa).query.spec;this.commit=this.commit.bind(this),this.searchField=$t("input",{value:t.search,placeholder:Mn(e,"Find"),"aria-label":Mn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$t("input",{value:t.replace,placeholder:Mn(e,"Replace"),"aria-label":Mn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$t("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=$t("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=$t("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(i,s,l){return $t("button",{class:"cm-button",name:i,onclick:s,type:"button"},l)}this.dom=$t("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>Zd(e),[Mn(e,"next")]),n("prev",()=>Jd(e),[Mn(e,"previous")]),n("select",()=>tF(e),[Mn(e,"all")]),$t("label",null,[this.caseField,Mn(e,"match case")]),$t("label",null,[this.reField,Mn(e,"regexp")]),$t("label",null,[this.wordField,Mn(e,"by word")]),...e.state.readOnly?[]:[$t("br"),this.replaceField,n("replace",()=>FE(e),[Mn(e,"replace")]),n("replaceAll",()=>nF(e),[Mn(e,"replace all")])],$t("button",{name:"close",onclick:()=>Z3(e),"aria-label":Mn(e,"close"),type:"button"},[""])])}commit(){let e=new G3({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Ic.of(e)}))}keydown(e){hz(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Jd:Zd)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),FE(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(Ic)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Jo).top}}function Mn(r,e){return r.state.phrase(e)}const Qh=30,Xh=/[\s\.,:;?!]/;function nx(r,{from:e,to:t}){let n=r.state.doc.lineAt(e),i=r.state.doc.lineAt(t).to,s=Math.max(n.from,e-Qh),l=Math.min(i,t+Qh),u=r.state.sliceDoc(s,l);if(s!=n.from){for(let c=0;c<Qh;c++)if(!Xh.test(u[c+1])&&Xh.test(u[c])){u=u.slice(c);break}}if(l!=i){for(let c=u.length-1;c>u.length-Qh;c--)if(!Xh.test(u[c-1])&&Xh.test(u[c])){u=u.slice(0,c);break}}return He.announce.of(`${r.state.phrase("current match")}. ${u} ${r.state.phrase("on line")} ${n.number}.`)}const aF=He.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),lF=[oa,bl.low(eF),aF];class J3{constructor(e,t,n,i){this.state=e,this.pos=t,this.explicit=n,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Hr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),s=i.search(e4(e,!1));return s<0?null:{from:n+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function IE(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function oF(r){let e=Object.create(null),t=Object.create(null);for(let{label:i}of r){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let n=IE(e)+IE(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function uF(r){let e=r.map(i=>typeof i=="string"?{label:i}:i),[t,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:oF(e);return i=>{let s=i.matchBefore(n);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}class UE{constructor(e,t,n,i){this.completion=e,this.source=t,this.match=n,this.score=i}}function ol(r){return r.selection.main.from}function e4(r,e){var t;let{source:n}=r,i=e&&n[0]!="^",s=n[n.length-1]!="$";return!i&&!s?r:new RegExp(`${i?"^":""}(?:${n})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const t4=As.define();function cF(r,e,t,n){let{main:i}=r.selection,s=t-i.from,l=n-i.from;return{...r.changeByRange(u=>{if(u!=i&&t!=n&&r.sliceDoc(u.from+s,u.from+l)!=r.sliceDoc(t,n))return{range:u};let c=r.toText(e);return{changes:{from:u.from+s,to:n==i.from?u.to:u.from+l,insert:c},range:Ne.cursor(u.from+s+c.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const HE=new WeakMap;function fF(r){if(!Array.isArray(r))return r;let e=HE.get(r);return e||HE.set(r,e=uF(r)),e}const ep=ot.define(),Uc=ot.define();class hF{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=dn(e,t),i=Mi(n);this.chars.push(n);let s=e.slice(t,t+i),l=s.toUpperCase();this.folded.push(dn(l==s?s.toLowerCase():l,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:i,precise:s,byWord:l}=this;if(t.length==1){let k=dn(e,0),O=Mi(k),T=O==e.length?0:-100;if(k!=t[0])if(k==n[0])T+=-200;else return null;return this.ret(T,[0,O])}let u=e.indexOf(this.pattern);if(u==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=t.length,h=0;if(u<0){for(let k=0,O=Math.min(e.length,200);k<O&&h<c;){let T=dn(e,k);(T==t[h]||T==n[h])&&(i[h++]=k),k+=Mi(T)}if(h<c)return null}let d=0,m=0,g=!1,y=0,b=-1,w=-1,E=/[a-z]/.test(e),x=!0;for(let k=0,O=Math.min(e.length,200),T=0;k<O&&m<c;){let _=dn(e,k);u<0&&(d<c&&_==t[d]&&(s[d++]=k),y<c&&(_==t[y]||_==n[y]?(y==0&&(b=k),w=k+1,y++):y=0));let H,M=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(H=Cb(_))!=H.toLowerCase()?1:H!=H.toUpperCase()?2:0;(!k||M==1&&E||T==0&&M!=0)&&(t[m]==_||n[m]==_&&(g=!0)?l[m++]=k:l.length&&(x=!1)),T=M,k+=Mi(_)}return m==c&&l[0]==0&&x?this.result(-100+(g?-200:0),l,e):y==c&&b==0?this.ret(-200-e.length+(w==e.length?0:-100),[0,w]):u>-1?this.ret(-700-e.length,[u,u+this.pattern.length]):y==c?this.ret(-900-e.length,[b,w]):m==c?this.result(-100+(g?-200:0)+-700+(x?0:-1100),l,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,n){let i=[],s=0;for(let l of t){let u=l+(this.astral?Mi(dn(n,l)):1);s&&i[s-1]==l?i[s-1]=u:(i[s++]=l,i[s++]=u)}return this.ret(e-n.length,i)}}class dF{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const Or=We.define({combine(r){return Hi(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:pF,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>qE(e(n),t(n)),optionClass:(e,t)=>n=>qE(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function qE(r,e){return r?e?r+" "+e:r:e}function pF(r,e,t,n,i,s){let l=r.textDirection==Qt.RTL,u=l,c=!1,h="top",d,m,g=e.left-i.left,y=i.right-e.right,b=n.right-n.left,w=n.bottom-n.top;if(u&&g<Math.min(b,y)?u=!1:!u&&y<Math.min(b,g)&&(u=!0),b<=(u?g:y))d=Math.max(i.top,Math.min(t.top,i.bottom-w))-e.top,m=Math.min(400,u?g:y);else{c=!0,m=Math.min(400,(l?e.right:i.right-e.left)-30);let k=i.bottom-e.bottom;k>=w||k>e.top?d=t.bottom-e.top:(h="bottom",d=e.bottom-t.top)}let E=(e.bottom-e.top)/s.offsetHeight,x=(e.right-e.left)/s.offsetWidth;return{style:`${h}: ${d/E}px; max-width: ${m/x}px`,class:"cm-completionInfo-"+(c?l?"left-narrow":"right-narrow":u?"left":"right")}}function mF(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,i,s){let l=document.createElement("span");l.className="cm-completionLabel";let u=t.displayLabel||t.label,c=0;for(let h=0;h<s.length;){let d=s[h++],m=s[h++];d>c&&l.appendChild(document.createTextNode(u.slice(c,d)));let g=l.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(u.slice(d,m))),g.className="cm-completionMatchedText",c=m}return c<u.length&&l.appendChild(document.createTextNode(u.slice(c))),l},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function U0(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let n=Math.floor((r-e)/t);return{from:r-(n+1)*t,to:r-n*t}}class gF{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:l}=i.open,u=e.state.facet(Or);this.optionContent=mF(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=U0(s.length,l,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:h}=e.state.field(t).open;for(let d=c.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<h.length){this.applyCompletion(e,h[+m[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(Or).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:Uc.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:s,selected:l,disabled:u}=n.open;(!i.open||i.open.options!=s)&&(this.range=U0(s.length,l,e.state.facet(Or).maxRenderedOptions),this.showOptions(s,n.id)),this.updateSel(),u!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=U0(t.options.length,t.selected,this.view.state.facet(Or).maxRenderedOptions),this.showOptions(t.options,e.id));let n=this.updateSelectedOption(t.selected);if(n){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(i);if(!l)return;"then"in l?l.then(u=>{u&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(u,i)}).catch(u=>gn(this.view.state,u,"completion info")):(this.addInfoPane(l,i),n.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",n.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;n.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&(n.removeAttribute("aria-selected"),n.removeAttribute("aria-describedby"));return t&&vF(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let l=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Or).positionInfo(this.view,t,i,n,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",l=>{l.target==i&&l.preventDefault()});let s=null;for(let l=n.from;l<n.to;l++){let{completion:u,match:c}=e[l],{section:h}=u;if(h){let g=typeof h=="string"?h:h.name;if(g!=s&&(l>n.from||n.from==0))if(s=g,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let y=i.appendChild(document.createElement("completion-section"));y.textContent=g}}const d=i.appendChild(document.createElement("li"));d.id=t+"-"+l,d.setAttribute("role","option");let m=this.optionClass(u);m&&(d.className=m);for(let g of this.optionContent){let y=g(u,this.view.state,this.view,c);y&&d.appendChild(y)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function yF(r,e){return t=>new gF(t,r,e)}function vF(r,e){let t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.height/r.offsetHeight;n.top<t.top?r.scrollTop-=(t.top-n.top)/i:n.bottom>t.bottom&&(r.scrollTop+=(n.bottom-t.bottom)/i)}function WE(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function bF(r,e){let t=[],n=null,i=null,s=d=>{t.push(d);let{section:m}=d.completion;if(m){n||(n=[]);let g=typeof m=="string"?m:m.name;n.some(y=>y.name==g)||n.push(typeof m=="string"?{name:g}:m)}},l=e.facet(Or);for(let d of r)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)s(new UE(g,d.source,m?m(g):[],1e9-t.length));else{let g=e.sliceDoc(d.from,d.to),y,b=l.filterStrict?new dF(g):new hF(g);for(let w of d.result.options)if(y=b.match(w.label)){let E=w.displayLabel?m?m(w,y.matched):[]:y.matched,x=y.score+(w.boost||0);if(s(new UE(w,d.source,E,x)),typeof w.section=="object"&&w.section.rank==="dynamic"){let{name:k}=w.section;i||(i=Object.create(null)),i[k]=Math.max(x,i[k]||-1e9)}}}}if(n){let d=Object.create(null),m=0,g=(y,b)=>(y.rank==="dynamic"&&b.rank==="dynamic"?i[b.name]-i[y.name]:0)||(typeof y.rank=="number"?y.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(y.name<b.name?-1:1);for(let y of n.sort(g))m-=1e5,d[y.name]=m;for(let y of t){let{section:b}=y.completion;b&&(y.score+=d[typeof b=="string"?b:b.name])}}let u=[],c=null,h=l.compareCompletions;for(let d of t.sort((m,g)=>g.score-m.score||h(m.completion,g.completion))){let m=d.completion;!c||c.label!=m.label||c.detail!=m.detail||c.type!=null&&m.type!=null&&c.type!=m.type||c.apply!=m.apply||c.boost!=m.boost?u.push(d):WE(d.completion)>WE(c)&&(u[u.length-1]=d),c=d.completion}return u}class xo{constructor(e,t,n,i,s,l){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=i,this.selected=s,this.disabled=l}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new xo(this.options,VE(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,i,s,l){if(i&&!l&&e.some(h=>h.isPending))return i.setDisabled();let u=bF(e,t);if(!u.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let c=t.facet(Or).selectOnOpen?0:-1;if(i&&i.selected!=c&&i.selected!=-1){let h=i.options[i.selected].completion;for(let d=0;d<u.length;d++)if(u[d].completion==h){c=d;break}}return new xo(u,VE(n,c),{pos:e.reduce((h,d)=>d.hasResult()?Math.min(h,d.from):h,1e8),create:EF,above:s.aboveCursor},i?i.timestamp:Date.now(),c,!1)}map(e){return new xo(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new xo(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class tp{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new tp(kF,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(Or),s=(n.override||t.languageDataAt("autocomplete",ol(t)).map(fF)).map(c=>(this.active.find(d=>d.source==c)||new Kn(c,this.active.some(d=>d.state!=0)?1:0)).update(e,n));s.length==this.active.length&&s.every((c,h)=>c==this.active[h])&&(s=this.active);let l=this.open,u=e.effects.some(c=>c.is(ix));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||s.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!xF(s,this.active)||u?l=xo.build(s,t,this.id,l,n,u):l&&l.disabled&&!s.some(c=>c.isPending)&&(l=null),!l&&s.every(c=>!c.isPending)&&s.some(c=>c.hasResult())&&(s=s.map(c=>c.hasResult()?new Kn(c.source,0):c));for(let c of e.effects)c.is(n4)&&(l=l&&l.setSelected(c.value,this.id));return s==this.active&&l==this.open?this:new tp(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?wF:SF}}function xF(r,e){if(r==e)return!0;for(let t=0,n=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;n<e.length&&!e[n].hasResult();)n++;let i=t==r.length,s=n==e.length;if(i||s)return i==s;if(r[t++].result!=e[n++].result)return!1}}const wF={"aria-autocomplete":"list"},SF={};function VE(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const kF=[];function r4(r,e){if(r.isUserEvent("input.complete")){let n=r.annotation(t4);if(n&&e.activateOnCompletion(n))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class Kn{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let n=r4(e,t),i=this;(n&8||n&16&&this.touches(e))&&(i=new Kn(i.source,0)),n&4&&i.state==0&&(i=new Kn(this.source,1)),i=i.updateFor(e,n);for(let s of e.effects)if(s.is(ep))i=new Kn(i.source,1,s.value);else if(s.is(Uc))i=new Kn(i.source,0);else if(s.is(ix))for(let l of s.value)l.source==i.source&&(i=l);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ol(e.state))}}class Ro extends Kn{constructor(e,t,n,i,s,l){super(e,3,t),this.limit=n,this.result=i,this.from=s,this.to=l}hasResult(){return!0}updateFor(e,t){var n;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),u=ol(e.state);if(u>l||!i||t&2&&(ol(e.startState)==this.from||u<this.limit))return new Kn(this.source,t&4?1:0);let c=e.changes.mapPos(this.limit);return AF(i.validFor,e.state,s,l)?new Ro(this.source,this.explicit,c,i,s,l):i.update&&(i=i.update(i,s,l,new J3(e.state,u,!1)))?new Ro(this.source,this.explicit,c,i,i.from,(n=i.to)!==null&&n!==void 0?n:ol(e.state)):new Kn(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Ro(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Kn(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function AF(r,e,t,n){if(!r)return!1;let i=e.sliceDoc(t,n);return typeof r=="function"?r(i,t,n,e):e4(r,!0).test(i)}const ix=ot.define({map(r,e){return r.map(t=>t.map(e))}}),n4=ot.define(),pn=Fr.define({create(){return tp.start()},update(r,e){return r.update(e)},provide:r=>[qb.from(r,e=>e.tooltip),He.contentAttributes.from(r,e=>e.attrs)]});function sx(r,e){const t=e.completion.apply||e.completion.label;let n=r.state.field(pn).active.find(i=>i.source==e.source);return n instanceof Ro?(typeof t=="string"?r.dispatch({...cF(r.state,t,n.from,n.to),annotations:t4.of(e.completion)}):t(r,e.completion,n.from,n.to),!0):!1}const EF=yF(pn,sx);function Yh(r,e="option"){return t=>{let n=t.state.field(pn,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(Or).interactionDelay)return!1;let i=1,s;e=="page"&&(s=FR(t,n.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:l}=n.open.options,u=n.open.selected>-1?n.open.selected+i*(r?1:-1):r?0:l-1;return u<0?u=e=="page"?0:l-1:u>=l&&(u=e=="page"?l-1:0),t.dispatch({effects:n4.of(u)}),!0}}const TF=r=>{let e=r.state.field(pn,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(Or).interactionDelay?!1:sx(r,e.open.options[e.open.selected])},H0=r=>r.state.field(pn,!1)?(r.dispatch({effects:ep.of(!0)}),!0):!1,CF=r=>{let e=r.state.field(pn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:Uc.of(null)}),!0)};class OF{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const _F=50,RF=1e3,MF=vr.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(pn).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(pn),t=r.state.facet(Or);if(!r.selectionSet&&!r.docChanged&&r.startState.field(pn)==e)return;let n=r.transactions.some(s=>{let l=r4(s,t);return l&8||(s.selection||s.docChanged)&&!(l&3)});for(let s=0;s<this.running.length;s++){let l=this.running[s];if(n||l.context.abortOnDocChange&&r.docChanged||l.updates.length+r.transactions.length>_F&&Date.now()-l.time>RF){for(let u of l.context.abortListeners)try{u()}catch(c){gn(this.view.state,c)}l.context.abortListeners=null,this.running.splice(s--,1)}else l.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(s=>s.effects.some(l=>l.is(ep)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(l=>l.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of r.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(pn);for(let t of e.active)t.isPending&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Or).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=ol(e),n=new J3(e,t,r.explicit,this.view),i=new OF(r,n);this.running.push(i),Promise.resolve(r.source(n)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Uc.of(null)}),gn(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Or).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Or),n=this.view.state.field(pn);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let u=ol(s.updates.length?s.updates[0].startState:this.view.state),c=Math.min(u,s.done.from+(s.active.explicit?0:1)),h=new Ro(s.active.source,s.active.explicit,c,s.done,s.done.from,(r=s.done.to)!==null&&r!==void 0?r:u);for(let d of s.updates)h=h.update(d,t);if(h.hasResult()){e.push(h);continue}}let l=n.active.find(u=>u.source==s.active.source);if(l&&l.isPending)if(s.done==null){let u=new Kn(s.active.source,0);for(let c of s.updates)u=u.update(c,t);u.isPending||e.push(u)}else this.startQuery(l)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:ix.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(pn,!1);if(e&&e.tooltip&&this.view.state.facet(Or).closeOnBlur){let t=e.open&&FR(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Uc.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ep.of(!1)}),20),this.composing=0}}}),NF=typeof navigator=="object"&&/Win/.test(navigator.platform),DF=bl.highest(He.domEventHandlers({keydown(r,e){let t=e.state.field(pn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(NF&&r.altKey)||r.metaKey)return!1;let n=t.open.options[t.open.selected],i=t.active.find(l=>l.source==n.source),s=n.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(r.key)>-1&&sx(e,n),!1}})),LF=He.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Hc={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},el=ot.define({map(r,e){let t=e.mapPos(r,-1,Kr.TrackAfter);return t??void 0}}),ax=new class extends ca{};ax.startSide=1;ax.endSide=-1;const i4=Fr.define({create(){return yt.empty},update(r,e){if(r=r.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);r=r.update({filter:n=>n>=t.from&&n<=t.to})}for(let t of e.effects)t.is(el)&&(r=r.update({add:[ax.range(t.value,t.value+1)]}));return r}});function BF(){return[jF,i4]}const q0="()[]{}<>";function s4(r){for(let e=0;e<q0.length;e+=2)if(q0.charCodeAt(e)==r)return q0.charAt(e+1);return Cb(r<128?r:r+1)}function a4(r,e){return r.languageDataAt("closeBrackets",e)[0]||Hc}const zF=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),jF=He.inputHandler.of((r,e,t,n)=>{if((zF?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let i=r.state.selection.main;if(n.length>2||n.length==2&&Mi(dn(n,0))==1||e!=i.from||t!=i.to)return!1;let s=IF(r.state,n);return s?(r.dispatch(s),!0):!1}),PF=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=a4(r,r.selection.main.head).brackets||Hc.brackets,i=null,s=r.changeByRange(l=>{if(l.empty){let u=UF(r.doc,l.head);for(let c of n)if(c==u&&zp(r.doc,l.head)==s4(dn(c,0)))return{changes:{from:l.head-c.length,to:l.head+c.length},range:Ne.cursor(l.head-c.length)}}return{range:i=l}});return i||e(r.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},FF=[{key:"Backspace",run:PF}];function IF(r,e){let t=a4(r,r.selection.main.head),n=t.brackets||Hc.brackets;for(let i of n){let s=s4(dn(i,0));if(e==i)return s==i?WF(r,i,n.indexOf(i+i+i)>-1,t):HF(r,i,s,t.before||Hc.before);if(e==s&&l4(r,r.selection.main.from))return qF(r,i,s)}return null}function l4(r,e){let t=!1;return r.field(i4).between(0,r.doc.length,n=>{n==e&&(t=!0)}),t}function zp(r,e){let t=r.sliceString(e,e+2);return t.slice(0,Mi(dn(t,0)))}function UF(r,e){let t=r.sliceString(e-2,e);return Mi(dn(t,0))==t.length?t:t.slice(1)}function HF(r,e,t,n){let i=null,s=r.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:t,from:l.to}],effects:el.of(l.to+e.length),range:Ne.range(l.anchor+e.length,l.head+e.length)};let u=zp(r.doc,l.head);return!u||/\s/.test(u)||n.indexOf(u)>-1?{changes:{insert:e+t,from:l.head},effects:el.of(l.head+e.length),range:Ne.cursor(l.head+e.length)}:{range:i=l}});return i?null:r.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function qF(r,e,t){let n=null,i=r.changeByRange(s=>s.empty&&zp(r.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:Ne.cursor(s.head+t.length)}:n={range:s});return n?null:r.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function WF(r,e,t,n){let i=n.stringPrefixes||Hc.stringPrefixes,s=null,l=r.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:e,from:u.to}],effects:el.of(u.to+e.length),range:Ne.range(u.anchor+e.length,u.head+e.length)};let c=u.head,h=zp(r.doc,c),d;if(h==e){if($E(r,c))return{changes:{insert:e+e,from:c},effects:el.of(c+e.length),range:Ne.cursor(c+e.length)};if(l4(r,c)){let g=t&&r.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+g.length,insert:g},range:Ne.cursor(c+g.length)}}}else{if(t&&r.sliceDoc(c-2*e.length,c)==e+e&&(d=GE(r,c-2*e.length,i))>-1&&$E(r,d))return{changes:{insert:e+e+e+e,from:c},effects:el.of(c+e.length),range:Ne.cursor(c+e.length)};if(r.charCategorizer(c)(h)!=tr.Word&&GE(r,c,i)>-1&&!VF(r,c,e,i))return{changes:{insert:e+e,from:c},effects:el.of(c+e.length),range:Ne.cursor(c+e.length)}}return{range:s=u}});return s?null:r.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function $E(r,e){let t=Hr(r).resolveInner(e+1);return t.parent&&t.from==e}function VF(r,e,t,n){let i=Hr(r).resolveInner(e,-1),s=n.reduce((l,u)=>Math.max(l,u.length),0);for(let l=0;l<5;l++){let u=r.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),c=u.indexOf(t);if(!c||c>-1&&n.indexOf(u.slice(0,c))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>t.length+c;){if(r.sliceDoc(d.to-t.length,d.to)==t)return!1;d=d.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function GE(r,e,t){let n=r.charCategorizer(e);if(n(r.sliceDoc(e-1,e))!=tr.Word)return e;for(let i of t){let s=e-i.length;if(r.sliceDoc(s,e)==i&&n(r.sliceDoc(s-1,s))!=tr.Word)return s}return-1}function $F(r={}){return[DF,pn,Or.of(r),MF,GF,LF]}const o4=[{key:"Ctrl-Space",run:H0},{mac:"Alt-`",run:H0},{mac:"Alt-i",run:H0},{key:"Escape",run:CF},{key:"ArrowDown",run:Yh(!0)},{key:"ArrowUp",run:Yh(!1)},{key:"PageDown",run:Yh(!0,"page")},{key:"PageUp",run:Yh(!1,"page")},{key:"Enter",run:TF}],GF=bl.highest(Ub.computeN([Or],r=>r.facet(Or).defaultKeymap?[o4]:[]));class QE{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class Xa{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=n.facet(qc).markerFilter;i&&(e=i(e,n));let s=e.slice().sort((y,b)=>y.from-b.from||y.to-b.to),l=new vs,u=[],c=0,h=n.doc.iter(),d=0,m=n.doc.length;for(let y=0;;){let b=y==s.length?null:s[y];if(!b&&!u.length)break;let w,E;if(u.length)w=c,E=u.reduce((O,T)=>Math.min(O,T.to),b&&b.from>w?b.from:1e8);else{if(w=b.from,w>m)break;E=b.to,u.push(b),y++}for(;y<s.length;){let O=s[y];if(O.from==w&&(O.to>O.from||O.to==w))u.push(O),y++,E=Math.min(O.to,E);else{E=Math.min(O.from,E);break}}E=Math.min(E,m);let x=!1;if(u.some(O=>O.from==w&&(O.to==E||E==m))&&(x=w==E,!x&&E-w<10)){let O=w-(d+h.value.length);O>0&&(h.next(O),d=w);for(let T=w;;){if(T>=E){x=!0;break}if(!h.lineBreak&&d+h.value.length>T)break;T=d+h.value.length,d+=h.value.length,h.next()}}let k=aI(u);if(x)l.add(w,w,it.widget({widget:new rI(k),diagnostics:u.slice()}));else{let O=u.reduce((T,_)=>_.markClass?T+" "+_.markClass:T,"");l.add(w,E,it.mark({class:"cm-lintRange cm-lintRange-"+k+O,diagnostics:u.slice(),inclusiveEnd:u.some(T=>T.to>E)}))}if(c=E,c==m)break;for(let O=0;O<u.length;O++)u[O].to<=c&&u.splice(O--,1)}let g=l.finish();return new Xa(g,t,Ho(g))}}function Ho(r,e=null,t=0){let n=null;return r.between(t,1e9,(i,s,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!n)n=new QE(i,s,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new QE(n.from,s,n.diagnostic)}}),n}function QF(r,e){let t=e.pos,n=e.end||t,i=r.state.facet(qc).hideOn(r,t,n);if(i!=null)return i;let s=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(l=>l.is(u4))||r.changes.touchesRange(s.from,Math.max(s.to,n)))}function XF(r,e){return r.field(Bn,!1)?e:e.concat(ot.appendConfig.of(lI))}const u4=ot.define(),lx=ot.define(),c4=ot.define(),Bn=Fr.define({create(){return new Xa(it.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let t=r.diagnostics.map(e.changes),n=null,i=r.panel;if(r.selected){let s=e.changes.mapPos(r.selected.from,1);n=Ho(t,r.selected.diagnostic,s)||Ho(t,null,s)}!t.size&&i&&e.state.facet(qc).autoPanel&&(i=null),r=new Xa(t,i,n)}for(let t of e.effects)if(t.is(u4)){let n=e.state.facet(qc).autoPanel?t.value.length?Wc.open:null:r.panel;r=Xa.init(t.value,n,e.state)}else t.is(lx)?r=new Xa(r.diagnostics,t.value?Wc.open:null,r.selected):t.is(c4)&&(r=new Xa(r.diagnostics,r.panel,t.value));return r},provide:r=>[zc.from(r,e=>e.panel),He.decorations.from(r,e=>e.diagnostics)]}),YF=it.mark({class:"cm-lintRange cm-lintRange-active"});function KF(r,e,t){let{diagnostics:n}=r.state.field(Bn),i,s=-1,l=-1;n.between(e-(t<0?1:0),e+(t>0?1:0),(c,h,{spec:d})=>{if(e>=c&&e<=h&&(c==h||(e>c||t>0)&&(e<h||t<0)))return i=d.diagnostics,s=c,l=h,!1});let u=r.state.facet(qc).tooltipFilter;return i&&u&&(i=u(i,r.state)),i?{pos:s,end:l,above:r.state.doc.lineAt(s).to<l,create(){return{dom:ZF(r,i)}}}:null}function ZF(r,e){return $t("ul",{class:"cm-tooltip-lint"},e.map(t=>h4(r,t,!1)))}const JF=r=>{let e=r.state.field(Bn,!1);(!e||!e.panel)&&r.dispatch({effects:XF(r.state,[lx.of(!0)])});let t=Bc(r,Wc.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},XE=r=>{let e=r.state.field(Bn,!1);return!e||!e.panel?!1:(r.dispatch({effects:lx.of(!1)}),!0)},eI=r=>{let e=r.state.field(Bn,!1);if(!e)return!1;let t=r.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(r.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},tI=[{key:"Mod-Shift-m",run:JF,preventDefault:!0},{key:"F8",run:eI}],qc=We.define({combine(r){return{sources:r.map(e=>e.source).filter(e=>e!=null),...Hi(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:YE,tooltipFilter:YE,needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t,hideOn:(e,t)=>e?t?(n,i,s)=>e(n,i,s)||t(n,i,s):e:t,autoPanel:(e,t)=>e||t})}}});function YE(r,e){return r?e?(t,n)=>e(r(t,n),n):r:e}function f4(r){let e=[];if(r)e:for(let{name:t}of r){for(let n=0;n<t.length;n++){let i=t[n];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function h4(r,e,t){var n;let i=t?f4(e.actions):[];return $t("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},$t("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,l)=>{let u=!1,c=y=>{if(y.preventDefault(),u)return;u=!0;let b=Ho(r.state.field(Bn).diagnostics,e);b&&s.apply(r,b.from,b.to)},{name:h}=s,d=i[l]?h.indexOf(i[l]):-1,m=d<0?h:[h.slice(0,d),$t("u",h.slice(d,d+1)),h.slice(d+1)],g=s.markClass?" "+s.markClass:"";return $t("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:c,onmousedown:c,"aria-label":` Action: ${h}${d<0?"":` (access key "${i[l]})"`}.`},m)}),e.source&&$t("div",{class:"cm-diagnosticSource"},e.source))}class rI extends Es{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return $t("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class KE{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=h4(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Wc{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)XE(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],l=f4(s.actions);for(let u=0;u<l.length;u++)if(l[u].toUpperCase().charCodeAt(0)==i.keyCode){let c=Ho(this.view.state.field(Bn).diagnostics,s);c&&s.actions[u].apply(e,c.from,c.to)}}else return;i.preventDefault()},n=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=$t("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=$t("div",{class:"cm-panel-lint"},this.list,$t("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>XE(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Bn).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Bn),n=0,i=!1,s=null,l=new Set;for(e.between(0,this.view.state.doc.length,(u,c,{spec:h})=>{for(let d of h.diagnostics){if(l.has(d))continue;l.add(d);let m=-1,g;for(let y=n;y<this.items.length;y++)if(this.items[y].diagnostic==d){m=y;break}m<0?(g=new KE(this.view,d),this.items.splice(n,0,g),i=!0):(g=this.items[m],m>n&&(this.items.splice(n,m-n),i=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new KE(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:u,panel:c})=>{let h=c.height/this.list.offsetHeight;u.top<c.top?this.list.scrollTop-=(c.top-u.top)/h:u.bottom>c.bottom&&(this.list.scrollTop+=(u.bottom-c.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Bn),n=Ho(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:c4.of(n)})}static open(e){return new Wc(e)}}function nI(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function Kh(r){return nI(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const iI=He.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Kh("#d11")},".cm-lintRange-warning":{backgroundImage:Kh("orange")},".cm-lintRange-info":{backgroundImage:Kh("#999")},".cm-lintRange-hint":{backgroundImage:Kh("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function sI(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function aI(r){let e="hint",t=1;for(let n of r){let i=sI(n.severity);i>t&&(t=i,e=n.severity)}return e}const lI=[Bn,He.decorations.compute([Bn],r=>{let{selected:e,panel:t}=r.field(Bn);return!e||!t||e.from==e.to?it.none:it.set([YF.range(e.from,e.to)])}),Zz(KF,{hideOn:QF}),iI],oI=[uj(),hj(),_z(),_P(),tP(),vz(),kz(),wt.allowMultipleSelections.of(!0),Uj(),nP(aP,{fallback:!0}),dP(),BF(),$F(),Uz(),Wz(),Bz(),F7(),Ub.of([...FF,...D7,...iF,...PP,...Kj,...o4,...tI])];var ZE={};class rp{constructor(e,t,n,i,s,l,u,c,h,d=0,m){this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=s,this.score=l,this.buffer=u,this.bufferBase=c,this.curContext=h,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let i=e.parser.context;return new rp(e,[],t,n,n,0,[],0,i?new JE(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,i=e&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),u=s.dynamicPrecedence(i);if(u&&(this.score+=u),n==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(i,this.reducePos);return}let c=this.stack.length-(n-1)*3-(e&262144?6:0),h=c?this.stack[c-2]:this.p.ranges[0].from,d=this.reducePos-h;d>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=d));let m=c?this.stack[c-1]:0,g=this.bufferBase+this.buffer.length-m;if(i<s.minRepeatTerm||e&131072){let y=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,y,g+4,!0)}if(e&262144)this.state=this.stack[c];else{let y=this.stack[c-3];this.state=s.getGoto(y,i,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,t,n,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,u=this.buffer.length;if(u==0&&l.parent&&(u=l.bufferBase-l.parent.bufferBase,l=l.parent),u>0&&l.buffer[u-4]==0&&l.buffer[u-1]>-1){if(t==n)return;if(l.buffer[u-2]>=t){l.buffer[u-2]=n;return}}}if(!s||this.pos==n)this.buffer.push(e,t,n,i);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let u=!1;for(let c=l;c>0&&this.buffer[c-2]>n;c-=4)if(this.buffer[c-1]>=0){u=!0;break}if(u)for(;l>0&&this.buffer[l-2]>n;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4)}this.buffer[l]=e,this.buffer[l+1]=t,this.buffer[l+2]=n,this.buffer[l+3]=i}}shift(e,t,n,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:l}=this.p;(i>this.pos||t<=l.maxNode)&&(this.pos=i,l.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,n),this.shiftContext(t,n),t<=l.maxNode&&this.buffer.push(t,n,i,4)}else this.pos=i,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,i,4)}apply(e,t,n,i){e&65536?this.reduce(e):this.shift(e,t,n,i)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new rp(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new uI(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if((n&65536)==0)return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,l;s<t.length;s+=2)(l=t[s+1])!=this.state&&this.p.parser.hasAction(l,e)&&i.push(t[s],l);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let l=t[s+1];i.some((u,c)=>c&1&&u==l)||i.push(t[s],l)}t=i}let n=[];for(let i=0;i<t.length&&n.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(t[i],this.pos),l.reducePos=this.pos,l.score-=200,n.push(l)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let n=t>>19,i=t&65535,s=this.stack.length-n*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;t=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,l=>{if(!(l&393216))if(l&65536){let u=(l>>19)-s;if(u>1){let c=l&65535,h=this.stack.length-u*3;if(h>=0&&e.getGoto(this.stack[h],c,!1)>=0)return u<<19|65536|c}}else{let u=n(l,s+1);if(u!=null)return u}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new JE(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class JE{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class uI{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class np{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new np(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new np(this.stack,this.pos,this.index)}}function Zh(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let n=0,i=0;n<r.length;){let s=0;for(;;){let l=r.charCodeAt(n++),u=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let c=l-32;if(c>=46&&(c-=46,u=!0),s+=c,u)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class Ed{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const eT=new Ed;class cI{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=eT,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<n.from;){if(!i)return null;let l=this.ranges[--i];s-=n.from-l.to,n=l}for(;t<0?s>n.to:s>=n.to;){if(i==this.ranges.length-1)return null;let l=this.ranges[++i];s+=l.from-n.to,n=l}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,i;if(t>=0&&t<this.chunk.length)n=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(n=s,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let l=this.rangeIndex,u=this.range;for(;u.to<=n;)u=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>u.to&&(this.chunk2=this.chunk2.slice(0,u.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=eT,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return n}}class Mo{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;fI(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}Mo.prototype.contextual=Mo.prototype.fallback=Mo.prototype.extend=!1;Mo.prototype.fallback=Mo.prototype.extend=!1;class jp{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function fI(r,e,t,n,i,s){let l=0,u=1<<n,{dialect:c}=t.p.parser;e:for(;(u&r[l])!=0;){let h=r[l+1];for(let y=l+3;y<h;y+=2)if((r[y+1]&u)>0){let b=r[y];if(c.allows(b)&&(e.token.value==-1||e.token.value==b||hI(b,e.token.value,i,s))){e.acceptToken(b);break}}let d=e.next,m=0,g=r[l+2];if(e.next<0&&g>m&&r[h+g*3-3]==65535){l=r[h+g*3-1];continue e}for(;m<g;){let y=m+g>>1,b=h+y+(y<<1),w=r[b],E=r[b+1]||65536;if(d<w)g=y;else if(d>=E)m=y+1;else{l=r[b+2],e.advance();continue e}}break}}function tT(r,e,t){for(let n=e,i;(i=r[n])!=65535;n++)if(i==t)return n-e;return-1}function hI(r,e,t,n){let i=tT(t,n,e);return i<0||tT(t,n,r)<i}const Nn=typeof process<"u"&&ZE&&/\bparse\b/.test(ZE.LOG);let W0=null;function rT(r,e,t){let n=r.cursor(Cr.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(r.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:r.length}}class dI{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?rT(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?rT(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=n.children[i],l=this.start[t]+n.positions[i];if(l>e)return this.nextStart=l,null;if(s instanceof yr){if(l==e){if(l<this.safeFrom)return null;let u=l+s.length;if(u<=this.safeTo){let c=s.prop(ft.lookAhead);if(!c||u+c<this.fragment.to)return s}}this.index[t]++,l+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[t]++,this.nextStart=l+s.length}}}class pI{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new Ed)}getActions(e){let t=0,n=null,{parser:i}=e.p,{tokenizers:s}=i,l=i.stateSlot(e.state,3),u=e.curContext?e.curContext.hash:0,c=0;for(let h=0;h<s.length;h++){if((1<<h&l)==0)continue;let d=s[h],m=this.tokens[h];if(!(n&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=l||m.context!=u)&&(this.updateCachedToken(m,d,e),m.mask=l,m.context=u),m.lookAhead>m.end+25&&(c=Math.max(m.lookAhead,c)),m.value!=0)){let g=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!d.extend&&(n=m,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return c&&e.setLookAhead(c),!n&&e.pos==this.stream.end&&(n=new Ed,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Ed,{pos:n,p:i}=e;return t.start=n,t.end=Math.min(n+1,i.stream.end),t.value=n==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,n){let i=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(i,e),n),e.value>-1){let{parser:s}=n.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let u=s.specializers[l](this.stream.read(e.start,e.end),n);if(u>=0&&n.p.parser.dialect.allows(u>>1)){(u&1)==0?e.value=u>>1:e.extended=u>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,n,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let{state:s}=e,{parser:l}=e.p,{data:u}=l;for(let c=0;c<2;c++)for(let h=l.stateSlot(s,c?2:1);;h+=3){if(u[h]==65535)if(u[h+1]==1)h=hs(u,h+2);else{i==0&&u[h+1]==2&&(i=this.putAction(hs(u,h+2),t,n,i));break}u[h]==t&&(i=this.putAction(hs(u,h+1),t,n,i))}return i}}class mI{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new cI(t,i),this.tokens=new pI(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[rp.start(this,e.top[0],s)],this.fragments=n.length&&this.stream.end-s>e.bufferLength*4?new dI(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let u=e[l];for(;;){if(this.tokens.mainToken=null,u.pos>t)n.push(u);else{if(this.advanceStack(u,n,e))continue;{i||(i=[],s=[]),i.push(u);let c=this.tokens.getMainToken(u);s.push(c.value,c.end)}}break}}if(!n.length){let l=i&&vI(i);if(l)return Nn&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw Nn&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let l=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,n);if(l)return Nn&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(n.length>l)for(n.sort((u,c)=>c.score-u.score);n.length>l;)n.pop();n.some(u=>u.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let l=0;l<n.length-1;l++){let u=n[l];for(let c=l+1;c<n.length;c++){let h=n[c];if(u.sameState(h)||u.buffer.length>500&&h.buffer.length>500)if((u.score-h.score||u.buffer.length-h.buffer.length)>0)n.splice(c--,1);else{n.splice(l--,1);continue e}}}n.length>12&&(n.sort((l,u)=>u.score-l.score),n.splice(12,n.length-12))}this.minStackPos=n[0].pos;for(let l=1;l<n.length;l++)n[l].pos<this.minStackPos&&(this.minStackPos=n[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:s}=this,l=Nn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,d=h?e.curContext.hash:0;for(let m=this.fragments.nodeAt(i);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!h||(m.prop(ft.contextHash)||0)==d))return e.useNode(m,g),Nn&&console.log(l+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof yr)||m.children.length==0||m.positions[0]>0)break;let y=m.children[0];if(y instanceof yr&&m.positions[0]==0)m=y;else break}}let u=s.stateSlot(e.state,4);if(u>0)return e.reduce(u),Nn&&console.log(l+this.stackID(e)+` (via always-reduce ${s.getName(u&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let h=0;h<c.length;){let d=c[h++],m=c[h++],g=c[h++],y=h==c.length||!n,b=y?e:e.split(),w=this.tokens.mainToken;if(b.apply(d,m,w?w.start:b.pos,g),Nn&&console.log(l+this.stackID(b)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(m)} @ ${i}${b==e?"":", split"})`),y)return!0;b.pos>i?t.push(b):n.push(b)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return nT(e,t),!0}}runRecovery(e,t,n){let i=null,s=!1;for(let l=0;l<e.length;l++){let u=e[l],c=t[l<<1],h=t[(l<<1)+1],d=Nn?this.stackID(u)+" -> ":"";if(u.deadEnd&&(s||(s=!0,u.restart(),Nn&&console.log(d+this.stackID(u)+" (restarted)"),this.advanceFully(u,n))))continue;let m=u.split(),g=d;for(let y=0;y<10&&m.forceReduce()&&(Nn&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,n));y++)Nn&&(g=this.stackID(m)+" -> ");for(let y of u.recoverByInsert(c))Nn&&console.log(d+this.stackID(y)+" (via recover-insert)"),this.advanceFully(y,n);this.stream.end>u.pos?(h==u.pos&&(h++,c=0),u.recoverByDelete(c,h),Nn&&console.log(d+this.stackID(u)+` (via recover-delete ${this.parser.getName(c)})`),nT(u,n)):(!i||i.score<u.score)&&(i=u)}return i}stackToTree(e){return e.close(),yr.build({buffer:np.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(W0||(W0=new WeakMap)).get(e);return t||W0.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function nT(r,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==r.pos&&n.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class gI{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const V0=r=>r;class yI{constructor(e){this.start=e.start,this.shift=e.shift||V0,this.reduce=e.reduce||V0,this.reuse=e.reuse||V0,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class ip extends GR{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let u=0;u<e.repeatNodeCount;u++)t.push("");let n=Object.keys(e.topRules).map(u=>e.topRules[u][1]),i=[];for(let u=0;u<t.length;u++)i.push([]);function s(u,c,h){i[u].push([c,c.deserialize(String(h))])}if(e.nodeProps)for(let u of e.nodeProps){let c=u[0];typeof c=="string"&&(c=ft[c]);for(let h=1;h<u.length;){let d=u[h++];if(d>=0)s(d,c,u[h++]);else{let m=u[h+-d];for(let g=-d;g>0;g--)s(u[h++],c,m);h++}}}this.nodeSet=new Wb(t.map((u,c)=>xn.define({name:c>=this.minRepeatTerm?void 0:u,id:c,props:i[c],top:n.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=qR;let l=Zh(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let u=0;u<this.specializerSpecs.length;u++)this.specialized[u]=this.specializerSpecs[u].term;this.specializers=this.specializerSpecs.map(iT),this.states=Zh(e.states,Uint32Array),this.data=Zh(e.stateData),this.goto=Zh(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(u=>typeof u=="number"?new Mo(l,u):u),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let i=new mI(this,e,t,n);for(let s of this.wrappers)i=s(i,e,t,n);return i}getGoto(e,t,n=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let l=i[s++],u=l&1,c=i[s++];if(u&&n)return c;for(let h=s+(l>>1);s<h;s++)if(i[s]==e)return c;if(u)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),l;;s+=3){if((l=n[s])==65535)if(n[s+1]==1)l=n[s=hs(n,s+2)];else{if(n[s+1]==2)return hs(n,s+2);break}if(l==t||l==0)return hs(n,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,n=>n==t?!0:null)}allActions(e,t){let n=this.stateSlot(e,4),i=n?t(n):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=hs(this.data,s+2);else break;i=t(hs(this.data,s+1))}return i}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=hs(this.data,n+2);else break;if((this.data[n+2]&1)==0){let i=this.data[n+1];t.some((s,l)=>l&1&&s==i)||t.push(this.data[n],i)}}return t}configure(e){let t=Object.assign(Object.create(ip.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let i=e.tokenizers.find(s=>s.from==n);return i?i.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,i)=>{let s=e.specializers.find(u=>u.from==n.external);if(!s)return n;let l=Object.assign(Object.assign({},n),{external:s.to});return t.specializers[i]=iT(l),l})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let s of e.split(" ")){let l=t.indexOf(s);l>=0&&(n[l]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!n[s])for(let l=this.dialects[t[s]],u;(u=this.data[l++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[u]=1;return new gI(e,n,i)}static deserialize(e){return new ip(e)}}function hs(r,e){return r[e]|r[e+1]<<16}function vI(r){let e=null;for(let t of r){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function iT(r){if(r.external){let e=r.extend?1:0;return(t,n)=>r.external(t,n)<<1|e}return r.get}const ho=63,sT=64,bI=1,xI=2,d4=3,wI=4,p4=5,SI=6,kI=7,m4=65,AI=66,EI=8,TI=9,CI=10,OI=11,_I=12,g4=13,RI=19,MI=20,NI=29,DI=33,LI=34,BI=47,zI=0,ox=1,F1=2,Vc=3,I1=4;class Ya{constructor(e,t,n){this.parent=e,this.depth=t,this.type=n,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+n}}Ya.top=new Ya(null,-1,zI);function wc(r,e){for(let t=0,n=e-r.pos-1;;n--,t++){let i=r.peek(n);if(ws(i)||i==-1)return t}}function U1(r){return r==32||r==9}function ws(r){return r==10||r==13}function y4(r){return U1(r)||ws(r)}function tl(r){return r<0||y4(r)}const jI=new yI({start:Ya.top,reduce(r,e){return r.type==Vc&&(e==MI||e==LI)?r.parent:r},shift(r,e,t,n){if(e==d4)return new Ya(r,wc(n,n.pos),ox);if(e==m4||e==p4)return new Ya(r,wc(n,n.pos),F1);if(e==ho)return r.parent;if(e==RI||e==DI)return new Ya(r,0,Vc);if(e==g4&&r.type==I1)return r.parent;if(e==BI){let i=/[1-9]/.exec(n.read(n.pos,t.pos));if(i)return new Ya(r,r.depth+ +i[0],I1)}return r},hash(r){return r.hash}});function qo(r,e,t=0){return r.peek(t)==e&&r.peek(t+1)==e&&r.peek(t+2)==e&&tl(r.peek(t+3))}const PI=new jp((r,e)=>{if(r.next==-1&&e.canShift(sT))return r.acceptToken(sT);let t=r.peek(-1);if((ws(t)||t<0)&&e.context.type!=Vc){if(qo(r,45))if(e.canShift(ho))r.acceptToken(ho);else return r.acceptToken(bI,3);if(qo(r,46))if(e.canShift(ho))r.acceptToken(ho);else return r.acceptToken(xI,3);let n=0;for(;r.next==32;)n++,r.advance();(n<e.context.depth||n==e.context.depth&&e.context.type==ox&&(r.next!=45||!tl(r.peek(1))))&&r.next!=-1&&!ws(r.next)&&r.next!=35&&r.acceptToken(ho,-n)}},{contextual:!0}),FI=new jp((r,e)=>{if(e.context.type==Vc){r.next==63&&(r.advance(),tl(r.next)&&r.acceptToken(kI));return}if(r.next==45)r.advance(),tl(r.next)&&r.acceptToken(e.context.type==ox&&e.context.depth==wc(r,r.pos-1)?wI:d4);else if(r.next==63)r.advance(),tl(r.next)&&r.acceptToken(e.context.type==F1&&e.context.depth==wc(r,r.pos-1)?SI:p4);else{let t=r.pos;for(;;)if(U1(r.next)){if(r.pos==t)return;r.advance()}else if(r.next==33)v4(r);else if(r.next==38)H1(r);else if(r.next==42){H1(r);break}else if(r.next==39||r.next==34){if(ux(r,!0))break;return}else if(r.next==91||r.next==123){if(!UI(r))return;break}else{b4(r,!0,!1,0);break}for(;U1(r.next);)r.advance();if(r.next==58){if(r.pos==t&&e.canShift(NI))return;let n=r.peek(1);tl(n)&&r.acceptTokenTo(e.context.type==F1&&e.context.depth==wc(r,t)?AI:m4,t)}}},{contextual:!0});function II(r){return r>32&&r<127&&r!=34&&r!=37&&r!=44&&r!=60&&r!=62&&r!=92&&r!=94&&r!=96&&r!=123&&r!=124&&r!=125}function aT(r){return r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70}function lT(r,e){return r.next==37?(r.advance(),aT(r.next)&&r.advance(),aT(r.next)&&r.advance(),!0):II(r.next)||e&&r.next==44?(r.advance(),!0):!1}function v4(r){if(r.advance(),r.next==60){for(r.advance();;)if(!lT(r,!0)){r.next==62&&r.advance();break}}else for(;lT(r,!1););}function H1(r){for(r.advance();!tl(r.next)&&sp(r.tag)!="f";)r.advance()}function ux(r,e){let t=r.next,n=!1,i=r.pos;for(r.advance();;){let s=r.next;if(s<0)break;if(r.advance(),s==t)if(s==39)if(r.next==39)r.advance();else break;else break;else if(s==92&&t==34)r.next>=0&&r.advance();else if(ws(s)){if(e)return!1;n=!0}else if(e&&r.pos>=i+1024)return!1}return!n}function UI(r){for(let e=[],t=r.pos+1024;;)if(r.next==91||r.next==123)e.push(r.next),r.advance();else if(r.next==39||r.next==34){if(!ux(r,!0))return!1}else if(r.next==93||r.next==125){if(e[e.length-1]!=r.next-2)return!1;if(e.pop(),r.advance(),!e.length)return!0}else{if(r.next<0||r.pos>t||ws(r.next))return!1;r.advance()}}const HI="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function sp(r){return r<33?"u":r>125?"s":HI[r-33]}function $0(r,e){let t=sp(r);return t!="u"&&!(e&&t=="f")}function b4(r,e,t,n){if(sp(r.next)=="s"||(r.next==63||r.next==58||r.next==45)&&$0(r.peek(1),t))r.advance();else return!1;let i=r.pos;for(;;){let s=r.next,l=0,u=n+1;for(;y4(s);){if(ws(s)){if(e)return!1;u=0}else u++;s=r.peek(++l)}if(!(s>=0&&(s==58?$0(r.peek(l+1),t):s==35?r.peek(l-1)!=32:$0(s,t)))||!t&&u<=n||u==0&&!t&&(qo(r,45,l)||qo(r,46,l)))break;if(e&&sp(s)=="f")return!1;for(let h=l;h>=0;h--)r.advance();if(e&&r.pos>i+1024)return!1}return!0}const qI=new jp((r,e)=>{if(r.next==33)v4(r),r.acceptToken(_I);else if(r.next==38||r.next==42){let t=r.next==38?CI:OI;H1(r),r.acceptToken(t)}else r.next==39||r.next==34?(ux(r,!1),r.acceptToken(TI)):b4(r,!1,e.context.type==Vc,e.context.depth)&&r.acceptToken(EI)}),WI=new jp((r,e)=>{let t=e.context.type==I1?e.context.depth:-1,n=r.pos;e:for(;;){let i=0,s=r.next;for(;s==32;)s=r.peek(++i);if(!i&&(qo(r,45,i)||qo(r,46,i))||!ws(s)&&(t<0&&(t=Math.max(e.context.depth+1,i)),i<t))break;for(;;){if(r.next<0)break e;let l=ws(r.next);if(r.advance(),l)continue e;n=r.pos}}r.acceptTokenTo(g4,n)}),VI=QR({DirectiveName:ze.keyword,DirectiveContent:ze.attributeValue,"DirectiveEnd DocEnd":ze.meta,QuotedLiteral:ze.string,BlockLiteralHeader:ze.special(ze.string),BlockLiteralContent:ze.content,Literal:ze.content,"Key/Literal Key/QuotedLiteral":ze.definition(ze.propertyName),"Anchor Alias":ze.labelName,Tag:ze.typeName,Comment:ze.lineComment,": , -":ze.separator,"?":ze.punctuation,"[ ]":ze.squareBracket,"{ }":ze.brace}),$I=ip.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:jI,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[VI],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[PI,FI,qI,WI,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),GI=qd.define({name:"yaml",parser:$I.configure({props:[ZR.add({Stream:r=>{for(let e=r.node.resolve(r.pos,-1);e&&e.to>=r.pos;e=e.parent){if(e.name=="BlockLiteralContent"&&e.from<e.to)return r.baseIndentFor(e);if(e.name=="BlockLiteral")return r.baseIndentFor(e)+r.unit;if(e.name=="BlockSequence"||e.name=="BlockMapping")return r.column(e.from,1);if(e.name=="QuotedLiteral")return null;if(e.name=="Literal"){let t=r.column(e.from,1);if(t==r.lineIndent(e.from,1))return t;if(e.to>r.pos)return null}}return null},FlowMapping:SE({closing:"}"}),FlowSequence:SE({closing:"]"})}),t3.add({"FlowMapping FlowSequence":qj,"Item Pair BlockLiteral":(r,e)=>({from:e.doc.lineAt(r.from).to,to:r.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function QI(){return new Nj(GI)}function x4(r){return typeof r>"u"||r===null}function XI(r){return typeof r=="object"&&r!==null}function YI(r){return Array.isArray(r)?r:x4(r)?[]:[r]}function KI(r,e){var t,n,i,s;if(e)for(s=Object.keys(e),t=0,n=s.length;t<n;t+=1)i=s[t],r[i]=e[i];return r}function ZI(r,e){var t="",n;for(n=0;n<e;n+=1)t+=r;return t}function JI(r){return r===0&&Number.NEGATIVE_INFINITY===1/r}var eU=x4,tU=XI,rU=YI,nU=ZI,iU=JI,sU=KI,wr={isNothing:eU,isObject:tU,toArray:rU,repeat:nU,isNegativeZero:iU,extend:sU};function w4(r,e){var t="",n=r.reason||"(unknown reason)";return r.mark?(r.mark.name&&(t+='in "'+r.mark.name+'" '),t+="("+(r.mark.line+1)+":"+(r.mark.column+1)+")",!e&&r.mark.snippet&&(t+=`

`+r.mark.snippet),n+" "+t):n}function $c(r,e){Error.call(this),this.name="YAMLException",this.reason=r,this.mark=e,this.message=w4(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}$c.prototype=Object.create(Error.prototype);$c.prototype.constructor=$c;$c.prototype.toString=function(e){return this.name+": "+w4(this,e)};var Zr=$c;function G0(r,e,t,n,i){var s="",l="",u=Math.floor(i/2)-1;return n-e>u&&(s=" ... ",e=n-u+s.length),t-n>u&&(l=" ...",t=n+u-l.length),{str:s+r.slice(e,t).replace(/\t/g,"")+l,pos:n-e+s.length}}function Q0(r,e){return wr.repeat(" ",e-r.length)+r}function aU(r,e){if(e=Object.create(e||null),!r.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var t=/\r?\n|\r|\0/g,n=[0],i=[],s,l=-1;s=t.exec(r.buffer);)i.push(s.index),n.push(s.index+s[0].length),r.position<=s.index&&l<0&&(l=n.length-2);l<0&&(l=n.length-1);var u="",c,h,d=Math.min(r.line+e.linesAfter,i.length).toString().length,m=e.maxLength-(e.indent+d+3);for(c=1;c<=e.linesBefore&&!(l-c<0);c++)h=G0(r.buffer,n[l-c],i[l-c],r.position-(n[l]-n[l-c]),m),u=wr.repeat(" ",e.indent)+Q0((r.line-c+1).toString(),d)+" | "+h.str+`
`+u;for(h=G0(r.buffer,n[l],i[l],r.position,m),u+=wr.repeat(" ",e.indent)+Q0((r.line+1).toString(),d)+" | "+h.str+`
`,u+=wr.repeat("-",e.indent+d+3+h.pos)+`^
`,c=1;c<=e.linesAfter&&!(l+c>=i.length);c++)h=G0(r.buffer,n[l+c],i[l+c],r.position-(n[l]-n[l+c]),m),u+=wr.repeat(" ",e.indent)+Q0((r.line+c+1).toString(),d)+" | "+h.str+`
`;return u.replace(/\n$/,"")}var lU=aU,oU=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],uU=["scalar","sequence","mapping"];function cU(r){var e={};return r!==null&&Object.keys(r).forEach(function(t){r[t].forEach(function(n){e[String(n)]=t})}),e}function fU(r,e){if(e=e||{},Object.keys(e).forEach(function(t){if(oU.indexOf(t)===-1)throw new Zr('Unknown option "'+t+'" is met in definition of "'+r+'" YAML type.')}),this.options=e,this.tag=r,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=cU(e.styleAliases||null),uU.indexOf(this.kind)===-1)throw new Zr('Unknown kind "'+this.kind+'" is specified for "'+r+'" YAML type.')}var Pr=fU;function oT(r,e){var t=[];return r[e].forEach(function(n){var i=t.length;t.forEach(function(s,l){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=l)}),t[i]=n}),t}function hU(){var r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function n(i){i.multi?(r.multi[i.kind].push(i),r.multi.fallback.push(i)):r[i.kind][i.tag]=r.fallback[i.tag]=i}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}function q1(r){return this.extend(r)}q1.prototype.extend=function(e){var t=[],n=[];if(e instanceof Pr)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new Zr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(s){if(!(s instanceof Pr))throw new Zr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Zr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Zr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Pr))throw new Zr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(q1.prototype);return i.implicit=(this.implicit||[]).concat(t),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=oT(i,"implicit"),i.compiledExplicit=oT(i,"explicit"),i.compiledTypeMap=hU(i.compiledImplicit,i.compiledExplicit),i};var S4=q1,k4=new Pr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(r){return r!==null?r:""}}),A4=new Pr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(r){return r!==null?r:[]}}),E4=new Pr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(r){return r!==null?r:{}}}),T4=new S4({explicit:[k4,A4,E4]});function dU(r){if(r===null)return!0;var e=r.length;return e===1&&r==="~"||e===4&&(r==="null"||r==="Null"||r==="NULL")}function pU(){return null}function mU(r){return r===null}var C4=new Pr("tag:yaml.org,2002:null",{kind:"scalar",resolve:dU,construct:pU,predicate:mU,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function gU(r){if(r===null)return!1;var e=r.length;return e===4&&(r==="true"||r==="True"||r==="TRUE")||e===5&&(r==="false"||r==="False"||r==="FALSE")}function yU(r){return r==="true"||r==="True"||r==="TRUE"}function vU(r){return Object.prototype.toString.call(r)==="[object Boolean]"}var O4=new Pr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:gU,construct:yU,predicate:vU,represent:{lowercase:function(r){return r?"true":"false"},uppercase:function(r){return r?"TRUE":"FALSE"},camelcase:function(r){return r?"True":"False"}},defaultStyle:"lowercase"});function bU(r){return 48<=r&&r<=57||65<=r&&r<=70||97<=r&&r<=102}function xU(r){return 48<=r&&r<=55}function wU(r){return 48<=r&&r<=57}function SU(r){if(r===null)return!1;var e=r.length,t=0,n=!1,i;if(!e)return!1;if(i=r[t],(i==="-"||i==="+")&&(i=r[++t]),i==="0"){if(t+1===e)return!0;if(i=r[++t],i==="b"){for(t++;t<e;t++)if(i=r[t],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(t++;t<e;t++)if(i=r[t],i!=="_"){if(!bU(r.charCodeAt(t)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(t++;t<e;t++)if(i=r[t],i!=="_"){if(!xU(r.charCodeAt(t)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;t<e;t++)if(i=r[t],i!=="_"){if(!wU(r.charCodeAt(t)))return!1;n=!0}return!(!n||i==="_")}function kU(r){var e=r,t=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(t=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}function AU(r){return Object.prototype.toString.call(r)==="[object Number]"&&r%1===0&&!wr.isNegativeZero(r)}var _4=new Pr("tag:yaml.org,2002:int",{kind:"scalar",resolve:SU,construct:kU,predicate:AU,represent:{binary:function(r){return r>=0?"0b"+r.toString(2):"-0b"+r.toString(2).slice(1)},octal:function(r){return r>=0?"0o"+r.toString(8):"-0o"+r.toString(8).slice(1)},decimal:function(r){return r.toString(10)},hexadecimal:function(r){return r>=0?"0x"+r.toString(16).toUpperCase():"-0x"+r.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),EU=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function TU(r){return!(r===null||!EU.test(r)||r[r.length-1]==="_")}function CU(r){var e,t;return e=r.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}var OU=/^[-+]?[0-9]+e/;function _U(r,e){var t;if(isNaN(r))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===r)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===r)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(wr.isNegativeZero(r))return"-0.0";return t=r.toString(10),OU.test(t)?t.replace("e",".e"):t}function RU(r){return Object.prototype.toString.call(r)==="[object Number]"&&(r%1!==0||wr.isNegativeZero(r))}var R4=new Pr("tag:yaml.org,2002:float",{kind:"scalar",resolve:TU,construct:CU,predicate:RU,represent:_U,defaultStyle:"lowercase"}),M4=T4.extend({implicit:[C4,O4,_4,R4]}),N4=M4,D4=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),L4=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function MU(r){return r===null?!1:D4.exec(r)!==null||L4.exec(r)!==null}function NU(r){var e,t,n,i,s,l,u,c=0,h=null,d,m,g;if(e=D4.exec(r),e===null&&(e=L4.exec(r)),e===null)throw new Error("Date resolve error");if(t=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(t,n,i));if(s=+e[4],l=+e[5],u=+e[6],e[7]){for(c=e[7].slice(0,3);c.length<3;)c+="0";c=+c}return e[9]&&(d=+e[10],m=+(e[11]||0),h=(d*60+m)*6e4,e[9]==="-"&&(h=-h)),g=new Date(Date.UTC(t,n,i,s,l,u,c)),h&&g.setTime(g.getTime()-h),g}function DU(r){return r.toISOString()}var B4=new Pr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:MU,construct:NU,instanceOf:Date,represent:DU});function LU(r){return r==="<<"||r===null}var z4=new Pr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:LU}),cx=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function BU(r){if(r===null)return!1;var e,t,n=0,i=r.length,s=cx;for(t=0;t<i;t++)if(e=s.indexOf(r.charAt(t)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}function zU(r){var e,t,n=r.replace(/[\r\n=]/g,""),i=n.length,s=cx,l=0,u=[];for(e=0;e<i;e++)e%4===0&&e&&(u.push(l>>16&255),u.push(l>>8&255),u.push(l&255)),l=l<<6|s.indexOf(n.charAt(e));return t=i%4*6,t===0?(u.push(l>>16&255),u.push(l>>8&255),u.push(l&255)):t===18?(u.push(l>>10&255),u.push(l>>2&255)):t===12&&u.push(l>>4&255),new Uint8Array(u)}function jU(r){var e="",t=0,n,i,s=r.length,l=cx;for(n=0;n<s;n++)n%3===0&&n&&(e+=l[t>>18&63],e+=l[t>>12&63],e+=l[t>>6&63],e+=l[t&63]),t=(t<<8)+r[n];return i=s%3,i===0?(e+=l[t>>18&63],e+=l[t>>12&63],e+=l[t>>6&63],e+=l[t&63]):i===2?(e+=l[t>>10&63],e+=l[t>>4&63],e+=l[t<<2&63],e+=l[64]):i===1&&(e+=l[t>>2&63],e+=l[t<<4&63],e+=l[64],e+=l[64]),e}function PU(r){return Object.prototype.toString.call(r)==="[object Uint8Array]"}var j4=new Pr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:BU,construct:zU,predicate:PU,represent:jU}),FU=Object.prototype.hasOwnProperty,IU=Object.prototype.toString;function UU(r){if(r===null)return!0;var e=[],t,n,i,s,l,u=r;for(t=0,n=u.length;t<n;t+=1){if(i=u[t],l=!1,IU.call(i)!=="[object Object]")return!1;for(s in i)if(FU.call(i,s))if(!l)l=!0;else return!1;if(!l)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function HU(r){return r!==null?r:[]}var P4=new Pr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:UU,construct:HU}),qU=Object.prototype.toString;function WU(r){if(r===null)return!0;var e,t,n,i,s,l=r;for(s=new Array(l.length),e=0,t=l.length;e<t;e+=1){if(n=l[e],qU.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[e]=[i[0],n[i[0]]]}return!0}function VU(r){if(r===null)return[];var e,t,n,i,s,l=r;for(s=new Array(l.length),e=0,t=l.length;e<t;e+=1)n=l[e],i=Object.keys(n),s[e]=[i[0],n[i[0]]];return s}var F4=new Pr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:WU,construct:VU}),$U=Object.prototype.hasOwnProperty;function GU(r){if(r===null)return!0;var e,t=r;for(e in t)if($U.call(t,e)&&t[e]!==null)return!1;return!0}function QU(r){return r!==null?r:{}}var I4=new Pr("tag:yaml.org,2002:set",{kind:"mapping",resolve:GU,construct:QU}),fx=N4.extend({implicit:[B4,z4],explicit:[j4,P4,F4,I4]}),ga=Object.prototype.hasOwnProperty,ap=1,U4=2,H4=3,lp=4,X0=1,XU=2,uT=3,YU=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,KU=/[\x85\u2028\u2029]/,ZU=/[,\[\]\{\}]/,q4=/^(?:!|!!|![a-z\-]+!)$/i,W4=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function cT(r){return Object.prototype.toString.call(r)}function Pi(r){return r===10||r===13}function ul(r){return r===9||r===32}function vn(r){return r===9||r===32||r===10||r===13}function wo(r){return r===44||r===91||r===93||r===123||r===125}function JU(r){var e;return 48<=r&&r<=57?r-48:(e=r|32,97<=e&&e<=102?e-97+10:-1)}function eH(r){return r===120?2:r===117?4:r===85?8:0}function tH(r){return 48<=r&&r<=57?r-48:-1}function fT(r){return r===48?"\0":r===97?"\x07":r===98?"\b":r===116||r===9?"	":r===110?`
`:r===118?"\v":r===102?"\f":r===114?"\r":r===101?"\x1B":r===32?" ":r===34?'"':r===47?"/":r===92?"\\":r===78?"":r===95?"":r===76?"\u2028":r===80?"\u2029":""}function rH(r){return r<=65535?String.fromCharCode(r):String.fromCharCode((r-65536>>10)+55296,(r-65536&1023)+56320)}function V4(r,e,t){e==="__proto__"?Object.defineProperty(r,e,{configurable:!0,enumerable:!0,writable:!0,value:t}):r[e]=t}var $4=new Array(256),G4=new Array(256);for(var so=0;so<256;so++)$4[so]=fT(so)?1:0,G4[so]=fT(so);function nH(r,e){this.input=r,this.filename=e.filename||null,this.schema=e.schema||fx,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=r.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Q4(r,e){var t={name:r.filename,buffer:r.input.slice(0,-1),position:r.position,line:r.line,column:r.position-r.lineStart};return t.snippet=lU(t),new Zr(e,t)}function et(r,e){throw Q4(r,e)}function op(r,e){r.onWarning&&r.onWarning.call(null,Q4(r,e))}var hT={YAML:function(e,t,n){var i,s,l;e.version!==null&&et(e,"duplication of %YAML directive"),n.length!==1&&et(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&et(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),l=parseInt(i[2],10),s!==1&&et(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=l<2,l!==1&&l!==2&&op(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var i,s;n.length!==2&&et(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],q4.test(i)||et(e,"ill-formed tag handle (first argument) of the TAG directive"),ga.call(e.tagMap,i)&&et(e,'there is a previously declared suffix for "'+i+'" tag handle'),W4.test(s)||et(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{et(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function ua(r,e,t,n){var i,s,l,u;if(e<t){if(u=r.input.slice(e,t),n)for(i=0,s=u.length;i<s;i+=1)l=u.charCodeAt(i),l===9||32<=l&&l<=1114111||et(r,"expected valid JSON character");else YU.test(u)&&et(r,"the stream contains non-printable characters");r.result+=u}}function dT(r,e,t,n){var i,s,l,u;for(wr.isObject(t)||et(r,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(t),l=0,u=i.length;l<u;l+=1)s=i[l],ga.call(e,s)||(V4(e,s,t[s]),n[s]=!0)}function So(r,e,t,n,i,s,l,u,c){var h,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),h=0,d=i.length;h<d;h+=1)Array.isArray(i[h])&&et(r,"nested arrays are not supported inside keys"),typeof i=="object"&&cT(i[h])==="[object Object]"&&(i[h]="[object Object]");if(typeof i=="object"&&cT(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(h=0,d=s.length;h<d;h+=1)dT(r,e,s[h],t);else dT(r,e,s,t);else!r.json&&!ga.call(t,i)&&ga.call(e,i)&&(r.line=l||r.line,r.lineStart=u||r.lineStart,r.position=c||r.position,et(r,"duplicated mapping key")),V4(e,i,s),delete t[i];return e}function hx(r){var e;e=r.input.charCodeAt(r.position),e===10?r.position++:e===13?(r.position++,r.input.charCodeAt(r.position)===10&&r.position++):et(r,"a line break is expected"),r.line+=1,r.lineStart=r.position,r.firstTabInLine=-1}function gr(r,e,t){for(var n=0,i=r.input.charCodeAt(r.position);i!==0;){for(;ul(i);)i===9&&r.firstTabInLine===-1&&(r.firstTabInLine=r.position),i=r.input.charCodeAt(++r.position);if(e&&i===35)do i=r.input.charCodeAt(++r.position);while(i!==10&&i!==13&&i!==0);if(Pi(i))for(hx(r),i=r.input.charCodeAt(r.position),n++,r.lineIndent=0;i===32;)r.lineIndent++,i=r.input.charCodeAt(++r.position);else break}return t!==-1&&n!==0&&r.lineIndent<t&&op(r,"deficient indentation"),n}function Pp(r){var e=r.position,t;return t=r.input.charCodeAt(e),!!((t===45||t===46)&&t===r.input.charCodeAt(e+1)&&t===r.input.charCodeAt(e+2)&&(e+=3,t=r.input.charCodeAt(e),t===0||vn(t)))}function dx(r,e){e===1?r.result+=" ":e>1&&(r.result+=wr.repeat(`
`,e-1))}function iH(r,e,t){var n,i,s,l,u,c,h,d,m=r.kind,g=r.result,y;if(y=r.input.charCodeAt(r.position),vn(y)||wo(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(i=r.input.charCodeAt(r.position+1),vn(i)||t&&wo(i)))return!1;for(r.kind="scalar",r.result="",s=l=r.position,u=!1;y!==0;){if(y===58){if(i=r.input.charCodeAt(r.position+1),vn(i)||t&&wo(i))break}else if(y===35){if(n=r.input.charCodeAt(r.position-1),vn(n))break}else{if(r.position===r.lineStart&&Pp(r)||t&&wo(y))break;if(Pi(y))if(c=r.line,h=r.lineStart,d=r.lineIndent,gr(r,!1,-1),r.lineIndent>=e){u=!0,y=r.input.charCodeAt(r.position);continue}else{r.position=l,r.line=c,r.lineStart=h,r.lineIndent=d;break}}u&&(ua(r,s,l,!1),dx(r,r.line-c),s=l=r.position,u=!1),ul(y)||(l=r.position+1),y=r.input.charCodeAt(++r.position)}return ua(r,s,l,!1),r.result?!0:(r.kind=m,r.result=g,!1)}function sH(r,e){var t,n,i;if(t=r.input.charCodeAt(r.position),t!==39)return!1;for(r.kind="scalar",r.result="",r.position++,n=i=r.position;(t=r.input.charCodeAt(r.position))!==0;)if(t===39)if(ua(r,n,r.position,!0),t=r.input.charCodeAt(++r.position),t===39)n=r.position,r.position++,i=r.position;else return!0;else Pi(t)?(ua(r,n,i,!0),dx(r,gr(r,!1,e)),n=i=r.position):r.position===r.lineStart&&Pp(r)?et(r,"unexpected end of the document within a single quoted scalar"):(r.position++,i=r.position);et(r,"unexpected end of the stream within a single quoted scalar")}function aH(r,e){var t,n,i,s,l,u;if(u=r.input.charCodeAt(r.position),u!==34)return!1;for(r.kind="scalar",r.result="",r.position++,t=n=r.position;(u=r.input.charCodeAt(r.position))!==0;){if(u===34)return ua(r,t,r.position,!0),r.position++,!0;if(u===92){if(ua(r,t,r.position,!0),u=r.input.charCodeAt(++r.position),Pi(u))gr(r,!1,e);else if(u<256&&$4[u])r.result+=G4[u],r.position++;else if((l=eH(u))>0){for(i=l,s=0;i>0;i--)u=r.input.charCodeAt(++r.position),(l=JU(u))>=0?s=(s<<4)+l:et(r,"expected hexadecimal character");r.result+=rH(s),r.position++}else et(r,"unknown escape sequence");t=n=r.position}else Pi(u)?(ua(r,t,n,!0),dx(r,gr(r,!1,e)),t=n=r.position):r.position===r.lineStart&&Pp(r)?et(r,"unexpected end of the document within a double quoted scalar"):(r.position++,n=r.position)}et(r,"unexpected end of the stream within a double quoted scalar")}function lH(r,e){var t=!0,n,i,s,l=r.tag,u,c=r.anchor,h,d,m,g,y,b=Object.create(null),w,E,x,k;if(k=r.input.charCodeAt(r.position),k===91)d=93,y=!1,u=[];else if(k===123)d=125,y=!0,u={};else return!1;for(r.anchor!==null&&(r.anchorMap[r.anchor]=u),k=r.input.charCodeAt(++r.position);k!==0;){if(gr(r,!0,e),k=r.input.charCodeAt(r.position),k===d)return r.position++,r.tag=l,r.anchor=c,r.kind=y?"mapping":"sequence",r.result=u,!0;t?k===44&&et(r,"expected the node content, but found ','"):et(r,"missed comma between flow collection entries"),E=w=x=null,m=g=!1,k===63&&(h=r.input.charCodeAt(r.position+1),vn(h)&&(m=g=!0,r.position++,gr(r,!0,e))),n=r.line,i=r.lineStart,s=r.position,Wo(r,e,ap,!1,!0),E=r.tag,w=r.result,gr(r,!0,e),k=r.input.charCodeAt(r.position),(g||r.line===n)&&k===58&&(m=!0,k=r.input.charCodeAt(++r.position),gr(r,!0,e),Wo(r,e,ap,!1,!0),x=r.result),y?So(r,u,b,E,w,x,n,i,s):m?u.push(So(r,null,b,E,w,x,n,i,s)):u.push(w),gr(r,!0,e),k=r.input.charCodeAt(r.position),k===44?(t=!0,k=r.input.charCodeAt(++r.position)):t=!1}et(r,"unexpected end of the stream within a flow collection")}function oH(r,e){var t,n,i=X0,s=!1,l=!1,u=e,c=0,h=!1,d,m;if(m=r.input.charCodeAt(r.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(r.kind="scalar",r.result="";m!==0;)if(m=r.input.charCodeAt(++r.position),m===43||m===45)X0===i?i=m===43?uT:XU:et(r,"repeat of a chomping mode identifier");else if((d=tH(m))>=0)d===0?et(r,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?et(r,"repeat of an indentation width identifier"):(u=e+d-1,l=!0);else break;if(ul(m)){do m=r.input.charCodeAt(++r.position);while(ul(m));if(m===35)do m=r.input.charCodeAt(++r.position);while(!Pi(m)&&m!==0)}for(;m!==0;){for(hx(r),r.lineIndent=0,m=r.input.charCodeAt(r.position);(!l||r.lineIndent<u)&&m===32;)r.lineIndent++,m=r.input.charCodeAt(++r.position);if(!l&&r.lineIndent>u&&(u=r.lineIndent),Pi(m)){c++;continue}if(r.lineIndent<u){i===uT?r.result+=wr.repeat(`
`,s?1+c:c):i===X0&&s&&(r.result+=`
`);break}for(n?ul(m)?(h=!0,r.result+=wr.repeat(`
`,s?1+c:c)):h?(h=!1,r.result+=wr.repeat(`
`,c+1)):c===0?s&&(r.result+=" "):r.result+=wr.repeat(`
`,c):r.result+=wr.repeat(`
`,s?1+c:c),s=!0,l=!0,c=0,t=r.position;!Pi(m)&&m!==0;)m=r.input.charCodeAt(++r.position);ua(r,t,r.position,!1)}return!0}function pT(r,e){var t,n=r.tag,i=r.anchor,s=[],l,u=!1,c;if(r.firstTabInLine!==-1)return!1;for(r.anchor!==null&&(r.anchorMap[r.anchor]=s),c=r.input.charCodeAt(r.position);c!==0&&(r.firstTabInLine!==-1&&(r.position=r.firstTabInLine,et(r,"tab characters must not be used in indentation")),!(c!==45||(l=r.input.charCodeAt(r.position+1),!vn(l))));){if(u=!0,r.position++,gr(r,!0,-1)&&r.lineIndent<=e){s.push(null),c=r.input.charCodeAt(r.position);continue}if(t=r.line,Wo(r,e,H4,!1,!0),s.push(r.result),gr(r,!0,-1),c=r.input.charCodeAt(r.position),(r.line===t||r.lineIndent>e)&&c!==0)et(r,"bad indentation of a sequence entry");else if(r.lineIndent<e)break}return u?(r.tag=n,r.anchor=i,r.kind="sequence",r.result=s,!0):!1}function uH(r,e,t){var n,i,s,l,u,c,h=r.tag,d=r.anchor,m={},g=Object.create(null),y=null,b=null,w=null,E=!1,x=!1,k;if(r.firstTabInLine!==-1)return!1;for(r.anchor!==null&&(r.anchorMap[r.anchor]=m),k=r.input.charCodeAt(r.position);k!==0;){if(!E&&r.firstTabInLine!==-1&&(r.position=r.firstTabInLine,et(r,"tab characters must not be used in indentation")),n=r.input.charCodeAt(r.position+1),s=r.line,(k===63||k===58)&&vn(n))k===63?(E&&(So(r,m,g,y,b,null,l,u,c),y=b=w=null),x=!0,E=!0,i=!0):E?(E=!1,i=!0):et(r,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),r.position+=1,k=n;else{if(l=r.line,u=r.lineStart,c=r.position,!Wo(r,t,U4,!1,!0))break;if(r.line===s){for(k=r.input.charCodeAt(r.position);ul(k);)k=r.input.charCodeAt(++r.position);if(k===58)k=r.input.charCodeAt(++r.position),vn(k)||et(r,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(So(r,m,g,y,b,null,l,u,c),y=b=w=null),x=!0,E=!1,i=!1,y=r.tag,b=r.result;else if(x)et(r,"can not read an implicit mapping pair; a colon is missed");else return r.tag=h,r.anchor=d,!0}else if(x)et(r,"can not read a block mapping entry; a multiline key may not be an implicit key");else return r.tag=h,r.anchor=d,!0}if((r.line===s||r.lineIndent>e)&&(E&&(l=r.line,u=r.lineStart,c=r.position),Wo(r,e,lp,!0,i)&&(E?b=r.result:w=r.result),E||(So(r,m,g,y,b,w,l,u,c),y=b=w=null),gr(r,!0,-1),k=r.input.charCodeAt(r.position)),(r.line===s||r.lineIndent>e)&&k!==0)et(r,"bad indentation of a mapping entry");else if(r.lineIndent<e)break}return E&&So(r,m,g,y,b,null,l,u,c),x&&(r.tag=h,r.anchor=d,r.kind="mapping",r.result=m),x}function cH(r){var e,t=!1,n=!1,i,s,l;if(l=r.input.charCodeAt(r.position),l!==33)return!1;if(r.tag!==null&&et(r,"duplication of a tag property"),l=r.input.charCodeAt(++r.position),l===60?(t=!0,l=r.input.charCodeAt(++r.position)):l===33?(n=!0,i="!!",l=r.input.charCodeAt(++r.position)):i="!",e=r.position,t){do l=r.input.charCodeAt(++r.position);while(l!==0&&l!==62);r.position<r.length?(s=r.input.slice(e,r.position),l=r.input.charCodeAt(++r.position)):et(r,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!vn(l);)l===33&&(n?et(r,"tag suffix cannot contain exclamation marks"):(i=r.input.slice(e-1,r.position+1),q4.test(i)||et(r,"named tag handle cannot contain such characters"),n=!0,e=r.position+1)),l=r.input.charCodeAt(++r.position);s=r.input.slice(e,r.position),ZU.test(s)&&et(r,"tag suffix cannot contain flow indicator characters")}s&&!W4.test(s)&&et(r,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{et(r,"tag name is malformed: "+s)}return t?r.tag=s:ga.call(r.tagMap,i)?r.tag=r.tagMap[i]+s:i==="!"?r.tag="!"+s:i==="!!"?r.tag="tag:yaml.org,2002:"+s:et(r,'undeclared tag handle "'+i+'"'),!0}function fH(r){var e,t;if(t=r.input.charCodeAt(r.position),t!==38)return!1;for(r.anchor!==null&&et(r,"duplication of an anchor property"),t=r.input.charCodeAt(++r.position),e=r.position;t!==0&&!vn(t)&&!wo(t);)t=r.input.charCodeAt(++r.position);return r.position===e&&et(r,"name of an anchor node must contain at least one character"),r.anchor=r.input.slice(e,r.position),!0}function hH(r){var e,t,n;if(n=r.input.charCodeAt(r.position),n!==42)return!1;for(n=r.input.charCodeAt(++r.position),e=r.position;n!==0&&!vn(n)&&!wo(n);)n=r.input.charCodeAt(++r.position);return r.position===e&&et(r,"name of an alias node must contain at least one character"),t=r.input.slice(e,r.position),ga.call(r.anchorMap,t)||et(r,'unidentified alias "'+t+'"'),r.result=r.anchorMap[t],gr(r,!0,-1),!0}function Wo(r,e,t,n,i){var s,l,u,c=1,h=!1,d=!1,m,g,y,b,w,E;if(r.listener!==null&&r.listener("open",r),r.tag=null,r.anchor=null,r.kind=null,r.result=null,s=l=u=lp===t||H4===t,n&&gr(r,!0,-1)&&(h=!0,r.lineIndent>e?c=1:r.lineIndent===e?c=0:r.lineIndent<e&&(c=-1)),c===1)for(;cH(r)||fH(r);)gr(r,!0,-1)?(h=!0,u=s,r.lineIndent>e?c=1:r.lineIndent===e?c=0:r.lineIndent<e&&(c=-1)):u=!1;if(u&&(u=h||i),(c===1||lp===t)&&(ap===t||U4===t?w=e:w=e+1,E=r.position-r.lineStart,c===1?u&&(pT(r,E)||uH(r,E,w))||lH(r,w)?d=!0:(l&&oH(r,w)||sH(r,w)||aH(r,w)?d=!0:hH(r)?(d=!0,(r.tag!==null||r.anchor!==null)&&et(r,"alias node should not have any properties")):iH(r,w,ap===t)&&(d=!0,r.tag===null&&(r.tag="?")),r.anchor!==null&&(r.anchorMap[r.anchor]=r.result)):c===0&&(d=u&&pT(r,E))),r.tag===null)r.anchor!==null&&(r.anchorMap[r.anchor]=r.result);else if(r.tag==="?"){for(r.result!==null&&r.kind!=="scalar"&&et(r,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+r.kind+'"'),m=0,g=r.implicitTypes.length;m<g;m+=1)if(b=r.implicitTypes[m],b.resolve(r.result)){r.result=b.construct(r.result),r.tag=b.tag,r.anchor!==null&&(r.anchorMap[r.anchor]=r.result);break}}else if(r.tag!=="!"){if(ga.call(r.typeMap[r.kind||"fallback"],r.tag))b=r.typeMap[r.kind||"fallback"][r.tag];else for(b=null,y=r.typeMap.multi[r.kind||"fallback"],m=0,g=y.length;m<g;m+=1)if(r.tag.slice(0,y[m].tag.length)===y[m].tag){b=y[m];break}b||et(r,"unknown tag !<"+r.tag+">"),r.result!==null&&b.kind!==r.kind&&et(r,"unacceptable node kind for !<"+r.tag+'> tag; it should be "'+b.kind+'", not "'+r.kind+'"'),b.resolve(r.result,r.tag)?(r.result=b.construct(r.result,r.tag),r.anchor!==null&&(r.anchorMap[r.anchor]=r.result)):et(r,"cannot resolve a node with !<"+r.tag+"> explicit tag")}return r.listener!==null&&r.listener("close",r),r.tag!==null||r.anchor!==null||d}function dH(r){var e=r.position,t,n,i,s=!1,l;for(r.version=null,r.checkLineBreaks=r.legacy,r.tagMap=Object.create(null),r.anchorMap=Object.create(null);(l=r.input.charCodeAt(r.position))!==0&&(gr(r,!0,-1),l=r.input.charCodeAt(r.position),!(r.lineIndent>0||l!==37));){for(s=!0,l=r.input.charCodeAt(++r.position),t=r.position;l!==0&&!vn(l);)l=r.input.charCodeAt(++r.position);for(n=r.input.slice(t,r.position),i=[],n.length<1&&et(r,"directive name must not be less than one character in length");l!==0;){for(;ul(l);)l=r.input.charCodeAt(++r.position);if(l===35){do l=r.input.charCodeAt(++r.position);while(l!==0&&!Pi(l));break}if(Pi(l))break;for(t=r.position;l!==0&&!vn(l);)l=r.input.charCodeAt(++r.position);i.push(r.input.slice(t,r.position))}l!==0&&hx(r),ga.call(hT,n)?hT[n](r,n,i):op(r,'unknown document directive "'+n+'"')}if(gr(r,!0,-1),r.lineIndent===0&&r.input.charCodeAt(r.position)===45&&r.input.charCodeAt(r.position+1)===45&&r.input.charCodeAt(r.position+2)===45?(r.position+=3,gr(r,!0,-1)):s&&et(r,"directives end mark is expected"),Wo(r,r.lineIndent-1,lp,!1,!0),gr(r,!0,-1),r.checkLineBreaks&&KU.test(r.input.slice(e,r.position))&&op(r,"non-ASCII line breaks are interpreted as content"),r.documents.push(r.result),r.position===r.lineStart&&Pp(r)){r.input.charCodeAt(r.position)===46&&(r.position+=3,gr(r,!0,-1));return}if(r.position<r.length-1)et(r,"end of the stream or a document separator is expected");else return}function X4(r,e){r=String(r),e=e||{},r.length!==0&&(r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r.charCodeAt(0)===65279&&(r=r.slice(1)));var t=new nH(r,e),n=r.indexOf("\0");for(n!==-1&&(t.position=n,et(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)dH(t);return t.documents}function pH(r,e,t){e!==null&&typeof e=="object"&&typeof t>"u"&&(t=e,e=null);var n=X4(r,t);if(typeof e!="function")return n;for(var i=0,s=n.length;i<s;i+=1)e(n[i])}function mH(r,e){var t=X4(r,e);if(t.length!==0){if(t.length===1)return t[0];throw new Zr("expected a single document in the stream, but found more")}}var gH=pH,yH=mH,Y4={loadAll:gH,load:yH},K4=Object.prototype.toString,Z4=Object.prototype.hasOwnProperty,px=65279,vH=9,Gc=10,bH=13,xH=32,wH=33,SH=34,W1=35,kH=37,AH=38,EH=39,TH=42,J4=44,CH=45,up=58,OH=61,_H=62,RH=63,MH=64,e5=91,t5=93,NH=96,r5=123,DH=124,n5=125,Vr={};Vr[0]="\\0";Vr[7]="\\a";Vr[8]="\\b";Vr[9]="\\t";Vr[10]="\\n";Vr[11]="\\v";Vr[12]="\\f";Vr[13]="\\r";Vr[27]="\\e";Vr[34]='\\"';Vr[92]="\\\\";Vr[133]="\\N";Vr[160]="\\_";Vr[8232]="\\L";Vr[8233]="\\P";var LH=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],BH=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function zH(r,e){var t,n,i,s,l,u,c;if(e===null)return{};for(t={},n=Object.keys(e),i=0,s=n.length;i<s;i+=1)l=n[i],u=String(e[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),c=r.compiledTypeMap.fallback[l],c&&Z4.call(c.styleAliases,u)&&(u=c.styleAliases[u]),t[l]=u;return t}function jH(r){var e,t,n;if(e=r.toString(16).toUpperCase(),r<=255)t="x",n=2;else if(r<=65535)t="u",n=4;else if(r<=4294967295)t="U",n=8;else throw new Zr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+wr.repeat("0",n-e.length)+e}var PH=1,Qc=2;function FH(r){this.schema=r.schema||fx,this.indent=Math.max(1,r.indent||2),this.noArrayIndent=r.noArrayIndent||!1,this.skipInvalid=r.skipInvalid||!1,this.flowLevel=wr.isNothing(r.flowLevel)?-1:r.flowLevel,this.styleMap=zH(this.schema,r.styles||null),this.sortKeys=r.sortKeys||!1,this.lineWidth=r.lineWidth||80,this.noRefs=r.noRefs||!1,this.noCompatMode=r.noCompatMode||!1,this.condenseFlow=r.condenseFlow||!1,this.quotingType=r.quotingType==='"'?Qc:PH,this.forceQuotes=r.forceQuotes||!1,this.replacer=typeof r.replacer=="function"?r.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function mT(r,e){for(var t=wr.repeat(" ",e),n=0,i=-1,s="",l,u=r.length;n<u;)i=r.indexOf(`
`,n),i===-1?(l=r.slice(n),n=u):(l=r.slice(n,i+1),n=i+1),l.length&&l!==`
`&&(s+=t),s+=l;return s}function V1(r,e){return`
`+wr.repeat(" ",r.indent*e)}function IH(r,e){var t,n,i;for(t=0,n=r.implicitTypes.length;t<n;t+=1)if(i=r.implicitTypes[t],i.resolve(e))return!0;return!1}function cp(r){return r===xH||r===vH}function Xc(r){return 32<=r&&r<=126||161<=r&&r<=55295&&r!==8232&&r!==8233||57344<=r&&r<=65533&&r!==px||65536<=r&&r<=1114111}function gT(r){return Xc(r)&&r!==px&&r!==bH&&r!==Gc}function yT(r,e,t){var n=gT(r),i=n&&!cp(r);return(t?n:n&&r!==J4&&r!==e5&&r!==t5&&r!==r5&&r!==n5)&&r!==W1&&!(e===up&&!i)||gT(e)&&!cp(e)&&r===W1||e===up&&i}function UH(r){return Xc(r)&&r!==px&&!cp(r)&&r!==CH&&r!==RH&&r!==up&&r!==J4&&r!==e5&&r!==t5&&r!==r5&&r!==n5&&r!==W1&&r!==AH&&r!==TH&&r!==wH&&r!==DH&&r!==OH&&r!==_H&&r!==EH&&r!==SH&&r!==kH&&r!==MH&&r!==NH}function HH(r){return!cp(r)&&r!==up}function dc(r,e){var t=r.charCodeAt(e),n;return t>=55296&&t<=56319&&e+1<r.length&&(n=r.charCodeAt(e+1),n>=56320&&n<=57343)?(t-55296)*1024+n-56320+65536:t}function i5(r){var e=/^\n* /;return e.test(r)}var s5=1,$1=2,a5=3,l5=4,po=5;function qH(r,e,t,n,i,s,l,u){var c,h=0,d=null,m=!1,g=!1,y=n!==-1,b=-1,w=UH(dc(r,0))&&HH(dc(r,r.length-1));if(e||l)for(c=0;c<r.length;h>=65536?c+=2:c++){if(h=dc(r,c),!Xc(h))return po;w=w&&yT(h,d,u),d=h}else{for(c=0;c<r.length;h>=65536?c+=2:c++){if(h=dc(r,c),h===Gc)m=!0,y&&(g=g||c-b-1>n&&r[b+1]!==" ",b=c);else if(!Xc(h))return po;w=w&&yT(h,d,u),d=h}g=g||y&&c-b-1>n&&r[b+1]!==" "}return!m&&!g?w&&!l&&!i(r)?s5:s===Qc?po:$1:t>9&&i5(r)?po:l?s===Qc?po:$1:g?l5:a5}function WH(r,e,t,n,i){r.dump=(function(){if(e.length===0)return r.quotingType===Qc?'""':"''";if(!r.noCompatMode&&(LH.indexOf(e)!==-1||BH.test(e)))return r.quotingType===Qc?'"'+e+'"':"'"+e+"'";var s=r.indent*Math.max(1,t),l=r.lineWidth===-1?-1:Math.max(Math.min(r.lineWidth,40),r.lineWidth-s),u=n||r.flowLevel>-1&&t>=r.flowLevel;function c(h){return IH(r,h)}switch(qH(e,u,r.indent,l,c,r.quotingType,r.forceQuotes&&!n,i)){case s5:return e;case $1:return"'"+e.replace(/'/g,"''")+"'";case a5:return"|"+vT(e,r.indent)+bT(mT(e,s));case l5:return">"+vT(e,r.indent)+bT(mT(VH(e,l),s));case po:return'"'+$H(e)+'"';default:throw new Zr("impossible error: invalid scalar style")}})()}function vT(r,e){var t=i5(r)?String(e):"",n=r[r.length-1]===`
`,i=n&&(r[r.length-2]===`
`||r===`
`),s=i?"+":n?"":"-";return t+s+`
`}function bT(r){return r[r.length-1]===`
`?r.slice(0,-1):r}function VH(r,e){for(var t=/(\n+)([^\n]*)/g,n=(function(){var h=r.indexOf(`
`);return h=h!==-1?h:r.length,t.lastIndex=h,xT(r.slice(0,h),e)})(),i=r[0]===`
`||r[0]===" ",s,l;l=t.exec(r);){var u=l[1],c=l[2];s=c[0]===" ",n+=u+(!i&&!s&&c!==""?`
`:"")+xT(c,e),i=s}return n}function xT(r,e){if(r===""||r[0]===" ")return r;for(var t=/ [^ ]/g,n,i=0,s,l=0,u=0,c="";n=t.exec(r);)u=n.index,u-i>e&&(s=l>i?l:u,c+=`
`+r.slice(i,s),i=s+1),l=u;return c+=`
`,r.length-i>e&&l>i?c+=r.slice(i,l)+`
`+r.slice(l+1):c+=r.slice(i),c.slice(1)}function $H(r){for(var e="",t=0,n,i=0;i<r.length;t>=65536?i+=2:i++)t=dc(r,i),n=Vr[t],!n&&Xc(t)?(e+=r[i],t>=65536&&(e+=r[i+1])):e+=n||jH(t);return e}function GH(r,e,t){var n="",i=r.tag,s,l,u;for(s=0,l=t.length;s<l;s+=1)u=t[s],r.replacer&&(u=r.replacer.call(t,String(s),u)),(Ss(r,e,u,!1,!1)||typeof u>"u"&&Ss(r,e,null,!1,!1))&&(n!==""&&(n+=","+(r.condenseFlow?"":" ")),n+=r.dump);r.tag=i,r.dump="["+n+"]"}function wT(r,e,t,n){var i="",s=r.tag,l,u,c;for(l=0,u=t.length;l<u;l+=1)c=t[l],r.replacer&&(c=r.replacer.call(t,String(l),c)),(Ss(r,e+1,c,!0,!0,!1,!0)||typeof c>"u"&&Ss(r,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=V1(r,e)),r.dump&&Gc===r.dump.charCodeAt(0)?i+="-":i+="- ",i+=r.dump);r.tag=s,r.dump=i||"[]"}function QH(r,e,t){var n="",i=r.tag,s=Object.keys(t),l,u,c,h,d;for(l=0,u=s.length;l<u;l+=1)d="",n!==""&&(d+=", "),r.condenseFlow&&(d+='"'),c=s[l],h=t[c],r.replacer&&(h=r.replacer.call(t,c,h)),Ss(r,e,c,!1,!1)&&(r.dump.length>1024&&(d+="? "),d+=r.dump+(r.condenseFlow?'"':"")+":"+(r.condenseFlow?"":" "),Ss(r,e,h,!1,!1)&&(d+=r.dump,n+=d));r.tag=i,r.dump="{"+n+"}"}function XH(r,e,t,n){var i="",s=r.tag,l=Object.keys(t),u,c,h,d,m,g;if(r.sortKeys===!0)l.sort();else if(typeof r.sortKeys=="function")l.sort(r.sortKeys);else if(r.sortKeys)throw new Zr("sortKeys must be a boolean or a function");for(u=0,c=l.length;u<c;u+=1)g="",(!n||i!=="")&&(g+=V1(r,e)),h=l[u],d=t[h],r.replacer&&(d=r.replacer.call(t,h,d)),Ss(r,e+1,h,!0,!0,!0)&&(m=r.tag!==null&&r.tag!=="?"||r.dump&&r.dump.length>1024,m&&(r.dump&&Gc===r.dump.charCodeAt(0)?g+="?":g+="? "),g+=r.dump,m&&(g+=V1(r,e)),Ss(r,e+1,d,!0,m)&&(r.dump&&Gc===r.dump.charCodeAt(0)?g+=":":g+=": ",g+=r.dump,i+=g));r.tag=s,r.dump=i||"{}"}function ST(r,e,t){var n,i,s,l,u,c;for(i=t?r.explicitTypes:r.implicitTypes,s=0,l=i.length;s<l;s+=1)if(u=i[s],(u.instanceOf||u.predicate)&&(!u.instanceOf||typeof e=="object"&&e instanceof u.instanceOf)&&(!u.predicate||u.predicate(e))){if(t?u.multi&&u.representName?r.tag=u.representName(e):r.tag=u.tag:r.tag="?",u.represent){if(c=r.styleMap[u.tag]||u.defaultStyle,K4.call(u.represent)==="[object Function]")n=u.represent(e,c);else if(Z4.call(u.represent,c))n=u.represent[c](e,c);else throw new Zr("!<"+u.tag+'> tag resolver accepts not "'+c+'" style');r.dump=n}return!0}return!1}function Ss(r,e,t,n,i,s,l){r.tag=null,r.dump=t,ST(r,t,!1)||ST(r,t,!0);var u=K4.call(r.dump),c=n,h;n&&(n=r.flowLevel<0||r.flowLevel>e);var d=u==="[object Object]"||u==="[object Array]",m,g;if(d&&(m=r.duplicates.indexOf(t),g=m!==-1),(r.tag!==null&&r.tag!=="?"||g||r.indent!==2&&e>0)&&(i=!1),g&&r.usedDuplicates[m])r.dump="*ref_"+m;else{if(d&&g&&!r.usedDuplicates[m]&&(r.usedDuplicates[m]=!0),u==="[object Object]")n&&Object.keys(r.dump).length!==0?(XH(r,e,r.dump,i),g&&(r.dump="&ref_"+m+r.dump)):(QH(r,e,r.dump),g&&(r.dump="&ref_"+m+" "+r.dump));else if(u==="[object Array]")n&&r.dump.length!==0?(r.noArrayIndent&&!l&&e>0?wT(r,e-1,r.dump,i):wT(r,e,r.dump,i),g&&(r.dump="&ref_"+m+r.dump)):(GH(r,e,r.dump),g&&(r.dump="&ref_"+m+" "+r.dump));else if(u==="[object String]")r.tag!=="?"&&WH(r,r.dump,e,s,c);else{if(u==="[object Undefined]")return!1;if(r.skipInvalid)return!1;throw new Zr("unacceptable kind of an object to dump "+u)}r.tag!==null&&r.tag!=="?"&&(h=encodeURI(r.tag[0]==="!"?r.tag.slice(1):r.tag).replace(/!/g,"%21"),r.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",r.dump=h+" "+r.dump)}return!0}function YH(r,e){var t=[],n=[],i,s;for(G1(r,t,n),i=0,s=n.length;i<s;i+=1)e.duplicates.push(t[n[i]]);e.usedDuplicates=new Array(s)}function G1(r,e,t){var n,i,s;if(r!==null&&typeof r=="object")if(i=e.indexOf(r),i!==-1)t.indexOf(i)===-1&&t.push(i);else if(e.push(r),Array.isArray(r))for(i=0,s=r.length;i<s;i+=1)G1(r[i],e,t);else for(n=Object.keys(r),i=0,s=n.length;i<s;i+=1)G1(r[n[i]],e,t)}function KH(r,e){e=e||{};var t=new FH(e);t.noRefs||YH(r,t);var n=r;return t.replacer&&(n=t.replacer.call({"":n},"",n)),Ss(t,0,n,!0,!0)?t.dump+`
`:""}var ZH=KH,JH={dump:ZH};function mx(r,e){return function(){throw new Error("Function yaml."+r+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var eq=Pr,tq=S4,rq=T4,nq=M4,iq=N4,sq=fx,aq=Y4.load,lq=Y4.loadAll,oq=JH.dump,uq=Zr,cq={binary:j4,float:R4,map:E4,null:C4,pairs:F4,set:I4,timestamp:B4,bool:O4,int:_4,merge:z4,omap:P4,seq:A4,str:k4},fq=mx("safeLoad","load"),hq=mx("safeLoadAll","loadAll"),dq=mx("safeDump","dump"),eu={Type:eq,Schema:tq,FAILSAFE_SCHEMA:rq,JSON_SCHEMA:nq,CORE_SCHEMA:iq,DEFAULT_SCHEMA:sq,load:aq,loadAll:lq,dump:oq,YAMLException:uq,types:cq,safeLoad:fq,safeLoadAll:hq,safeDump:dq};function gx({value:r,onChange:e,placeholder:t}){const n=fe.useRef(null),i=fe.useRef(null),[s,l]=fe.useState(null);return fe.useEffect(()=>{try{r.trim()&&(eu.load(r),l(null))}catch(u){u instanceof Error&&l(u.message)}},[r]),fe.useEffect(()=>{if(!n.current)return;const u=He.theme({"&":{height:"100%",fontSize:"14px"},".cm-content":{fontFamily:"Monaco, Menlo, monospace",padding:"16px"},".cm-gutters":{backgroundColor:"var(--color-surface)",color:"var(--color-text-muted)",border:"none"},".cm-activeLineGutter":{backgroundColor:"var(--color-surface-hover)"},".cm-activeLine":{backgroundColor:"rgba(59, 130, 246, 0.1)"},"&.cm-focused":{outline:"none"}}),c=wt.create({doc:r,extensions:[oI,QI(),u,He.updateListener.of(d=>{d.docChanged&&e(d.state.doc.toString())}),He.theme({"&":{backgroundColor:"var(--color-surface)"}})]}),h=new He({state:c,parent:n.current});return i.current=h,()=>{h.destroy(),i.current=null}},[]),fe.useEffect(()=>{if(i.current){const u=i.current.state.doc.toString();u!==r&&i.current.dispatch({changes:{from:0,to:u.length,insert:r}})}},[r]),z.jsxs("div",{className:"flex flex-col h-full bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] overflow-hidden",children:[s&&z.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-500/10 border-b border-red-500/20 text-red-400 text-sm",children:[z.jsx(fl,{size:16}),z.jsxs("span",{children:["YAML: ",s.split(`
`)[0]]})]}),z.jsx("div",{className:"flex-1 overflow-hidden",children:z.jsx("div",{ref:n,className:"h-full"})}),!r&&t&&z.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:z.jsx("p",{className:"text-[var(--color-text-muted)]",children:t})})]})}function yx({value:r,onChange:e,label:t}){const[n,i]=fe.useState(!1),[s,l]=fe.useState(r),u=fe.useRef(null);fe.useEffect(()=>{l(r)},[r]),fe.useEffect(()=>{n&&u.current&&(u.current.focus(),u.current.select())},[n]);const c=()=>{if(s.trim()){let m=s.trim();!m.endsWith(".yaml")&&!m.endsWith(".yml")&&(m+=".yaml"),e(m)}i(!1)},h=()=>{l(r),i(!1)},d=m=>{m.key==="Enter"?c():m.key==="Escape"&&h()};return n?z.jsxs("div",{children:[z.jsx("h1",{className:"font-semibold",children:t}),z.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[z.jsx("input",{ref:u,type:"text",value:s,onChange:m=>l(m.target.value),onKeyDown:d,onBlur:c,className:"px-2 py-1 text-sm rounded bg-[var(--color-bg)] border border-[var(--color-primary)] focus:outline-none"}),z.jsx("button",{onClick:c,className:"p-1 rounded hover:bg-green-500/20 text-green-400",children:z.jsx(g_,{size:14})}),z.jsx("button",{onClick:h,className:"p-1 rounded hover:bg-red-500/20 text-red-400",children:z.jsx(Sb,{size:14})})]})]}):z.jsxs("div",{children:[z.jsx("h1",{className:"font-semibold",children:t}),z.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1 text-sm text-[var(--color-text-muted)] hover:text-[var(--color-text)] transition-colors group",children:[z.jsx("span",{children:r}),z.jsx(PL,{size:12,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]})}function Q1({onInsert:r}){const[e,t]=fe.useState(!1),[n,i]=fe.useState(""),s=()=>{n.trim()&&(r("$"+n+"$"),i(""),t(!1))};return e?z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:z.jsxs("div",{onClick:l=>l.stopPropagation(),className:"bg-[var(--color-surface)] rounded-xl p-4 w-[500px] shadow-2xl",children:[z.jsxs("div",{className:"flex items-center justify-between mb-3",children:[z.jsx("h3",{className:"font-medium",children:""}),z.jsx("button",{onClick:()=>t(!1),className:"p-1 hover:bg-[var(--color-surface-hover)] rounded",children:z.jsx(Sb,{size:16})})]}),z.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:[{display:"a/b",latex:"\\frac{}{}"},{display:"x",latex:"^{2}"},{display:"x",latex:"_{n}"},{display:"",latex:"\\sqrt{}"},{display:"vec",latex:"\\vec{}"},{display:"bar",latex:"\\overline{}"},{display:"hat",latex:"\\hat{}"},{display:"",latex:"\\cdot "},{display:"",latex:"\\partial "},{display:"",latex:"\\pi"},{display:"",latex:"\\theta"},{display:"",latex:"\\sum"},{display:"",latex:"\\int"},{display:"sin",latex:"\\sin "},{display:"cos",latex:"\\cos "},{display:"tan",latex:"\\tan "},{display:"log",latex:"\\log "},{display:"",latex:"\\alpha"},{display:"",latex:"\\beta"},{display:"",latex:"\\times "},{display:"",latex:"\\div "},{display:"",latex:"\\pm "},{display:"",latex:"\\leqq "},{display:"",latex:"\\geqq "},{display:"",latex:"\\leq "},{display:"",latex:"\\geq "},{display:"",latex:"\\neq "},{display:"",latex:"\\not\\equiv "},{display:"",latex:"\\backsim "},{display:"",latex:"\\sim "},{display:"",latex:"\\simeq "},{display:"",latex:"\\cong "},{display:"",latex:"\\infty"},{display:"",latex:"\\to "},{display:"",latex:"\\in "},{display:"",latex:"\\notin "},{display:"",latex:"\\subset "},{display:"",latex:"\\supset "},{display:"",latex:"\\cup "},{display:"",latex:"\\cap "},{display:"",latex:"\\emptyset"},{display:"",latex:"\\mathbb{N}"},{display:"",latex:"\\mathbb{Z}"},{display:"",latex:"\\mathbb{R}"}].map((l,u)=>z.jsx("button",{onClick:()=>i(n+l.latex),className:"px-2 py-1 text-sm rounded bg-[var(--color-bg)] hover:bg-[var(--color-primary)] hover:text-white transition-colors",children:l.display},u))}),z.jsx("input",{type:"text",value:n,onChange:l=>i(l.target.value),onKeyDown:l=>l.key==="Enter"&&s(),placeholder:"x^2 + y^2 = r^2",className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none font-mono text-sm mb-3",autoFocus:!0}),z.jsxs("div",{className:"flex justify-end gap-2",children:[z.jsx("button",{onClick:()=>t(!1),className:"px-3 py-1.5 text-sm rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]",children:""}),z.jsx("button",{onClick:s,className:"px-3 py-1.5 text-sm rounded-lg bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary-dark)]",children:""})]})]})}):z.jsx("button",{onClick:()=>t(!0),className:"px-2 py-1 text-xs rounded bg-purple-500/20 text-purple-400 hover:bg-purple-500/30 transition-colors",title:"",children:"(x)"})}function pq({onYamlChange:r,yamlValue:e}){const[t,n]=fe.useState({:"1",:"",:"",:50,:100,:"",:["4",""],:[{:1,:"",:!0,:25,:[{:"(1)",:"",:10,:"",:""}]}]}),[i,s]=fe.useState(!1);fe.useEffect(()=>{if(e&&!i)try{const k=eu.load(e);k&&typeof k=="object"&&(n({:k.||"1",:k.||"",:k.||"",:k.||50,:k.||100,:k.||"",:k.||[],:(k.||[]).map((O,T)=>{const _=O;return{:_.||T+1,:_.||"",:_.??!0,:_.||25,:_.||!1,:(_.||[]).map((H,M)=>{if(typeof H=="object"&&H!==null){const Q=H;return{:Q.||`(${M+1})`,:Q.||"",:Q.||10,:Q.||"",:Q.||"",:Q.||!1}}return{:`(${M+1})`,:String(H),:10,:"",:""}})}})}),s(!0))}catch(k){console.error("YAML parse error:",k)}},[e,i]);const l=(k,O)=>{n(T=>{const _={...T,[k]:O};return E(_),_})},u=()=>{l("",[...t.,""])},c=(k,O)=>{const T=[...t.];T[k]=O,l("",T)},h=k=>{l("",t..filter((O,T)=>T!==k))},d=()=>{l("",[...t.,{:t..length+1,:"",:!0,:25,:[{:"(1)",:"",:10,:"",:""}]}])},m=(k,O,T)=>{const _=[...t.];_[k]={..._[k],[O]:T},l("",_)},g=k=>{l("",t..filter((O,T)=>T!==k))},y=k=>{const O=[...t.],T=O[k]..length;O[k]..push({:`(${T+1})`,:"",:10,:"",:""}),l("",O)},b=(k,O,T,_)=>{const H=[...t.];H[k].[O]={...H[k].[O],[T]:_},l("",H)},w=(k,O)=>{const T=[...t.];T[k].=T[k]..filter((_,H)=>H!==O),l("",T)},E=k=>{const O=x(k);r(O)},x=k=>{const O=_=>_.replace(/\\/g,"\\\\").replace(/"/g,'\\"');let T=`: "${O(k.)}"
`;return T+=`: "${O(k.)}"
`,T+=`: "${O(k.)}"
`,T+=`: ${k.}
`,T+=`: ${k.}
`,T+=`: "${O(k.)}"

`,T+=`:
`,k..forEach(_=>{T+=`  - "${O(_)}"
`}),T+=`
:
`,k..forEach(_=>{T+=`  - : ${_.}
`,T+=`    : "${O(_.)}"
`,T+=`    : ${_.}
`,T+=`    : ${_.}
`,_.&&(T+=`    : true
`),T+=`    :
`,_..forEach(H=>{T+=`      - : "${O(H.)}"
`,T+=`        : "${O(H.)}"
`,T+=`        : ${H.}
`,H.&&(T+=`        : true
`),H.&&(T+=`        : "${O(H.)}"
`),H.&&(T+=`        : "${O(H.)}"
`)})}),T};return z.jsxs("div",{className:"h-full overflow-y-auto p-4 space-y-6",children:[z.jsxs("section",{className:"space-y-3",children:[z.jsx("h3",{className:"font-semibold text-sm text-[var(--color-text-muted)] uppercase tracking-wide",children:""}),z.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:t.,onChange:k=>l("",k.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:t.,onChange:k=>l("",k.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:": 4 "})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:t.,onChange:k=>l("",k.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:": C"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:t.,onChange:k=>l("",k.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"number",value:t.,onChange:k=>l("",Number(k.target.value)),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"number",value:t.,onChange:k=>l("",Number(k.target.value)),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]})]})]}),z.jsxs("section",{className:"space-y-3",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsx("h3",{className:"font-semibold text-sm text-[var(--color-text-muted)] uppercase tracking-wide",children:""}),z.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-[var(--color-primary)] hover:underline",children:[z.jsx(sl,{size:14})," "]})]}),z.jsx("div",{className:"space-y-2",children:t..map((k,O)=>z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx(AL,{size:16,className:"text-[var(--color-text-muted)] cursor-grab"}),z.jsx("input",{type:"text",value:k,onChange:T=>c(O,T.target.value),className:"flex-1 px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"}),z.jsx("button",{onClick:()=>h(O),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:z.jsx(al,{size:16})})]},O))})]}),z.jsxs("section",{className:"space-y-4",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsx("h3",{className:"font-semibold text-sm text-[var(--color-text-muted)] uppercase tracking-wide",children:""}),z.jsxs("button",{onClick:d,className:"flex items-center gap-1 text-xs text-[var(--color-primary)] hover:underline",children:[z.jsx(sl,{size:14})," "]})]}),t..map((k,O)=>z.jsxs("div",{className:"bg-[var(--color-surface-hover)] rounded-xl p-4 space-y-3",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("h4",{className:"font-medium",children:[" ",k.]}),z.jsx("button",{onClick:()=>g(O),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:z.jsx(al,{size:16})})]}),z.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:k.,onChange:T=>m(O,"",T.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:": "})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"number",value:k.,onChange:T=>m(O,"",Number(T.target.value)),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),z.jsxs("div",{className:"flex items-end pb-1 gap-4",children:[z.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[z.jsx("input",{type:"checkbox",checked:k.,onChange:T=>m(O,"",T.target.checked),className:"w-4 h-4"}),z.jsx("span",{className:"text-sm",children:""})]}),z.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[z.jsx("input",{type:"checkbox",checked:k.||!1,onChange:T=>m(O,"",T.target.checked),className:"w-4 h-4 accent-orange-500"}),z.jsx("span",{className:"text-sm text-orange-400",children:""})]})]})]}),z.jsxs("div",{className:"mt-4 ml-4 space-y-3",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:""}),z.jsxs("button",{onClick:()=>y(O),className:"flex items-center gap-1 text-xs text-[var(--color-primary)] hover:underline",children:[z.jsx(sl,{size:12})," "]})]}),k..map((T,_)=>z.jsxs("div",{className:"bg-[var(--color-bg)] rounded-lg p-3 space-y-2",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("span",{className:"text-sm font-medium",children:T.}),z.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[z.jsx("input",{type:"checkbox",checked:T.||!1,onChange:H=>b(O,_,"",H.target.checked),className:"w-3 h-3 accent-orange-500"}),z.jsx("span",{className:"text-xs text-orange-400",children:""})]})]}),z.jsx("button",{onClick:()=>w(O,_),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:z.jsx(al,{size:14})})]}),z.jsxs("div",{children:[z.jsxs("div",{className:"flex items-center justify-between mb-1",children:[z.jsx("label",{className:"text-xs text-[var(--color-text-muted)]",children:""}),z.jsx(Q1,{onInsert:H=>b(O,_,"",T.+H)})]}),z.jsx("textarea",{value:T.,onChange:H=>b(O,_,"",H.target.value),rows:2,className:"w-full px-3 py-2 rounded-lg bg-[var(--color-surface)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm resize-none",placeholder:"... ( $...$ )"})]}),z.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"number",value:T.,onChange:H=>b(O,_,"",Number(H.target.value)),className:"w-full px-2 py-1 rounded bg-[var(--color-surface)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:T.,onChange:H=>b(O,_,"",H.target.value),className:"w-full px-2 py-1 rounded bg-[var(--color-surface)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:T.,onChange:H=>b(O,_,"",H.target.value),className:"w-full px-2 py-1 rounded bg-[var(--color-surface)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]})]})]},_))]})]},O))]})]})}function mq({onYamlChange:r,initialData:e}){const[t,n]=fe.useState({:e?.||"C ",:e?.||"",:e?.??!0,:e?.||[{type:"header",text:""},{:1,:"",:10,:6,:"",:""}]}),i=(w,E)=>{n(x=>{const k={...x,[w]:E};return y(k),k})},s=()=>{i("",[...t.,{type:"header",text:""}])},l=()=>{const E=t..filter(x=>x.).length+1;i("",[...t.,{:E,:"",:10,:6,:"",:""}])},u=(w,E)=>{const x=[...t.];x[w]={...x[w],...E},i("",x)},c=w=>{i("",t..filter((E,x)=>x!==w))},h=(w,E)=>{const x=[...t.],k=E==="up"?w-1:w+1;k<0||k>=x.length||([x[w],x[k]]=[x[k],x[w]],i("",x))},d=w=>{const E=[...t.],x=E[w].||[];E[w].=[...x,""],i("",E)},m=(w,E,x)=>{const k=[...t.];k[w].&&(k[w].[E]=x,i("",k))},g=(w,E)=>{const x=[...t.];x[w].&&(x[w].=x[w]..filter((k,O)=>O!==E),i("",x))},y=w=>{const E=b(w);r(E)},b=w=>{const E=k=>k.replace(/\\/g,"\\\\").replace(/"/g,'\\"');let x=`: "${E(w.)}"
`;return x+=`: "${E(w.)}"
`,x+=`: ${w.}

`,x+=`:
`,w..forEach(k=>{k.type==="header"?(x+=`  - type: header
`,x+=`    text: "${E(k.text||"")}"
`,k.&&(x+=`    : true
`)):(x+=`  - : ${k.}
`,x+=`    : "${E(k.||"")}"
`,k.&&(x+=`    : ${k.}
`),k.&&(x+=`    : ${k.}
`),k.&&k..length>0&&(x+=`    :
`,k..forEach(O=>{x+=`      - "${E(O)}"
`})),k.&&(Array.isArray(k.)?(x+=`    :
`,k..forEach(O=>{x+=`      - "${E(O)}"
`})):x+=`    : "${E(k.)}"
`),k.&&(x+=`    : "${E(k.)}"
`),k.&&(x+=`    : true
`))}),x};return z.jsxs("div",{className:"h-full overflow-y-auto p-4 space-y-6",children:[z.jsxs("section",{className:"space-y-3",children:[z.jsx("h3",{className:"font-semibold text-sm text-[var(--color-text-muted)] uppercase tracking-wide",children:""}),z.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:t.,onChange:w=>i("",w.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:t.,onChange:w=>i("",w.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:": 4-4 "})]})]}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("input",{type:"checkbox",id:"createAnswer",checked:t.,onChange:w=>i("",w.target.checked),className:"w-4 h-4"}),z.jsx("label",{htmlFor:"createAnswer",className:"text-sm cursor-pointer",children:""})]})]}),z.jsxs("section",{className:"space-y-4",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsx("h3",{className:"font-semibold text-sm text-[var(--color-text-muted)] uppercase tracking-wide",children:""}),z.jsxs("div",{className:"flex gap-2",children:[z.jsxs("button",{onClick:s,className:"flex items-center gap-1 text-xs text-[var(--color-text-muted)] hover:text-[var(--color-text)] px-2 py-1 rounded bg-[var(--color-surface-hover)]",children:[z.jsx(sl,{size:12})," "]}),z.jsxs("button",{onClick:l,className:"flex items-center gap-1 text-xs text-[var(--color-primary)] hover:underline",children:[z.jsx(sl,{size:14})," "]})]})]}),t..map((w,E)=>z.jsx("div",{className:"bg-[var(--color-surface-hover)] rounded-xl p-4 space-y-3",children:w.type==="header"?z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsxs("div",{className:"flex flex-col",children:[z.jsx("button",{onClick:()=>h(E,"up"),disabled:E===0,className:"p-0.5 rounded hover:bg-[var(--color-border)] text-[var(--color-text-muted)] disabled:opacity-30",children:z.jsx(mA,{size:14})}),z.jsx("button",{onClick:()=>h(E,"down"),disabled:E===t..length-1,className:"p-0.5 rounded hover:bg-[var(--color-border)] text-[var(--color-text-muted)] disabled:opacity-30",children:z.jsx(pA,{size:14})})]}),z.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:""}),z.jsx("input",{type:"text",value:w.text||"",onChange:x=>u(E,{text:x.target.value}),className:"flex-1 px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm font-medium",placeholder:": "}),z.jsxs("label",{className:"flex items-center gap-1 text-xs text-orange-400 cursor-pointer",children:[z.jsx("input",{type:"checkbox",checked:w.||!1,onChange:x=>u(E,{:x.target.checked}),className:"rounded"}),""]}),z.jsx("button",{onClick:()=>c(E),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:z.jsx(al,{size:16})})]}):z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsxs("div",{className:"flex flex-col",children:[z.jsx("button",{onClick:()=>h(E,"up"),disabled:E===0,className:"p-0.5 rounded hover:bg-[var(--color-border)] text-[var(--color-text-muted)] disabled:opacity-30",children:z.jsx(mA,{size:14})}),z.jsx("button",{onClick:()=>h(E,"down"),disabled:E===t..length-1,className:"p-0.5 rounded hover:bg-[var(--color-border)] text-[var(--color-text-muted)] disabled:opacity-30",children:z.jsx(pA,{size:14})})]}),z.jsxs("h4",{className:"font-medium",children:[" ",w.]}),z.jsxs("label",{className:"flex items-center gap-1 text-xs text-orange-400 cursor-pointer",children:[z.jsx("input",{type:"checkbox",checked:w.||!1,onChange:x=>u(E,{:x.target.checked}),className:"rounded"}),""]})]}),z.jsx("button",{onClick:()=>c(E),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:z.jsx(al,{size:16})})]}),z.jsxs("div",{children:[z.jsxs("div",{className:"flex items-center justify-between mb-1",children:[z.jsx("label",{className:"text-xs text-[var(--color-text-muted)]",children:""}),z.jsx(Q1,{onInsert:x=>u(E,{:(w.||"")+x})})]}),z.jsx("textarea",{value:w.||"",onChange:x=>u(E,{:x.target.value}),rows:2,className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm resize-none",placeholder:"... ( $...$ )"})]}),z.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"number",value:w.||10,onChange:x=>u(E,{:Number(x.target.value)}),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"number",value:w.||6,onChange:x=>u(E,{:Number(x.target.value)}),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:typeof w.=="string"?w.:"",onChange:x=>u(E,{:x.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]})]}),z.jsxs("div",{className:"ml-4 space-y-2",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:""}),z.jsxs("button",{onClick:()=>d(E),className:"flex items-center gap-1 text-xs text-[var(--color-primary)] hover:underline",children:[z.jsx(sl,{size:12})," "]})]}),(w.||[]).map((x,k)=>z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsxs("span",{className:"text-xs text-[var(--color-text-muted)]",children:["(",k+1,")"]}),z.jsx("input",{type:"text",value:x,onChange:O=>m(E,k,O.target.value),className:"flex-1 px-2 py-1 rounded bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:"..."}),z.jsx(Q1,{onInsert:O=>m(E,k,x+O)}),z.jsx("button",{onClick:()=>g(E,k),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:z.jsx(al,{size:14})})]},k))]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),z.jsx("input",{type:"text",value:w.||"",onChange:x=>u(E,{:x.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:"..."})]})]})},E))]})]})}function vx({html:r,loading:e}){const t=fe.useRef(null);return fe.useEffect(()=>{if(t.current&&r){const n=t.current.contentDocument;n&&(n.open(),n.write(r),n.close())}},[r]),z.jsxs("div",{className:"h-full bg-white rounded-xl overflow-hidden shadow-lg relative",children:[z.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-b from-gray-100 to-transparent h-8 z-10 flex items-center px-4",children:[z.jsxs("div",{className:"flex gap-1.5",children:[z.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),z.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),z.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),z.jsx("span",{className:"ml-4 text-xs text-gray-500",children:""})]}),e?z.jsxs("div",{className:"h-full flex items-center justify-center text-gray-400",children:[z.jsx(NL,{className:"animate-spin mr-2",size:24}),z.jsx("span",{children:"..."})]}):r?z.jsx("iframe",{ref:t,className:"w-full h-full border-0 pt-8",title:"Preview",sandbox:"allow-same-origin"}):z.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 pt-8",children:z.jsxs("div",{className:"text-center",children:[z.jsx("p",{className:"text-4xl mb-4",children:""}),z.jsx("p",{children:"YAML"})]})})]})}const gq={exam:{:"",:"",:"442",:"50",:""},worksheet:{:"",:"",:"3",:"",:"A412"},"lesson-plan":{:"",:"",:"",:"50",:""}},yq=r=>{switch(r){case"exam":return`# 

##  
**YAML**

 
- Markdown#
- 
- 
- YAML

 
- \`\`\`yaml  \`\`\` 
- 

## Step 1: 


## Step 2: YAML

\`\`\`yaml
: ""
: "{{}}"
: ""
: {{}}
: 100
: "{{}}"

:
  - ""
  - ""
  - ""

:
  - : 1
    : "[1]"
    : true
    : 30
    :
      - : "(1)"
        : "[]"
        : 10
        : "[]"
        : "[]"
      - : "(2)"
        : "[]"
        : 10
        : "[]"
        : "[]"
      - : "(3)"
        : "[]"
        : 10
        : "[]"
        : "[]"

  - : 2
    : "[2]"
    : true
    : 30
    :
      - : "(1)"
        : "[]"
        : 15
        : "[]"
        : "[]"
      - : "(2)"
        : "[]"
        : 15
        : "[]"
        : "[]"

  - : 3
    : "[3]"
    : true
    : 40
    :
      - : "(1)"
        : "[]"
        : 20
        : "[]"
        : "[]"
      - : "(2)"
        : "[]"
        : 20
        : "[]"
        : "[]"
\`\`\`

**YAML**
** YAML**

****
{{}}`;case"worksheet":return`# 

##  
**YAML**

 
- Markdown#
- 
- 
- YAML

 
- \`\`\`yaml  \`\`\` 
- 

## YAML

\`\`\`yaml
: "{{}} {{}}"
: ""
: true

:
  - type: header
    text: ""

  - : 1
    : "[]"
    : 10
    : 5
    : "[]"
    : "[]"

  - : 2
    : "[]"
    : 10
    : 5
    : "[]"
    : "[]"

  - type: header
    text: ""

  - : 3
    : "[]"
    : 15
    : 8
    : "[]"
    : "[]"

  - : 4
    : "[]"
    : 15
    : 8
    : "[]"
    : "[]"

  - type: header
    text: ""

  - : 5
    : "[]"
    : 20
    : 10
    : "[]"
    : "[]"
\`\`\`

**YAML**
** YAML**

****
{{}}`;case"lesson-plan":return`# 

##  
**YAML**

 
- Markdown#
- 
- 
- YAML

 
- \`\`\`yaml  \`\`\` 
- 

## YAML

\`\`\`yaml
: "{{}}"
: "[]"
: "[]"
: "[]"
: "[]"
: "[]"
: "{{}}"
: "[]"

:
  - "[1]"
  - "[2]"

:
  - "[1]"
  - "[2]"
  - "[3]"

:
  :
    - "[1]"
    - "[2]"
  :
    - "[1]"
    - "[2]"

:
  :
    : 10
    :
      - "[1]"
    :
      - "[1]"
    :
      - "[1]"
  
  1:
    : 20
    :
      - "[1]"
      - "[2]"
    :
      - "[1]"
      - "[2]"
    :
      - "[1]"
  
  2:
    : 15
    :
      - "[]"
    :
      - "[]"
    :
      - "[]"
  
  :
    : 5
    :
      - "[]"
    :
      - "[]"
    :
      - "[]"

:
  : "[]"
  : "[]"
  : "[]"

: |
  []

:
  - "[1]"
  - "[2]"

:
  - "[]"
\`\`\`

** YAML**

****
- {{}}
{{}}`}},vq=(r,e)=>{let t=yq(r);const n=[];e.&&n.push(`- ${e.}`),e.&&n.push(`- ${e.}`),e.&&n.push(`- ${e.}`),e.&&n.push(`- ${e.}`),e.&&n.push(`- ${e.}`);const i=n.length>0?n.join(`
`):"- ",s=e..match(/(\d+)/),l=s?s[1]:"50";return t=t.replace(/\{\{\}\}/g,e.||"[]").replace(/\{\{\}\}/g,e.||"[]").replace(/\{\{\}\}/g,e.||"50").replace(/\{\{\}\}/g,l).replace(/\{\{\}\}/g,i),t};function bx({type:r}){const[e,t]=fe.useState(!1),[n,i]=fe.useState(gq[r]),s=(h,d)=>{i(m=>({...m,[h]:d}))},l=async()=>{const h=vq(r,n);await navigator.clipboard.writeText(h),t(!0),setTimeout(()=>t(!1),2e3)},u={:"",:"",:"",:r==="lesson-plan"?"":"",:""},c=h=>!(r==="lesson-plan"&&h===""||r==="worksheet"&&h==="");return z.jsxs("div",{className:"bg-gradient-to-br from-[var(--color-surface)] to-[#1a2744] rounded-xl border border-[var(--color-border)] overflow-hidden",children:[z.jsxs("div",{className:"px-4 py-3 border-b border-[var(--color-border)] flex items-center justify-between bg-[var(--color-surface)]",children:[z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx(RL,{size:18,className:"text-yellow-400"}),z.jsx("span",{className:"font-medium",children:"Copilot"})]}),z.jsx("button",{onClick:l,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 ${e?"bg-green-500/20 text-green-400":"bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary-dark)]"}`,children:e?z.jsxs(z.Fragment,{children:[z.jsx(g_,{size:16}),""]}):z.jsxs(z.Fragment,{children:[z.jsx(yL,{size:16}),""]})})]}),z.jsxs("div",{className:"p-4 space-y-3",children:[z.jsx("p",{className:"text-sm text-[var(--color-text-muted)] mb-3",children:" "}),z.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(n).map(h=>c(h)&&z.jsxs("div",{className:h===""?"col-span-2":"",children:[z.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:u[h]}),z.jsx("input",{type:"text",value:n[h],onChange:d=>s(h,d.target.value),placeholder:`${u[h]}...`,className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]},h))}),z.jsx("div",{className:"mt-4 pt-3 border-t border-[var(--color-border)]",children:z.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:" Copilot"})})]})]})}function xx(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var xl=xx();function o5(r){xl=r}var Sc={exec:()=>null};function _t(r,e=""){let t=typeof r=="string"?r:r.source,n={replace:(i,s)=>{let l=typeof s=="string"?s:s.source;return l=l.replace(Jr.caret,"$1"),t=t.replace(i,l),n},getRegex:()=>new RegExp(t,e)};return n}var bq=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Jr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},xq=/^(?:[ \t]*(?:\n|$))+/,wq=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Sq=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,of=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,kq=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,wx=/(?:[*+-]|\d{1,9}[.)])/,u5=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,c5=_t(u5).replace(/bull/g,wx).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Aq=_t(u5).replace(/bull/g,wx).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Sx=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Eq=/^[^\n]+/,kx=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Tq=_t(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",kx).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Cq=_t(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,wx).getRegex(),Fp="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ax=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Oq=_t("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ax).replace("tag",Fp).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),f5=_t(Sx).replace("hr",of).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fp).getRegex(),_q=_t(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",f5).getRegex(),Ex={blockquote:_q,code:wq,def:Tq,fences:Sq,heading:kq,hr:of,html:Oq,lheading:c5,list:Cq,newline:xq,paragraph:f5,table:Sc,text:Eq},kT=_t("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",of).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fp).getRegex(),Rq={...Ex,lheading:Aq,table:kT,paragraph:_t(Sx).replace("hr",of).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",kT).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fp).getRegex()},Mq={...Ex,html:_t(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ax).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Sc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_t(Sx).replace("hr",of).replace("heading",` *#{1,6} *[^
]`).replace("lheading",c5).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Nq=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Dq=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,h5=/^( {2,}|\\)\n(?!\s*$)/,Lq=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ip=/[\p{P}\p{S}]/u,Tx=/[\s\p{P}\p{S}]/u,d5=/[^\s\p{P}\p{S}]/u,Bq=_t(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Tx).getRegex(),p5=/(?!~)[\p{P}\p{S}]/u,zq=/(?!~)[\s\p{P}\p{S}]/u,jq=/(?:[^\s\p{P}\p{S}]|~)/u,Pq=_t(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",bq?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),m5=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Fq=_t(m5,"u").replace(/punct/g,Ip).getRegex(),Iq=_t(m5,"u").replace(/punct/g,p5).getRegex(),g5="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Uq=_t(g5,"gu").replace(/notPunctSpace/g,d5).replace(/punctSpace/g,Tx).replace(/punct/g,Ip).getRegex(),Hq=_t(g5,"gu").replace(/notPunctSpace/g,jq).replace(/punctSpace/g,zq).replace(/punct/g,p5).getRegex(),qq=_t("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,d5).replace(/punctSpace/g,Tx).replace(/punct/g,Ip).getRegex(),Wq=_t(/\\(punct)/,"gu").replace(/punct/g,Ip).getRegex(),Vq=_t(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),$q=_t(Ax).replace("(?:-->|$)","-->").getRegex(),Gq=_t("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",$q).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),fp=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Qq=_t(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",fp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),y5=_t(/^!?\[(label)\]\[(ref)\]/).replace("label",fp).replace("ref",kx).getRegex(),v5=_t(/^!?\[(ref)\](?:\[\])?/).replace("ref",kx).getRegex(),Xq=_t("reflink|nolink(?!\\()","g").replace("reflink",y5).replace("nolink",v5).getRegex(),AT=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Cx={_backpedal:Sc,anyPunctuation:Wq,autolink:Vq,blockSkip:Pq,br:h5,code:Dq,del:Sc,emStrongLDelim:Fq,emStrongRDelimAst:Uq,emStrongRDelimUnd:qq,escape:Nq,link:Qq,nolink:v5,punctuation:Bq,reflink:y5,reflinkSearch:Xq,tag:Gq,text:Lq,url:Sc},Yq={...Cx,link:_t(/^!?\[(label)\]\((.*?)\)/).replace("label",fp).getRegex(),reflink:_t(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fp).getRegex()},X1={...Cx,emStrongRDelimAst:Hq,emStrongLDelim:Iq,url:_t(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",AT).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:_t(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",AT).getRegex()},Kq={...X1,br:_t(h5).replace("{2,}","*").getRegex(),text:_t(X1.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Jh={normal:Ex,gfm:Rq,pedantic:Mq},ec={normal:Cx,gfm:X1,breaks:Kq,pedantic:Yq},Zq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ET=r=>Zq[r];function cs(r,e){if(e){if(Jr.escapeTest.test(r))return r.replace(Jr.escapeReplace,ET)}else if(Jr.escapeTestNoEncode.test(r))return r.replace(Jr.escapeReplaceNoEncode,ET);return r}function TT(r){try{r=encodeURI(r).replace(Jr.percentDecode,"%")}catch{return null}return r}function CT(r,e){let t=r.replace(Jr.findPipe,(s,l,u)=>{let c=!1,h=l;for(;--h>=0&&u[h]==="\\";)c=!c;return c?"|":" |"}),n=t.split(Jr.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Jr.slashPipe,"|");return n}function tc(r,e,t){let n=r.length;if(n===0)return"";let i=0;for(;i<n&&r.charAt(n-i-1)===e;)i++;return r.slice(0,n-i)}function Jq(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<r.length;n++)if(r[n]==="\\")n++;else if(r[n]===e[0])t++;else if(r[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function OT(r,e,t,n,i){let s=e.href,l=e.title||null,u=r[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let c={type:r[0].charAt(0)==="!"?"image":"link",raw:t,href:s,title:l,text:u,tokens:n.inlineTokens(u)};return n.state.inLink=!1,c}function eW(r,e,t){let n=r.match(t.other.indentCodeCompensation);if(n===null)return e;let i=n[1];return e.split(`
`).map(s=>{let l=s.match(t.other.beginningSpace);if(l===null)return s;let[u]=l;return u.length>=i.length?s.slice(i.length):s}).join(`
`)}var hp=class{options;rules;lexer;constructor(r){this.options=r||xl}space(r){let e=this.rules.block.newline.exec(r);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(r){let e=this.rules.block.code.exec(r);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:tc(t,`
`)}}}fences(r){let e=this.rules.block.fences.exec(r);if(e){let t=e[0],n=eW(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(r){let e=this.rules.block.heading.exec(r);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let n=tc(t,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(t=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(r){let e=this.rules.block.hr.exec(r);if(e)return{type:"hr",raw:tc(e[0],`
`)}}blockquote(r){let e=this.rules.block.blockquote.exec(r);if(e){let t=tc(e[0],`
`).split(`
`),n="",i="",s=[];for(;t.length>0;){let l=!1,u=[],c;for(c=0;c<t.length;c++)if(this.rules.other.blockquoteStart.test(t[c]))u.push(t[c]),l=!0;else if(!l)u.push(t[c]);else break;t=t.slice(c);let h=u.join(`
`),d=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${h}`:h,i=i?`${i}
${d}`:d;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=m,t.length===0)break;let g=s.at(-1);if(g?.type==="code")break;if(g?.type==="blockquote"){let y=g,b=y.raw+`
`+t.join(`
`),w=this.blockquote(b);s[s.length-1]=w,n=n.substring(0,n.length-y.raw.length)+w.raw,i=i.substring(0,i.length-y.text.length)+w.text;break}else if(g?.type==="list"){let y=g,b=y.raw+`
`+t.join(`
`),w=this.list(b);s[s.length-1]=w,n=n.substring(0,n.length-g.raw.length)+w.raw,i=i.substring(0,i.length-y.raw.length)+w.raw,t=b.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:i}}}list(r){let e=this.rules.block.list.exec(r);if(e){let t=e[1].trim(),n=t.length>1,i={type:"list",raw:"",ordered:n,start:n?+t.slice(0,-1):"",loose:!1,items:[]};t=n?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=n?t:"[*+-]");let s=this.rules.other.listItemRegex(t),l=!1;for(;r;){let c=!1,h="",d="";if(!(e=s.exec(r))||this.rules.block.hr.test(r))break;h=e[0],r=r.substring(h.length);let m=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),g=r.split(`
`,1)[0],y=!m.trim(),b=0;if(this.options.pedantic?(b=2,d=m.trimStart()):y?b=e[1].length+1:(b=e[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,d=m.slice(b),b+=e[1].length),y&&this.rules.other.blankLine.test(g)&&(h+=g+`
`,r=r.substring(g.length+1),c=!0),!c){let w=this.rules.other.nextBulletRegex(b),E=this.rules.other.hrRegex(b),x=this.rules.other.fencesBeginRegex(b),k=this.rules.other.headingBeginRegex(b),O=this.rules.other.htmlBeginRegex(b);for(;r;){let T=r.split(`
`,1)[0],_;if(g=T,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),_=g):_=g.replace(this.rules.other.tabCharGlobal,"    "),x.test(g)||k.test(g)||O.test(g)||w.test(g)||E.test(g))break;if(_.search(this.rules.other.nonSpaceChar)>=b||!g.trim())d+=`
`+_.slice(b);else{if(y||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||x.test(m)||k.test(m)||E.test(m))break;d+=`
`+g}!y&&!g.trim()&&(y=!0),h+=T+`
`,r=r.substring(T.length+1),m=_.slice(b)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(l=!0)),i.items.push({type:"list_item",raw:h,task:!!this.options.gfm&&this.rules.other.listIsTask.test(d),loose:!1,text:d,tokens:[]}),i.raw+=h}let u=i.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let c of i.items){if(this.lexer.state.top=!1,c.tokens=this.lexer.blockTokens(c.text,[]),c.task){if(c.text=c.text.replace(this.rules.other.listReplaceTask,""),c.tokens[0]?.type==="text"||c.tokens[0]?.type==="paragraph"){c.tokens[0].raw=c.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),c.tokens[0].text=c.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let d=this.lexer.inlineQueue.length-1;d>=0;d--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[d].src)){this.lexer.inlineQueue[d].src=this.lexer.inlineQueue[d].src.replace(this.rules.other.listReplaceTask,"");break}}let h=this.rules.other.listTaskCheckbox.exec(c.raw);if(h){let d={type:"checkbox",raw:h[0]+" ",checked:h[0]!=="[ ]"};c.checked=d.checked,i.loose?c.tokens[0]&&["paragraph","text"].includes(c.tokens[0].type)&&"tokens"in c.tokens[0]&&c.tokens[0].tokens?(c.tokens[0].raw=d.raw+c.tokens[0].raw,c.tokens[0].text=d.raw+c.tokens[0].text,c.tokens[0].tokens.unshift(d)):c.tokens.unshift({type:"paragraph",raw:d.raw,text:d.raw,tokens:[d]}):c.tokens.unshift(d)}}if(!i.loose){let h=c.tokens.filter(m=>m.type==="space"),d=h.length>0&&h.some(m=>this.rules.other.anyLine.test(m.raw));i.loose=d}}if(i.loose)for(let c of i.items){c.loose=!0;for(let h of c.tokens)h.type==="text"&&(h.type="paragraph")}return i}}html(r){let e=this.rules.block.html.exec(r);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(r){let e=this.rules.block.def.exec(r);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:i}}}table(r){let e=this.rules.block.table.exec(r);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=CT(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===n.length){for(let l of n)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<t.length;l++)s.header.push({text:t[l],tokens:this.lexer.inline(t[l]),header:!0,align:s.align[l]});for(let l of i)s.rows.push(CT(l,s.header.length).map((u,c)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:s.align[c]})));return s}}lheading(r){let e=this.rules.block.lheading.exec(r);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(r){let e=this.rules.block.paragraph.exec(r);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(r){let e=this.rules.block.text.exec(r);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(r){let e=this.rules.inline.escape.exec(r);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(r){let e=this.rules.inline.tag.exec(r);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(r){let e=this.rules.inline.link.exec(r);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let s=tc(t.slice(0,-1),"\\");if((t.length-s.length)%2===0)return}else{let s=Jq(e[2],"()");if(s===-2)return;if(s>-1){let l=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let n=e[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n=n.slice(1):n=n.slice(1,-1)),OT(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(r,e){let t;if((t=this.rules.inline.reflink.exec(r))||(t=this.rules.inline.nolink.exec(r))){let n=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[n.toLowerCase()];if(!i){let s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return OT(t,i,t[0],this.lexer,this.rules)}}emStrong(r,e,t=""){let n=this.rules.inline.emStrongLDelim.exec(r);if(!(!n||n[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!t||this.rules.inline.punctuation.exec(t))){let i=[...n[0]].length-1,s,l,u=i,c=0,h=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*r.length+i);(n=h.exec(e))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(l=[...s].length,n[3]||n[4]){u+=l;continue}else if((n[5]||n[6])&&i%3&&!((i+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);let d=[...n[0]][0].length,m=r.slice(0,i+n.index+d+l);if(Math.min(i,l)%2){let y=m.slice(1,-1);return{type:"em",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}let g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(r){let e=this.rules.inline.code.exec(r);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(t),i=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&i&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(r){let e=this.rules.inline.br.exec(r);if(e)return{type:"br",raw:e[0]}}del(r){let e=this.rules.inline.del.exec(r);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(r){let e=this.rules.inline.autolink.exec(r);if(e){let t,n;return e[2]==="@"?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(r){let e;if(e=this.rules.inline.url.exec(r)){let t,n;if(e[2]==="@")t=e[0],n="mailto:"+t;else{let i;do i=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(i!==e[0]);t=e[0],e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(r){let e=this.rules.inline.text.exec(r);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},oi=class Y1{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||xl,this.options.tokenizer=this.options.tokenizer||new hp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Jr,block:Jh.normal,inline:ec.normal};this.options.pedantic?(t.block=Jh.pedantic,t.inline=ec.pedantic):this.options.gfm&&(t.block=Jh.gfm,this.options.breaks?t.inline=ec.breaks:t.inline=ec.gfm),this.tokenizer.rules=t}static get rules(){return{block:Jh,inline:ec}}static lex(e,t){return new Y1(t).lex(e)}static lexInline(e,t){return new Y1(t).inlineTokens(e)}lex(e){e=e.replace(Jr.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(Jr.tabCharGlobal,"    ").replace(Jr.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(l=>(i=l.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let l=t.at(-1);i.raw.length===1&&l!==void 0?l.raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let l=t.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.text,this.inlineQueue.at(-1).src=l.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let l=t.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},t.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let l=1/0,u=e.slice(1),c;this.options.extensions.startBlock.forEach(h=>{c=h.call({lexer:this},u),typeof c=="number"&&c>=0&&(l=Math.min(l,c))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let l=t.at(-1);n&&l?.type==="paragraph"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):t.push(i),n=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let l=t.at(-1);l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):t.push(i);continue}if(e){let l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,i=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let l=!1,u="";for(;e;){l||(u=""),l=!1;let c;if(this.options.extensions?.inline?.some(d=>(c=d.call({lexer:this},e,t))?(e=e.substring(c.raw.length),t.push(c),!0):!1))continue;if(c=this.tokenizer.escape(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.tag(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.link(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(c.raw.length);let d=t.at(-1);c.type==="text"&&d?.type==="text"?(d.raw+=c.raw,d.text+=c.text):t.push(c);continue}if(c=this.tokenizer.emStrong(e,n,u)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.codespan(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.br(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.del(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.autolink(e)){e=e.substring(c.raw.length),t.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(e))){e=e.substring(c.raw.length),t.push(c);continue}let h=e;if(this.options.extensions?.startInline){let d=1/0,m=e.slice(1),g;this.options.extensions.startInline.forEach(y=>{g=y.call({lexer:this},m),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(h=e.substring(0,d+1))}if(c=this.tokenizer.inlineText(h)){e=e.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(u=c.raw.slice(-1)),l=!0;let d=t.at(-1);d?.type==="text"?(d.raw+=c.raw,d.text+=c.text):t.push(c);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}},dp=class{options;parser;constructor(r){this.options=r||xl}space(r){return""}code({text:r,lang:e,escaped:t}){let n=(e||"").match(Jr.notSpaceStart)?.[0],i=r.replace(Jr.endingNewline,"")+`
`;return n?'<pre><code class="language-'+cs(n)+'">'+(t?i:cs(i,!0))+`</code></pre>
`:"<pre><code>"+(t?i:cs(i,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}def(r){return""}heading({tokens:r,depth:e}){return`<h${e}>${this.parser.parseInline(r)}</h${e}>
`}hr(r){return`<hr>
`}list(r){let e=r.ordered,t=r.start,n="";for(let l=0;l<r.items.length;l++){let u=r.items[l];n+=this.listitem(u)}let i=e?"ol":"ul",s=e&&t!==1?' start="'+t+'"':"";return"<"+i+s+`>
`+n+"</"+i+`>
`}listitem(r){return`<li>${this.parser.parse(r.tokens)}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let e="",t="";for(let i=0;i<r.header.length;i++)t+=this.tablecell(r.header[i]);e+=this.tablerow({text:t});let n="";for(let i=0;i<r.rows.length;i++){let s=r.rows[i];t="";for(let l=0;l<s.length;l++)t+=this.tablecell(s[l]);n+=this.tablerow({text:t})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){let e=this.parser.parseInline(r.tokens),t=r.header?"th":"td";return(r.align?`<${t} align="${r.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${cs(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:e,tokens:t}){let n=this.parser.parseInline(t),i=TT(r);if(i===null)return n;r=i;let s='<a href="'+r+'"';return e&&(s+=' title="'+cs(e)+'"'),s+=">"+n+"</a>",s}image({href:r,title:e,text:t,tokens:n}){n&&(t=this.parser.parseInline(n,this.parser.textRenderer));let i=TT(r);if(i===null)return cs(t);r=i;let s=`<img src="${r}" alt="${t}"`;return e&&(s+=` title="${cs(e)}"`),s+=">",s}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:cs(r.text)}},Ox=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}checkbox({raw:r}){return r}},ui=class K1{options;renderer;textRenderer;constructor(e){this.options=e||xl,this.options.renderer=this.options.renderer||new dp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ox}static parse(e,t){return new K1(t).parse(e)}static parseInline(e,t){return new K1(t).parseInline(e)}parse(e){let t="";for(let n=0;n<e.length;n++){let i=e[n];if(this.options.extensions?.renderers?.[i.type]){let l=i,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){t+=u||"";continue}}let s=i;switch(s.type){case"space":{t+=this.renderer.space(s);break}case"hr":{t+=this.renderer.hr(s);break}case"heading":{t+=this.renderer.heading(s);break}case"code":{t+=this.renderer.code(s);break}case"table":{t+=this.renderer.table(s);break}case"blockquote":{t+=this.renderer.blockquote(s);break}case"list":{t+=this.renderer.list(s);break}case"checkbox":{t+=this.renderer.checkbox(s);break}case"html":{t+=this.renderer.html(s);break}case"def":{t+=this.renderer.def(s);break}case"paragraph":{t+=this.renderer.paragraph(s);break}case"text":{t+=this.renderer.text(s);break}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return t}parseInline(e,t=this.renderer){let n="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let u=this.options.extensions.renderers[s.type].call({parser:this},s);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=u||"";continue}}let l=s;switch(l.type){case"escape":{n+=t.text(l);break}case"html":{n+=t.html(l);break}case"link":{n+=t.link(l);break}case"image":{n+=t.image(l);break}case"checkbox":{n+=t.checkbox(l);break}case"strong":{n+=t.strong(l);break}case"em":{n+=t.em(l);break}case"codespan":{n+=t.codespan(l);break}case"br":{n+=t.br(l);break}case"del":{n+=t.del(l);break}case"text":{n+=t.text(l);break}default:{let u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}},pc=class{options;block;constructor(r){this.options=r||xl}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}emStrongMask(r){return r}provideLexer(){return this.block?oi.lex:oi.lexInline}provideParser(){return this.block?ui.parse:ui.parseInline}},tW=class{defaults=xx();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ui;Renderer=dp;TextRenderer=Ox;Lexer=oi;Tokenizer=hp;Hooks=pc;constructor(...r){this.use(...r)}walkTokens(r,e){let t=[];for(let n of r)switch(t=t.concat(e.call(this,n)),n.type){case"table":{let i=n;for(let s of i.header)t=t.concat(this.walkTokens(s.tokens,e));for(let s of i.rows)for(let l of s)t=t.concat(this.walkTokens(l.tokens,e));break}case"list":{let i=n;t=t.concat(this.walkTokens(i.items,e));break}default:{let i=n;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let l=i[s].flat(1/0);t=t.concat(this.walkTokens(l,e))}):i.tokens&&(t=t.concat(this.walkTokens(i.tokens,e)))}}return t}use(...r){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(t=>{let n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=e.renderers[i.name];s?e.renderers[i.name]=function(...l){let u=i.renderer.apply(this,l);return u===!1&&(u=s.apply(this,l)),u}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[i.level];s?s.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),n.extensions=e),t.renderer){let i=this.defaults.renderer||new dp(this.defaults);for(let s in t.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let l=s,u=t.renderer[l],c=i[l];i[l]=(...h)=>{let d=u.apply(i,h);return d===!1&&(d=c.apply(i,h)),d||""}}n.renderer=i}if(t.tokenizer){let i=this.defaults.tokenizer||new hp(this.defaults);for(let s in t.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let l=s,u=t.tokenizer[l],c=i[l];i[l]=(...h)=>{let d=u.apply(i,h);return d===!1&&(d=c.apply(i,h)),d}}n.tokenizer=i}if(t.hooks){let i=this.defaults.hooks||new pc;for(let s in t.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let l=s,u=t.hooks[l],c=i[l];pc.passThroughHooks.has(s)?i[l]=h=>{if(this.defaults.async&&pc.passThroughHooksRespectAsync.has(s))return(async()=>{let m=await u.call(i,h);return c.call(i,m)})();let d=u.call(i,h);return c.call(i,d)}:i[l]=(...h)=>{if(this.defaults.async)return(async()=>{let m=await u.apply(i,h);return m===!1&&(m=await c.apply(i,h)),m})();let d=u.apply(i,h);return d===!1&&(d=c.apply(i,h)),d}}n.hooks=i}if(t.walkTokens){let i=this.defaults.walkTokens,s=t.walkTokens;n.walkTokens=function(l){let u=[];return u.push(s.call(this,l)),i&&(u=u.concat(i.call(this,l))),u}}this.defaults={...this.defaults,...n}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,e){return oi.lex(r,e??this.defaults)}parser(r,e){return ui.parse(r,e??this.defaults)}parseMarkdown(r){return(e,t)=>{let n={...t},i={...this.defaults,...n},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&n.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=r),i.async)return(async()=>{let l=i.hooks?await i.hooks.preprocess(e):e,u=await(i.hooks?await i.hooks.provideLexer():r?oi.lex:oi.lexInline)(l,i),c=i.hooks?await i.hooks.processAllTokens(u):u;i.walkTokens&&await Promise.all(this.walkTokens(c,i.walkTokens));let h=await(i.hooks?await i.hooks.provideParser():r?ui.parse:ui.parseInline)(c,i);return i.hooks?await i.hooks.postprocess(h):h})().catch(s);try{i.hooks&&(e=i.hooks.preprocess(e));let l=(i.hooks?i.hooks.provideLexer():r?oi.lex:oi.lexInline)(e,i);i.hooks&&(l=i.hooks.processAllTokens(l)),i.walkTokens&&this.walkTokens(l,i.walkTokens);let u=(i.hooks?i.hooks.provideParser():r?ui.parse:ui.parseInline)(l,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(l){return s(l)}}}onError(r,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,r){let n="<p>An error occurred:</p><pre>"+cs(t.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(t);throw t}}},gl=new tW;function Ot(r,e){return gl.parse(r,e)}Ot.options=Ot.setOptions=function(r){return gl.setOptions(r),Ot.defaults=gl.defaults,o5(Ot.defaults),Ot};Ot.getDefaults=xx;Ot.defaults=xl;Ot.use=function(...r){return gl.use(...r),Ot.defaults=gl.defaults,o5(Ot.defaults),Ot};Ot.walkTokens=function(r,e){return gl.walkTokens(r,e)};Ot.parseInline=gl.parseInline;Ot.Parser=ui;Ot.parser=ui.parse;Ot.Renderer=dp;Ot.TextRenderer=Ox;Ot.Lexer=oi;Ot.lexer=oi.lex;Ot.Tokenizer=hp;Ot.Hooks=pc;Ot.parse=Ot;Ot.options;Ot.setOptions;Ot.use;Ot.walkTokens;Ot.parseInline;ui.parse;oi.lex;class rW{data;constructor(e){this.data=eu.load(e)}generateHtml(){return this.buildHtml()}buildHtml(){return`<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${this.data.||this.data.||""}</title>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: true
            }
        };
    <\/script>
    <style>
        @media print {
            .page-break { 
                display: block;
                height: 0;
                page-break-before: always; 
                break-before: page;
                clear: both;
            }
            body {
                width: 100% !important;
                max-width: none !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            @page { size: A4; margin: 15mm; }
        }
        
        /*  */
        @media screen {
            [style*="break-before: page"] {
                border-top: 4px dashed #ddd !important;
                margin-top: 40px !important;
                padding-top: 40px !important;
                position: relative;
            }
            [style*="break-before: page"]::before {
                content: "---  ---";
                display: block;
                position: absolute;
                top: -24px;
                left: 50%;
                transform: translateX(-50%);
                color: #aaa;
                font-size: 12px;
                font-weight: bold;
                background: #fff;
                padding: 0 10px;
            }
        }

        body { font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif; line-height: 1.6; max-width: 210mm; margin: 0 auto; padding: 20px; }
        
        /*  */
        .cover-page { min-height: 250mm; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; border: 3px solid #000; padding: 40px; box-sizing: border-box; }
        .exam-title { font-size: 28pt; font-weight: bold; margin: 20px 0; }
        .exam-subtitle { font-size: 18pt; margin-bottom: 40px; }
        
        /*  */
        .exam-info { width: 100%; margin: 30px 0; text-align: center; }
        .exam-info p { margin: 10px 0; font-size: 14pt; }
        
        /*  */
        .exam-notes { border: 2px solid #000; padding: 20px; width: 80%; margin: 30px auto; text-align: left; font-size: 11pt; background-color: #fafafa; }
        .exam-notes h3 { margin-top: 0; text-align: center; text-decoration: underline; }
        .exam-notes ul { padding-left: 20px; }
        .exam-notes li { margin-bottom: 10px; }

        /*  */
        .student-box { width: 90%; margin: 60px auto 0; border: 2px solid #000; padding: 20px; }
        .input-row { display: flex; justify-content: space-between; align-items: baseline; font-size: 14pt; }
        .input-group { display: flex; gap: 20px; }
        .input-label { font-weight: bold; }
        .input-line { border-bottom: 1px solid #000; min-width: 300px; display: inline-block; }
        
        /*  */
        .problem-page { padding: 10px; }
        .problem-header { border-bottom: 2px solid #000; margin-bottom: 25px; padding-bottom: 10px; display: flex; justify-content: space-between; align-items: baseline; }
        .problem-title { font-size: 16pt; font-weight: bold; }
        .problem-type { font-size: 12pt; border: 1px solid #000; padding: 2px 10px; border-radius: 4px; margin-left: 10px; }
        .problem-score { font-weight: bold; }
        
        .problem-content { font-size: 11pt; }
        .problem-item { margin-bottom: 30px; }
        .problem-item-num { float: left; font-weight: bold; margin-right: 10px; font-size: 12pt; }
        .problem-item-body { overflow: hidden; }

        /*  */
        .answer-page h2 { border-bottom: 3px double #000; padding-bottom: 10px; }
        .answer-item { margin-bottom: 20px; border-bottom: 1px dashed #ccc; padding-bottom: 10px; }
        .answer-correct { font-weight: bold; font-size: 12pt; color: #d00; }
        .answer-explanation { margin-top: 10px; font-size: 10pt; color: #555; background: #f9f9f9; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    ${this.createCover()}
    <div class="page-break"></div>
    ${this.createProblems()}
    <div class="page-break"></div>
    ${this.createAnswers()}
</body>
</html>`}createCover(){const e=this.data.||[],t=e.map(h=>`<li>${h}</li>`).join(`
`),n=e.length;let i,s;n>=10?(i="font-size: 9pt; line-height: 1.2;",s="margin-bottom: 2px;"):n>=8?(i="font-size: 9.5pt; line-height: 1.3;",s="margin-bottom: 3px;"):n>=6?(i="font-size: 10pt; line-height: 1.4;",s="margin-bottom: 5px;"):(i="font-size: 11pt; line-height: 1.6;",s="margin-bottom: 10px;");const l=this.data.||this.data.||"",u=this.data.||"",c=t.replace(/<li>/g,`<li style="${s}">`);return`
    <div class="cover-page">
        <h1 class="exam-title">${l}</h1>
        <div class="exam-subtitle">${u}</div>
        
        <div class="exam-info">
            <p><strong></strong> ${this.data.||""}</p>
            <p><strong></strong> ${this.data.||""}</p>
            <p><strong></strong> ${this.data.||""}</p>
        </div>

        <div class="exam-notes" style="${i}">
            <h3></h3>
            <ul style="margin: 0;">${c}</ul>
            <div style="text-align:center; margin-top:10px; font-weight:bold;">
                 
            </div>
        </div>

        <div class="student-box">
            <div class="input-row">
                <div class="input-group">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="input-group" style="flex-grow: 1; justify-content: flex-end;">
                    <span class="input-label"></span>
                    <span class="input-line"></span>
                </div>
            </div>
        </div>
    </div>`}createProblems(){let e="";const t=this.data.||[];for(const n of t){const i=n.?' style="page-break-before: always; break-before: page;"':"";let s="";n.?s="":n.&&(s=n.);const l=s&&s!==""?`<span class="problem-type">${s}</span>`:"",u=n.?`<span class="problem-score"> ${n.}</span>`:"",c=n.||n.||"",h=n.||"";e+=`
    <div class="problem-page"${i}>
        <div class="problem-header">
            <div>
                <span class="problem-title">${h}. ${c}</span>
                ${l}
            </div>
            ${u}
        </div>
        <div class="problem-content">`;const d=n.||n.||[];for(const m of d){let g="",y="",b="";typeof m=="object"&&m!==null?(m.&&(g=' style="page-break-before: always; break-before: page;"'),y=m.||"",b=m.||""):y=String(m);const w=Ot.parse(y);e+=`
            <div class="problem-item"${g}>
                <div class="problem-item-num">${b}</div>
                <div class="problem-item-body">${w}</div>
            </div>`}e+=`
        </div>
    </div>`}return e}createAnswers(){let e=`
    <div class="answer-page">
        <h2></h2>`;const t=this.data.||[];for(const n of t){const i=n.||n.||"",s=n.||"";e+=`<h3>${s}. ${i}</h3>`;const l=n.||n.||[];for(const u of l){if(typeof u!="object"||u===null)continue;const c=u.||"",h=u.||"",d=u.||"",m=d?`<div class="answer-explanation"><strong></strong><br>${Ot.parse(d)}</div>`:"";e+=`
            <div class="answer-item">
                <div><strong>${c}</strong> <span class="answer-correct">${h}</span></div>
                ${m}
            </div>`}}return e+="</div>",e}}function nW(r){return new rW(r).generateHtml()}class iW{data;constructor(e){this.data=eu.load(e)}generateHtml(){return this.buildHtml()}buildHtml(){const e=this.data.||"",t=this.data.!==!1;return`<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e}</title>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: true
            }
        };
    <\/script>
    <style>
        @media print {
            @page { size: A4; margin: 20mm; }
            .page-break { page-break-after: always; }
            body {
                width: 100% !important;
                max-width: none !important;
                margin: 0 !important;
                padding: 0 !important;
            }
        }

        /*  */
        @media screen {
            .page-break, [style*="break-before: page"], [style*="break-after: page"] {
                border-top: 4px dashed #ddd !important;
                margin-top: 40px !important;
                padding-top: 40px !important;
                position: relative;
                display: block;
            }
            .page-break::before, [style*="break-before: page"]::before, [style*="break-after: page"]::before {
                content: "---  ---";
                display: block;
                position: absolute;
                top: -24px;
                left: 50%;
                transform: translateX(-50%);
                color: #aaa;
                font-size: 12px;
                font-weight: bold;
                background: #fff;
                padding: 0 10px;
            }
        }
        body { 
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif; 
            line-height: 1.8; 
            max-width: 210mm; 
            margin: 0 auto; 
            padding: 20px;
            color: #333;
        }
        
        /*  */
        .header {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 20px;
            font-size: 12pt;
        }
        .header-field {
            margin-left: 20px;
        }
        .header-field .label {
            margin-right: 5px;
        }
        .header-field .underline {
            display: inline-block;
            border-bottom: 1px solid #333;
            min-width: 80px;
        }
        .header-field.name .underline {
            min-width: 200px;
        }
        
        /*  */
        .title {
            text-align: center;
            font-size: 20pt;
            font-weight: bold;
            margin: 30px 0 10px;
        }
        .subtitle {
            text-align: center;
            font-size: 14pt;
            color: #555;
            margin-bottom: 30px;
        }
        
        /*  */
        .section-header {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            margin: 30px 0 20px;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 5px;
        }
        
        /*  */
        .problem {
            margin: 25px 0;
        }
        .problem-header {
            display: flex;
            align-items: baseline;
            margin-bottom: 10px;
        }
        .problem-number {
            font-weight: bold;
            font-size: 14pt;
            margin-right: 15px;
        }
        .problem-text {
            font-size: 11pt;
            flex: 1;
        }
        .problem-score {
            font-size: 10pt;
            color: #666;
            margin-left: 10px;
        }
        .sub-problems {
            margin-left: 30px;
            margin-top: 10px;
        }
        .sub-problem {
            margin: 8px 0;
        }
        .answer-space {
            height: 100px;
            margin: 15px 0;
        }
        
        /*  */
        .answer-page {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 3px double #333;
        }
        .answer-page h2 {
            text-align: center;
            margin-bottom: 30px;
        }
        .answer-item {
            margin: 15px 0;
            padding: 10px;
            background: #fafafa;
            border-radius: 5px;
        }
        .answer-correct {
            font-weight: bold;
            color: #d00;
        }
        .answer-explanation {
            margin-top: 10px;
            font-size: 10pt;
            color: #555;
            padding: 10px;
            background: #fff;
            border-left: 3px solid #3b82f6;
        }
    </style>
</head>
<body>
    ${this.createHeader()}
    ${this.createTitle()}
    ${this.createProblems()}
    ${t?this.createAnswers():""}
</body>
</html>`}createHeader(){return`
    <div class="header">
        <span class="header-field"><span class="label"></span><span class="underline"></span></span>
        <span class="header-field"><span class="label"></span><span class="underline"></span></span>
        <span class="header-field"><span class="label"></span><span class="underline"></span></span>
        <span class="header-field name"><span class="label"></span><span class="underline"></span></span>
    </div>`}createTitle(){const e=this.data.||"",t=this.data.||"";let n=`<h1 class="title">${e}</h1>`;return t&&(n+=`<div class="subtitle"> ${t} </div>`),n}createProblems(){const e=this.data.||[];let t="";for(let n=0;n<e.length;n++){const i=e[n];if(i.type==="header"){const b=i.?' style="page-break-before: always; break-before: page;"':"";t+=`<div class="section-header"${b}>${i.text||""}</div>`;continue}const s=i.?' style="page-break-before: always; break-before: page;"':"",l=i.??n+1,u=i.||"",c=i.,h=i.||[],d=i.??5,m=c?`<span class="problem-score">[${c}]</span>`:"",g=u?Ot.parse(u):"";if(t+=`
    <div class="problem"${s}>
        <div class="problem-header">
            <span class="problem-number">${l}</span>
            <span class="problem-text">${g}</span>
            ${m}
        </div>`,h.length>0){t+='<div class="sub-problems">';for(const b of h)if(typeof b=="string")t+=`<div class="sub-problem">${b}</div>`;else{const w=b.||"",E=b.||"";t+=`<div class="sub-problem">${E} ${w}</div>`}t+="</div>"}const y=d*20;t+=`<div class="answer-space" style="height: ${y}px;"></div>`,t+="</div>"}return t}createAnswers(){const e=this.data.||[];let t=`
    <div class="page-break"></div>
    <div class="answer-page">
        <h2></h2>`;for(let n=0;n<e.length;n++){const i=e[n];if(i.type==="header")continue;const s=i.??n+1,l=i.,u=i.||"";if(!(!l&&!u)){if(t+=`<div class="answer-item"><strong>${s}</strong>`,l)if(Array.isArray(l))for(const c of l)t+=` <span class="answer-correct">: ${c}</span>`;else t+=` <span class="answer-correct">: ${l}</span>`;if(u){const c=Ot.parse(String(u));t+=`<div class="answer-explanation">${c}</div>`}t+="</div>"}}return t+="</div>",t}}function sW(r){return new iW(r).generateHtml()}class aW{data;constructor(e){this.data=eu.load(e)}generateHtml(){return this.buildHtml()}buildHtml(){const t=this.data.||"";return`<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t} </title>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>
    <style>
        @media print {
            @page { size: A4; margin: 15mm; }
            .page-break { page-break-after: always; }
        }
        body { 
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif; 
            line-height: 1.6; 
            max-width: 210mm; 
            margin: 0 auto; 
            padding: 20px;
            color: #333;
            font-size: 10.5pt;
        }
        
        h1 { text-align: center; font-size: 18pt; margin-bottom: 20px; border-bottom: 3px double #000; padding-bottom: 10px; }
        h2 { font-size: 12pt; margin-top: 20px; margin-bottom: 10px; border-left: 4px solid #3b82f6; padding-left: 10px; background: #f0f8ff; padding: 6px 10px; }
        h3 { font-size: 11pt; margin-top: 15px; }
        
        .header-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
        .header-table td, .header-table th { border: 1px solid #333; padding: 6px 10px; }
        .header-table th { background: #f5f5f5; width: 80px; text-align: left; }
        
        .section { margin: 15px 0; }
        .section ul { margin: 8px 0; padding-left: 20px; }
        .section li { margin: 3px 0; }
        
        .flow-table { width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 10pt; }
        .flow-table th, .flow-table td { border: 1px solid #333; padding: 8px; vertical-align: top; }
        .flow-table th { background: #e8e8e8; text-align: center; }
        .flow-table td:first-child { width: 70px; text-align: center; font-weight: bold; }
        
        .activity { margin: 3px 0; }
        .activity-content { color: #000; }
        .activity-action { color: #555; margin-left: 10px; }
        
        .goals { background: #fffde7; padding: 12px; border-radius: 5px; border-left: 4px solid #ffc107; }
        .evaluation { background: #e8f5e9; padding: 12px; border-radius: 5px; border-left: 4px solid #4caf50; }
        .materials { background: #e3f2fd; padding: 12px; border-radius: 5px; border-left: 4px solid #2196f3; }
        .board-plan { background: #f5f5f5; padding: 12px; border-radius: 5px; border: 1px solid #ddd; white-space: pre-wrap; font-family: monospace; }
        .digital { background: #fff3e0; padding: 12px; border-radius: 5px; border-left: 4px solid #ff9800; }
        .considerations { background: #fce4ec; padding: 12px; border-radius: 5px; border-left: 4px solid #e91e63; }
        .students { background: #f3e5f5; padding: 12px; border-radius: 5px; border-left: 4px solid #9c27b0; }
        
        .two-column { display: flex; gap: 20px; }
        .two-column > div { flex: 1; }
    </style>
</head>
<body>
    <h1>${t} </h1>
    
    ${this.createHeader()}
    ${this.createUnitInfo()}
    ${this.createStudentCharacteristics()}
    ${this.createGoals()}
    ${this.createMaterials()}
    ${this.createFlow()}
    ${this.createEvaluation()}
    ${this.createBoardPlan()}
    ${this.createDigitalUsage()}
    ${this.createConsiderations()}
</body>
</html>`}createHeader(){const e=this.data;return`
    <table class="header-table">
        <tr><th></th><td>${e.||""}</td></tr>
        <tr><th></th><td>${e.||""}</td></tr>
        <tr><th></th><td>${e.||""}</td></tr>
        <tr><th></th><td>${e.||""}</td></tr>
        <tr><th></th><td>${e.||""}</td></tr>
    </table>`}createUnitInfo(){const e=this.data;return`
    <h2></h2>
    <div class="section">
        <strong>${e.||""}</strong>
        ${e.?`${e.}`:""}
    </div>`}createStudentCharacteristics(){let t=this.data.||[];return!t||Array.isArray(t)&&t.length===0?"":(Array.isArray(t)||(t=Object.values(t)),`
    <h2></h2>
    <div class="section students">
        <ul>${t.filter(i=>i).map(i=>`<li>${i}</li>`).join(`
`)}</ul>
    </div>`)}createGoals(){const e=this.data;let t=e.||e.||[];return t&&!Array.isArray(t)&&(t=Object.values(t)),`
    <h2></h2>
    <div class="section goals">
        <ul>${(Array.isArray(t)?t:[]).filter(s=>s).map(s=>`<li>${s}</li>`).join(`
`)}</ul>
    </div>`}createMaterials(){const t=this.data.;if(!t)return"";const n=Array.isArray(t.)?t..filter(s=>s).map(s=>`<li>${s}</li>`).join(`
`):"",i=Array.isArray(t.)?t..filter(s=>s).map(s=>`<li>${s}</li>`).join(`
`):"";return!n&&!i?"":`
    <h2></h2>
    <div class="section materials two-column">
        <div>
            <strong></strong>
            <ul>${n}</ul>
        </div>
        <div>
            <strong></strong>
            <ul>${i}</ul>
        </div>
    </div>`}createFlow(){const e=this.data,t=e.||e.||{};if(Object.keys(t).length===0)return"";let n="";for(const[i,s]of Object.entries(t)){if(!s)continue;const l=s.||"",u=[],c=Array.isArray(s.)?s.:[];for(const y of c)y&&u.push(`<div class="activity"><span class="activity-content"> ${y}</span></div>`);const h=Array.isArray(s.)?s.:[];for(const y of h)y&&u.push(`<div class="activity"><span class="activity-action"> ${y}</span></div>`);const d=u.join(`
`),g=(Array.isArray(s.)?s.:[]).filter(y=>y).map(y=>`${y}`).join("<br>");n+=`
        <tr>
            <td>${i}<br>(${l})</td>
            <td>${d}</td>
            <td>${g}</td>
        </tr>`}return`
    <h2></h2>
    <table class="flow-table">
        <tr>
            <th></th>
            <th></th>
            <th></th>
        </tr>
        ${n}
    </table>`}createEvaluation(){const e=this.data,t=e.||e.;if(!t)return"";let n="";return t&&typeof t=="object"&&!Array.isArray(t)?n=Object.entries(t).map(([s,l])=>`<li><strong>${s}</strong>${l}</li>`).join(`
`):Array.isArray(t)&&(n=t.filter(i=>i).map(i=>`<li>${typeof i=="object"&&i!==null&&""in i?String(i.):String(i)}</li>`).join(`
`)),n?`
    <h2></h2>
    <div class="section evaluation">
        <ul>${n}</ul>
    </div>`:""}createBoardPlan(){const t=this.data.;return t?`
    <h2></h2>
    <div class="section board-plan">${t}</div>`:""}createDigitalUsage(){let t=this.data.;return!t||Array.isArray(t)&&t.length===0?"":(Array.isArray(t)||(t=Object.values(t)),`
    <h2></h2>
    <div class="section digital">
        <ul>${t.filter(i=>i).map(i=>`<li>${i}</li>`).join(`
`)}</ul>
    </div>`)}createConsiderations(){let t=this.data.;return!t||Array.isArray(t)&&t.length===0?"":(Array.isArray(t)||(t=Object.values(t)),`
    <h2></h2>
    <div class="section considerations">
        <ul>${t.filter(i=>i).map(i=>`<li>${i}</li>`).join(`
`)}</ul>
    </div>`)}}function lW(r){return new aW(r).generateHtml()}var oW=Object.defineProperty,uW=Object.defineProperties,cW=Object.getOwnPropertyDescriptors,_T=Object.getOwnPropertySymbols,fW=Object.prototype.hasOwnProperty,hW=Object.prototype.propertyIsEnumerable,Z1=(r,e,t)=>e in r?oW(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xt=(r,e)=>{for(var t in e||(e={}))fW.call(e,t)&&Z1(r,t,e[t]);if(_T)for(var t of _T(e))hW.call(e,t)&&Z1(r,t,e[t]);return r},Vo=(r,e)=>uW(r,cW(e)),Re=(r,e,t)=>Z1(r,typeof e!="symbol"?e+"":e,t),dW=(r,e,t)=>new Promise((n,i)=>{var s=c=>{try{u(t.next(c))}catch(h){i(h)}},l=c=>{try{u(t.throw(c))}catch(h){i(h)}},u=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,l);u((t=t.apply(r,e)).next())});class pp{constructor(e){Re(this,"rootKey"),this.rootKey=e}}const pW=Object.seal({});class De extends pp{constructor(e){super(e),Re(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const n=this.root.map(i=>i instanceof pp?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((t=n[0])!=null&&t._attr)?n[0]:n:pW}}addChildElement(e){return this.root.push(e),this}}class Ts extends De{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class rt extends pp{constructor(e){super("_attr"),Re(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;t[s]=i}}),{_attr:t}}}class ba extends pp{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>Vo(xt({},n),{[i]:s}),{})}}}class lr extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b5(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Y0={},ed={exports:{}},RT;function _x(){if(RT)return ed.exports;RT=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(_,H,M){return Function.prototype.apply.call(_,H,M)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:t=function(_){return Object.getOwnPropertyNames(_)};function n(T){console&&console.warn&&console.warn(T)}var i=Number.isNaN||function(_){return _!==_};function s(){s.init.call(this)}ed.exports=s,ed.exports.once=x,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");l=T}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||i(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this};function c(T){return T._maxListeners===void 0?s.defaultMaxListeners:T._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(_){for(var H=[],M=1;M<arguments.length;M++)H.push(arguments[M]);var Q=_==="error",P=this._events;if(P!==void 0)Q=Q&&P.error===void 0;else if(!Q)return!1;if(Q){var re;if(H.length>0&&(re=H[0]),re instanceof Error)throw re;var pe=new Error("Unhandled error."+(re?" ("+re.message+")":""));throw pe.context=re,pe}var U=P[_];if(U===void 0)return!1;if(typeof U=="function")e(U,this,H);else for(var X=U.length,R=b(U,X),M=0;M<X;++M)e(R[M],this,H);return!0};function h(T,_,H,M){var Q,P,re;if(u(H),P=T._events,P===void 0?(P=T._events=Object.create(null),T._eventsCount=0):(P.newListener!==void 0&&(T.emit("newListener",_,H.listener?H.listener:H),P=T._events),re=P[_]),re===void 0)re=P[_]=H,++T._eventsCount;else if(typeof re=="function"?re=P[_]=M?[H,re]:[re,H]:M?re.unshift(H):re.push(H),Q=c(T),Q>0&&re.length>Q&&!re.warned){re.warned=!0;var pe=new Error("Possible EventEmitter memory leak detected. "+re.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");pe.name="MaxListenersExceededWarning",pe.emitter=T,pe.type=_,pe.count=re.length,n(pe)}return T}s.prototype.addListener=function(_,H){return h(this,_,H,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(_,H){return h(this,_,H,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(T,_,H){var M={fired:!1,wrapFn:void 0,target:T,type:_,listener:H},Q=d.bind(M);return Q.listener=H,M.wrapFn=Q,Q}s.prototype.once=function(_,H){return u(H),this.on(_,m(this,_,H)),this},s.prototype.prependOnceListener=function(_,H){return u(H),this.prependListener(_,m(this,_,H)),this},s.prototype.removeListener=function(_,H){var M,Q,P,re,pe;if(u(H),Q=this._events,Q===void 0)return this;if(M=Q[_],M===void 0)return this;if(M===H||M.listener===H)--this._eventsCount===0?this._events=Object.create(null):(delete Q[_],Q.removeListener&&this.emit("removeListener",_,M.listener||H));else if(typeof M!="function"){for(P=-1,re=M.length-1;re>=0;re--)if(M[re]===H||M[re].listener===H){pe=M[re].listener,P=re;break}if(P<0)return this;P===0?M.shift():w(M,P),M.length===1&&(Q[_]=M[0]),Q.removeListener!==void 0&&this.emit("removeListener",_,pe||H)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(_){var H,M,Q;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[_]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[_]),this;if(arguments.length===0){var P=Object.keys(M),re;for(Q=0;Q<P.length;++Q)re=P[Q],re!=="removeListener"&&this.removeAllListeners(re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(H=M[_],typeof H=="function")this.removeListener(_,H);else if(H!==void 0)for(Q=H.length-1;Q>=0;Q--)this.removeListener(_,H[Q]);return this};function g(T,_,H){var M=T._events;if(M===void 0)return[];var Q=M[_];return Q===void 0?[]:typeof Q=="function"?H?[Q.listener||Q]:[Q]:H?E(Q):b(Q,Q.length)}s.prototype.listeners=function(_){return g(this,_,!0)},s.prototype.rawListeners=function(_){return g(this,_,!1)},s.listenerCount=function(T,_){return typeof T.listenerCount=="function"?T.listenerCount(_):y.call(T,_)},s.prototype.listenerCount=y;function y(T){var _=this._events;if(_!==void 0){var H=_[T];if(typeof H=="function")return 1;if(H!==void 0)return H.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function b(T,_){for(var H=new Array(_),M=0;M<_;++M)H[M]=T[M];return H}function w(T,_){for(;_+1<T.length;_++)T[_]=T[_+1];T.pop()}function E(T){for(var _=new Array(T.length),H=0;H<_.length;++H)_[H]=T[H].listener||T[H];return _}function x(T,_){return new Promise(function(H,M){function Q(re){T.removeListener(_,P),M(re)}function P(){typeof T.removeListener=="function"&&T.removeListener("error",Q),H([].slice.call(arguments))}O(T,_,P,{once:!0}),_!=="error"&&k(T,Q,{once:!0})})}function k(T,_,H){typeof T.on=="function"&&O(T,"error",_,H)}function O(T,_,H,M){if(typeof T.on=="function")M.once?T.once(_,H):T.on(_,H);else if(typeof T.addEventListener=="function")T.addEventListener(_,function Q(P){M.once&&T.removeEventListener(_,Q),H(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return ed.exports}var td={exports:{}},MT;function xa(){return MT||(MT=1,typeof Object.create=="function"?td.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:td.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),td.exports}function mW(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var x5={exports:{}},fr=x5.exports={},Oi,_i;function J1(){throw new Error("setTimeout has not been defined")}function eb(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Oi=setTimeout:Oi=J1}catch{Oi=J1}try{typeof clearTimeout=="function"?_i=clearTimeout:_i=eb}catch{_i=eb}})();function w5(r){if(Oi===setTimeout)return setTimeout(r,0);if((Oi===J1||!Oi)&&setTimeout)return Oi=setTimeout,setTimeout(r,0);try{return Oi(r,0)}catch{try{return Oi.call(null,r,0)}catch{return Oi.call(this,r,0)}}}function gW(r){if(_i===clearTimeout)return clearTimeout(r);if((_i===eb||!_i)&&clearTimeout)return _i=clearTimeout,clearTimeout(r);try{return _i(r)}catch{try{return _i.call(null,r)}catch{return _i.call(this,r)}}}var gs=[],No=!1,rl,Td=-1;function yW(){!No||!rl||(No=!1,rl.length?gs=rl.concat(gs):Td=-1,gs.length&&S5())}function S5(){if(!No){var r=w5(yW);No=!0;for(var e=gs.length;e;){for(rl=gs,gs=[];++Td<e;)rl&&rl[Td].run();Td=-1,e=gs.length}rl=null,No=!1,gW(r)}}fr.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];gs.push(new k5(r,e)),gs.length===1&&!No&&w5(S5)};function k5(r,e){this.fun=r,this.array=e}k5.prototype.run=function(){this.fun.apply(null,this.array)};fr.title="browser";fr.browser=!0;fr.env={};fr.argv=[];fr.version="";fr.versions={};function Cs(){}fr.on=Cs;fr.addListener=Cs;fr.once=Cs;fr.off=Cs;fr.removeListener=Cs;fr.removeAllListeners=Cs;fr.emit=Cs;fr.prependListener=Cs;fr.prependOnceListener=Cs;fr.listeners=function(r){return[]};fr.binding=function(r){throw new Error("process.binding is not supported")};fr.cwd=function(){return"/"};fr.chdir=function(r){throw new Error("process.chdir is not supported")};fr.umask=function(){return 0};var vW=x5.exports;const ut=mW(vW);var K0,NT;function A5(){return NT||(NT=1,K0=_x().EventEmitter),K0}var Z0={},rc={},DT;function bW(){if(DT)return rc;DT=1,rc.byteLength=u,rc.toByteArray=h,rc.fromByteArray=g;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function l(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");w===-1&&(w=b);var E=w===b?0:4-w%4;return[w,E]}function u(y){var b=l(y),w=b[0],E=b[1];return(w+E)*3/4-E}function c(y,b,w){return(b+w)*3/4-w}function h(y){var b,w=l(y),E=w[0],x=w[1],k=new t(c(y,E,x)),O=0,T=x>0?E-4:E,_;for(_=0;_<T;_+=4)b=e[y.charCodeAt(_)]<<18|e[y.charCodeAt(_+1)]<<12|e[y.charCodeAt(_+2)]<<6|e[y.charCodeAt(_+3)],k[O++]=b>>16&255,k[O++]=b>>8&255,k[O++]=b&255;return x===2&&(b=e[y.charCodeAt(_)]<<2|e[y.charCodeAt(_+1)]>>4,k[O++]=b&255),x===1&&(b=e[y.charCodeAt(_)]<<10|e[y.charCodeAt(_+1)]<<4|e[y.charCodeAt(_+2)]>>2,k[O++]=b>>8&255,k[O++]=b&255),k}function d(y){return r[y>>18&63]+r[y>>12&63]+r[y>>6&63]+r[y&63]}function m(y,b,w){for(var E,x=[],k=b;k<w;k+=3)E=(y[k]<<16&16711680)+(y[k+1]<<8&65280)+(y[k+2]&255),x.push(d(E));return x.join("")}function g(y){for(var b,w=y.length,E=w%3,x=[],k=16383,O=0,T=w-E;O<T;O+=k)x.push(m(y,O,O+k>T?T:O+k));return E===1?(b=y[w-1],x.push(r[b>>2]+r[b<<4&63]+"==")):E===2&&(b=(y[w-2]<<8)+y[w-1],x.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"=")),x.join("")}return rc}var rd={};var LT;function xW(){return LT||(LT=1,rd.read=function(r,e,t,n,i){var s,l,u=i*8-n-1,c=(1<<u)-1,h=c>>1,d=-7,m=t?i-1:0,g=t?-1:1,y=r[e+m];for(m+=g,s=y&(1<<-d)-1,y>>=-d,d+=u;d>0;s=s*256+r[e+m],m+=g,d-=8);for(l=s&(1<<-d)-1,s>>=-d,d+=n;d>0;l=l*256+r[e+m],m+=g,d-=8);if(s===0)s=1-h;else{if(s===c)return l?NaN:(y?-1:1)*(1/0);l=l+Math.pow(2,n),s=s-h}return(y?-1:1)*l*Math.pow(2,s-n)},rd.write=function(r,e,t,n,i,s){var l,u,c,h=s*8-i-1,d=(1<<h)-1,m=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,b=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,l=d):(l=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+m>=1?e+=g/c:e+=g*Math.pow(2,1-m),e*c>=2&&(l++,c/=2),l+m>=d?(u=0,l=d):l+m>=1?(u=(e*c-1)*Math.pow(2,i),l=l+m):(u=e*Math.pow(2,m-1)*Math.pow(2,i),l=0));i>=8;r[t+y]=u&255,y+=b,u/=256,i-=8);for(l=l<<i|u,h+=i;h>0;r[t+y]=l&255,y+=b,l/=256,h-=8);r[t+y-b]|=w*128}),rd}var BT;function Up(){return BT||(BT=1,(function(r){var e=bW(),t=xW(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=k,r.INSPECT_MAX_BYTES=50;var i=2147483647;r.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var F=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(F,A),F.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(F){if(F>i)throw new RangeError('The value "'+F+'" is invalid for option "size"');var A=new Uint8Array(F);return Object.setPrototypeOf(A,u.prototype),A}function u(F,A,C){if(typeof F=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(F)}return c(F,A,C)}u.poolSize=8192;function c(F,A,C){if(typeof F=="string")return g(F,A);if(ArrayBuffer.isView(F))return b(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(ge(F,ArrayBuffer)||F&&ge(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ge(F,SharedArrayBuffer)||F&&ge(F.buffer,SharedArrayBuffer)))return w(F,A,C);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var D=F.valueOf&&F.valueOf();if(D!=null&&D!==F)return u.from(D,A,C);var Z=E(F);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return u.from(F[Symbol.toPrimitive]("string"),A,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}u.from=function(F,A,C){return c(F,A,C)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function h(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function d(F,A,C){return h(F),F<=0?l(F):A!==void 0?typeof C=="string"?l(F).fill(A,C):l(F).fill(A):l(F)}u.alloc=function(F,A,C){return d(F,A,C)};function m(F){return h(F),l(F<0?0:x(F)|0)}u.allocUnsafe=function(F){return m(F)},u.allocUnsafeSlow=function(F){return m(F)};function g(F,A){if((typeof A!="string"||A==="")&&(A="utf8"),!u.isEncoding(A))throw new TypeError("Unknown encoding: "+A);var C=O(F,A)|0,D=l(C),Z=D.write(F,A);return Z!==C&&(D=D.slice(0,Z)),D}function y(F){for(var A=F.length<0?0:x(F.length)|0,C=l(A),D=0;D<A;D+=1)C[D]=F[D]&255;return C}function b(F){if(ge(F,Uint8Array)){var A=new Uint8Array(F);return w(A.buffer,A.byteOffset,A.byteLength)}return y(F)}function w(F,A,C){if(A<0||F.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<A+(C||0))throw new RangeError('"length" is outside of buffer bounds');var D;return A===void 0&&C===void 0?D=new Uint8Array(F):C===void 0?D=new Uint8Array(F,A):D=new Uint8Array(F,A,C),Object.setPrototypeOf(D,u.prototype),D}function E(F){if(u.isBuffer(F)){var A=x(F.length)|0,C=l(A);return C.length===0||F.copy(C,0,0,A),C}if(F.length!==void 0)return typeof F.length!="number"||N(F.length)?l(0):y(F);if(F.type==="Buffer"&&Array.isArray(F.data))return y(F.data)}function x(F){if(F>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return F|0}function k(F){return+F!=F&&(F=0),u.alloc(+F)}u.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==u.prototype},u.compare=function(A,C){if(ge(A,Uint8Array)&&(A=u.from(A,A.offset,A.byteLength)),ge(C,Uint8Array)&&(C=u.from(C,C.offset,C.byteLength)),!u.isBuffer(A)||!u.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===C)return 0;for(var D=A.length,Z=C.length,oe=0,ne=Math.min(D,Z);oe<ne;++oe)if(A[oe]!==C[oe]){D=A[oe],Z=C[oe];break}return D<Z?-1:Z<D?1:0},u.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(A,C){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return u.alloc(0);var D;if(C===void 0)for(C=0,D=0;D<A.length;++D)C+=A[D].length;var Z=u.allocUnsafe(C),oe=0;for(D=0;D<A.length;++D){var ne=A[D];if(ge(ne,Uint8Array))oe+ne.length>Z.length?u.from(ne).copy(Z,oe):Uint8Array.prototype.set.call(Z,ne,oe);else if(u.isBuffer(ne))ne.copy(Z,oe);else throw new TypeError('"list" argument must be an Array of Buffers');oe+=ne.length}return Z};function O(F,A){if(u.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||ge(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);var C=F.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&C===0)return 0;for(var Z=!1;;)switch(A){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return L(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return W(F).length;default:if(Z)return D?-1:L(F).length;A=(""+A).toLowerCase(),Z=!0}}u.byteLength=O;function T(F,A,C){var D=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,A>>>=0,C<=A))return"";for(F||(F="utf8");;)switch(F){case"hex":return ce(this,A,C);case"utf8":case"utf-8":return R(this,A,C);case"ascii":return G(this,A,C);case"latin1":case"binary":return ue(this,A,C);case"base64":return X(this,A,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ke(this,A,C);default:if(D)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),D=!0}}u.prototype._isBuffer=!0;function _(F,A,C){var D=F[A];F[A]=F[C],F[C]=D}u.prototype.swap16=function(){var A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<A;C+=2)_(this,C,C+1);return this},u.prototype.swap32=function(){var A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<A;C+=4)_(this,C,C+3),_(this,C+1,C+2);return this},u.prototype.swap64=function(){var A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<A;C+=8)_(this,C,C+7),_(this,C+1,C+6),_(this,C+2,C+5),_(this,C+3,C+4);return this},u.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?R(this,0,A):T.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(A){if(!u.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:u.compare(this,A)===0},u.prototype.inspect=function(){var A="",C=r.INSPECT_MAX_BYTES;return A=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(A+=" ... "),"<Buffer "+A+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(A,C,D,Z,oe){if(ge(A,Uint8Array)&&(A=u.from(A,A.offset,A.byteLength)),!u.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(C===void 0&&(C=0),D===void 0&&(D=A?A.length:0),Z===void 0&&(Z=0),oe===void 0&&(oe=this.length),C<0||D>A.length||Z<0||oe>this.length)throw new RangeError("out of range index");if(Z>=oe&&C>=D)return 0;if(Z>=oe)return-1;if(C>=D)return 1;if(C>>>=0,D>>>=0,Z>>>=0,oe>>>=0,this===A)return 0;for(var ne=oe-Z,Ee=D-C,Te=Math.min(ne,Ee),Oe=this.slice(Z,oe),je=A.slice(C,D),Ve=0;Ve<Te;++Ve)if(Oe[Ve]!==je[Ve]){ne=Oe[Ve],Ee=je[Ve];break}return ne<Ee?-1:Ee<ne?1:0};function H(F,A,C,D,Z){if(F.length===0)return-1;if(typeof C=="string"?(D=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,N(C)&&(C=Z?0:F.length-1),C<0&&(C=F.length+C),C>=F.length){if(Z)return-1;C=F.length-1}else if(C<0)if(Z)C=0;else return-1;if(typeof A=="string"&&(A=u.from(A,D)),u.isBuffer(A))return A.length===0?-1:M(F,A,C,D,Z);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(F,A,C):Uint8Array.prototype.lastIndexOf.call(F,A,C):M(F,[A],C,D,Z);throw new TypeError("val must be string, number or Buffer")}function M(F,A,C,D,Z){var oe=1,ne=F.length,Ee=A.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(F.length<2||A.length<2)return-1;oe=2,ne/=2,Ee/=2,C/=2}function Te(Ht,tn){return oe===1?Ht[tn]:Ht.readUInt16BE(tn*oe)}var Oe;if(Z){var je=-1;for(Oe=C;Oe<ne;Oe++)if(Te(F,Oe)===Te(A,je===-1?0:Oe-je)){if(je===-1&&(je=Oe),Oe-je+1===Ee)return je*oe}else je!==-1&&(Oe-=Oe-je),je=-1}else for(C+Ee>ne&&(C=ne-Ee),Oe=C;Oe>=0;Oe--){for(var Ve=!0,Qe=0;Qe<Ee;Qe++)if(Te(F,Oe+Qe)!==Te(A,Qe)){Ve=!1;break}if(Ve)return Oe}return-1}u.prototype.includes=function(A,C,D){return this.indexOf(A,C,D)!==-1},u.prototype.indexOf=function(A,C,D){return H(this,A,C,D,!0)},u.prototype.lastIndexOf=function(A,C,D){return H(this,A,C,D,!1)};function Q(F,A,C,D){C=Number(C)||0;var Z=F.length-C;D?(D=Number(D),D>Z&&(D=Z)):D=Z;var oe=A.length;D>oe/2&&(D=oe/2);for(var ne=0;ne<D;++ne){var Ee=parseInt(A.substr(ne*2,2),16);if(N(Ee))return ne;F[C+ne]=Ee}return ne}function P(F,A,C,D){return $(L(A,F.length-C),F,C,D)}function re(F,A,C,D){return $(te(A),F,C,D)}function pe(F,A,C,D){return $(W(A),F,C,D)}function U(F,A,C,D){return $(J(A,F.length-C),F,C,D)}u.prototype.write=function(A,C,D,Z){if(C===void 0)Z="utf8",D=this.length,C=0;else if(D===void 0&&typeof C=="string")Z=C,D=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(D)?(D=D>>>0,Z===void 0&&(Z="utf8")):(Z=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var oe=this.length-C;if((D===void 0||D>oe)&&(D=oe),A.length>0&&(D<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var ne=!1;;)switch(Z){case"hex":return Q(this,A,C,D);case"utf8":case"utf-8":return P(this,A,C,D);case"ascii":case"latin1":case"binary":return re(this,A,C,D);case"base64":return pe(this,A,C,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,A,C,D);default:if(ne)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ne=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(F,A,C){return A===0&&C===F.length?e.fromByteArray(F):e.fromByteArray(F.slice(A,C))}function R(F,A,C){C=Math.min(F.length,C);for(var D=[],Z=A;Z<C;){var oe=F[Z],ne=null,Ee=oe>239?4:oe>223?3:oe>191?2:1;if(Z+Ee<=C){var Te,Oe,je,Ve;switch(Ee){case 1:oe<128&&(ne=oe);break;case 2:Te=F[Z+1],(Te&192)===128&&(Ve=(oe&31)<<6|Te&63,Ve>127&&(ne=Ve));break;case 3:Te=F[Z+1],Oe=F[Z+2],(Te&192)===128&&(Oe&192)===128&&(Ve=(oe&15)<<12|(Te&63)<<6|Oe&63,Ve>2047&&(Ve<55296||Ve>57343)&&(ne=Ve));break;case 4:Te=F[Z+1],Oe=F[Z+2],je=F[Z+3],(Te&192)===128&&(Oe&192)===128&&(je&192)===128&&(Ve=(oe&15)<<18|(Te&63)<<12|(Oe&63)<<6|je&63,Ve>65535&&Ve<1114112&&(ne=Ve))}}ne===null?(ne=65533,Ee=1):ne>65535&&(ne-=65536,D.push(ne>>>10&1023|55296),ne=56320|ne&1023),D.push(ne),Z+=Ee}return Y(D)}var ee=4096;function Y(F){var A=F.length;if(A<=ee)return String.fromCharCode.apply(String,F);for(var C="",D=0;D<A;)C+=String.fromCharCode.apply(String,F.slice(D,D+=ee));return C}function G(F,A,C){var D="";C=Math.min(F.length,C);for(var Z=A;Z<C;++Z)D+=String.fromCharCode(F[Z]&127);return D}function ue(F,A,C){var D="";C=Math.min(F.length,C);for(var Z=A;Z<C;++Z)D+=String.fromCharCode(F[Z]);return D}function ce(F,A,C){var D=F.length;(!A||A<0)&&(A=0),(!C||C<0||C>D)&&(C=D);for(var Z="",oe=A;oe<C;++oe)Z+=ve[F[oe]];return Z}function ke(F,A,C){for(var D=F.slice(A,C),Z="",oe=0;oe<D.length-1;oe+=2)Z+=String.fromCharCode(D[oe]+D[oe+1]*256);return Z}u.prototype.slice=function(A,C){var D=this.length;A=~~A,C=C===void 0?D:~~C,A<0?(A+=D,A<0&&(A=0)):A>D&&(A=D),C<0?(C+=D,C<0&&(C=0)):C>D&&(C=D),C<A&&(C=A);var Z=this.subarray(A,C);return Object.setPrototypeOf(Z,u.prototype),Z};function q(F,A,C){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+A>C)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(A,C,D){A=A>>>0,C=C>>>0,D||q(A,C,this.length);for(var Z=this[A],oe=1,ne=0;++ne<C&&(oe*=256);)Z+=this[A+ne]*oe;return Z},u.prototype.readUintBE=u.prototype.readUIntBE=function(A,C,D){A=A>>>0,C=C>>>0,D||q(A,C,this.length);for(var Z=this[A+--C],oe=1;C>0&&(oe*=256);)Z+=this[A+--C]*oe;return Z},u.prototype.readUint8=u.prototype.readUInt8=function(A,C){return A=A>>>0,C||q(A,1,this.length),this[A]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(A,C){return A=A>>>0,C||q(A,2,this.length),this[A]|this[A+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(A,C){return A=A>>>0,C||q(A,2,this.length),this[A]<<8|this[A+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(A,C){return A=A>>>0,C||q(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(A,C){return A=A>>>0,C||q(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},u.prototype.readIntLE=function(A,C,D){A=A>>>0,C=C>>>0,D||q(A,C,this.length);for(var Z=this[A],oe=1,ne=0;++ne<C&&(oe*=256);)Z+=this[A+ne]*oe;return oe*=128,Z>=oe&&(Z-=Math.pow(2,8*C)),Z},u.prototype.readIntBE=function(A,C,D){A=A>>>0,C=C>>>0,D||q(A,C,this.length);for(var Z=C,oe=1,ne=this[A+--Z];Z>0&&(oe*=256);)ne+=this[A+--Z]*oe;return oe*=128,ne>=oe&&(ne-=Math.pow(2,8*C)),ne},u.prototype.readInt8=function(A,C){return A=A>>>0,C||q(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},u.prototype.readInt16LE=function(A,C){A=A>>>0,C||q(A,2,this.length);var D=this[A]|this[A+1]<<8;return D&32768?D|4294901760:D},u.prototype.readInt16BE=function(A,C){A=A>>>0,C||q(A,2,this.length);var D=this[A+1]|this[A]<<8;return D&32768?D|4294901760:D},u.prototype.readInt32LE=function(A,C){return A=A>>>0,C||q(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},u.prototype.readInt32BE=function(A,C){return A=A>>>0,C||q(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},u.prototype.readFloatLE=function(A,C){return A=A>>>0,C||q(A,4,this.length),t.read(this,A,!0,23,4)},u.prototype.readFloatBE=function(A,C){return A=A>>>0,C||q(A,4,this.length),t.read(this,A,!1,23,4)},u.prototype.readDoubleLE=function(A,C){return A=A>>>0,C||q(A,8,this.length),t.read(this,A,!0,52,8)},u.prototype.readDoubleBE=function(A,C){return A=A>>>0,C||q(A,8,this.length),t.read(this,A,!1,52,8)};function I(F,A,C,D,Z,oe){if(!u.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>Z||A<oe)throw new RangeError('"value" argument is out of bounds');if(C+D>F.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(A,C,D,Z){if(A=+A,C=C>>>0,D=D>>>0,!Z){var oe=Math.pow(2,8*D)-1;I(this,A,C,D,oe,0)}var ne=1,Ee=0;for(this[C]=A&255;++Ee<D&&(ne*=256);)this[C+Ee]=A/ne&255;return C+D},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(A,C,D,Z){if(A=+A,C=C>>>0,D=D>>>0,!Z){var oe=Math.pow(2,8*D)-1;I(this,A,C,D,oe,0)}var ne=D-1,Ee=1;for(this[C+ne]=A&255;--ne>=0&&(Ee*=256);)this[C+ne]=A/Ee&255;return C+D},u.prototype.writeUint8=u.prototype.writeUInt8=function(A,C,D){return A=+A,C=C>>>0,D||I(this,A,C,1,255,0),this[C]=A&255,C+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(A,C,D){return A=+A,C=C>>>0,D||I(this,A,C,2,65535,0),this[C]=A&255,this[C+1]=A>>>8,C+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(A,C,D){return A=+A,C=C>>>0,D||I(this,A,C,2,65535,0),this[C]=A>>>8,this[C+1]=A&255,C+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(A,C,D){return A=+A,C=C>>>0,D||I(this,A,C,4,4294967295,0),this[C+3]=A>>>24,this[C+2]=A>>>16,this[C+1]=A>>>8,this[C]=A&255,C+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(A,C,D){return A=+A,C=C>>>0,D||I(this,A,C,4,4294967295,0),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4},u.prototype.writeIntLE=function(A,C,D,Z){if(A=+A,C=C>>>0,!Z){var oe=Math.pow(2,8*D-1);I(this,A,C,D,oe-1,-oe)}var ne=0,Ee=1,Te=0;for(this[C]=A&255;++ne<D&&(Ee*=256);)A<0&&Te===0&&this[C+ne-1]!==0&&(Te=1),this[C+ne]=(A/Ee>>0)-Te&255;return C+D},u.prototype.writeIntBE=function(A,C,D,Z){if(A=+A,C=C>>>0,!Z){var oe=Math.pow(2,8*D-1);I(this,A,C,D,oe-1,-oe)}var ne=D-1,Ee=1,Te=0;for(this[C+ne]=A&255;--ne>=0&&(Ee*=256);)A<0&&Te===0&&this[C+ne+1]!==0&&(Te=1),this[C+ne]=(A/Ee>>0)-Te&255;return C+D},u.prototype.writeInt8=function(A,C,D){return A=+A,C=C>>>0,D||I(this,A,C,1,127,-128),A<0&&(A=255+A+1),this[C]=A&255,C+1},u.prototype.writeInt16LE=function(A,C,D){return A=+A,C=C>>>0,D||I(this,A,C,2,32767,-32768),this[C]=A&255,this[C+1]=A>>>8,C+2},u.prototype.writeInt16BE=function(A,C,D){return A=+A,C=C>>>0,D||I(this,A,C,2,32767,-32768),this[C]=A>>>8,this[C+1]=A&255,C+2},u.prototype.writeInt32LE=function(A,C,D){return A=+A,C=C>>>0,D||I(this,A,C,4,2147483647,-2147483648),this[C]=A&255,this[C+1]=A>>>8,this[C+2]=A>>>16,this[C+3]=A>>>24,C+4},u.prototype.writeInt32BE=function(A,C,D){return A=+A,C=C>>>0,D||I(this,A,C,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[C]=A>>>24,this[C+1]=A>>>16,this[C+2]=A>>>8,this[C+3]=A&255,C+4};function K(F,A,C,D,Z,oe){if(C+D>F.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function se(F,A,C,D,Z){return A=+A,C=C>>>0,Z||K(F,A,C,4),t.write(F,A,C,D,23,4),C+4}u.prototype.writeFloatLE=function(A,C,D){return se(this,A,C,!0,D)},u.prototype.writeFloatBE=function(A,C,D){return se(this,A,C,!1,D)};function he(F,A,C,D,Z){return A=+A,C=C>>>0,Z||K(F,A,C,8),t.write(F,A,C,D,52,8),C+8}u.prototype.writeDoubleLE=function(A,C,D){return he(this,A,C,!0,D)},u.prototype.writeDoubleBE=function(A,C,D){return he(this,A,C,!1,D)},u.prototype.copy=function(A,C,D,Z){if(!u.isBuffer(A))throw new TypeError("argument should be a Buffer");if(D||(D=0),!Z&&Z!==0&&(Z=this.length),C>=A.length&&(C=A.length),C||(C=0),Z>0&&Z<D&&(Z=D),Z===D||A.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),A.length-C<Z-D&&(Z=A.length-C+D);var oe=Z-D;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,D,Z):Uint8Array.prototype.set.call(A,this.subarray(D,Z),C),oe},u.prototype.fill=function(A,C,D,Z){if(typeof A=="string"){if(typeof C=="string"?(Z=C,C=0,D=this.length):typeof D=="string"&&(Z=D,D=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!u.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(A.length===1){var oe=A.charCodeAt(0);(Z==="utf8"&&oe<128||Z==="latin1")&&(A=oe)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(C<0||this.length<C||this.length<D)throw new RangeError("Out of range index");if(D<=C)return this;C=C>>>0,D=D===void 0?this.length:D>>>0,A||(A=0);var ne;if(typeof A=="number")for(ne=C;ne<D;++ne)this[ne]=A;else{var Ee=u.isBuffer(A)?A:u.from(A,Z),Te=Ee.length;if(Te===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(ne=0;ne<D-C;++ne)this[ne+C]=Ee[ne%Te]}return this};var ie=/[^+/0-9A-Za-z-_]/g;function B(F){if(F=F.split("=")[0],F=F.trim().replace(ie,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function L(F,A){A=A||1/0;for(var C,D=F.length,Z=null,oe=[],ne=0;ne<D;++ne){if(C=F.charCodeAt(ne),C>55295&&C<57344){if(!Z){if(C>56319){(A-=3)>-1&&oe.push(239,191,189);continue}else if(ne+1===D){(A-=3)>-1&&oe.push(239,191,189);continue}Z=C;continue}if(C<56320){(A-=3)>-1&&oe.push(239,191,189),Z=C;continue}C=(Z-55296<<10|C-56320)+65536}else Z&&(A-=3)>-1&&oe.push(239,191,189);if(Z=null,C<128){if((A-=1)<0)break;oe.push(C)}else if(C<2048){if((A-=2)<0)break;oe.push(C>>6|192,C&63|128)}else if(C<65536){if((A-=3)<0)break;oe.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((A-=4)<0)break;oe.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return oe}function te(F){for(var A=[],C=0;C<F.length;++C)A.push(F.charCodeAt(C)&255);return A}function J(F,A){for(var C,D,Z,oe=[],ne=0;ne<F.length&&!((A-=2)<0);++ne)C=F.charCodeAt(ne),D=C>>8,Z=C%256,oe.push(Z),oe.push(D);return oe}function W(F){return e.toByteArray(B(F))}function $(F,A,C,D){for(var Z=0;Z<D&&!(Z+C>=A.length||Z>=F.length);++Z)A[Z+C]=F[Z];return Z}function ge(F,A){return F instanceof A||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===A.name}function N(F){return F!==F}var ve=(function(){for(var F="0123456789abcdef",A=new Array(256),C=0;C<16;++C)for(var D=C*16,Z=0;Z<16;++Z)A[D+Z]=F[C]+F[Z];return A})()})(Z0)),Z0}var J0={},ey={},ty,zT;function E5(){return zT||(zT=1,ty=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,t);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),ty}var ry,jT;function Rx(){if(jT)return ry;jT=1;var r=E5();return ry=function(){return r()&&!!Symbol.toStringTag},ry}var ny,PT;function T5(){return PT||(PT=1,ny=Object),ny}var iy,FT;function wW(){return FT||(FT=1,iy=Error),iy}var sy,IT;function SW(){return IT||(IT=1,sy=EvalError),sy}var ay,UT;function kW(){return UT||(UT=1,ay=RangeError),ay}var ly,HT;function AW(){return HT||(HT=1,ly=ReferenceError),ly}var oy,qT;function C5(){return qT||(qT=1,oy=SyntaxError),oy}var uy,WT;function uf(){return WT||(WT=1,uy=TypeError),uy}var cy,VT;function EW(){return VT||(VT=1,cy=URIError),cy}var fy,$T;function TW(){return $T||($T=1,fy=Math.abs),fy}var hy,GT;function CW(){return GT||(GT=1,hy=Math.floor),hy}var dy,QT;function OW(){return QT||(QT=1,dy=Math.max),dy}var py,XT;function _W(){return XT||(XT=1,py=Math.min),py}var my,YT;function RW(){return YT||(YT=1,my=Math.pow),my}var gy,KT;function MW(){return KT||(KT=1,gy=Math.round),gy}var yy,ZT;function NW(){return ZT||(ZT=1,yy=Number.isNaN||function(e){return e!==e}),yy}var vy,JT;function DW(){if(JT)return vy;JT=1;var r=NW();return vy=function(t){return r(t)||t===0?t:t<0?-1:1},vy}var by,eC;function LW(){return eC||(eC=1,by=Object.getOwnPropertyDescriptor),by}var xy,tC;function cf(){if(tC)return xy;tC=1;var r=LW();if(r)try{r([],"length")}catch{r=null}return xy=r,xy}var wy,rC;function Hp(){if(rC)return wy;rC=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return wy=r,wy}var Sy,nC;function BW(){if(nC)return Sy;nC=1;var r=typeof Symbol<"u"&&Symbol,e=E5();return Sy=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Sy}var ky,iC;function O5(){return iC||(iC=1,ky=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),ky}var Ay,sC;function _5(){if(sC)return Ay;sC=1;var r=T5();return Ay=r.getPrototypeOf||null,Ay}var Ey,aC;function zW(){if(aC)return Ey;aC=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(c,h){for(var d=[],m=0;m<c.length;m+=1)d[m]=c[m];for(var g=0;g<h.length;g+=1)d[g+c.length]=h[g];return d},s=function(c,h){for(var d=[],m=h,g=0;m<c.length;m+=1,g+=1)d[g]=c[m];return d},l=function(u,c){for(var h="",d=0;d<u.length;d+=1)h+=u[d],d+1<u.length&&(h+=c);return h};return Ey=function(c){var h=this;if(typeof h!="function"||e.apply(h)!==n)throw new TypeError(r+h);for(var d=s(arguments,1),m,g=function(){if(this instanceof m){var x=h.apply(this,i(d,arguments));return Object(x)===x?x:this}return h.apply(c,i(d,arguments))},y=t(0,h.length-d.length),b=[],w=0;w<y;w++)b[w]="$"+w;if(m=Function("binder","return function ("+l(b,",")+"){ return binder.apply(this,arguments); }")(g),h.prototype){var E=function(){};E.prototype=h.prototype,m.prototype=new E,E.prototype=null}return m},Ey}var Ty,lC;function ff(){if(lC)return Ty;lC=1;var r=zW();return Ty=Function.prototype.bind||r,Ty}var Cy,oC;function Mx(){return oC||(oC=1,Cy=Function.prototype.call),Cy}var Oy,uC;function R5(){return uC||(uC=1,Oy=Function.prototype.apply),Oy}var _y,cC;function jW(){return cC||(cC=1,_y=typeof Reflect<"u"&&Reflect&&Reflect.apply),_y}var Ry,fC;function PW(){if(fC)return Ry;fC=1;var r=ff(),e=R5(),t=Mx(),n=jW();return Ry=n||r.call(t,e),Ry}var My,hC;function FW(){if(hC)return My;hC=1;var r=ff(),e=uf(),t=Mx(),n=PW();return My=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(r,t,s)},My}var Ny,dC;function IW(){if(dC)return Ny;dC=1;var r=FW(),e=cf(),t;try{t=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Ny=n&&typeof n.get=="function"?r([n.get]):typeof s=="function"?(function(u){return s(u==null?u:i(u))}):!1,Ny}var Dy,pC;function UW(){if(pC)return Dy;pC=1;var r=O5(),e=_5(),t=IW();return Dy=r?function(i){return r(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,Dy}var Ly,mC;function HW(){if(mC)return Ly;mC=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=ff();return Ly=t.call(r,e),Ly}var By,gC;function Nx(){if(gC)return By;gC=1;var r,e=T5(),t=wW(),n=SW(),i=kW(),s=AW(),l=C5(),u=uf(),c=EW(),h=TW(),d=CW(),m=OW(),g=_W(),y=RW(),b=MW(),w=DW(),E=Function,x=function(te){try{return E('"use strict"; return ('+te+").constructor;")()}catch{}},k=cf(),O=Hp(),T=function(){throw new u},_=k?(function(){try{return arguments.callee,T}catch{try{return k(arguments,"callee").get}catch{return T}}})():T,H=BW()(),M=UW(),Q=_5(),P=O5(),re=R5(),pe=Mx(),U={},X=typeof Uint8Array>"u"||!M?r:M(Uint8Array),R={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":H&&M?M([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":E,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H&&M?M(M([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H||!M?r:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":k,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H||!M?r:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H&&M?M(""[Symbol.iterator]()):r,"%Symbol%":H?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":_,"%TypedArray%":X,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":pe,"%Function.prototype.apply%":re,"%Object.defineProperty%":O,"%Object.getPrototypeOf%":Q,"%Math.abs%":h,"%Math.floor%":d,"%Math.max%":m,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":b,"%Math.sign%":w,"%Reflect.getPrototypeOf%":P};if(M)try{null.error}catch(te){var ee=M(M(te));R["%Error.prototype%"]=ee}var Y=function te(J){var W;if(J==="%AsyncFunction%")W=x("async function () {}");else if(J==="%GeneratorFunction%")W=x("function* () {}");else if(J==="%AsyncGeneratorFunction%")W=x("async function* () {}");else if(J==="%AsyncGenerator%"){var $=te("%AsyncGeneratorFunction%");$&&(W=$.prototype)}else if(J==="%AsyncIteratorPrototype%"){var ge=te("%AsyncGenerator%");ge&&M&&(W=M(ge.prototype))}return R[J]=W,W},G={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ue=ff(),ce=HW(),ke=ue.call(pe,Array.prototype.concat),q=ue.call(re,Array.prototype.splice),I=ue.call(pe,String.prototype.replace),K=ue.call(pe,String.prototype.slice),se=ue.call(pe,RegExp.prototype.exec),he=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,B=function(J){var W=K(J,0,1),$=K(J,-1);if(W==="%"&&$!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if($==="%"&&W!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var ge=[];return I(J,he,function(N,ve,F,A){ge[ge.length]=F?I(A,ie,"$1"):ve||N}),ge},L=function(J,W){var $=J,ge;if(ce(G,$)&&(ge=G[$],$="%"+ge[0]+"%"),ce(R,$)){var N=R[$];if(N===U&&(N=Y($)),typeof N>"u"&&!W)throw new u("intrinsic "+J+" exists, but is not available. Please file an issue!");return{alias:ge,name:$,value:N}}throw new l("intrinsic "+J+" does not exist!")};return By=function(J,W){if(typeof J!="string"||J.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof W!="boolean")throw new u('"allowMissing" argument must be a boolean');if(se(/^%?[^%]*%?$/,J)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $=B(J),ge=$.length>0?$[0]:"",N=L("%"+ge+"%",W),ve=N.name,F=N.value,A=!1,C=N.alias;C&&(ge=C[0],q($,ke([0,1],C)));for(var D=1,Z=!0;D<$.length;D+=1){var oe=$[D],ne=K(oe,0,1),Ee=K(oe,-1);if((ne==='"'||ne==="'"||ne==="`"||Ee==='"'||Ee==="'"||Ee==="`")&&ne!==Ee)throw new l("property names with quotes must have matching quotes");if((oe==="constructor"||!Z)&&(A=!0),ge+="."+oe,ve="%"+ge+"%",ce(R,ve))F=R[ve];else if(F!=null){if(!(oe in F)){if(!W)throw new u("base intrinsic for "+J+" exists, but the property is not available.");return}if(k&&D+1>=$.length){var Te=k(F,oe);Z=!!Te,Z&&"get"in Te&&!("originalValue"in Te.get)?F=Te.get:F=F[oe]}else Z=ce(F,oe),F=F[oe];Z&&!A&&(R[ve]=F)}}return F},By}var zy={exports:{}},jy,yC;function qW(){if(yC)return jy;yC=1;var r=Hp(),e=C5(),t=uf(),n=cf();return jy=function(s,l,u){if(!s||typeof s!="object"&&typeof s!="function")throw new t("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,g=!!n&&n(s,l);if(r)r(s,l,{configurable:d===null&&g?g.configurable:!d,enumerable:c===null&&g?g.enumerable:!c,value:u,writable:h===null&&g?g.writable:!h});else if(m||!c&&!h&&!d)s[l]=u;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},jy}var Py,vC;function WW(){if(vC)return Py;vC=1;var r=Hp(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},Py=e,Py}var Fy,bC;function VW(){if(bC)return Fy;bC=1;var r=Nx(),e=qW(),t=WW()(),n=cf(),i=uf(),s=r("%Math.floor%");return Fy=function(u,c){if(typeof u!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||s(c)!==c)throw new i("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],d=!0,m=!0;if("length"in u&&n){var g=n(u,"length");g&&!g.configurable&&(d=!1),g&&!g.writable&&(m=!1)}return(d||m||!h)&&(t?e(u,"length",c,!0,!0):e(u,"length",c)),u},Fy}var xC;function M5(){return xC||(xC=1,(function(r){var e=ff(),t=Nx(),n=VW(),i=uf(),s=t("%Function.prototype.apply%"),l=t("%Function.prototype.call%"),u=t("%Reflect.apply%",!0)||e.call(l,s),c=Hp(),h=t("%Math.max%");r.exports=function(g){if(typeof g!="function")throw new i("a function is required");var y=u(e,l,arguments);return n(y,1+h(0,g.length-(arguments.length-1)),!0)};var d=function(){return u(e,s,arguments)};c?c(r.exports,"apply",{value:d}):r.exports.apply=d})(zy)),zy.exports}var Iy,wC;function N5(){if(wC)return Iy;wC=1;var r=Nx(),e=M5(),t=e(r("String.prototype.indexOf"));return Iy=function(i,s){var l=r(i,!!s);return typeof l=="function"&&t(i,".prototype.")>-1?e(l):l},Iy}var Uy,SC;function $W(){if(SC)return Uy;SC=1;var r=Rx()(),e=N5(),t=e("Object.prototype.toString"),n=function(u){return r&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:t(u)==="[object Arguments]"},i=function(u){return n(u)?!0:u!==null&&typeof u=="object"&&typeof u.length=="number"&&u.length>=0&&t(u)!=="[object Array]"&&t(u.callee)==="[object Function]"},s=(function(){return n(arguments)})();return n.isLegacyArguments=i,Uy=s?n:i,Uy}var Hy,kC;function GW(){if(kC)return Hy;kC=1;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,n=Rx()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},l;return Hy=function(c){if(typeof c!="function")return!1;if(t.test(e.call(c)))return!0;if(!n){var h=r.call(c);return h==="[object GeneratorFunction]"}if(!i)return!1;if(typeof l>"u"){var d=s();l=d?i(d):!1}return i(c)===l},Hy}var qy,AC;function QW(){if(AC)return qy;AC=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(k){k!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(O){try{var T=r.call(O);return i.test(T)}catch{return!1}},l=function(O){try{return s(O)?!1:(r.call(O),!0)}catch{return!1}},u=Object.prototype.toString,c="[object Object]",h="[object Function]",d="[object GeneratorFunction]",m="[object HTMLAllCollection]",g="[object HTML document.all class]",y="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),E=function(){return!1};if(typeof document=="object"){var x=document.all;u.call(x)===u.call(document.all)&&(E=function(O){if((w||!O)&&(typeof O>"u"||typeof O=="object"))try{var T=u.call(O);return(T===m||T===g||T===y||T===c)&&O("")==null}catch{}return!1})}return qy=e?function(O){if(E(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;try{e(O,null,t)}catch(T){if(T!==n)return!1}return!s(O)&&l(O)}:function(O){if(E(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;if(b)return l(O);if(s(O))return!1;var T=u.call(O);return T!==h&&T!==d&&!/^\[object HTML/.test(T)?!1:l(O)},qy}var Wy,EC;function XW(){if(EC)return Wy;EC=1;var r=QW(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(c,h,d){for(var m=0,g=c.length;m<g;m++)t.call(c,m)&&(d==null?h(c[m],m,c):h.call(d,c[m],m,c))},i=function(c,h,d){for(var m=0,g=c.length;m<g;m++)d==null?h(c.charAt(m),m,c):h.call(d,c.charAt(m),m,c)},s=function(c,h,d){for(var m in c)t.call(c,m)&&(d==null?h(c[m],m,c):h.call(d,c[m],m,c))},l=function(c,h,d){if(!r(h))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=d),e.call(c)==="[object Array]"?n(c,h,m):typeof c=="string"?i(c,h,m):s(c,h,m)};return Wy=l,Wy}var Vy,TC;function YW(){return TC||(TC=1,Vy=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Vy}var $y,CC;function KW(){if(CC)return $y;CC=1;var r=YW(),e=typeof globalThis>"u"?Bi:globalThis;return $y=function(){for(var n=[],i=0;i<r.length;i++)typeof e[r[i]]=="function"&&(n[n.length]=r[i]);return n},$y}var Gy,OC;function D5(){if(OC)return Gy;OC=1;var r=XW(),e=KW(),t=M5(),n=N5(),i=cf(),s=n("Object.prototype.toString"),l=Rx()(),u=typeof globalThis>"u"?Bi:globalThis,c=e(),h=n("String.prototype.slice"),d=Object.getPrototypeOf,m=n("Array.prototype.indexOf",!0)||function(E,x){for(var k=0;k<E.length;k+=1)if(E[k]===x)return k;return-1},g={__proto__:null};l&&i&&d?r(c,function(w){var E=new u[w];if(Symbol.toStringTag in E){var x=d(E),k=i(x,Symbol.toStringTag);if(!k){var O=d(x);k=i(O,Symbol.toStringTag)}g["$"+w]=t(k.get)}}):r(c,function(w){var E=new u[w],x=E.slice||E.set;x&&(g["$"+w]=t(x))});var y=function(E){var x=!1;return r(g,function(k,O){if(!x)try{"$"+k(E)===O&&(x=h(O,1))}catch{}}),x},b=function(E){var x=!1;return r(g,function(k,O){if(!x)try{k(E),x=h(O,1)}catch{}}),x};return Gy=function(E){if(!E||typeof E!="object")return!1;if(!l){var x=h(s(E),8,-1);return m(c,x)>-1?x:x!=="Object"?!1:b(E)}return i?y(E):null},Gy}var Qy,_C;function ZW(){if(_C)return Qy;_C=1;var r=D5();return Qy=function(t){return!!r(t)},Qy}var RC;function JW(){return RC||(RC=1,(function(r){var e=$W(),t=GW(),n=D5(),i=ZW();function s(D){return D.call.bind(D)}var l=typeof BigInt<"u",u=typeof Symbol<"u",c=s(Object.prototype.toString),h=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),m=s(Boolean.prototype.valueOf);if(l)var g=s(BigInt.prototype.valueOf);if(u)var y=s(Symbol.prototype.valueOf);function b(D,Z){if(typeof D!="object")return!1;try{return Z(D),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=i;function w(D){return typeof Promise<"u"&&D instanceof Promise||D!==null&&typeof D=="object"&&typeof D.then=="function"&&typeof D.catch=="function"}r.isPromise=w;function E(D){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(D):i(D)||K(D)}r.isArrayBufferView=E;function x(D){return n(D)==="Uint8Array"}r.isUint8Array=x;function k(D){return n(D)==="Uint8ClampedArray"}r.isUint8ClampedArray=k;function O(D){return n(D)==="Uint16Array"}r.isUint16Array=O;function T(D){return n(D)==="Uint32Array"}r.isUint32Array=T;function _(D){return n(D)==="Int8Array"}r.isInt8Array=_;function H(D){return n(D)==="Int16Array"}r.isInt16Array=H;function M(D){return n(D)==="Int32Array"}r.isInt32Array=M;function Q(D){return n(D)==="Float32Array"}r.isFloat32Array=Q;function P(D){return n(D)==="Float64Array"}r.isFloat64Array=P;function re(D){return n(D)==="BigInt64Array"}r.isBigInt64Array=re;function pe(D){return n(D)==="BigUint64Array"}r.isBigUint64Array=pe;function U(D){return c(D)==="[object Map]"}U.working=typeof Map<"u"&&U(new Map);function X(D){return typeof Map>"u"?!1:U.working?U(D):D instanceof Map}r.isMap=X;function R(D){return c(D)==="[object Set]"}R.working=typeof Set<"u"&&R(new Set);function ee(D){return typeof Set>"u"?!1:R.working?R(D):D instanceof Set}r.isSet=ee;function Y(D){return c(D)==="[object WeakMap]"}Y.working=typeof WeakMap<"u"&&Y(new WeakMap);function G(D){return typeof WeakMap>"u"?!1:Y.working?Y(D):D instanceof WeakMap}r.isWeakMap=G;function ue(D){return c(D)==="[object WeakSet]"}ue.working=typeof WeakSet<"u"&&ue(new WeakSet);function ce(D){return ue(D)}r.isWeakSet=ce;function ke(D){return c(D)==="[object ArrayBuffer]"}ke.working=typeof ArrayBuffer<"u"&&ke(new ArrayBuffer);function q(D){return typeof ArrayBuffer>"u"?!1:ke.working?ke(D):D instanceof ArrayBuffer}r.isArrayBuffer=q;function I(D){return c(D)==="[object DataView]"}I.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&I(new DataView(new ArrayBuffer(1),0,1));function K(D){return typeof DataView>"u"?!1:I.working?I(D):D instanceof DataView}r.isDataView=K;var se=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function he(D){return c(D)==="[object SharedArrayBuffer]"}function ie(D){return typeof se>"u"?!1:(typeof he.working>"u"&&(he.working=he(new se)),he.working?he(D):D instanceof se)}r.isSharedArrayBuffer=ie;function B(D){return c(D)==="[object AsyncFunction]"}r.isAsyncFunction=B;function L(D){return c(D)==="[object Map Iterator]"}r.isMapIterator=L;function te(D){return c(D)==="[object Set Iterator]"}r.isSetIterator=te;function J(D){return c(D)==="[object Generator]"}r.isGeneratorObject=J;function W(D){return c(D)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=W;function $(D){return b(D,h)}r.isNumberObject=$;function ge(D){return b(D,d)}r.isStringObject=ge;function N(D){return b(D,m)}r.isBooleanObject=N;function ve(D){return l&&b(D,g)}r.isBigIntObject=ve;function F(D){return u&&b(D,y)}r.isSymbolObject=F;function A(D){return $(D)||ge(D)||N(D)||ve(D)||F(D)}r.isBoxedPrimitive=A;function C(D){return typeof Uint8Array<"u"&&(q(D)||ie(D))}r.isAnyArrayBuffer=C,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(D){Object.defineProperty(r,D,{enumerable:!1,value:function(){throw new Error(D+" is not supported in userland")}})})})(ey)),ey}var Xy,MC;function eV(){return MC||(MC=1,Xy=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Xy}var NC;function L5(){return NC||(NC=1,(function(r){var e=Object.getOwnPropertyDescriptors||function(K){for(var se=Object.keys(K),he={},ie=0;ie<se.length;ie++)he[se[ie]]=Object.getOwnPropertyDescriptor(K,se[ie]);return he},t=/%[sdj%]/g;r.format=function(I){if(!_(I)){for(var K=[],se=0;se<arguments.length;se++)K.push(l(arguments[se]));return K.join(" ")}for(var se=1,he=arguments,ie=he.length,B=String(I).replace(t,function(te){if(te==="%%")return"%";if(se>=ie)return te;switch(te){case"%s":return String(he[se++]);case"%d":return Number(he[se++]);case"%j":try{return JSON.stringify(he[se++])}catch{return"[Circular]"}default:return te}}),L=he[se];se<ie;L=he[++se])k(L)||!P(L)?B+=" "+L:B+=" "+l(L);return B},r.deprecate=function(I,K){if(typeof ut<"u"&&ut.noDeprecation===!0)return I;if(typeof ut>"u")return function(){return r.deprecate(I,K).apply(this,arguments)};var se=!1;function he(){if(!se){if(ut.throwDeprecation)throw new Error(K);ut.traceDeprecation?console.trace(K):console.error(K),se=!0}return I.apply(this,arguments)}return he};var n={},i=/^$/;if(ut.env.NODE_DEBUG){var s=ut.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}r.debuglog=function(I){if(I=I.toUpperCase(),!n[I])if(i.test(I)){var K=ut.pid;n[I]=function(){var se=r.format.apply(r,arguments);console.error("%s %d: %s",I,K,se)}}else n[I]=function(){};return n[I]};function l(I,K){var se={seen:[],stylize:c};return arguments.length>=3&&(se.depth=arguments[2]),arguments.length>=4&&(se.colors=arguments[3]),x(K)?se.showHidden=K:K&&r._extend(se,K),M(se.showHidden)&&(se.showHidden=!1),M(se.depth)&&(se.depth=2),M(se.colors)&&(se.colors=!1),M(se.customInspect)&&(se.customInspect=!0),se.colors&&(se.stylize=u),d(se,I,se.depth)}r.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(I,K){var se=l.styles[K];return se?"\x1B["+l.colors[se][0]+"m"+I+"\x1B["+l.colors[se][1]+"m":I}function c(I,K){return I}function h(I){var K={};return I.forEach(function(se,he){K[se]=!0}),K}function d(I,K,se){if(I.customInspect&&K&&U(K.inspect)&&K.inspect!==r.inspect&&!(K.constructor&&K.constructor.prototype===K)){var he=K.inspect(se,I);return _(he)||(he=d(I,he,se)),he}var ie=m(I,K);if(ie)return ie;var B=Object.keys(K),L=h(B);if(I.showHidden&&(B=Object.getOwnPropertyNames(K)),pe(K)&&(B.indexOf("message")>=0||B.indexOf("description")>=0))return g(K);if(B.length===0){if(U(K)){var te=K.name?": "+K.name:"";return I.stylize("[Function"+te+"]","special")}if(Q(K))return I.stylize(RegExp.prototype.toString.call(K),"regexp");if(re(K))return I.stylize(Date.prototype.toString.call(K),"date");if(pe(K))return g(K)}var J="",W=!1,$=["{","}"];if(E(K)&&(W=!0,$=["[","]"]),U(K)){var ge=K.name?": "+K.name:"";J=" [Function"+ge+"]"}if(Q(K)&&(J=" "+RegExp.prototype.toString.call(K)),re(K)&&(J=" "+Date.prototype.toUTCString.call(K)),pe(K)&&(J=" "+g(K)),B.length===0&&(!W||K.length==0))return $[0]+J+$[1];if(se<0)return Q(K)?I.stylize(RegExp.prototype.toString.call(K),"regexp"):I.stylize("[Object]","special");I.seen.push(K);var N;return W?N=y(I,K,se,L,B):N=B.map(function(ve){return b(I,K,se,L,ve,W)}),I.seen.pop(),w(N,J,$)}function m(I,K){if(M(K))return I.stylize("undefined","undefined");if(_(K)){var se="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(se,"string")}if(T(K))return I.stylize(""+K,"number");if(x(K))return I.stylize(""+K,"boolean");if(k(K))return I.stylize("null","null")}function g(I){return"["+Error.prototype.toString.call(I)+"]"}function y(I,K,se,he,ie){for(var B=[],L=0,te=K.length;L<te;++L)ue(K,String(L))?B.push(b(I,K,se,he,String(L),!0)):B.push("");return ie.forEach(function(J){J.match(/^\d+$/)||B.push(b(I,K,se,he,J,!0))}),B}function b(I,K,se,he,ie,B){var L,te,J;if(J=Object.getOwnPropertyDescriptor(K,ie)||{value:K[ie]},J.get?J.set?te=I.stylize("[Getter/Setter]","special"):te=I.stylize("[Getter]","special"):J.set&&(te=I.stylize("[Setter]","special")),ue(he,ie)||(L="["+ie+"]"),te||(I.seen.indexOf(J.value)<0?(k(se)?te=d(I,J.value,null):te=d(I,J.value,se-1),te.indexOf(`
`)>-1&&(B?te=te.split(`
`).map(function(W){return"  "+W}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(W){return"   "+W}).join(`
`))):te=I.stylize("[Circular]","special")),M(L)){if(B&&ie.match(/^\d+$/))return te;L=JSON.stringify(""+ie),L.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.slice(1,-1),L=I.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=I.stylize(L,"string"))}return L+": "+te}function w(I,K,se){var he=I.reduce(function(ie,B){return B.indexOf(`
`)>=0,ie+B.replace(/\u001b\[\d\d?m/g,"").length+1},0);return he>60?se[0]+(K===""?"":K+`
 `)+" "+I.join(`,
  `)+" "+se[1]:se[0]+K+" "+I.join(", ")+" "+se[1]}r.types=JW();function E(I){return Array.isArray(I)}r.isArray=E;function x(I){return typeof I=="boolean"}r.isBoolean=x;function k(I){return I===null}r.isNull=k;function O(I){return I==null}r.isNullOrUndefined=O;function T(I){return typeof I=="number"}r.isNumber=T;function _(I){return typeof I=="string"}r.isString=_;function H(I){return typeof I=="symbol"}r.isSymbol=H;function M(I){return I===void 0}r.isUndefined=M;function Q(I){return P(I)&&R(I)==="[object RegExp]"}r.isRegExp=Q,r.types.isRegExp=Q;function P(I){return typeof I=="object"&&I!==null}r.isObject=P;function re(I){return P(I)&&R(I)==="[object Date]"}r.isDate=re,r.types.isDate=re;function pe(I){return P(I)&&(R(I)==="[object Error]"||I instanceof Error)}r.isError=pe,r.types.isNativeError=pe;function U(I){return typeof I=="function"}r.isFunction=U;function X(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||typeof I>"u"}r.isPrimitive=X,r.isBuffer=eV();function R(I){return Object.prototype.toString.call(I)}function ee(I){return I<10?"0"+I.toString(10):I.toString(10)}var Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var I=new Date,K=[ee(I.getHours()),ee(I.getMinutes()),ee(I.getSeconds())].join(":");return[I.getDate(),Y[I.getMonth()],K].join(" ")}r.log=function(){console.log("%s - %s",G(),r.format.apply(r,arguments))},r.inherits=xa(),r._extend=function(I,K){if(!K||!P(K))return I;for(var se=Object.keys(K),he=se.length;he--;)I[se[he]]=K[se[he]];return I};function ue(I,K){return Object.prototype.hasOwnProperty.call(I,K)}var ce=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');if(ce&&K[ce]){var se=K[ce];if(typeof se!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(se,ce,{value:se,enumerable:!1,writable:!1,configurable:!0}),se}function se(){for(var he,ie,B=new Promise(function(J,W){he=J,ie=W}),L=[],te=0;te<arguments.length;te++)L.push(arguments[te]);L.push(function(J,W){J?ie(J):he(W)});try{K.apply(this,L)}catch(J){ie(J)}return B}return Object.setPrototypeOf(se,Object.getPrototypeOf(K)),ce&&Object.defineProperty(se,ce,{value:se,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(se,e(K))},r.promisify.custom=ce;function ke(I,K){if(!I){var se=new Error("Promise was rejected with a falsy value");se.reason=I,I=se}return K(I)}function q(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function K(){for(var se=[],he=0;he<arguments.length;he++)se.push(arguments[he]);var ie=se.pop();if(typeof ie!="function")throw new TypeError("The last argument must be of type Function");var B=this,L=function(){return ie.apply(B,arguments)};I.apply(this,se).then(function(te){ut.nextTick(L.bind(null,null,te))},function(te){ut.nextTick(ke.bind(null,te,L))})}return Object.setPrototypeOf(K,Object.getPrototypeOf(I)),Object.defineProperties(K,e(I)),K}r.callbackify=q})(J0)),J0}var Yy,DC;function tV(){if(DC)return Yy;DC=1;function r(g,y){var b=Object.keys(g);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(g);y&&(w=w.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),b.push.apply(b,w)}return b}function e(g){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{};y%2?r(Object(b),!0).forEach(function(w){t(g,w,b[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):r(Object(b)).forEach(function(w){Object.defineProperty(g,w,Object.getOwnPropertyDescriptor(b,w))})}return g}function t(g,y,b){return y in g?Object.defineProperty(g,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[y]=b,g}function n(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function i(g,y){for(var b=0;b<y.length;b++){var w=y[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}function s(g,y,b){return y&&i(g.prototype,y),g}var l=Up(),u=l.Buffer,c=L5(),h=c.inspect,d=h&&h.custom||"inspect";function m(g,y,b){u.prototype.copy.call(g,y,b)}return Yy=(function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return s(g,[{key:"push",value:function(b){var w={data:b,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(b){var w={data:b,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var w=this.head,E=""+w.data;w=w.next;)E+=b+w.data;return E}},{key:"concat",value:function(b){if(this.length===0)return u.alloc(0);for(var w=u.allocUnsafe(b>>>0),E=this.head,x=0;E;)m(E.data,w,x),x+=E.data.length,E=E.next;return w}},{key:"consume",value:function(b,w){var E;return b<this.head.data.length?(E=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?E=this.shift():E=w?this._getString(b):this._getBuffer(b),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var w=this.head,E=1,x=w.data;for(b-=x.length;w=w.next;){var k=w.data,O=b>k.length?k.length:b;if(O===k.length?x+=k:x+=k.slice(0,b),b-=O,b===0){O===k.length?(++E,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=k.slice(O));break}++E}return this.length-=E,x}},{key:"_getBuffer",value:function(b){var w=u.allocUnsafe(b),E=this.head,x=1;for(E.data.copy(w),b-=E.data.length;E=E.next;){var k=E.data,O=b>k.length?k.length:b;if(k.copy(w,w.length-b,0,O),b-=O,b===0){O===k.length?(++x,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=k.slice(O));break}++x}return this.length-=x,w}},{key:d,value:function(b,w){return h(this,e({},w,{depth:0,customInspect:!1}))}}]),g})(),Yy}var Ky,LC;function B5(){if(LC)return Ky;LC=1;function r(l,u){var c=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(u?u(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ut.nextTick(i,this,l)):ut.nextTick(i,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(m){!u&&m?c._writableState?c._writableState.errorEmitted?ut.nextTick(t,c):(c._writableState.errorEmitted=!0,ut.nextTick(e,c,m)):ut.nextTick(e,c,m):u?(ut.nextTick(t,c),u(m)):ut.nextTick(t,c)}),this)}function e(l,u){i(l,u),t(l)}function t(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(l,u){l.emit("error",u)}function s(l,u){var c=l._readableState,h=l._writableState;c&&c.autoDestroy||h&&h.autoDestroy?l.destroy(u):l.emit("error",u)}return Ky={destroy:r,undestroy:n,errorOrDestroy:s},Ky}var Zy={},BC;function tu(){if(BC)return Zy;BC=1;function r(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,u.__proto__=c}var e={};function t(u,c,h){h||(h=Error);function d(g,y,b){return typeof c=="string"?c:c(g,y,b)}var m=(function(g){r(y,g);function y(b,w,E){return g.call(this,d(b,w,E))||this}return y})(h);m.prototype.name=h.name,m.prototype.code=u,e[u]=m}function n(u,c){if(Array.isArray(u)){var h=u.length;return u=u.map(function(d){return String(d)}),h>2?"one of ".concat(c," ").concat(u.slice(0,h-1).join(", "),", or ")+u[h-1]:h===2?"one of ".concat(c," ").concat(u[0]," or ").concat(u[1]):"of ".concat(c," ").concat(u[0])}else return"of ".concat(c," ").concat(String(u))}function i(u,c,h){return u.substr(0,c.length)===c}function s(u,c,h){return(h===void 0||h>u.length)&&(h=u.length),u.substring(h-c.length,h)===c}function l(u,c,h){return typeof h!="number"&&(h=0),h+c.length>u.length?!1:u.indexOf(c,h)!==-1}return t("ERR_INVALID_OPT_VALUE",function(u,c){return'The value "'+c+'" is invalid for option "'+u+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(u,c,h){var d;typeof c=="string"&&i(c,"not ")?(d="must not be",c=c.replace(/^not /,"")):d="must be";var m;if(s(u," argument"))m="The ".concat(u," ").concat(d," ").concat(n(c,"type"));else{var g=l(u,".")?"property":"argument";m='The "'.concat(u,'" ').concat(g," ").concat(d," ").concat(n(c,"type"))}return m+=". Received type ".concat(typeof h),m},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Zy.codes=e,Zy}var Jy,zC;function z5(){if(zC)return Jy;zC=1;var r=tu().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function t(n,i,s,l){var u=e(i,l,s);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var c=l?s:"highWaterMark";throw new r(c,u)}return Math.floor(u)}return n.objectMode?16:16*1024}return Jy={getHighWaterMark:t},Jy}var ev,jC;function rV(){if(jC)return ev;jC=1,ev=r;function r(t,n){if(e("noDeprecation"))return t;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return t.apply(this,arguments)}return s}function e(t){try{if(!Bi.localStorage)return!1}catch{return!1}var n=Bi.localStorage[t];return n==null?!1:String(n).toLowerCase()==="true"}return ev}var tv,PC;function j5(){if(PC)return tv;PC=1,tv=Q;function r(ie){var B=this;this.next=null,this.entry=null,this.finish=function(){he(B,ie)}}var e;Q.WritableState=H;var t={deprecate:rV()},n=A5(),i=Up().Buffer,s=Bi.Uint8Array||function(){};function l(ie){return i.from(ie)}function u(ie){return i.isBuffer(ie)||ie instanceof s}var c=B5(),h=z5(),d=h.getHighWaterMark,m=tu().codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,w=m.ERR_STREAM_CANNOT_PIPE,E=m.ERR_STREAM_DESTROYED,x=m.ERR_STREAM_NULL_VALUES,k=m.ERR_STREAM_WRITE_AFTER_END,O=m.ERR_UNKNOWN_ENCODING,T=c.errorOrDestroy;xa()(Q,n);function _(){}function H(ie,B,L){e=e||$o(),ie=ie||{},typeof L!="boolean"&&(L=B instanceof e),this.objectMode=!!ie.objectMode,L&&(this.objectMode=this.objectMode||!!ie.writableObjectMode),this.highWaterMark=d(this,ie,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=ie.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(J){Y(B,J)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ie.emitClose!==!1,this.autoDestroy=!!ie.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}H.prototype.getBuffer=function(){for(var B=this.bufferedRequest,L=[];B;)L.push(B),B=B.next;return L},(function(){try{Object.defineProperty(H.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(B){return M.call(this,B)?!0:this!==Q?!1:B&&B._writableState instanceof H}})):M=function(B){return B instanceof this};function Q(ie){e=e||$o();var B=this instanceof e;if(!B&&!M.call(Q,this))return new Q(ie);this._writableState=new H(ie,this,B),this.writable=!0,ie&&(typeof ie.write=="function"&&(this._write=ie.write),typeof ie.writev=="function"&&(this._writev=ie.writev),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.final=="function"&&(this._final=ie.final)),n.call(this)}Q.prototype.pipe=function(){T(this,new w)};function P(ie,B){var L=new k;T(ie,L),ut.nextTick(B,L)}function re(ie,B,L,te){var J;return L===null?J=new x:typeof L!="string"&&!B.objectMode&&(J=new g("chunk",["string","Buffer"],L)),J?(T(ie,J),ut.nextTick(te,J),!1):!0}Q.prototype.write=function(ie,B,L){var te=this._writableState,J=!1,W=!te.objectMode&&u(ie);return W&&!i.isBuffer(ie)&&(ie=l(ie)),typeof B=="function"&&(L=B,B=null),W?B="buffer":B||(B=te.defaultEncoding),typeof L!="function"&&(L=_),te.ending?P(this,L):(W||re(this,te,ie,L))&&(te.pendingcb++,J=U(this,te,W,ie,B,L)),J},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var ie=this._writableState;ie.corked&&(ie.corked--,!ie.writing&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&ce(this,ie))},Q.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new O(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function pe(ie,B,L){return!ie.objectMode&&ie.decodeStrings!==!1&&typeof B=="string"&&(B=i.from(B,L)),B}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function U(ie,B,L,te,J,W){if(!L){var $=pe(B,te,J);te!==$&&(L=!0,J="buffer",te=$)}var ge=B.objectMode?1:te.length;B.length+=ge;var N=B.length<B.highWaterMark;if(N||(B.needDrain=!0),B.writing||B.corked){var ve=B.lastBufferedRequest;B.lastBufferedRequest={chunk:te,encoding:J,isBuf:L,callback:W,next:null},ve?ve.next=B.lastBufferedRequest:B.bufferedRequest=B.lastBufferedRequest,B.bufferedRequestCount+=1}else X(ie,B,!1,ge,te,J,W);return N}function X(ie,B,L,te,J,W,$){B.writelen=te,B.writecb=$,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new E("write")):L?ie._writev(J,B.onwrite):ie._write(J,W,B.onwrite),B.sync=!1}function R(ie,B,L,te,J){--B.pendingcb,L?(ut.nextTick(J,te),ut.nextTick(K,ie,B),ie._writableState.errorEmitted=!0,T(ie,te)):(J(te),ie._writableState.errorEmitted=!0,T(ie,te),K(ie,B))}function ee(ie){ie.writing=!1,ie.writecb=null,ie.length-=ie.writelen,ie.writelen=0}function Y(ie,B){var L=ie._writableState,te=L.sync,J=L.writecb;if(typeof J!="function")throw new b;if(ee(L),B)R(ie,L,te,B,J);else{var W=ke(L)||ie.destroyed;!W&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&ce(ie,L),te?ut.nextTick(G,ie,L,W,J):G(ie,L,W,J)}}function G(ie,B,L,te){L||ue(ie,B),B.pendingcb--,te(),K(ie,B)}function ue(ie,B){B.length===0&&B.needDrain&&(B.needDrain=!1,ie.emit("drain"))}function ce(ie,B){B.bufferProcessing=!0;var L=B.bufferedRequest;if(ie._writev&&L&&L.next){var te=B.bufferedRequestCount,J=new Array(te),W=B.corkedRequestsFree;W.entry=L;for(var $=0,ge=!0;L;)J[$]=L,L.isBuf||(ge=!1),L=L.next,$+=1;J.allBuffers=ge,X(ie,B,!0,B.length,J,"",W.finish),B.pendingcb++,B.lastBufferedRequest=null,W.next?(B.corkedRequestsFree=W.next,W.next=null):B.corkedRequestsFree=new r(B),B.bufferedRequestCount=0}else{for(;L;){var N=L.chunk,ve=L.encoding,F=L.callback,A=B.objectMode?1:N.length;if(X(ie,B,!1,A,N,ve,F),L=L.next,B.bufferedRequestCount--,B.writing)break}L===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=L,B.bufferProcessing=!1}Q.prototype._write=function(ie,B,L){L(new y("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(ie,B,L){var te=this._writableState;return typeof ie=="function"?(L=ie,ie=null,B=null):typeof B=="function"&&(L=B,B=null),ie!=null&&this.write(ie,B),te.corked&&(te.corked=1,this.uncork()),te.ending||se(this,te,L),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ke(ie){return ie.ending&&ie.length===0&&ie.bufferedRequest===null&&!ie.finished&&!ie.writing}function q(ie,B){ie._final(function(L){B.pendingcb--,L&&T(ie,L),B.prefinished=!0,ie.emit("prefinish"),K(ie,B)})}function I(ie,B){!B.prefinished&&!B.finalCalled&&(typeof ie._final=="function"&&!B.destroyed?(B.pendingcb++,B.finalCalled=!0,ut.nextTick(q,ie,B)):(B.prefinished=!0,ie.emit("prefinish")))}function K(ie,B){var L=ke(B);if(L&&(I(ie,B),B.pendingcb===0&&(B.finished=!0,ie.emit("finish"),B.autoDestroy))){var te=ie._readableState;(!te||te.autoDestroy&&te.endEmitted)&&ie.destroy()}return L}function se(ie,B,L){B.ending=!0,K(ie,B),L&&(B.finished?ut.nextTick(L):ie.once("finish",L)),B.ended=!0,ie.writable=!1}function he(ie,B,L){var te=ie.entry;for(ie.entry=null;te;){var J=te.callback;B.pendingcb--,J(L),te=te.next}B.corkedRequestsFree.next=ie}return Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),Q.prototype.destroy=c.destroy,Q.prototype._undestroy=c.undestroy,Q.prototype._destroy=function(ie,B){B(ie)},tv}var rv,FC;function $o(){if(FC)return rv;FC=1;var r=Object.keys||function(h){var d=[];for(var m in h)d.push(m);return d};rv=l;var e=P5(),t=j5();xa()(l,e);for(var n=r(t.prototype),i=0;i<n.length;i++){var s=n[i];l.prototype[s]||(l.prototype[s]=t.prototype[s])}function l(h){if(!(this instanceof l))return new l(h);e.call(this,h),t.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||ut.nextTick(c,this)}function c(h){h.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),rv}var nv={},nd={exports:{}},IC;function nV(){return IC||(IC=1,(function(r,e){var t=Up(),n=t.Buffer;function i(l,u){for(var c in l)u[c]=l[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(i(t,e),e.Buffer=s);function s(l,u,c){return n(l,u,c)}i(n,s),s.from=function(l,u,c){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,u,c)},s.alloc=function(l,u,c){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=n(l);return u!==void 0?typeof c=="string"?h.fill(u,c):h.fill(u):h.fill(0),h},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(l)}})(nd,nd.exports)),nd.exports}var UC;function tb(){if(UC)return nv;UC=1;var r=nV().Buffer,e=r.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(x){if(!x)return"utf8";for(var k;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(k)return;x=(""+x).toLowerCase(),k=!0}}function n(x){var k=t(x);if(typeof k!="string"&&(r.isEncoding===e||!e(x)))throw new Error("Unknown encoding: "+x);return k||x}nv.StringDecoder=i;function i(x){this.encoding=n(x);var k;switch(this.encoding){case"utf16le":this.text=m,this.end=g,k=4;break;case"utf8":this.fillLast=c,k=4;break;case"base64":this.text=y,this.end=b,k=3;break;default:this.write=w,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(k)}i.prototype.write=function(x){if(x.length===0)return"";var k,O;if(this.lastNeed){if(k=this.fillLast(x),k===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<x.length?k?k+this.text(x,O):this.text(x,O):k||""},i.prototype.end=d,i.prototype.text=h,i.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function s(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function l(x,k,O){var T=k.length-1;if(T<O)return 0;var _=s(k[T]);return _>=0?(_>0&&(x.lastNeed=_-1),_):--T<O||_===-2?0:(_=s(k[T]),_>=0?(_>0&&(x.lastNeed=_-2),_):--T<O||_===-2?0:(_=s(k[T]),_>=0?(_>0&&(_===2?_=0:x.lastNeed=_-3),_):0))}function u(x,k,O){if((k[0]&192)!==128)return x.lastNeed=0,"";if(x.lastNeed>1&&k.length>1){if((k[1]&192)!==128)return x.lastNeed=1,"";if(x.lastNeed>2&&k.length>2&&(k[2]&192)!==128)return x.lastNeed=2,""}}function c(x){var k=this.lastTotal-this.lastNeed,O=u(this,x);if(O!==void 0)return O;if(this.lastNeed<=x.length)return x.copy(this.lastChar,k,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,k,0,x.length),this.lastNeed-=x.length}function h(x,k){var O=l(this,x,k);if(!this.lastNeed)return x.toString("utf8",k);this.lastTotal=O;var T=x.length-(O-this.lastNeed);return x.copy(this.lastChar,0,T),x.toString("utf8",k,T)}function d(x){var k=x&&x.length?this.write(x):"";return this.lastNeed?k+"":k}function m(x,k){if((x.length-k)%2===0){var O=x.toString("utf16le",k);if(O){var T=O.charCodeAt(O.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",k,x.length-1)}function g(x){var k=x&&x.length?this.write(x):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return k+this.lastChar.toString("utf16le",0,O)}return k}function y(x,k){var O=(x.length-k)%3;return O===0?x.toString("base64",k):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",k,x.length-O))}function b(x){var k=x&&x.length?this.write(x):"";return this.lastNeed?k+this.lastChar.toString("base64",0,3-this.lastNeed):k}function w(x){return x.toString(this.encoding)}function E(x){return x&&x.length?this.write(x):""}return nv}var iv,HC;function Dx(){if(HC)return iv;HC=1;var r=tu().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var l=!1;return function(){if(!l){l=!0;for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];s.apply(this,c)}}}function t(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,l,u){if(typeof l=="function")return i(s,null,l);l||(l={}),u=e(u||t);var c=l.readable||l.readable!==!1&&s.readable,h=l.writable||l.writable!==!1&&s.writable,d=function(){s.writable||g()},m=s._writableState&&s._writableState.finished,g=function(){h=!1,m=!0,c||u.call(s)},y=s._readableState&&s._readableState.endEmitted,b=function(){c=!1,y=!0,h||u.call(s)},w=function(O){u.call(s,O)},E=function(){var O;if(c&&!y)return(!s._readableState||!s._readableState.ended)&&(O=new r),u.call(s,O);if(h&&!m)return(!s._writableState||!s._writableState.ended)&&(O=new r),u.call(s,O)},x=function(){s.req.on("finish",g)};return n(s)?(s.on("complete",g),s.on("abort",E),s.req?x():s.on("request",x)):h&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",b),s.on("finish",g),l.error!==!1&&s.on("error",w),s.on("close",E),function(){s.removeListener("complete",g),s.removeListener("abort",E),s.removeListener("request",x),s.req&&s.req.removeListener("finish",g),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",g),s.removeListener("end",b),s.removeListener("error",w),s.removeListener("close",E)}}return iv=i,iv}var sv,qC;function iV(){if(qC)return sv;qC=1;var r;function e(x,k,O){return k in x?Object.defineProperty(x,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[k]=O,x}var t=Dx(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),c=Symbol("handlePromise"),h=Symbol("stream");function d(x,k){return{value:x,done:k}}function m(x){var k=x[n];if(k!==null){var O=x[h].read();O!==null&&(x[u]=null,x[n]=null,x[i]=null,k(d(O,!1)))}}function g(x){ut.nextTick(m,x)}function y(x,k){return function(O,T){x.then(function(){if(k[l]){O(d(void 0,!0));return}k[c](O,T)},T)}}var b=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((r={get stream(){return this[h]},next:function(){var k=this,O=this[s];if(O!==null)return Promise.reject(O);if(this[l])return Promise.resolve(d(void 0,!0));if(this[h].destroyed)return new Promise(function(M,Q){ut.nextTick(function(){k[s]?Q(k[s]):M(d(void 0,!0))})});var T=this[u],_;if(T)_=new Promise(y(T,this));else{var H=this[h].read();if(H!==null)return Promise.resolve(d(H,!1));_=new Promise(this[c])}return this[u]=_,_}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var k=this;return new Promise(function(O,T){k[h].destroy(null,function(_){if(_){T(_);return}O(d(void 0,!0))})})}),r),b),E=function(k){var O,T=Object.create(w,(O={},e(O,h,{value:k,writable:!0}),e(O,n,{value:null,writable:!0}),e(O,i,{value:null,writable:!0}),e(O,s,{value:null,writable:!0}),e(O,l,{value:k._readableState.endEmitted,writable:!0}),e(O,c,{value:function(H,M){var Q=T[h].read();Q?(T[u]=null,T[n]=null,T[i]=null,H(d(Q,!1))):(T[n]=H,T[i]=M)},writable:!0}),O));return T[u]=null,t(k,function(_){if(_&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=T[i];H!==null&&(T[u]=null,T[n]=null,T[i]=null,H(_)),T[s]=_;return}var M=T[n];M!==null&&(T[u]=null,T[n]=null,T[i]=null,M(d(void 0,!0))),T[l]=!0}),k.on("readable",g.bind(null,T)),T};return sv=E,sv}var av,WC;function sV(){return WC||(WC=1,av=function(){throw new Error("Readable.from is not available in the browser")}),av}var lv,VC;function P5(){if(VC)return lv;VC=1,lv=P;var r;P.ReadableState=Q,_x().EventEmitter;var e=function($,ge){return $.listeners(ge).length},t=A5(),n=Up().Buffer,i=Bi.Uint8Array||function(){};function s(W){return n.from(W)}function l(W){return n.isBuffer(W)||W instanceof i}var u=L5(),c;u&&u.debuglog?c=u.debuglog("stream"):c=function(){};var h=tV(),d=B5(),m=z5(),g=m.getHighWaterMark,y=tu().codes,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,E=y.ERR_METHOD_NOT_IMPLEMENTED,x=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,k,O,T;xa()(P,t);var _=d.errorOrDestroy,H=["error","close","destroy","pause","resume"];function M(W,$,ge){if(typeof W.prependListener=="function")return W.prependListener($,ge);!W._events||!W._events[$]?W.on($,ge):Array.isArray(W._events[$])?W._events[$].unshift(ge):W._events[$]=[ge,W._events[$]]}function Q(W,$,ge){r=r||$o(),W=W||{},typeof ge!="boolean"&&(ge=$ instanceof r),this.objectMode=!!W.objectMode,ge&&(this.objectMode=this.objectMode||!!W.readableObjectMode),this.highWaterMark=g(this,W,"readableHighWaterMark",ge),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=W.emitClose!==!1,this.autoDestroy=!!W.autoDestroy,this.destroyed=!1,this.defaultEncoding=W.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,W.encoding&&(k||(k=tb().StringDecoder),this.decoder=new k(W.encoding),this.encoding=W.encoding)}function P(W){if(r=r||$o(),!(this instanceof P))return new P(W);var $=this instanceof r;this._readableState=new Q(W,this,$),this.readable=!0,W&&(typeof W.read=="function"&&(this._read=W.read),typeof W.destroy=="function"&&(this._destroy=W.destroy)),t.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),P.prototype.destroy=d.destroy,P.prototype._undestroy=d.undestroy,P.prototype._destroy=function(W,$){$(W)},P.prototype.push=function(W,$){var ge=this._readableState,N;return ge.objectMode?N=!0:typeof W=="string"&&($=$||ge.defaultEncoding,$!==ge.encoding&&(W=n.from(W,$),$=""),N=!0),re(this,W,$,!1,N)},P.prototype.unshift=function(W){return re(this,W,null,!0,!1)};function re(W,$,ge,N,ve){c("readableAddChunk",$);var F=W._readableState;if($===null)F.reading=!1,Y(W,F);else{var A;if(ve||(A=U(F,$)),A)_(W,A);else if(F.objectMode||$&&$.length>0)if(typeof $!="string"&&!F.objectMode&&Object.getPrototypeOf($)!==n.prototype&&($=s($)),N)F.endEmitted?_(W,new x):pe(W,F,$,!0);else if(F.ended)_(W,new w);else{if(F.destroyed)return!1;F.reading=!1,F.decoder&&!ge?($=F.decoder.write($),F.objectMode||$.length!==0?pe(W,F,$,!1):ce(W,F)):pe(W,F,$,!1)}else N||(F.reading=!1,ce(W,F))}return!F.ended&&(F.length<F.highWaterMark||F.length===0)}function pe(W,$,ge,N){$.flowing&&$.length===0&&!$.sync?($.awaitDrain=0,W.emit("data",ge)):($.length+=$.objectMode?1:ge.length,N?$.buffer.unshift(ge):$.buffer.push(ge),$.needReadable&&G(W)),ce(W,$)}function U(W,$){var ge;return!l($)&&typeof $!="string"&&$!==void 0&&!W.objectMode&&(ge=new b("chunk",["string","Buffer","Uint8Array"],$)),ge}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(W){k||(k=tb().StringDecoder);var $=new k(W);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var ge=this._readableState.buffer.head,N="";ge!==null;)N+=$.write(ge.data),ge=ge.next;return this._readableState.buffer.clear(),N!==""&&this._readableState.buffer.push(N),this._readableState.length=N.length,this};var X=1073741824;function R(W){return W>=X?W=X:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}function ee(W,$){return W<=0||$.length===0&&$.ended?0:$.objectMode?1:W!==W?$.flowing&&$.length?$.buffer.head.data.length:$.length:(W>$.highWaterMark&&($.highWaterMark=R(W)),W<=$.length?W:$.ended?$.length:($.needReadable=!0,0))}P.prototype.read=function(W){c("read",W),W=parseInt(W,10);var $=this._readableState,ge=W;if(W!==0&&($.emittedReadable=!1),W===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return c("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?L(this):G(this),null;if(W=ee(W,$),W===0&&$.ended)return $.length===0&&L(this),null;var N=$.needReadable;c("need readable",N),($.length===0||$.length-W<$.highWaterMark)&&(N=!0,c("length less than watermark",N)),$.ended||$.reading?(N=!1,c("reading or ended",N)):N&&(c("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(W=ee(ge,$)));var ve;return W>0?ve=B(W,$):ve=null,ve===null?($.needReadable=$.length<=$.highWaterMark,W=0):($.length-=W,$.awaitDrain=0),$.length===0&&($.ended||($.needReadable=!0),ge!==W&&$.ended&&L(this)),ve!==null&&this.emit("data",ve),ve};function Y(W,$){if(c("onEofChunk"),!$.ended){if($.decoder){var ge=$.decoder.end();ge&&ge.length&&($.buffer.push(ge),$.length+=$.objectMode?1:ge.length)}$.ended=!0,$.sync?G(W):($.needReadable=!1,$.emittedReadable||($.emittedReadable=!0,ue(W)))}}function G(W){var $=W._readableState;c("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(c("emitReadable",$.flowing),$.emittedReadable=!0,ut.nextTick(ue,W))}function ue(W){var $=W._readableState;c("emitReadable_",$.destroyed,$.length,$.ended),!$.destroyed&&($.length||$.ended)&&(W.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,ie(W)}function ce(W,$){$.readingMore||($.readingMore=!0,ut.nextTick(ke,W,$))}function ke(W,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){var ge=$.length;if(c("maybeReadMore read 0"),W.read(0),ge===$.length)break}$.readingMore=!1}P.prototype._read=function(W){_(this,new E("_read()"))},P.prototype.pipe=function(W,$){var ge=this,N=this._readableState;switch(N.pipesCount){case 0:N.pipes=W;break;case 1:N.pipes=[N.pipes,W];break;default:N.pipes.push(W);break}N.pipesCount+=1,c("pipe count=%d opts=%j",N.pipesCount,$);var ve=(!$||$.end!==!1)&&W!==ut.stdout&&W!==ut.stderr,F=ve?C:je;N.endEmitted?ut.nextTick(F):ge.once("end",F),W.on("unpipe",A);function A(Ve,Qe){c("onunpipe"),Ve===ge&&Qe&&Qe.hasUnpiped===!1&&(Qe.hasUnpiped=!0,oe())}function C(){c("onend"),W.end()}var D=q(ge);W.on("drain",D);var Z=!1;function oe(){c("cleanup"),W.removeListener("close",Te),W.removeListener("finish",Oe),W.removeListener("drain",D),W.removeListener("error",Ee),W.removeListener("unpipe",A),ge.removeListener("end",C),ge.removeListener("end",je),ge.removeListener("data",ne),Z=!0,N.awaitDrain&&(!W._writableState||W._writableState.needDrain)&&D()}ge.on("data",ne);function ne(Ve){c("ondata");var Qe=W.write(Ve);c("dest.write",Qe),Qe===!1&&((N.pipesCount===1&&N.pipes===W||N.pipesCount>1&&J(N.pipes,W)!==-1)&&!Z&&(c("false write response, pause",N.awaitDrain),N.awaitDrain++),ge.pause())}function Ee(Ve){c("onerror",Ve),je(),W.removeListener("error",Ee),e(W,"error")===0&&_(W,Ve)}M(W,"error",Ee);function Te(){W.removeListener("finish",Oe),je()}W.once("close",Te);function Oe(){c("onfinish"),W.removeListener("close",Te),je()}W.once("finish",Oe);function je(){c("unpipe"),ge.unpipe(W)}return W.emit("pipe",ge),N.flowing||(c("pipe resume"),ge.resume()),W};function q(W){return function(){var ge=W._readableState;c("pipeOnDrain",ge.awaitDrain),ge.awaitDrain&&ge.awaitDrain--,ge.awaitDrain===0&&e(W,"data")&&(ge.flowing=!0,ie(W))}}P.prototype.unpipe=function(W){var $=this._readableState,ge={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return W&&W!==$.pipes?this:(W||(W=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,W&&W.emit("unpipe",this,ge),this);if(!W){var N=$.pipes,ve=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var F=0;F<ve;F++)N[F].emit("unpipe",this,{hasUnpiped:!1});return this}var A=J($.pipes,W);return A===-1?this:($.pipes.splice(A,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),W.emit("unpipe",this,ge),this)},P.prototype.on=function(W,$){var ge=t.prototype.on.call(this,W,$),N=this._readableState;return W==="data"?(N.readableListening=this.listenerCount("readable")>0,N.flowing!==!1&&this.resume()):W==="readable"&&!N.endEmitted&&!N.readableListening&&(N.readableListening=N.needReadable=!0,N.flowing=!1,N.emittedReadable=!1,c("on readable",N.length,N.reading),N.length?G(this):N.reading||ut.nextTick(K,this)),ge},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(W,$){var ge=t.prototype.removeListener.call(this,W,$);return W==="readable"&&ut.nextTick(I,this),ge},P.prototype.removeAllListeners=function(W){var $=t.prototype.removeAllListeners.apply(this,arguments);return(W==="readable"||W===void 0)&&ut.nextTick(I,this),$};function I(W){var $=W._readableState;$.readableListening=W.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:W.listenerCount("data")>0&&W.resume()}function K(W){c("readable nexttick read 0"),W.read(0)}P.prototype.resume=function(){var W=this._readableState;return W.flowing||(c("resume"),W.flowing=!W.readableListening,se(this,W)),W.paused=!1,this};function se(W,$){$.resumeScheduled||($.resumeScheduled=!0,ut.nextTick(he,W,$))}function he(W,$){c("resume",$.reading),$.reading||W.read(0),$.resumeScheduled=!1,W.emit("resume"),ie(W),$.flowing&&!$.reading&&W.read(0)}P.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ie(W){var $=W._readableState;for(c("flow",$.flowing);$.flowing&&W.read()!==null;);}P.prototype.wrap=function(W){var $=this,ge=this._readableState,N=!1;W.on("end",function(){if(c("wrapped end"),ge.decoder&&!ge.ended){var A=ge.decoder.end();A&&A.length&&$.push(A)}$.push(null)}),W.on("data",function(A){if(c("wrapped data"),ge.decoder&&(A=ge.decoder.write(A)),!(ge.objectMode&&A==null)&&!(!ge.objectMode&&(!A||!A.length))){var C=$.push(A);C||(N=!0,W.pause())}});for(var ve in W)this[ve]===void 0&&typeof W[ve]=="function"&&(this[ve]=(function(C){return function(){return W[C].apply(W,arguments)}})(ve));for(var F=0;F<H.length;F++)W.on(H[F],this.emit.bind(this,H[F]));return this._read=function(A){c("wrapped _read",A),N&&(N=!1,W.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=iV()),O(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),P._fromList=B,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function B(W,$){if($.length===0)return null;var ge;return $.objectMode?ge=$.buffer.shift():!W||W>=$.length?($.decoder?ge=$.buffer.join(""):$.buffer.length===1?ge=$.buffer.first():ge=$.buffer.concat($.length),$.buffer.clear()):ge=$.buffer.consume(W,$.decoder),ge}function L(W){var $=W._readableState;c("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,ut.nextTick(te,$,W))}function te(W,$){if(c("endReadableNT",W.endEmitted,W.length),!W.endEmitted&&W.length===0&&(W.endEmitted=!0,$.readable=!1,$.emit("end"),W.autoDestroy)){var ge=$._writableState;(!ge||ge.autoDestroy&&ge.finished)&&$.destroy()}}typeof Symbol=="function"&&(P.from=function(W,$){return T===void 0&&(T=sV()),T(P,W,$)});function J(W,$){for(var ge=0,N=W.length;ge<N;ge++)if(W[ge]===$)return ge;return-1}return lv}var ov,$C;function F5(){if($C)return ov;$C=1,ov=u;var r=tu().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=r.ERR_TRANSFORM_WITH_LENGTH_0,s=$o();xa()(u,s);function l(d,m){var g=this._transformState;g.transforming=!1;var y=g.writecb;if(y===null)return this.emit("error",new t);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),y(d);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function u(d){if(!(this instanceof u))return new u(d);s.call(this,d),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,g){h(d,m,g)}):h(this,null,null)}u.prototype.push=function(d,m){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,m)},u.prototype._transform=function(d,m,g){g(new e("_transform()"))},u.prototype._write=function(d,m,g){var y=this._transformState;if(y.writecb=g,y.writechunk=d,y.writeencoding=m,!y.transforming){var b=this._readableState;(y.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},u.prototype._read=function(d){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},u.prototype._destroy=function(d,m){s.prototype._destroy.call(this,d,function(g){m(g)})};function h(d,m,g){if(m)return d.emit("error",m);if(g!=null&&d.push(g),d._writableState.length)throw new i;if(d._transformState.transforming)throw new n;return d.push(null)}return ov}var uv,GC;function aV(){if(GC)return uv;GC=1,uv=e;var r=F5();xa()(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,n,i){i(null,t)},uv}var cv,QC;function lV(){if(QC)return cv;QC=1;var r;function e(g){var y=!1;return function(){y||(y=!0,g.apply(void 0,arguments))}}var t=tu().codes,n=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function l(g){return g.setHeader&&typeof g.abort=="function"}function u(g,y,b,w){w=e(w);var E=!1;g.on("close",function(){E=!0}),r===void 0&&(r=Dx()),r(g,{readable:y,writable:b},function(k){if(k)return w(k);E=!0,w()});var x=!1;return function(k){if(!E&&!x){if(x=!0,l(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();w(k||new i("pipe"))}}}function c(g){g()}function h(g,y){return g.pipe(y)}function d(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function m(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];var w=d(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var E,x=y.map(function(k,O){var T=O<y.length-1,_=O>0;return u(k,T,_,function(H){E||(E=H),H&&x.forEach(c),!T&&(x.forEach(c),w(E))})});return y.reduce(h)}return cv=m,cv}var fv,XC;function Lx(){if(XC)return fv;XC=1,fv=t;var r=_x().EventEmitter,e=xa();e(t,r),t.Readable=P5(),t.Writable=j5(),t.Duplex=$o(),t.Transform=F5(),t.PassThrough=aV(),t.finished=Dx(),t.pipeline=lV(),t.Stream=t;function t(){r.call(this)}return t.prototype.pipe=function(n,i){var s=this;function l(y){n.writable&&n.write(y)===!1&&s.pause&&s.pause()}s.on("data",l);function u(){s.readable&&s.resume&&s.resume()}n.on("drain",u),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",h),s.on("close",d));var c=!1;function h(){c||(c=!0,n.end())}function d(){c||(c=!0,typeof n.destroy=="function"&&n.destroy())}function m(y){if(g(),r.listenerCount(this,"error")===0)throw y}s.on("error",m),n.on("error",m);function g(){s.removeListener("data",l),n.removeListener("drain",u),s.removeListener("end",h),s.removeListener("close",d),s.removeListener("error",m),n.removeListener("error",m),s.removeListener("end",g),s.removeListener("close",g),n.removeListener("close",g)}return s.on("end",g),s.on("close",g),n.on("close",g),n.emit("pipe",s),n},fv}var YC;function oV(){return YC||(YC=1,(function(r){(function(e){e.parser=function(B,L){return new n(B,L)},e.SAXParser=n,e.SAXStream=d,e.createStream=h,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(B,L){if(!(this instanceof n))return new n(B,L);var te=this;s(te),te.q=te.c="",te.bufferCheckPosition=e.MAX_BUFFER_LENGTH,te.opt=L||{},te.opt.lowercase=te.opt.lowercase||te.opt.lowercasetags,te.looseCase=te.opt.lowercase?"toLowerCase":"toUpperCase",te.tags=[],te.closed=te.closedRoot=te.sawRoot=!1,te.tag=te.error=null,te.strict=!!B,te.noscript=!!(B||te.opt.noscript),te.state=P.BEGIN,te.strictEntities=te.opt.strictEntities,te.ENTITIES=te.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),te.attribList=[],te.opt.xmlns&&(te.ns=Object.create(w)),te.trackPosition=te.opt.position!==!1,te.trackPosition&&(te.position=te.line=te.column=0),pe(te,"onready")}Object.create||(Object.create=function(B){function L(){}L.prototype=B;var te=new L;return te}),Object.keys||(Object.keys=function(B){var L=[];for(var te in B)B.hasOwnProperty(te)&&L.push(te);return L});function i(B){for(var L=Math.max(e.MAX_BUFFER_LENGTH,10),te=0,J=0,W=t.length;J<W;J++){var $=B[t[J]].length;if($>L)switch(t[J]){case"textNode":X(B);break;case"cdata":U(B,"oncdata",B.cdata),B.cdata="";break;case"script":U(B,"onscript",B.script),B.script="";break;default:ee(B,"Max buffer length exceeded: "+t[J])}te=Math.max(te,$)}var ge=e.MAX_BUFFER_LENGTH-te;B.bufferCheckPosition=ge+B.position}function s(B){for(var L=0,te=t.length;L<te;L++)B[t[L]]=""}function l(B){X(B),B.cdata!==""&&(U(B,"oncdata",B.cdata),B.cdata=""),B.script!==""&&(U(B,"onscript",B.script),B.script="")}n.prototype={end:function(){Y(this)},write:ie,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){l(this)}};var u;try{u=Lx().Stream}catch{u=function(){}}var c=e.EVENTS.filter(function(B){return B!=="error"&&B!=="end"});function h(B,L){return new d(B,L)}function d(B,L){if(!(this instanceof d))return new d(B,L);u.apply(this),this._parser=new n(B,L),this.writable=!0,this.readable=!0;var te=this;this._parser.onend=function(){te.emit("end")},this._parser.onerror=function(J){te.emit("error",J),te._parser.error=null},this._decoder=null,c.forEach(function(J){Object.defineProperty(te,"on"+J,{get:function(){return te._parser["on"+J]},set:function(W){if(!W)return te.removeAllListeners(J),te._parser["on"+J]=W,W;te.on(J,W)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(u.prototype,{constructor:{value:d}}),d.prototype.write=function(B){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(B)){if(!this._decoder){var L=tb().StringDecoder;this._decoder=new L("utf8")}B=this._decoder.write(B)}return this._parser.write(B.toString()),this.emit("data",B),!0},d.prototype.end=function(B){return B&&B.length&&this.write(B),this._parser.end(),!0},d.prototype.on=function(B,L){var te=this;return!te._parser["on"+B]&&c.indexOf(B)!==-1&&(te._parser["on"+B]=function(){var J=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);J.splice(0,0,B),te.emit.apply(te,J)}),u.prototype.on.call(te,B,L)};var m="[CDATA[",g="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",w={xml:y,xmlns:b},E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,k=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function T(B){return B===" "||B===`
`||B==="\r"||B==="	"}function _(B){return B==='"'||B==="'"}function H(B){return B===">"||T(B)}function M(B,L){return B.test(L)}function Q(B,L){return!M(B,L)}var P=0;e.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(B){var L=e.ENTITIES[B],te=typeof L=="number"?String.fromCharCode(L):L;e.ENTITIES[B]=te});for(var re in e.STATE)e.STATE[e.STATE[re]]=re;P=e.STATE;function pe(B,L,te){B[L]&&B[L](te)}function U(B,L,te){B.textNode&&X(B),pe(B,L,te)}function X(B){B.textNode=R(B.opt,B.textNode),B.textNode&&pe(B,"ontext",B.textNode),B.textNode=""}function R(B,L){return B.trim&&(L=L.trim()),B.normalize&&(L=L.replace(/\s+/g," ")),L}function ee(B,L){return X(B),B.trackPosition&&(L+=`
Line: `+B.line+`
Column: `+B.column+`
Char: `+B.c),L=new Error(L),B.error=L,pe(B,"onerror",L),B}function Y(B){return B.sawRoot&&!B.closedRoot&&G(B,"Unclosed root tag"),B.state!==P.BEGIN&&B.state!==P.BEGIN_WHITESPACE&&B.state!==P.TEXT&&ee(B,"Unexpected end"),X(B),B.c="",B.closed=!0,pe(B,"onend"),n.call(B,B.strict,B.opt),B}function G(B,L){if(typeof B!="object"||!(B instanceof n))throw new Error("bad call to strictFail");B.strict&&ee(B,L)}function ue(B){B.strict||(B.tagName=B.tagName[B.looseCase]());var L=B.tags[B.tags.length-1]||B,te=B.tag={name:B.tagName,attributes:{}};B.opt.xmlns&&(te.ns=L.ns),B.attribList.length=0,U(B,"onopentagstart",te)}function ce(B,L){var te=B.indexOf(":"),J=te<0?["",B]:B.split(":"),W=J[0],$=J[1];return L&&B==="xmlns"&&(W="xmlns",$=""),{prefix:W,local:$}}function ke(B){if(B.strict||(B.attribName=B.attribName[B.looseCase]()),B.attribList.indexOf(B.attribName)!==-1||B.tag.attributes.hasOwnProperty(B.attribName)){B.attribName=B.attribValue="";return}if(B.opt.xmlns){var L=ce(B.attribName,!0),te=L.prefix,J=L.local;if(te==="xmlns")if(J==="xml"&&B.attribValue!==y)G(B,"xml: prefix must be bound to "+y+`
Actual: `+B.attribValue);else if(J==="xmlns"&&B.attribValue!==b)G(B,"xmlns: prefix must be bound to "+b+`
Actual: `+B.attribValue);else{var W=B.tag,$=B.tags[B.tags.length-1]||B;W.ns===$.ns&&(W.ns=Object.create($.ns)),W.ns[J]=B.attribValue}B.attribList.push([B.attribName,B.attribValue])}else B.tag.attributes[B.attribName]=B.attribValue,U(B,"onattribute",{name:B.attribName,value:B.attribValue});B.attribName=B.attribValue=""}function q(B,L){if(B.opt.xmlns){var te=B.tag,J=ce(B.tagName);te.prefix=J.prefix,te.local=J.local,te.uri=te.ns[J.prefix]||"",te.prefix&&!te.uri&&(G(B,"Unbound namespace prefix: "+JSON.stringify(B.tagName)),te.uri=J.prefix);var W=B.tags[B.tags.length-1]||B;te.ns&&W.ns!==te.ns&&Object.keys(te.ns).forEach(function(ne){U(B,"onopennamespace",{prefix:ne,uri:te.ns[ne]})});for(var $=0,ge=B.attribList.length;$<ge;$++){var N=B.attribList[$],ve=N[0],F=N[1],A=ce(ve,!0),C=A.prefix,D=A.local,Z=C===""?"":te.ns[C]||"",oe={name:ve,value:F,prefix:C,local:D,uri:Z};C&&C!=="xmlns"&&!Z&&(G(B,"Unbound namespace prefix: "+JSON.stringify(C)),oe.uri=C),B.tag.attributes[ve]=oe,U(B,"onattribute",oe)}B.attribList.length=0}B.tag.isSelfClosing=!!L,B.sawRoot=!0,B.tags.push(B.tag),U(B,"onopentag",B.tag),L||(!B.noscript&&B.tagName.toLowerCase()==="script"?B.state=P.SCRIPT:B.state=P.TEXT,B.tag=null,B.tagName=""),B.attribName=B.attribValue="",B.attribList.length=0}function I(B){if(!B.tagName){G(B,"Weird empty close tag."),B.textNode+="</>",B.state=P.TEXT;return}if(B.script){if(B.tagName!=="script"){B.script+="</"+B.tagName+">",B.tagName="",B.state=P.SCRIPT;return}U(B,"onscript",B.script),B.script=""}var L=B.tags.length,te=B.tagName;B.strict||(te=te[B.looseCase]());for(var J=te;L--;){var W=B.tags[L];if(W.name!==J)G(B,"Unexpected close tag");else break}if(L<0){G(B,"Unmatched closing tag: "+B.tagName),B.textNode+="</"+B.tagName+">",B.state=P.TEXT;return}B.tagName=te;for(var $=B.tags.length;$-- >L;){var ge=B.tag=B.tags.pop();B.tagName=B.tag.name,U(B,"onclosetag",B.tagName);var N={};for(var ve in ge.ns)N[ve]=ge.ns[ve];var F=B.tags[B.tags.length-1]||B;B.opt.xmlns&&ge.ns!==F.ns&&Object.keys(ge.ns).forEach(function(A){var C=ge.ns[A];U(B,"onclosenamespace",{prefix:A,uri:C})})}L===0&&(B.closedRoot=!0),B.tagName=B.attribValue=B.attribName="",B.attribList.length=0,B.state=P.TEXT}function K(B){var L=B.entity,te=L.toLowerCase(),J,W="";return B.ENTITIES[L]?B.ENTITIES[L]:B.ENTITIES[te]?B.ENTITIES[te]:(L=te,L.charAt(0)==="#"&&(L.charAt(1)==="x"?(L=L.slice(2),J=parseInt(L,16),W=J.toString(16)):(L=L.slice(1),J=parseInt(L,10),W=J.toString(10))),L=L.replace(/^0+/,""),isNaN(J)||W.toLowerCase()!==L?(G(B,"Invalid character entity"),"&"+B.entity+";"):String.fromCodePoint(J))}function se(B,L){L==="<"?(B.state=P.OPEN_WAKA,B.startTagPosition=B.position):T(L)||(G(B,"Non-whitespace before first tag."),B.textNode=L,B.state=P.TEXT)}function he(B,L){var te="";return L<B.length&&(te=B.charAt(L)),te}function ie(B){var L=this;if(this.error)throw this.error;if(L.closed)return ee(L,"Cannot write after close. Assign an onready handler.");if(B===null)return Y(L);typeof B=="object"&&(B=B.toString());for(var te=0,J="";J=he(B,te++),L.c=J,!!J;)switch(L.trackPosition&&(L.position++,J===`
`?(L.line++,L.column=0):L.column++),L.state){case P.BEGIN:if(L.state=P.BEGIN_WHITESPACE,J==="\uFEFF")continue;se(L,J);continue;case P.BEGIN_WHITESPACE:se(L,J);continue;case P.TEXT:if(L.sawRoot&&!L.closedRoot){for(var W=te-1;J&&J!=="<"&&J!=="&";)J=he(B,te++),J&&L.trackPosition&&(L.position++,J===`
`?(L.line++,L.column=0):L.column++);L.textNode+=B.substring(W,te-1)}J==="<"&&!(L.sawRoot&&L.closedRoot&&!L.strict)?(L.state=P.OPEN_WAKA,L.startTagPosition=L.position):(!T(J)&&(!L.sawRoot||L.closedRoot)&&G(L,"Text data outside of root node."),J==="&"?L.state=P.TEXT_ENTITY:L.textNode+=J);continue;case P.SCRIPT:J==="<"?L.state=P.SCRIPT_ENDING:L.script+=J;continue;case P.SCRIPT_ENDING:J==="/"?L.state=P.CLOSE_TAG:(L.script+="<"+J,L.state=P.SCRIPT);continue;case P.OPEN_WAKA:if(J==="!")L.state=P.SGML_DECL,L.sgmlDecl="";else if(!T(J))if(M(E,J))L.state=P.OPEN_TAG,L.tagName=J;else if(J==="/")L.state=P.CLOSE_TAG,L.tagName="";else if(J==="?")L.state=P.PROC_INST,L.procInstName=L.procInstBody="";else{if(G(L,"Unencoded <"),L.startTagPosition+1<L.position){var $=L.position-L.startTagPosition;J=new Array($).join(" ")+J}L.textNode+="<"+J,L.state=P.TEXT}continue;case P.SGML_DECL:(L.sgmlDecl+J).toUpperCase()===m?(U(L,"onopencdata"),L.state=P.CDATA,L.sgmlDecl="",L.cdata=""):L.sgmlDecl+J==="--"?(L.state=P.COMMENT,L.comment="",L.sgmlDecl=""):(L.sgmlDecl+J).toUpperCase()===g?(L.state=P.DOCTYPE,(L.doctype||L.sawRoot)&&G(L,"Inappropriately located doctype declaration"),L.doctype="",L.sgmlDecl=""):J===">"?(U(L,"onsgmldeclaration",L.sgmlDecl),L.sgmlDecl="",L.state=P.TEXT):(_(J)&&(L.state=P.SGML_DECL_QUOTED),L.sgmlDecl+=J);continue;case P.SGML_DECL_QUOTED:J===L.q&&(L.state=P.SGML_DECL,L.q=""),L.sgmlDecl+=J;continue;case P.DOCTYPE:J===">"?(L.state=P.TEXT,U(L,"ondoctype",L.doctype),L.doctype=!0):(L.doctype+=J,J==="["?L.state=P.DOCTYPE_DTD:_(J)&&(L.state=P.DOCTYPE_QUOTED,L.q=J));continue;case P.DOCTYPE_QUOTED:L.doctype+=J,J===L.q&&(L.q="",L.state=P.DOCTYPE);continue;case P.DOCTYPE_DTD:L.doctype+=J,J==="]"?L.state=P.DOCTYPE:_(J)&&(L.state=P.DOCTYPE_DTD_QUOTED,L.q=J);continue;case P.DOCTYPE_DTD_QUOTED:L.doctype+=J,J===L.q&&(L.state=P.DOCTYPE_DTD,L.q="");continue;case P.COMMENT:J==="-"?L.state=P.COMMENT_ENDING:L.comment+=J;continue;case P.COMMENT_ENDING:J==="-"?(L.state=P.COMMENT_ENDED,L.comment=R(L.opt,L.comment),L.comment&&U(L,"oncomment",L.comment),L.comment=""):(L.comment+="-"+J,L.state=P.COMMENT);continue;case P.COMMENT_ENDED:J!==">"?(G(L,"Malformed comment"),L.comment+="--"+J,L.state=P.COMMENT):L.state=P.TEXT;continue;case P.CDATA:J==="]"?L.state=P.CDATA_ENDING:L.cdata+=J;continue;case P.CDATA_ENDING:J==="]"?L.state=P.CDATA_ENDING_2:(L.cdata+="]"+J,L.state=P.CDATA);continue;case P.CDATA_ENDING_2:J===">"?(L.cdata&&U(L,"oncdata",L.cdata),U(L,"onclosecdata"),L.cdata="",L.state=P.TEXT):J==="]"?L.cdata+="]":(L.cdata+="]]"+J,L.state=P.CDATA);continue;case P.PROC_INST:J==="?"?L.state=P.PROC_INST_ENDING:T(J)?L.state=P.PROC_INST_BODY:L.procInstName+=J;continue;case P.PROC_INST_BODY:if(!L.procInstBody&&T(J))continue;J==="?"?L.state=P.PROC_INST_ENDING:L.procInstBody+=J;continue;case P.PROC_INST_ENDING:J===">"?(U(L,"onprocessinginstruction",{name:L.procInstName,body:L.procInstBody}),L.procInstName=L.procInstBody="",L.state=P.TEXT):(L.procInstBody+="?"+J,L.state=P.PROC_INST_BODY);continue;case P.OPEN_TAG:M(x,J)?L.tagName+=J:(ue(L),J===">"?q(L):J==="/"?L.state=P.OPEN_TAG_SLASH:(T(J)||G(L,"Invalid character in tag name"),L.state=P.ATTRIB));continue;case P.OPEN_TAG_SLASH:J===">"?(q(L,!0),I(L)):(G(L,"Forward-slash in opening tag not followed by >"),L.state=P.ATTRIB);continue;case P.ATTRIB:if(T(J))continue;J===">"?q(L):J==="/"?L.state=P.OPEN_TAG_SLASH:M(E,J)?(L.attribName=J,L.attribValue="",L.state=P.ATTRIB_NAME):G(L,"Invalid attribute name");continue;case P.ATTRIB_NAME:J==="="?L.state=P.ATTRIB_VALUE:J===">"?(G(L,"Attribute without value"),L.attribValue=L.attribName,ke(L),q(L)):T(J)?L.state=P.ATTRIB_NAME_SAW_WHITE:M(x,J)?L.attribName+=J:G(L,"Invalid attribute name");continue;case P.ATTRIB_NAME_SAW_WHITE:if(J==="=")L.state=P.ATTRIB_VALUE;else{if(T(J))continue;G(L,"Attribute without value"),L.tag.attributes[L.attribName]="",L.attribValue="",U(L,"onattribute",{name:L.attribName,value:""}),L.attribName="",J===">"?q(L):M(E,J)?(L.attribName=J,L.state=P.ATTRIB_NAME):(G(L,"Invalid attribute name"),L.state=P.ATTRIB)}continue;case P.ATTRIB_VALUE:if(T(J))continue;_(J)?(L.q=J,L.state=P.ATTRIB_VALUE_QUOTED):(G(L,"Unquoted attribute value"),L.state=P.ATTRIB_VALUE_UNQUOTED,L.attribValue=J);continue;case P.ATTRIB_VALUE_QUOTED:if(J!==L.q){J==="&"?L.state=P.ATTRIB_VALUE_ENTITY_Q:L.attribValue+=J;continue}ke(L),L.q="",L.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:T(J)?L.state=P.ATTRIB:J===">"?q(L):J==="/"?L.state=P.OPEN_TAG_SLASH:M(E,J)?(G(L,"No whitespace between attributes"),L.attribName=J,L.attribValue="",L.state=P.ATTRIB_NAME):G(L,"Invalid attribute name");continue;case P.ATTRIB_VALUE_UNQUOTED:if(!H(J)){J==="&"?L.state=P.ATTRIB_VALUE_ENTITY_U:L.attribValue+=J;continue}ke(L),J===">"?q(L):L.state=P.ATTRIB;continue;case P.CLOSE_TAG:if(L.tagName)J===">"?I(L):M(x,J)?L.tagName+=J:L.script?(L.script+="</"+L.tagName,L.tagName="",L.state=P.SCRIPT):(T(J)||G(L,"Invalid tagname in closing tag"),L.state=P.CLOSE_TAG_SAW_WHITE);else{if(T(J))continue;Q(E,J)?L.script?(L.script+="</"+J,L.state=P.SCRIPT):G(L,"Invalid tagname in closing tag."):L.tagName=J}continue;case P.CLOSE_TAG_SAW_WHITE:if(T(J))continue;J===">"?I(L):G(L,"Invalid characters in closing tag");continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var ge,N;switch(L.state){case P.TEXT_ENTITY:ge=P.TEXT,N="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:ge=P.ATTRIB_VALUE_QUOTED,N="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:ge=P.ATTRIB_VALUE_UNQUOTED,N="attribValue";break}J===";"?(L[N]+=K(L),L.entity="",L.state=ge):M(L.entity.length?O:k,J)?L.entity+=J:(G(L,"Invalid character in entity name"),L[N]+="&"+L.entity+J,L.entity="",L.state=ge);continue;default:throw new Error(L,"Unknown state: "+L.state)}return L.position>=L.bufferCheckPosition&&i(L),L}String.fromCodePoint||(function(){var B=String.fromCharCode,L=Math.floor,te=function(){var J=16384,W=[],$,ge,N=-1,ve=arguments.length;if(!ve)return"";for(var F="";++N<ve;){var A=Number(arguments[N]);if(!isFinite(A)||A<0||A>1114111||L(A)!==A)throw RangeError("Invalid code point: "+A);A<=65535?W.push(A):(A-=65536,$=(A>>10)+55296,ge=A%1024+56320,W.push($,ge)),(N+1===ve||W.length>J)&&(F+=B.apply(null,W),W.length=0)}return F};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:te,configurable:!0,writable:!0}):String.fromCodePoint=te})()})(r)})(Y0)),Y0}var hv,KC;function Bx(){return KC||(KC=1,hv={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}}),hv}var dv,ZC;function zx(){if(ZC)return dv;ZC=1;var r=Bx().isArray;return dv={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!r(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},dv}var pv,JC;function I5(){if(JC)return pv;JC=1;var r=oV(),e=zx(),t=Bx().isArray,n,i;function s(x){return n=e.copyOptions(x),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function l(x){var k=Number(x);if(!isNaN(k))return k;var O=x.toLowerCase();return O==="true"?!0:O==="false"?!1:x}function u(x,k){var O;if(n.compact){if(!i[n[x+"Key"]]&&(t(n.alwaysArray)?n.alwaysArray.indexOf(n[x+"Key"])!==-1:n.alwaysArray)&&(i[n[x+"Key"]]=[]),i[n[x+"Key"]]&&!t(i[n[x+"Key"]])&&(i[n[x+"Key"]]=[i[n[x+"Key"]]]),x+"Fn"in n&&typeof k=="string"&&(k=n[x+"Fn"](k,i)),x==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(O in k)if(k.hasOwnProperty(O))if("instructionFn"in n)k[O]=n.instructionFn(k[O],O,i);else{var T=k[O];delete k[O],k[n.instructionNameFn(O,T,i)]=T}}t(i[n[x+"Key"]])?i[n[x+"Key"]].push(k):i[n[x+"Key"]]=k}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var _={};if(_[n.typeKey]=x,x==="instruction"){for(O in k)if(k.hasOwnProperty(O))break;_[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(O,k,i):O,n.instructionHasAttributes?(_[n.attributesKey]=k[O][n.attributesKey],"instructionFn"in n&&(_[n.attributesKey]=n.instructionFn(_[n.attributesKey],O,i))):("instructionFn"in n&&(k[O]=n.instructionFn(k[O],O,i)),_[n.instructionKey]=k[O])}else x+"Fn"in n&&(k=n[x+"Fn"](k,i)),_[n[x+"Key"]]=k;n.addParent&&(_[n.parentKey]=i),i[n.elementsKey].push(_)}}function c(x){if("attributesFn"in n&&x&&(x=n.attributesFn(x,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&x){var k;for(k in x)if(x.hasOwnProperty(k)&&(n.trim&&(x[k]=x[k].trim()),n.nativeTypeAttributes&&(x[k]=l(x[k])),"attributeValueFn"in n&&(x[k]=n.attributeValueFn(x[k],k,i)),"attributeNameFn"in n)){var O=x[k];delete x[k],x[n.attributeNameFn(k,x[k],i)]=O}}return x}function h(x){var k={};if(x.body&&(x.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var O=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,T;(T=O.exec(x.body))!==null;)k[T[1]]=T[2]||T[3]||T[4];k=c(k)}if(x.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(k).length&&(i[n.declarationKey][n.attributesKey]=k),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(x.body=x.body.trim());var _={};n.instructionHasAttributes&&Object.keys(k).length?(_[x.name]={},_[x.name][n.attributesKey]=k):_[x.name]=x.body,u("instruction",_)}}function d(x,k){var O;if(typeof x=="object"&&(k=x.attributes,x=x.name),k=c(k),"elementNameFn"in n&&(x=n.elementNameFn(x,i)),n.compact){if(O={},!n.ignoreAttributes&&k&&Object.keys(k).length){O[n.attributesKey]={};var T;for(T in k)k.hasOwnProperty(T)&&(O[n.attributesKey][T]=k[T])}!(x in i)&&(t(n.alwaysArray)?n.alwaysArray.indexOf(x)!==-1:n.alwaysArray)&&(i[x]=[]),i[x]&&!t(i[x])&&(i[x]=[i[x]]),t(i[x])?i[x].push(O):i[x]=O}else i[n.elementsKey]||(i[n.elementsKey]=[]),O={},O[n.typeKey]="element",O[n.nameKey]=x,!n.ignoreAttributes&&k&&Object.keys(k).length&&(O[n.attributesKey]=k),n.alwaysChildren&&(O[n.elementsKey]=[]),i[n.elementsKey].push(O);O[n.parentKey]=i,i=O}function m(x){n.ignoreText||!x.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(x=x.trim()),n.nativeType&&(x=l(x)),n.sanitize&&(x=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),u("text",x))}function g(x){n.ignoreComment||(n.trim&&(x=x.trim()),u("comment",x))}function y(x){var k=i[n.parentKey];n.addParent||delete i[n.parentKey],i=k}function b(x){n.ignoreCdata||(n.trim&&(x=x.trim()),u("cdata",x))}function w(x){n.ignoreDoctype||(x=x.replace(/^ /,""),n.trim&&(x=x.trim()),u("doctype",x))}function E(x){x.note=x}return pv=function(x,k){var O=r.parser(!0,{}),T={};if(i=T,n=s(k),O.opt={strictEntities:!0},O.onopentag=d,O.ontext=m,O.oncomment=g,O.onclosetag=y,O.onerror=E,O.oncdata=b,O.ondoctype=w,O.onprocessinginstruction=h,O.write(x).close(),T[n.elementsKey]){var _=T[n.elementsKey];delete T[n.elementsKey],T[n.elementsKey]=_,delete T.text}return T},pv}var mv,eO;function uV(){if(eO)return mv;eO=1;var r=zx(),e=I5();function t(n){var i=r.copyOptions(n);return r.ensureSpacesExists(i),i}return mv=function(n,i){var s,l,u,c;return s=t(i),l=e(n,s),c="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?u=JSON.stringify(l,function(h,d){return h===c?"_":d},s.spaces):u=JSON.stringify(l,null,s.spaces),u.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},mv}var gv,tO;function U5(){if(tO)return gv;tO=1;var r=zx(),e=Bx().isArray,t,n;function i(O){var T=r.copyOptions(O);return r.ensureFlagExists("ignoreDeclaration",T),r.ensureFlagExists("ignoreInstruction",T),r.ensureFlagExists("ignoreAttributes",T),r.ensureFlagExists("ignoreText",T),r.ensureFlagExists("ignoreComment",T),r.ensureFlagExists("ignoreCdata",T),r.ensureFlagExists("ignoreDoctype",T),r.ensureFlagExists("compact",T),r.ensureFlagExists("indentText",T),r.ensureFlagExists("indentCdata",T),r.ensureFlagExists("indentAttributes",T),r.ensureFlagExists("indentInstruction",T),r.ensureFlagExists("fullTagEmptyElement",T),r.ensureFlagExists("noQuotesForNativeAttributes",T),r.ensureSpacesExists(T),typeof T.spaces=="number"&&(T.spaces=Array(T.spaces+1).join(" ")),r.ensureKeyExists("declaration",T),r.ensureKeyExists("instruction",T),r.ensureKeyExists("attributes",T),r.ensureKeyExists("text",T),r.ensureKeyExists("comment",T),r.ensureKeyExists("cdata",T),r.ensureKeyExists("doctype",T),r.ensureKeyExists("type",T),r.ensureKeyExists("name",T),r.ensureKeyExists("elements",T),r.checkFnExists("doctype",T),r.checkFnExists("instruction",T),r.checkFnExists("cdata",T),r.checkFnExists("comment",T),r.checkFnExists("text",T),r.checkFnExists("instructionName",T),r.checkFnExists("elementName",T),r.checkFnExists("attributeName",T),r.checkFnExists("attributeValue",T),r.checkFnExists("attributes",T),r.checkFnExists("fullTagEmptyElement",T),T}function s(O,T,_){return(!_&&O.spaces?`
`:"")+Array(T+1).join(O.spaces)}function l(O,T,_){if(T.ignoreAttributes)return"";"attributesFn"in T&&(O=T.attributesFn(O,n,t));var H,M,Q,P,re=[];for(H in O)O.hasOwnProperty(H)&&O[H]!==null&&O[H]!==void 0&&(P=T.noQuotesForNativeAttributes&&typeof O[H]!="string"?"":'"',M=""+O[H],M=M.replace(/"/g,"&quot;"),Q="attributeNameFn"in T?T.attributeNameFn(H,M,n,t):H,re.push(T.spaces&&T.indentAttributes?s(T,_+1,!1):" "),re.push(Q+"="+P+("attributeValueFn"in T?T.attributeValueFn(M,H,n,t):M)+P));return O&&Object.keys(O).length&&T.spaces&&T.indentAttributes&&re.push(s(T,_,!1)),re.join("")}function u(O,T,_){return t=O,n="xml",T.ignoreDeclaration?"":"<?xml"+l(O[T.attributesKey],T,_)+"?>"}function c(O,T,_){if(T.ignoreInstruction)return"";var H;for(H in O)if(O.hasOwnProperty(H))break;var M="instructionNameFn"in T?T.instructionNameFn(H,O[H],n,t):H;if(typeof O[H]=="object")return t=O,n=M,"<?"+M+l(O[H][T.attributesKey],T,_)+"?>";var Q=O[H]?O[H]:"";return"instructionFn"in T&&(Q=T.instructionFn(Q,H,n,t)),"<?"+M+(Q?" "+Q:"")+"?>"}function h(O,T){return T.ignoreComment?"":"<!--"+("commentFn"in T?T.commentFn(O,n,t):O)+"-->"}function d(O,T){return T.ignoreCdata?"":"<![CDATA["+("cdataFn"in T?T.cdataFn(O,n,t):O.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function m(O,T){return T.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in T?T.doctypeFn(O,n,t):O)+">"}function g(O,T){return T.ignoreText?"":(O=""+O,O=O.replace(/&amp;/g,"&"),O=O.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in T?T.textFn(O,n,t):O)}function y(O,T){var _;if(O.elements&&O.elements.length)for(_=0;_<O.elements.length;++_)switch(O.elements[_][T.typeKey]){case"text":if(T.indentText)return!0;break;case"cdata":if(T.indentCdata)return!0;break;case"instruction":if(T.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function b(O,T,_){t=O,n=O.name;var H=[],M="elementNameFn"in T?T.elementNameFn(O.name,O):O.name;H.push("<"+M),O[T.attributesKey]&&H.push(l(O[T.attributesKey],T,_));var Q=O[T.elementsKey]&&O[T.elementsKey].length||O[T.attributesKey]&&O[T.attributesKey]["xml:space"]==="preserve";return Q||("fullTagEmptyElementFn"in T?Q=T.fullTagEmptyElementFn(O.name,O):Q=T.fullTagEmptyElement),Q?(H.push(">"),O[T.elementsKey]&&O[T.elementsKey].length&&(H.push(w(O[T.elementsKey],T,_+1)),t=O,n=O.name),H.push(T.spaces&&y(O,T)?`
`+Array(_+1).join(T.spaces):""),H.push("</"+M+">")):H.push("/>"),H.join("")}function w(O,T,_,H){return O.reduce(function(M,Q){var P=s(T,_,H&&!M);switch(Q.type){case"element":return M+P+b(Q,T,_);case"comment":return M+P+h(Q[T.commentKey],T);case"doctype":return M+P+m(Q[T.doctypeKey],T);case"cdata":return M+(T.indentCdata?P:"")+d(Q[T.cdataKey],T);case"text":return M+(T.indentText?P:"")+g(Q[T.textKey],T);case"instruction":var re={};return re[Q[T.nameKey]]=Q[T.attributesKey]?Q:Q[T.instructionKey],M+(T.indentInstruction?P:"")+c(re,T,_)}},"")}function E(O,T,_){var H;for(H in O)if(O.hasOwnProperty(H))switch(H){case T.parentKey:case T.attributesKey:break;case T.textKey:if(T.indentText||_)return!0;break;case T.cdataKey:if(T.indentCdata||_)return!0;break;case T.instructionKey:if(T.indentInstruction||_)return!0;break;case T.doctypeKey:case T.commentKey:return!0;default:return!0}return!1}function x(O,T,_,H,M){t=O,n=T;var Q="elementNameFn"in _?_.elementNameFn(T,O):T;if(typeof O>"u"||O===null||O==="")return"fullTagEmptyElementFn"in _&&_.fullTagEmptyElementFn(T,O)||_.fullTagEmptyElement?"<"+Q+"></"+Q+">":"<"+Q+"/>";var P=[];if(T){if(P.push("<"+Q),typeof O!="object")return P.push(">"+g(O,_)+"</"+Q+">"),P.join("");O[_.attributesKey]&&P.push(l(O[_.attributesKey],_,H));var re=E(O,_,!0)||O[_.attributesKey]&&O[_.attributesKey]["xml:space"]==="preserve";if(re||("fullTagEmptyElementFn"in _?re=_.fullTagEmptyElementFn(T,O):re=_.fullTagEmptyElement),re)P.push(">");else return P.push("/>"),P.join("")}return P.push(k(O,_,H+1,!1)),t=O,n=T,T&&P.push((M?s(_,H,!1):"")+"</"+Q+">"),P.join("")}function k(O,T,_,H){var M,Q,P,re=[];for(Q in O)if(O.hasOwnProperty(Q))for(P=e(O[Q])?O[Q]:[O[Q]],M=0;M<P.length;++M){switch(Q){case T.declarationKey:re.push(u(P[M],T,_));break;case T.instructionKey:re.push((T.indentInstruction?s(T,_,H):"")+c(P[M],T,_));break;case T.attributesKey:case T.parentKey:break;case T.textKey:re.push((T.indentText?s(T,_,H):"")+g(P[M],T));break;case T.cdataKey:re.push((T.indentCdata?s(T,_,H):"")+d(P[M],T));break;case T.doctypeKey:re.push(s(T,_,H)+m(P[M],T));break;case T.commentKey:re.push(s(T,_,H)+h(P[M],T));break;default:re.push(s(T,_,H)+x(P[M],Q,T,_,E(P[M],T)))}H=H&&!re.length}return re.join("")}return gv=function(O,T){T=i(T);var _=[];return t=O,n="_root_",T.compact?_.push(k(O,T,0,!0)):(O[T.declarationKey]&&_.push(u(O[T.declarationKey],T,0)),O[T.elementsKey]&&O[T.elementsKey].length&&_.push(w(O[T.elementsKey],T,0,!_.length))),_.join("")},gv}var yv,rO;function cV(){if(rO)return yv;rO=1;var r=U5();return yv=function(e,t){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return r(n,t)},yv}var vv,nO;function fV(){if(nO)return vv;nO=1;var r=I5(),e=uV(),t=U5(),n=cV();return vv={xml2js:r,xml2json:e,js2xml:t,json2xml:n},vv}var H5=fV();const jx=r=>{switch(r.type){case void 0:case"element":const e=new dV(r.name,r.attributes),t=r.elements||[];for(const n of t){const i=jx(n);i!==void 0&&e.push(i)}return e;case"text":return r.text;default:return}};class hV extends rt{}class dV extends De{static fromXmlString(e){const t=H5.xml2js(e,{compact:!1});return jx(t)}constructor(e,t){super(e),t&&this.root.push(new hV(t))}push(e){this.root.push(e)}}class pV extends De{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class q5 extends De{constructor(e,t){super(e),t&&(this.root=t.root)}}const qr=r=>{if(isNaN(r))throw new Error(`Invalid value '${r}' specified. Must be an integer.`);return Math.floor(r)},qp=r=>{const e=qr(r);if(e<0)throw new Error(`Invalid value '${r}' specified. Must be a positive integer.`);return e},W5=(r,e)=>{const t=e*2;if(r.length!==t||isNaN(+`0x${r}`))throw new Error(`Invalid hex value '${r}'. Expected ${t} digit hex value`);return r},iO=r=>W5(r,1),Px=r=>{const e=r.slice(-2),t=r.substring(0,r.length-2);return`${Number(t)}${e}`},V5=r=>{const e=Px(r);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Go=r=>{if(r==="auto")return r;const e=r.charAt(0)==="#"?r.substring(1):r;return W5(e,3)},ys=r=>typeof r=="string"?Px(r):qr(r),mV=r=>typeof r=="string"?V5(r):qp(r),zr=r=>typeof r=="string"?V5(r):qp(r),gV=r=>{const e=r.substring(0,r.length-1);return`${Number(e)}%`},$5=r=>typeof r=="number"?qr(r):r.slice(-1)==="%"?gV(r):Px(r),yV=qp,vV=qp,bV=r=>r.toISOString();class Le extends De{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new lr({val:t}))}}class bv extends De{constructor(e,t){super(e),this.root.push(new lr({val:mV(t)}))}}class cl extends De{constructor(e,t){super(e),this.root.push(new lr({val:t}))}}const nc=(r,e)=>new Ii({name:r,attributes:{value:{key:"w:val",value:e}}});class kc extends De{constructor(e,t){super(e),this.root.push(new lr({val:t}))}}class xV extends De{constructor(e,t){super(e),this.root.push(new lr({val:t}))}}class Wa extends De{constructor(e,t){super(e),this.root.push(t)}}class Ii extends De{constructor({name:e,attributes:t,children:n}){super(e),t&&this.root.push(new ba(t)),n&&this.root.push(...n)}}const Qr={START:"start",CENTER:"center",LEFT:"left"};class wV extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class G5 extends De{constructor(e){super("w:jc"),this.root.push(new wV({val:e}))}}class Ut extends De{constructor(e,{color:t,size:n,space:i,style:s}){super(e),this.root.push(new SV({style:s,color:t===void 0?void 0:Go(t),size:n===void 0?void 0:yV(n),space:i===void 0?void 0:vV(i)}))}}class SV extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const ds={SINGLE:"single",NONE:"none"};class kV extends Ts{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Ut("w:top",e.top)),e.bottom&&this.root.push(new Ut("w:bottom",e.bottom)),e.left&&this.root.push(new Ut("w:left",e.left)),e.right&&this.root.push(new Ut("w:right",e.right))}}class AV extends De{constructor(){super("w:pBdr");const e=new Ut("w:bottom",{color:"auto",space:1,style:ds.SINGLE,size:6});this.root.push(e)}}class EV extends De{constructor({start:e,end:t,left:n,right:i,hanging:s,firstLine:l}){super("w:ind"),this.root.push(new ba({start:{key:"w:start",value:e===void 0?void 0:ys(e)},end:{key:"w:end",value:t===void 0?void 0:ys(t)},left:{key:"w:left",value:n===void 0?void 0:ys(n)},right:{key:"w:right",value:i===void 0?void 0:ys(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:zr(s)},firstLine:{key:"w:firstLine",value:l===void 0?void 0:zr(l)}}))}}let TV=class extends De{constructor(){super("w:br")}};const Fx={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Ix extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class id extends De{constructor(e){super("w:fldChar"),this.root.push(new Ix({type:Fx.BEGIN,dirty:e}))}}class sd extends De{constructor(e){super("w:fldChar"),this.root.push(new Ix({type:Fx.SEPARATE,dirty:e}))}}class ad extends De{constructor(e){super("w:fldChar"),this.root.push(new Ix({type:Fx.END,dirty:e}))}}const Qo={DEFAULT:"default",PRESERVE:"preserve"};class Xo extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{space:"xml:space"})}}class CV extends De{constructor(){super("w:instrText"),this.root.push(new Xo({space:Qo.PRESERVE})),this.root.push("PAGE")}}class OV extends De{constructor(){super("w:instrText"),this.root.push(new Xo({space:Qo.PRESERVE})),this.root.push("NUMPAGES")}}class _V extends De{constructor(){super("w:instrText"),this.root.push(new Xo({space:Qo.PRESERVE})),this.root.push("SECTIONPAGES")}}class RV extends De{constructor(){super("w:instrText"),this.root.push(new Xo({space:Qo.PRESERVE})),this.root.push("SECTION")}}class MV extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Wp extends De{constructor({fill:e,color:t,type:n}){super("w:shd"),this.root.push(new MV({fill:e===void 0?void 0:Go(e),color:t===void 0?void 0:Go(t),type:n}))}}const ld={SOLID:"solid"};class NV extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const DV={DOT:"dot"};class LV extends De{constructor(e){super("w:em"),this.root.push(new lr({val:e}))}}class BV extends LV{constructor(e=DV.DOT){super(e)}}class zV extends De{constructor(e){super("w:spacing"),this.root.push(new lr({val:ys(e)}))}}class jV extends De{constructor(e){super("w:color"),this.root.push(new lr({val:Go(e)}))}}class PV extends De{constructor(e){super("w:highlight"),this.root.push(new lr({val:e}))}}class FV extends De{constructor(e){super("w:highlightCs"),this.root.push(new lr({val:e}))}}const IV=r=>new Ii({name:"w:lang",attributes:{value:{key:"w:val",value:r.value},eastAsia:{key:"w:eastAsia",value:r.eastAsia},bidirectional:{key:"w:bidi",value:r.bidirectional}}});class sO extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class xv extends De{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new sO({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:t}))}else{const n=e;this.root.push(new sO(n))}}}let Q5=class extends De{constructor(e){super("w:vertAlign"),this.root.push(new lr({val:e}))}};class UV extends Q5{constructor(){super("superscript")}}class HV extends Q5{constructor(){super("subscript")}}const X5={SINGLE:"single"};class qV extends De{constructor(e=X5.SINGLE,t){super("w:u"),this.root.push(new lr({val:e,color:t===void 0?void 0:Go(t)}))}}class wl extends Ts{constructor(e){var t,n;if(super("w:rPr"),!e)return;e.style&&this.push(new cl("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new xv(e.font)):"name"in e.font?this.push(new xv(e.font.name,e.font.hint)):this.push(new xv(e.font))),e.bold!==void 0&&this.push(new Le("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Le("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new Le("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Le("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new Le("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Le("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Le("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Le("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new Le("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Le("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new Le("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new Le("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Le("w:vanish",e.vanish)),e.color&&this.push(new jV(e.color)),e.characterSpacing&&this.push(new zV(e.characterSpacing)),e.scale!==void 0&&this.push(new kc("w:w",e.scale)),e.kern&&this.push(new bv("w:kern",e.kern)),e.position&&this.push(new cl("w:position",e.position)),e.size!==void 0&&this.push(new bv("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new bv("w:szCs",i)),e.highlight&&this.push(new PV(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new FV(s)),e.underline&&this.push(new qV(e.underline.type,e.underline.color)),e.effect&&this.push(new cl("w:effect",e.effect)),e.border&&this.push(new Ut("w:bdr",e.border)),e.shading&&this.push(new Wp(e.shading)),e.subScript&&this.push(new HV),e.superScript&&this.push(new UV),e.rightToLeft!==void 0&&this.push(new Le("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new BV(e.emphasisMark.type)),e.language&&this.push(IV(e.language)),e.specVanish&&this.push(new Le("w:specVanish",e.vanish)),e.math&&this.push(new Le("w:oMath",e.math)),e.revision&&this.push(new WV(e.revision))}push(e){this.root.push(e)}}class WV extends De{constructor(e){super("w:rPrChange"),this.root.push(new NV({id:e.id,author:e.author,date:e.date})),this.addChildElement(new wl(e))}}class aO extends De{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new Xo({space:Qo.PRESERVE})),this.root.push(e)):(this.root.push(new Xo({space:(t=e.space)!=null?t:Qo.DEFAULT})),this.root.push(e.text))}}const od={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Vp extends De{constructor(e){if(super("w:r"),Re(this,"properties"),this.properties=new wl(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new TV);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case od.CURRENT:this.root.push(new id),this.root.push(new CV),this.root.push(new sd),this.root.push(new ad);break;case od.TOTAL_PAGES:this.root.push(new id),this.root.push(new OV),this.root.push(new sd),this.root.push(new ad);break;case od.TOTAL_PAGES_IN_SECTION:this.root.push(new id),this.root.push(new _V),this.root.push(new sd),this.root.push(new ad);break;case od.CURRENT_SECTION:this.root.push(new id),this.root.push(new RV),this.root.push(new sd),this.root.push(new ad);break;default:this.root.push(new aO(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new aO(e.text))}}class ko extends Vp{constructor(e){super(typeof e=="string"?{text:e}:e)}}var wv={},It={},Sv,lO;function hf(){if(lO)return Sv;lO=1,Sv=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,n,i){if(t!=n)throw new Error(i||"Assertion failed: "+t+" != "+n)},Sv}var oO;function qi(){if(oO)return It;oO=1;var r=hf(),e=xa();It.inherits=e;function t(U,X){return(U.charCodeAt(X)&64512)!==55296||X<0||X+1>=U.length?!1:(U.charCodeAt(X+1)&64512)===56320}function n(U,X){if(Array.isArray(U))return U.slice();if(!U)return[];var R=[];if(typeof U=="string")if(X){if(X==="hex")for(U=U.replace(/[^a-z0-9]+/ig,""),U.length%2!==0&&(U="0"+U),Y=0;Y<U.length;Y+=2)R.push(parseInt(U[Y]+U[Y+1],16))}else for(var ee=0,Y=0;Y<U.length;Y++){var G=U.charCodeAt(Y);G<128?R[ee++]=G:G<2048?(R[ee++]=G>>6|192,R[ee++]=G&63|128):t(U,Y)?(G=65536+((G&1023)<<10)+(U.charCodeAt(++Y)&1023),R[ee++]=G>>18|240,R[ee++]=G>>12&63|128,R[ee++]=G>>6&63|128,R[ee++]=G&63|128):(R[ee++]=G>>12|224,R[ee++]=G>>6&63|128,R[ee++]=G&63|128)}else for(Y=0;Y<U.length;Y++)R[Y]=U[Y]|0;return R}It.toArray=n;function i(U){for(var X="",R=0;R<U.length;R++)X+=u(U[R].toString(16));return X}It.toHex=i;function s(U){var X=U>>>24|U>>>8&65280|U<<8&16711680|(U&255)<<24;return X>>>0}It.htonl=s;function l(U,X){for(var R="",ee=0;ee<U.length;ee++){var Y=U[ee];X==="little"&&(Y=s(Y)),R+=c(Y.toString(16))}return R}It.toHex32=l;function u(U){return U.length===1?"0"+U:U}It.zero2=u;function c(U){return U.length===7?"0"+U:U.length===6?"00"+U:U.length===5?"000"+U:U.length===4?"0000"+U:U.length===3?"00000"+U:U.length===2?"000000"+U:U.length===1?"0000000"+U:U}It.zero8=c;function h(U,X,R,ee){var Y=R-X;r(Y%4===0);for(var G=new Array(Y/4),ue=0,ce=X;ue<G.length;ue++,ce+=4){var ke;ee==="big"?ke=U[ce]<<24|U[ce+1]<<16|U[ce+2]<<8|U[ce+3]:ke=U[ce+3]<<24|U[ce+2]<<16|U[ce+1]<<8|U[ce],G[ue]=ke>>>0}return G}It.join32=h;function d(U,X){for(var R=new Array(U.length*4),ee=0,Y=0;ee<U.length;ee++,Y+=4){var G=U[ee];X==="big"?(R[Y]=G>>>24,R[Y+1]=G>>>16&255,R[Y+2]=G>>>8&255,R[Y+3]=G&255):(R[Y+3]=G>>>24,R[Y+2]=G>>>16&255,R[Y+1]=G>>>8&255,R[Y]=G&255)}return R}It.split32=d;function m(U,X){return U>>>X|U<<32-X}It.rotr32=m;function g(U,X){return U<<X|U>>>32-X}It.rotl32=g;function y(U,X){return U+X>>>0}It.sum32=y;function b(U,X,R){return U+X+R>>>0}It.sum32_3=b;function w(U,X,R,ee){return U+X+R+ee>>>0}It.sum32_4=w;function E(U,X,R,ee,Y){return U+X+R+ee+Y>>>0}It.sum32_5=E;function x(U,X,R,ee){var Y=U[X],G=U[X+1],ue=ee+G>>>0,ce=(ue<ee?1:0)+R+Y;U[X]=ce>>>0,U[X+1]=ue}It.sum64=x;function k(U,X,R,ee){var Y=X+ee>>>0,G=(Y<X?1:0)+U+R;return G>>>0}It.sum64_hi=k;function O(U,X,R,ee){var Y=X+ee;return Y>>>0}It.sum64_lo=O;function T(U,X,R,ee,Y,G,ue,ce){var ke=0,q=X;q=q+ee>>>0,ke+=q<X?1:0,q=q+G>>>0,ke+=q<G?1:0,q=q+ce>>>0,ke+=q<ce?1:0;var I=U+R+Y+ue+ke;return I>>>0}It.sum64_4_hi=T;function _(U,X,R,ee,Y,G,ue,ce){var ke=X+ee+G+ce;return ke>>>0}It.sum64_4_lo=_;function H(U,X,R,ee,Y,G,ue,ce,ke,q){var I=0,K=X;K=K+ee>>>0,I+=K<X?1:0,K=K+G>>>0,I+=K<G?1:0,K=K+ce>>>0,I+=K<ce?1:0,K=K+q>>>0,I+=K<q?1:0;var se=U+R+Y+ue+ke+I;return se>>>0}It.sum64_5_hi=H;function M(U,X,R,ee,Y,G,ue,ce,ke,q){var I=X+ee+G+ce+q;return I>>>0}It.sum64_5_lo=M;function Q(U,X,R){var ee=X<<32-R|U>>>R;return ee>>>0}It.rotr64_hi=Q;function P(U,X,R){var ee=U<<32-R|X>>>R;return ee>>>0}It.rotr64_lo=P;function re(U,X,R){return U>>>R}It.shr64_hi=re;function pe(U,X,R){var ee=U<<32-R|X>>>R;return ee>>>0}return It.shr64_lo=pe,It}var kv={},uO;function df(){if(uO)return kv;uO=1;var r=qi(),e=hf();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return kv.BlockHash=t,t.prototype.update=function(i,s){if(i=r.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var l=i.length%this._delta8;this.pending=i.slice(i.length-l,i.length),this.pending.length===0&&(this.pending=null),i=r.join32(i,0,i.length-l,this.endian);for(var u=0;u<i.length;u+=this._delta32)this._update(i,u,u+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,l=s-(i+this.padLength)%s,u=new Array(l+this.padLength);u[0]=128;for(var c=1;c<l;c++)u[c]=0;if(i<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)u[c++]=0;u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=i>>>24&255,u[c++]=i>>>16&255,u[c++]=i>>>8&255,u[c++]=i&255}else for(u[c++]=i&255,u[c++]=i>>>8&255,u[c++]=i>>>16&255,u[c++]=i>>>24&255,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,h=8;h<this.padLength;h++)u[c++]=0;return u},kv}var Va={},Ei={},cO;function Y5(){if(cO)return Ei;cO=1;var r=qi(),e=r.rotr32;function t(d,m,g,y){if(d===0)return n(m,g,y);if(d===1||d===3)return s(m,g,y);if(d===2)return i(m,g,y)}Ei.ft_1=t;function n(d,m,g){return d&m^~d&g}Ei.ch32=n;function i(d,m,g){return d&m^d&g^m&g}Ei.maj32=i;function s(d,m,g){return d^m^g}Ei.p32=s;function l(d){return e(d,2)^e(d,13)^e(d,22)}Ei.s0_256=l;function u(d){return e(d,6)^e(d,11)^e(d,25)}Ei.s1_256=u;function c(d){return e(d,7)^e(d,18)^d>>>3}Ei.g0_256=c;function h(d){return e(d,17)^e(d,19)^d>>>10}return Ei.g1_256=h,Ei}var Av,fO;function VV(){if(fO)return Av;fO=1;var r=qi(),e=df(),t=Y5(),n=r.rotl32,i=r.sum32,s=r.sum32_5,l=t.ft_1,u=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(h,u),Av=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(m,g){for(var y=this.W,b=0;b<16;b++)y[b]=m[g+b];for(;b<y.length;b++)y[b]=n(y[b-3]^y[b-8]^y[b-14]^y[b-16],1);var w=this.h[0],E=this.h[1],x=this.h[2],k=this.h[3],O=this.h[4];for(b=0;b<y.length;b++){var T=~~(b/20),_=s(n(w,5),l(T,E,x,k),O,y[b],c[T]);O=k,k=x,x=n(E,30),E=w,w=_}this.h[0]=i(this.h[0],w),this.h[1]=i(this.h[1],E),this.h[2]=i(this.h[2],x),this.h[3]=i(this.h[3],k),this.h[4]=i(this.h[4],O)},h.prototype._digest=function(m){return m==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},Av}var Ev,hO;function K5(){if(hO)return Ev;hO=1;var r=qi(),e=df(),t=Y5(),n=hf(),i=r.sum32,s=r.sum32_4,l=r.sum32_5,u=t.ch32,c=t.maj32,h=t.s0_256,d=t.s1_256,m=t.g0_256,g=t.g1_256,y=e.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}return r.inherits(w,y),Ev=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(x,k){for(var O=this.W,T=0;T<16;T++)O[T]=x[k+T];for(;T<O.length;T++)O[T]=s(g(O[T-2]),O[T-7],m(O[T-15]),O[T-16]);var _=this.h[0],H=this.h[1],M=this.h[2],Q=this.h[3],P=this.h[4],re=this.h[5],pe=this.h[6],U=this.h[7];for(n(this.k.length===O.length),T=0;T<O.length;T++){var X=l(U,d(P),u(P,re,pe),this.k[T],O[T]),R=i(h(_),c(_,H,M));U=pe,pe=re,re=P,P=i(Q,X),Q=M,M=H,H=_,_=i(X,R)}this.h[0]=i(this.h[0],_),this.h[1]=i(this.h[1],H),this.h[2]=i(this.h[2],M),this.h[3]=i(this.h[3],Q),this.h[4]=i(this.h[4],P),this.h[5]=i(this.h[5],re),this.h[6]=i(this.h[6],pe),this.h[7]=i(this.h[7],U)},w.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},Ev}var Tv,dO;function $V(){if(dO)return Tv;dO=1;var r=qi(),e=K5();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),Tv=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},Tv}var Cv,pO;function Z5(){if(pO)return Cv;pO=1;var r=qi(),e=df(),t=hf(),n=r.rotr64_hi,i=r.rotr64_lo,s=r.shr64_hi,l=r.shr64_lo,u=r.sum64,c=r.sum64_hi,h=r.sum64_lo,d=r.sum64_4_hi,m=r.sum64_4_lo,g=r.sum64_5_hi,y=r.sum64_5_lo,b=e.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}r.inherits(E,b),Cv=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(R,ee){for(var Y=this.W,G=0;G<32;G++)Y[G]=R[ee+G];for(;G<Y.length;G+=2){var ue=pe(Y[G-4],Y[G-3]),ce=U(Y[G-4],Y[G-3]),ke=Y[G-14],q=Y[G-13],I=P(Y[G-30],Y[G-29]),K=re(Y[G-30],Y[G-29]),se=Y[G-32],he=Y[G-31];Y[G]=d(ue,ce,ke,q,I,K,se,he),Y[G+1]=m(ue,ce,ke,q,I,K,se,he)}},E.prototype._update=function(R,ee){this._prepareBlock(R,ee);var Y=this.W,G=this.h[0],ue=this.h[1],ce=this.h[2],ke=this.h[3],q=this.h[4],I=this.h[5],K=this.h[6],se=this.h[7],he=this.h[8],ie=this.h[9],B=this.h[10],L=this.h[11],te=this.h[12],J=this.h[13],W=this.h[14],$=this.h[15];t(this.k.length===Y.length);for(var ge=0;ge<Y.length;ge+=2){var N=W,ve=$,F=M(he,ie),A=Q(he,ie),C=x(he,ie,B,L,te),D=k(he,ie,B,L,te,J),Z=this.k[ge],oe=this.k[ge+1],ne=Y[ge],Ee=Y[ge+1],Te=g(N,ve,F,A,C,D,Z,oe,ne,Ee),Oe=y(N,ve,F,A,C,D,Z,oe,ne,Ee);N=_(G,ue),ve=H(G,ue),F=O(G,ue,ce,ke,q),A=T(G,ue,ce,ke,q,I);var je=c(N,ve,F,A),Ve=h(N,ve,F,A);W=te,$=J,te=B,J=L,B=he,L=ie,he=c(K,se,Te,Oe),ie=h(se,se,Te,Oe),K=q,se=I,q=ce,I=ke,ce=G,ke=ue,G=c(Te,Oe,je,Ve),ue=h(Te,Oe,je,Ve)}u(this.h,0,G,ue),u(this.h,2,ce,ke),u(this.h,4,q,I),u(this.h,6,K,se),u(this.h,8,he,ie),u(this.h,10,B,L),u(this.h,12,te,J),u(this.h,14,W,$)},E.prototype._digest=function(R){return R==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function x(X,R,ee,Y,G){var ue=X&ee^~X&G;return ue<0&&(ue+=4294967296),ue}function k(X,R,ee,Y,G,ue){var ce=R&Y^~R&ue;return ce<0&&(ce+=4294967296),ce}function O(X,R,ee,Y,G){var ue=X&ee^X&G^ee&G;return ue<0&&(ue+=4294967296),ue}function T(X,R,ee,Y,G,ue){var ce=R&Y^R&ue^Y&ue;return ce<0&&(ce+=4294967296),ce}function _(X,R){var ee=n(X,R,28),Y=n(R,X,2),G=n(R,X,7),ue=ee^Y^G;return ue<0&&(ue+=4294967296),ue}function H(X,R){var ee=i(X,R,28),Y=i(R,X,2),G=i(R,X,7),ue=ee^Y^G;return ue<0&&(ue+=4294967296),ue}function M(X,R){var ee=n(X,R,14),Y=n(X,R,18),G=n(R,X,9),ue=ee^Y^G;return ue<0&&(ue+=4294967296),ue}function Q(X,R){var ee=i(X,R,14),Y=i(X,R,18),G=i(R,X,9),ue=ee^Y^G;return ue<0&&(ue+=4294967296),ue}function P(X,R){var ee=n(X,R,1),Y=n(X,R,8),G=s(X,R,7),ue=ee^Y^G;return ue<0&&(ue+=4294967296),ue}function re(X,R){var ee=i(X,R,1),Y=i(X,R,8),G=l(X,R,7),ue=ee^Y^G;return ue<0&&(ue+=4294967296),ue}function pe(X,R){var ee=n(X,R,19),Y=n(R,X,29),G=s(X,R,6),ue=ee^Y^G;return ue<0&&(ue+=4294967296),ue}function U(X,R){var ee=i(X,R,19),Y=i(R,X,29),G=l(X,R,6),ue=ee^Y^G;return ue<0&&(ue+=4294967296),ue}return Cv}var Ov,mO;function GV(){if(mO)return Ov;mO=1;var r=qi(),e=Z5();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),Ov=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},Ov}var gO;function QV(){return gO||(gO=1,Va.sha1=VV(),Va.sha224=$V(),Va.sha256=K5(),Va.sha384=GV(),Va.sha512=Z5()),Va}var _v={},yO;function XV(){if(yO)return _v;yO=1;var r=qi(),e=df(),t=r.rotl32,n=r.sum32,i=r.sum32_3,s=r.sum32_4,l=e.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(u,l),_v.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(E,x){for(var k=this.h[0],O=this.h[1],T=this.h[2],_=this.h[3],H=this.h[4],M=k,Q=O,P=T,re=_,pe=H,U=0;U<80;U++){var X=n(t(s(k,c(U,O,T,_),E[m[U]+x],h(U)),y[U]),H);k=H,H=_,_=t(T,10),T=O,O=X,X=n(t(s(M,c(79-U,Q,P,re),E[g[U]+x],d(U)),b[U]),pe),M=pe,pe=re,re=t(P,10),P=Q,Q=X}X=i(this.h[1],T,re),this.h[1]=i(this.h[2],_,pe),this.h[2]=i(this.h[3],H,M),this.h[3]=i(this.h[4],k,Q),this.h[4]=i(this.h[0],O,P),this.h[0]=X},u.prototype._digest=function(E){return E==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function c(w,E,x,k){return w<=15?E^x^k:w<=31?E&x|~E&k:w<=47?(E|~x)^k:w<=63?E&k|x&~k:E^(x|~k)}function h(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function d(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return _v}var Rv,vO;function YV(){if(vO)return Rv;vO=1;var r=qi(),e=hf();function t(n,i,s){if(!(this instanceof t))return new t(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(i,s))}return Rv=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,s){return this.inner.update(i,s),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Rv}var bO;function KV(){return bO||(bO=1,(function(r){var e=r;e.utils=qi(),e.common=df(),e.sha=QV(),e.ripemd=XV(),e.hmac=YV(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(wv)),wv}KV();let ZV="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",JV=(r,e=21)=>(t=e)=>{let n="",i=t|0;for(;i--;)n+=r[Math.random()*r.length|0];return n},e$=(r=21)=>{let e="",t=r|0;for(;t--;)e+=ZV[Math.random()*64|0];return e};const li=r=>Math.floor(r*72*20),Ux=(r=0)=>{let e=r;return()=>++e},t$=()=>Ux(),r$=()=>Ux(1),n$=()=>Ux(),i$=()=>e$().toLowerCase(),ic=r=>JV("1234567890abcdef",r)(),s$=()=>`${ic(8)}-${ic(4)}-${ic(4)}-${ic(4)}-${ic(12)}`;class a$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{xmlns:"xmlns"})}}class l$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const o$={EXTERNAL:"External"};class u$ extends De{constructor(e,t,n,i){super("Relationship"),this.root.push(new l$({id:e,type:t,target:n,targetMode:i}))}}class Sl extends De{constructor(){super("Relationships"),this.root.push(new a$({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,n,i){const s=new u$(`rId${e}`,t,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class c$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class f$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class h$ extends De{constructor({id:e,initials:t,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new c$({id:e,initials:t,author:n,date:i.toISOString()}));for(const l of s)this.root.push(l)}}class d$ extends De{constructor({children:e}){super("w:comments"),Re(this,"relationships"),this.root.push(new f$({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new h$(t));this.relationships=new Sl}get Relationships(){return this.relationships}}class p$ extends De{constructor(){super("w:pageBreakBefore")}}const rb={AUTO:"auto"};class m$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class g$ extends De{constructor(e){super("w:spacing"),this.root.push(new m$(e))}}const xO={HEADING_1:"Heading1",TITLE:"Title"};let ud=class extends De{constructor(e){super("w:pStyle"),this.root.push(new lr({val:e}))}};class y$ extends De{constructor(e){super("w:tabs");for(const t of e)this.root.push(new b$(t))}}const wO={LEFT:"left",RIGHT:"right"};class v$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class b$ extends De{constructor({type:e,position:t,leader:n}){super("w:tab"),this.root.push(new v$({val:e,pos:t,leader:n}))}}class Mv extends De{constructor(e,t){super("w:numPr"),this.root.push(new x$(t)),this.root.push(new w$(e))}}class x$ extends De{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new lr({val:e}))}}class w$ extends De{constructor(e){super("w:numId"),this.root.push(new lr({val:typeof e=="string"?`{${e}}`:e}))}}class J5 extends De{constructor(){super(...arguments),Re(this,"fileChild",Symbol())}}class S$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class k$ extends De{constructor(e,t,n){super("w:hyperlink"),Re(this,"linkId"),this.linkId=t;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new S$(i);this.root.push(s),e.forEach(l=>{this.root.push(l)})}}class A$ extends De{constructor(e){super("w:externalHyperlink"),this.options=e}}class E$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class T$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"w:id"})}}class C${constructor(e){Re(this,"bookmarkUniqueNumericId",n$()),Re(this,"start"),Re(this,"children"),Re(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new O$(e.id,t),this.children=e.children,this.end=new _$(t)}}class O$ extends De{constructor(e,t){super("w:bookmarkStart");const n=new E$({name:e,id:t});this.root.push(n)}}class _$ extends De{constructor(e){super("w:bookmarkEnd");const t=new T$({id:e});this.root.push(t)}}class R$ extends De{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new lr({val:e}))}}const M$={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Vo(xt({},M$),{BOTH:"both"});class N$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{verticalAlign:"w:val"})}}class e6 extends De{constructor(e){super("w:vAlign"),this.root.push(new N$({verticalAlign:e}))}}class D$ extends De{constructor({space:e,count:t,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new ba({space:{key:"w:space",value:e===void 0?void 0:zr(e)},count:{key:"w:num",value:t===void 0?void 0:qr(t)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(l=>this.addChildElement(l))}}const L$=({type:r,linePitch:e,charSpace:t})=>new Ii({name:"w:docGrid",attributes:{type:{key:"w:type",value:r},linePitch:{key:"w:linePitch",value:qr(e)},charSpace:{key:"w:charSpace",value:t?qr(t):void 0}}}),Do={DEFAULT:"default",FIRST:"first",EVEN:"even"};class B$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const SO={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Nv extends De{constructor(e,t){super(e),this.root.push(new B$({type:t.type||Do.DEFAULT,id:`rId${t.id}`}))}}const z$=({countBy:r,start:e,restart:t,distance:n})=>new Ii({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:r===void 0?void 0:qr(r)},start:{key:"w:start",value:e===void 0?void 0:qr(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:n===void 0?void 0:zr(n)}}});class kO extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class j$ extends Ts{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new kO({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new kO({})),e.pageBorderTop&&this.root.push(new Ut("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Ut("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Ut("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Ut("w:right",e.pageBorderRight))}}class P$ extends De{constructor(e,t,n,i,s,l,u){super("w:pgMar"),this.root.push(new ba({top:{key:"w:top",value:ys(e)},right:{key:"w:right",value:zr(t)},bottom:{key:"w:bottom",value:ys(n)},left:{key:"w:left",value:zr(i)},header:{key:"w:header",value:zr(s)},footer:{key:"w:footer",value:zr(l)},gutter:{key:"w:gutter",value:zr(u)}}))}}class F$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class I$ extends De{constructor({start:e,formatType:t,separator:n}){super("w:pgNumType"),this.root.push(new F$({start:e===void 0?void 0:qr(e),formatType:t,separator:n}))}}const nb={PORTRAIT:"portrait",LANDSCAPE:"landscape"},U$=({width:r,height:e,orientation:t,code:n})=>{const i=zr(r),s=zr(e);return new Ii({name:"w:pgSz",attributes:{width:{key:"w:w",value:t===nb.LANDSCAPE?s:i},height:{key:"w:h",value:t===nb.LANDSCAPE?i:s},orientation:{key:"w:orient",value:t},code:{key:"w:code",value:n}}})};class H$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class q$ extends De{constructor(e){super("w:textDirection"),this.root.push(new H$({val:e}))}}class W$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class V$ extends De{constructor(e){super("w:type"),this.root.push(new W$({val:e}))}}const $a={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Dv={WIDTH:11906,HEIGHT:16838,ORIENTATION:nb.PORTRAIT};class $$ extends De{constructor({page:{size:{width:e=Dv.WIDTH,height:t=Dv.HEIGHT,orientation:n=Dv.ORIENTATION}={},margin:{top:i=$a.TOP,right:s=$a.RIGHT,bottom:l=$a.BOTTOM,left:u=$a.LEFT,header:c=$a.HEADER,footer:h=$a.FOOTER,gutter:d=$a.GUTTER}={},pageNumbers:m={},borders:g,textDirection:y}={},grid:{linePitch:b=360,charSpace:w,type:E}={},headerWrapperGroup:x={},footerWrapperGroup:k={},lineNumbers:O,titlePage:T,verticalAlign:_,column:H,type:M}={}){super("w:sectPr"),this.addHeaderFooterGroup(SO.HEADER,x),this.addHeaderFooterGroup(SO.FOOTER,k),M&&this.root.push(new V$(M)),this.root.push(U$({width:e,height:t,orientation:n})),this.root.push(new P$(i,s,l,u,c,h,d)),g&&this.root.push(new j$(g)),O&&this.root.push(z$(O)),this.root.push(new I$(m)),H&&this.root.push(new D$(H)),_&&this.root.push(new e6(_)),T!==void 0&&this.root.push(new Le("w:titlePg",T)),y&&this.root.push(new q$(y)),this.root.push(L$({linePitch:b,charSpace:w,type:E}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new Nv(e,{type:Do.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new Nv(e,{type:Do.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new Nv(e,{type:Do.EVEN,id:t.even.View.ReferenceId}))}}class G$ extends De{constructor(){super("w:body"),Re(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new $$(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new Vt({}),n=new Yo({});return n.push(e),t.addChildElement(n),t}}const AO={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class $p extends rt{constructor(e,t){super(xt({Ignorable:t},Object.fromEntries(e.map(n=>[n,AO[n]])))),Re(this,"xmlKeys",xt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(AO).map(n=>[n,`xmlns:${n}`]))))}}class Q$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class X$ extends De{constructor(e){super("w:background"),this.root.push(new Q$({color:e.color===void 0?void 0:Go(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:iO(e.themeShade),themeTint:e.themeTint===void 0?void 0:iO(e.themeTint)}))}}class Y$ extends De{constructor(e){super("w:document"),Re(this,"body"),this.root.push(new $p(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new G$,e.background&&this.root.push(new X$(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class t6{constructor(e){Re(this,"document"),Re(this,"relationships"),this.document=new Y$(e),this.relationships=new Sl}get View(){return this.document}get Relationships(){return this.relationships}}class K$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class Z$ extends De{constructor(){super("w:wordWrap"),this.root.push(new K$({val:0}))}}const J$=r=>{var e,t;return new Ii({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:r.anchorLock},dropCap:{key:"w:dropCap",value:r.dropCap},width:{key:"w:w",value:r.width},height:{key:"w:h",value:r.height},x:{key:"w:x",value:r.position?r.position.x:void 0},y:{key:"w:y",value:r.position?r.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:r.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:r.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=r.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=r.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:r.rule},alignmentX:{key:"w:xAlign",value:r.alignment?r.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:r.alignment?r.alignment.y:void 0},lines:{key:"w:lines",value:r.lines},wrap:{key:"w:wrap",value:r.wrap}}})};class Yo extends Ts{constructor(e){var t,n;if(super("w:pPr"),Re(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new ud(e.heading)),e.bullet&&this.push(new ud("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new ud("ListParagraph"))),e.style&&this.push(new ud(e.style)),e.keepNext!==void 0&&this.push(new Le("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Le("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new p$),e.frame&&this.push(J$(e.frame)),e.widowControl!==void 0&&this.push(new Le("w:widowControl",e.widowControl)),e.bullet&&this.push(new Mv(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new Mv(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new Mv(0,0)),e.border&&this.push(new kV(e.border)),e.thematicBreak&&this.push(new AV),e.shading&&this.push(new Wp(e.shading)),e.wordWrap&&this.push(new Z$),e.overflowPunctuation&&this.push(new Le("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:wO.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:wO.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new y$(i)),e.bidirectional!==void 0&&this.push(new Le("w:bidi",e.bidirectional)),e.spacing&&this.push(new g$(e.spacing)),e.indent&&this.push(new EV(e.indent)),e.contextualSpacing!==void 0&&this.push(new Le("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new G5(e.alignment)),e.outlineLevel!==void 0&&this.push(new R$(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Le("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Le("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new wl(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof t6)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class Vt extends J5{constructor(e){if(super("w:p"),Re(this,"properties"),typeof e=="string")return this.properties=new Yo({}),this.root.push(this.properties),this.root.push(new ko(e)),this;if(this.properties=new Yo(e),this.root.push(this.properties),e.text&&this.root.push(new ko(e.text)),e.children)for(const t of e.children){if(t instanceof C$){this.root.push(t.start);for(const n of t.children)this.root.push(n);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof A$){const n=this.root.indexOf(t),i=new k$(t.options.children,i$());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,o$.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}class eG extends De{constructor(e){super("w:tblGrid");for(const t of e)this.root.push(new tG(t))}}class tG extends De{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new ba({width:{key:"w:w",value:zr(e)}}))}}const r6={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"};class n6 extends Ts{constructor(e,{marginUnitType:t=nl.DXA,top:n,left:i,bottom:s,right:l}){super(e),n!==void 0&&this.root.push(new il("w:top",{type:t,size:n})),i!==void 0&&this.root.push(new il("w:left",{type:t,size:i})),s!==void 0&&this.root.push(new il("w:bottom",{type:t,size:s})),l!==void 0&&this.root.push(new il("w:right",{type:t,size:l}))}}const nl={AUTO:"auto",DXA:"dxa",PERCENTAGE:"pct"};class il extends De{constructor(e,{type:t=nl.AUTO,size:n}){super(e);let i=n;t===nl.PERCENTAGE&&typeof n=="number"&&(i=`${n}%`),this.root.push(new ba({type:{key:"w:type",value:t},size:{key:"w:w",value:$5(i)}}))}}class rG extends Ts{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new Ut("w:top",e.top)),e.start&&this.root.push(new Ut("w:start",e.start)),e.left&&this.root.push(new Ut("w:left",e.left)),e.bottom&&this.root.push(new Ut("w:bottom",e.bottom)),e.end&&this.root.push(new Ut("w:end",e.end)),e.right&&this.root.push(new Ut("w:right",e.right))}}class nG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class iG extends De{constructor(e){super("w:gridSpan"),this.root.push(new nG({val:qr(e)}))}}const i6={CONTINUE:"continue",RESTART:"restart"};class sG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class EO extends De{constructor(e){super("w:vMerge"),this.root.push(new sG({val:e}))}}class aG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class lG extends De{constructor(e){super("w:textDirection"),this.root.push(new aG({val:e}))}}class oG extends Ts{constructor(e){super("w:tcPr"),e.width&&this.root.push(new il("w:tcW",e.width)),e.columnSpan&&this.root.push(new iG(e.columnSpan)),e.verticalMerge?this.root.push(new EO(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new EO(i6.RESTART)),e.borders&&this.root.push(new rG(e.borders)),e.shading&&this.root.push(new Wp(e.shading)),e.margins&&this.root.push(new n6(r6.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new lG(e.textDirection)),e.verticalAlign&&this.root.push(new e6(e.verticalAlign))}}class Ci extends De{constructor(e){super("w:tc"),this.options=e,this.root.push(new oG(e));for(const t of e.children)this.root.push(t)}prepForXml(e){return this.root[this.root.length-1]instanceof Vt||this.root.push(new Vt({})),super.prepForXml(e)}}const ao={style:ds.NONE,size:0,color:"auto"},lo={style:ds.SINGLE,size:4,color:"auto"};class s6 extends De{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Ut("w:top",e.top)):this.root.push(new Ut("w:top",lo)),e.left?this.root.push(new Ut("w:left",e.left)):this.root.push(new Ut("w:left",lo)),e.bottom?this.root.push(new Ut("w:bottom",e.bottom)):this.root.push(new Ut("w:bottom",lo)),e.right?this.root.push(new Ut("w:right",e.right)):this.root.push(new Ut("w:right",lo)),e.insideHorizontal?this.root.push(new Ut("w:insideH",e.insideHorizontal)):this.root.push(new Ut("w:insideH",lo)),e.insideVertical?this.root.push(new Ut("w:insideV",e.insideVertical)):this.root.push(new Ut("w:insideV",lo))}}Re(s6,"NONE",{top:ao,bottom:ao,left:ao,right:ao,insideHorizontal:ao,insideVertical:ao});class uG extends De{constructor({horizontalAnchor:e,verticalAnchor:t,absoluteHorizontalPosition:n,relativeHorizontalPosition:i,absoluteVerticalPosition:s,relativeVerticalPosition:l,bottomFromText:u,topFromText:c,leftFromText:h,rightFromText:d,overlap:m}){super("w:tblpPr"),this.root.push(new ba({leftFromText:{key:"w:leftFromText",value:h===void 0?void 0:zr(h)},rightFromText:{key:"w:rightFromText",value:d===void 0?void 0:zr(d)},topFromText:{key:"w:topFromText",value:c===void 0?void 0:zr(c)},bottomFromText:{key:"w:bottomFromText",value:u===void 0?void 0:zr(u)},absoluteHorizontalPosition:{key:"w:tblpX",value:n===void 0?void 0:ys(n)},absoluteVerticalPosition:{key:"w:tblpY",value:s===void 0?void 0:ys(s)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:l},verticalAnchor:{key:"w:vertAnchor",value:t}})),m&&this.root.push(new xV("w:tblOverlap",m))}}class cG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"w:type"})}}class fG extends De{constructor(e){super("w:tblLayout"),this.root.push(new cG({type:e}))}}const hG={DXA:"dxa"};class a6 extends De{constructor({type:e=hG.DXA,value:t}){super("w:tblCellSpacing"),this.root.push(new ba({type:{key:"w:type",value:e},value:{key:"w:w",value:$5(t)}}))}}class dG extends Ts{constructor(e){super("w:tblPr"),e.style&&this.root.push(new cl("w:tblStyle",e.style)),e.float&&this.root.push(new uG(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new Le("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new il("w:tblW",e.width)),e.alignment&&this.root.push(new G5(e.alignment)),e.indent&&this.root.push(new il("w:tblInd",e.indent)),e.borders&&this.root.push(new s6(e.borders)),e.shading&&this.root.push(new Wp(e.shading)),e.layout&&this.root.push(new fG(e.layout)),e.cellMargin&&this.root.push(new n6(r6.TABLE,e.cellMargin)),e.cellSpacing&&this.root.push(new a6(e.cellSpacing))}}class TO extends J5{constructor({rows:e,width:t,columnWidths:n=Array(Math.max(...e.map(y=>y.CellCount))).fill(100),margins:i,indent:s,float:l,layout:u,style:c,borders:h,alignment:d,visuallyRightToLeft:m,cellSpacing:g}){super("w:tbl"),this.root.push(new dG({borders:h??{},width:t??{size:100},indent:s,float:l,layout:u,style:c,alignment:d,cellMargin:i,visuallyRightToLeft:m,cellSpacing:g})),this.root.push(new eG(n));for(const y of e)this.root.push(y);e.forEach((y,b)=>{if(b===e.length-1)return;let w=0;y.cells.forEach(E=>{if(E.options.rowSpan&&E.options.rowSpan>1){const x=new Ci({rowSpan:E.options.rowSpan-1,columnSpan:E.options.columnSpan,borders:E.options.borders,children:[],verticalMerge:i6.CONTINUE});e[b+1].addCellToColumnIndex(x,w)}w+=E.options.columnSpan||1})})}}class pG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class mG extends De{constructor(e,t){super("w:trHeight"),this.root.push(new pG({value:zr(e),rule:t}))}}class gG extends Ts{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new Le("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new Le("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new mG(e.height.value,e.height.rule)),e.cellSpacing&&this.root.push(new a6(e.cellSpacing))}}class Lv extends De{constructor(e){super("w:tr"),this.options=e,this.root.push(new gG(e));for(const t of e.children)this.root.push(t)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof Ci)}addCellToIndex(e,t){this.root.splice(t+1,0,e)}addCellToColumnIndex(e,t){const n=this.columnIndexToRootIndex(t,!0);this.addCellToIndex(e,n-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let t=0;for(let n=1;n<e;n++){const i=this.root[n];t+=i.options.columnSpan||1}return t}columnIndexToRootIndex(e,t=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let n=0,i=1;for(;n<=e;){if(i>=this.root.length){if(t)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${n-1}`)}const s=this.root[i];i+=1,n+=s&&s.options.columnSpan||1}return i-1}}class yG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class vG extends De{constructor(){super("Properties"),this.root.push(new yG({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class bG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{xmlns:"xmlns"})}}class xG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class ls extends De{constructor(e,t){super("Default"),this.root.push(new xG({contentType:e,extension:t}))}}class wG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Gn extends De{constructor(e,t){super("Override"),this.root.push(new wG({contentType:e,partName:t}))}}class SG extends De{constructor(){super("Types"),this.root.push(new bG({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new ls("image/png","png")),this.root.push(new ls("image/jpeg","jpeg")),this.root.push(new ls("image/jpeg","jpg")),this.root.push(new ls("image/bmp","bmp")),this.root.push(new ls("image/gif","gif")),this.root.push(new ls("image/svg+xml","svg")),this.root.push(new ls("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new ls("application/xml","xml")),this.root.push(new ls("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Gn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Gn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class kG extends De{constructor(e){super("cp:coreProperties"),this.root.push(new $p(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Wa("dc:title",e.title)),e.subject&&this.root.push(new Wa("dc:subject",e.subject)),e.creator&&this.root.push(new Wa("dc:creator",e.creator)),e.keywords&&this.root.push(new Wa("cp:keywords",e.keywords)),e.description&&this.root.push(new Wa("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Wa("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Wa("cp:revision",String(e.revision))),this.root.push(new CO("dcterms:created")),this.root.push(new CO("dcterms:modified"))}}class AG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"xsi:type"})}}class CO extends De{constructor(e){super(e),this.root.push(new AG({type:"dcterms:W3CDTF"})),this.root.push(bV(new Date))}}class EG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class TG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class CG extends De{constructor(e,t){super("property"),this.root.push(new TG({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new OG(t.value))}}class OG extends De{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class _G extends De{constructor(e){super("Properties"),Re(this,"nextId"),Re(this,"properties",[]),this.root.push(new EG({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new CG(this.nextId++,e))}}const cd=({id:r,fontKey:e,subsetted:t},n)=>new Ii({name:n,attributes:xt({id:{key:"r:id",value:r}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new Le("w:subsetted",t)]:[]]}),RG=({name:r,altName:e,panose1:t,charset:n,family:i,notTrueType:s,pitch:l,sig:u,embedRegular:c,embedBold:h,embedItalic:d,embedBoldItalic:m})=>new Ii({name:"w:font",attributes:{name:{key:"w:name",value:r}},children:[...e?[nc("w:altName",e)]:[],...t?[nc("w:panose1",t)]:[],...n?[nc("w:charset",n)]:[],nc("w:family",i),...s?[new Le("w:notTrueType",s)]:[],nc("w:pitch",l),...u?[new Ii({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:u.usb0},usb1:{key:"w:usb1",value:u.usb1},usb2:{key:"w:usb2",value:u.usb2},usb3:{key:"w:usb3",value:u.usb3},csb0:{key:"w:csb0",value:u.csb0},csb1:{key:"w:csb1",value:u.csb1}}})]:[],...c?[cd(c,"w:embedRegular")]:[],...h?[cd(h,"w:embedBold")]:[],...d?[cd(d,"w:embedItalic")]:[],...m?[cd(m,"w:embedBoldItalic")]:[]]}),MG=({name:r,index:e,fontKey:t,characterSet:n})=>RG({name:r,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),NG=r=>new Ii({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:r.map((e,t)=>MG({name:e.name,index:t+1,fontKey:e.fontKey}))});class DG{constructor(e){Re(this,"fontTable"),Re(this,"relationships"),Re(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>Vo(xt({},t),{fontKey:s$()})),this.fontTable=NG(this.fontOptionsWithKey),this.relationships=new Sl;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class LG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let BG=class extends q5{constructor(e,t){super("w:ftr",t),Re(this,"refId"),this.refId=e,t||this.root.push(new LG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class zG{constructor(e,t,n){Re(this,"footer"),Re(this,"relationships"),this.media=e,this.footer=new BG(t,n),this.relationships=new Sl}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class jG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class PG extends De{constructor(){super("w:footnoteRef")}}class FG extends Vp{constructor(){super({style:"FootnoteReference"}),this.root.push(new PG)}}const OO={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Bv extends De{constructor(e){super("w:footnote"),this.root.push(new jG({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const n=e.children[t];t===0&&n.addRunToFront(new FG),this.root.push(n)}}}class IG extends De{constructor(){super("w:continuationSeparator")}}class UG extends Vp{constructor(){super({}),this.root.push(new IG)}}class HG extends De{constructor(){super("w:separator")}}class qG extends Vp{constructor(){super({}),this.root.push(new HG)}}class WG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class VG extends De{constructor(){super("w:footnotes"),this.root.push(new WG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Bv({id:-1,type:OO.SEPERATOR,children:[new Vt({spacing:{after:0,line:240,lineRule:rb.AUTO},children:[new qG]})]});this.root.push(e);const t=new Bv({id:0,type:OO.CONTINUATION_SEPERATOR,children:[new Vt({spacing:{after:0,line:240,lineRule:rb.AUTO},children:[new UG]})]});this.root.push(t)}createFootNote(e,t){const n=new Bv({id:e,children:t});this.root.push(n)}}class $G{constructor(){Re(this,"footnotess"),Re(this,"relationships"),this.footnotess=new VG,this.relationships=new Sl}get View(){return this.footnotess}get Relationships(){return this.relationships}}class GG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let QG=class extends q5{constructor(e,t){super("w:hdr",t),Re(this,"refId"),this.refId=e,t||this.root.push(new GG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class XG{constructor(e,t,n){Re(this,"header"),Re(this,"relationships"),this.media=e,this.header=new QG(t,n),this.relationships=new Sl}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class YG{constructor(){Re(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const os={BULLET:"bullet"};class KG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class ZG extends De{constructor(e){super("w:numFmt"),this.root.push(new lr({val:e}))}}class JG extends De{constructor(e){super("w:lvlText"),this.root.push(new lr({val:e}))}}class eQ extends De{constructor(e){super("w:lvlJc"),this.root.push(new lr({val:e}))}}class tQ extends De{constructor(e){super("w:suff"),this.root.push(new lr({val:e}))}}class rQ extends De{constructor(){super("w:isLgl")}}class nQ extends De{constructor({level:e,format:t,text:n,alignment:i=Qr.START,start:s=1,style:l,suffix:u,isLegalNumberingStyle:c}){if(super("w:lvl"),Re(this,"paragraphProperties"),Re(this,"runProperties"),this.root.push(new kc("w:start",qr(s))),t&&this.root.push(new ZG(t)),u&&this.root.push(new tQ(u)),c&&this.root.push(new rQ),n&&this.root.push(new JG(n)),this.root.push(new eQ(i)),this.paragraphProperties=new Yo(l&&l.paragraph),this.runProperties=new wl(l&&l.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new KG({ilvl:qr(e),tentative:1}))}}class iQ extends nQ{}class sQ extends De{constructor(e){super("w:multiLevelType"),this.root.push(new lr({val:e}))}}class aQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class _O extends De{constructor(e,t){super("w:abstractNum"),Re(this,"id"),this.root.push(new aQ({abstractNumId:qr(e),restartNumberingAfterBreak:0})),this.root.push(new sQ("hybridMultilevel")),this.id=e;for(const n of t)this.root.push(new iQ(n))}}class lQ extends De{constructor(e){super("w:abstractNumId"),this.root.push(new lr({val:e}))}}class oQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{numId:"w:numId"})}}class RO extends De{constructor(e){if(super("w:num"),Re(this,"numId"),Re(this,"reference"),Re(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new oQ({numId:qr(e.numId)})),this.root.push(new lQ(qr(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new cQ(t.num,t.start))}}class uQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{ilvl:"w:ilvl"})}}class cQ extends De{constructor(e,t){super("w:lvlOverride"),this.root.push(new uQ({ilvl:e})),t!==void 0&&this.root.push(new hQ(t))}}class fQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class hQ extends De{constructor(e){super("w:startOverride"),this.root.push(new fQ({val:e}))}}class dQ extends De{constructor(e){super("w:numbering"),Re(this,"abstractNumberingMap",new Map),Re(this,"concreteNumberingMap",new Map),Re(this,"referenceConfigMap",new Map),Re(this,"abstractNumUniqueNumericId",t$()),Re(this,"concreteNumUniqueNumericId",r$()),this.root.push(new $p(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new _O(this.abstractNumUniqueNumericId(),[{level:0,format:os.BULLET,text:"",alignment:Qr.LEFT,style:{paragraph:{indent:{left:li(.5),hanging:li(.25)}}}},{level:1,format:os.BULLET,text:"",alignment:Qr.LEFT,style:{paragraph:{indent:{left:li(1),hanging:li(.25)}}}},{level:2,format:os.BULLET,text:"",alignment:Qr.LEFT,style:{paragraph:{indent:{left:2160,hanging:li(.25)}}}},{level:3,format:os.BULLET,text:"",alignment:Qr.LEFT,style:{paragraph:{indent:{left:2880,hanging:li(.25)}}}},{level:4,format:os.BULLET,text:"",alignment:Qr.LEFT,style:{paragraph:{indent:{left:3600,hanging:li(.25)}}}},{level:5,format:os.BULLET,text:"",alignment:Qr.LEFT,style:{paragraph:{indent:{left:4320,hanging:li(.25)}}}},{level:6,format:os.BULLET,text:"",alignment:Qr.LEFT,style:{paragraph:{indent:{left:5040,hanging:li(.25)}}}},{level:7,format:os.BULLET,text:"",alignment:Qr.LEFT,style:{paragraph:{indent:{left:5760,hanging:li(.25)}}}},{level:8,format:os.BULLET,text:"",alignment:Qr.LEFT,style:{paragraph:{indent:{left:6480,hanging:li(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new RO({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new _O(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${t}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),l=s&&s[0].start,u={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:t,overrideLevels:[l&&Number.isInteger(l)?{num:0,start:l}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new RO(u))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class pQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class mQ extends De{constructor(e){super("w:compatSetting"),this.root.push(new pQ({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class gQ extends De{constructor(e){super("w:compat"),e.version&&this.root.push(new mQ(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Le("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Le("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Le("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Le("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Le("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Le("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Le("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Le("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Le("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Le("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Le("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Le("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Le("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Le("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Le("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Le("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Le("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Le("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Le("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Le("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Le("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Le("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Le("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Le("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Le("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Le("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Le("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Le("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Le("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Le("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Le("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Le("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Le("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Le("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Le("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Le("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Le("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Le("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Le("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Le("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Le("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Le("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Le("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Le("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Le("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Le("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Le("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Le("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Le("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Le("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Le("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Le("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Le("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Le("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Le("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Le("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Le("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Le("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Le("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Le("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Le("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Le("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Le("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Le("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Le("w:cachedColBalance",e.cachedColumnBalance))}}class yQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}let vQ=class extends De{constructor(e){var t,n,i,s,l,u,c,h;super("w:settings"),this.root.push(new yQ({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Le("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Le("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Le("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Le("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new kc("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new Le("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new kc("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new kc("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new Le("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new gQ(Vo(xt({},(l=e.compatibility)!=null?l:{}),{version:(h=(c=(u=e.compatibility)==null?void 0:u.version)!=null?c:e.compatibilityModeVersion)!=null?h:15})))}};class l6 extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class bQ extends De{constructor(e){super("w:name"),this.root.push(new l6({val:e}))}}class xQ extends De{constructor(e){super("w:uiPriority"),this.root.push(new l6({val:qr(e)}))}}class wQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class o6 extends De{constructor(e,t){super("w:style"),this.root.push(new wQ(e)),t.name&&this.root.push(new bQ(t.name)),t.basedOn&&this.root.push(new cl("w:basedOn",t.basedOn)),t.next&&this.root.push(new cl("w:next",t.next)),t.link&&this.root.push(new cl("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new xQ(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new Le("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new Le("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new Le("w:qFormat",t.quickFormat))}}class Gp extends o6{constructor(e){super({type:"paragraph",styleId:e.id},e),Re(this,"paragraphProperties"),Re(this,"runProperties"),this.paragraphProperties=new Yo(e.paragraph),this.runProperties=new wl(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Qp extends o6{constructor(e){super({type:"character",styleId:e.id},xt({uiPriority:99,unhideWhenUsed:!0},e)),Re(this,"runProperties"),this.runProperties=new wl(e.run),this.root.push(this.runProperties)}}class wa extends Gp{constructor(e){super(xt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class SQ extends wa{constructor(e){super(xt({id:"Title",name:"Title"},e))}}class kQ extends wa{constructor(e){super(xt({id:"Heading1",name:"Heading 1"},e))}}class AQ extends wa{constructor(e){super(xt({id:"Heading2",name:"Heading 2"},e))}}class EQ extends wa{constructor(e){super(xt({id:"Heading3",name:"Heading 3"},e))}}class TQ extends wa{constructor(e){super(xt({id:"Heading4",name:"Heading 4"},e))}}class CQ extends wa{constructor(e){super(xt({id:"Heading5",name:"Heading 5"},e))}}class OQ extends wa{constructor(e){super(xt({id:"Heading6",name:"Heading 6"},e))}}class _Q extends wa{constructor(e){super(xt({id:"Strong",name:"Strong"},e))}}class RQ extends Gp{constructor(e){super(xt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class MQ extends Gp{constructor(e){super(xt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:rb.AUTO}},run:{size:20}},e))}}class NQ extends Qp{constructor(e){super(xt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class DQ extends Qp{constructor(e){super(xt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class LQ extends Qp{constructor(e){super(xt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:X5.SINGLE}}},e))}}class ib extends De{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new Gp(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new Qp(t))}}class BQ extends De{constructor(e){super("w:pPrDefault"),this.root.push(new Yo(e))}}class zQ extends De{constructor(e){super("w:rPrDefault"),this.root.push(new wl(e))}}class jQ extends De{constructor(e){super("w:docDefaults"),Re(this,"runPropertiesDefaults"),Re(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new zQ(e.run),this.paragraphPropertiesDefaults=new BQ(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class PQ{newInstance(e){const t=H5.xml2js(e,{compact:!1});let n;for(const l of t.elements||[])l.name==="w:styles"&&(n=l);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new ib({initialStyles:new pV(n.attributes),importedStyles:i.map(l=>jx(l))})}}class MO{newInstance(e={}){var t;return{initialStyles:new $p(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new jQ((t=e.document)!=null?t:{}),new SQ(xt({run:{size:56}},e.title)),new kQ(xt({run:{color:"2E74B5",size:32}},e.heading1)),new AQ(xt({run:{color:"2E74B5",size:26}},e.heading2)),new EQ(xt({run:{color:"1F4D78",size:24}},e.heading3)),new TQ(xt({run:{color:"2E74B5",italics:!0}},e.heading4)),new CQ(xt({run:{color:"2E74B5"}},e.heading5)),new OQ(xt({run:{color:"1F4D78"}},e.heading6)),new _Q(xt({run:{bold:!0}},e.strong)),new RQ(e.listParagraph||{}),new LQ(e.hyperlink||{}),new NQ(e.footnoteReference||{}),new MQ(e.footnoteText||{}),new DQ(e.footnoteTextChar||{})]}}}class FQ{constructor(e){Re(this,"currentRelationshipId",1),Re(this,"documentWrapper"),Re(this,"headers",[]),Re(this,"footers",[]),Re(this,"coreProperties"),Re(this,"numbering"),Re(this,"media"),Re(this,"fileRelationships"),Re(this,"footnotesWrapper"),Re(this,"settings"),Re(this,"contentTypes"),Re(this,"customProperties"),Re(this,"appProperties"),Re(this,"styles"),Re(this,"comments"),Re(this,"fontWrapper");var t,n,i,s,l,u,c,h,d,m,g,y;if(this.coreProperties=new kG(Vo(xt({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new dQ(e.numbering?e.numbering:{config:[]}),this.comments=new d$((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Sl,this.customProperties=new _G((l=e.customProperties)!=null?l:[]),this.appProperties=new vG,this.footnotesWrapper=new $G,this.contentTypes=new SG,this.documentWrapper=new t6({background:e.background}),this.settings=new vQ({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(u=e.features)==null?void 0:u.trackRevisions,updateFields:(c=e.features)==null?void 0:c.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(h=e.hyphenation)==null?void 0:h.autoHyphenation,hyphenationZone:(d=e.hyphenation)==null?void 0:d.hyphenationZone,consecutiveHyphenLimit:(m=e.hyphenation)==null?void 0:m.consecutiveHyphenLimit,doNotHyphenateCaps:(g=e.hyphenation)==null?void 0:g.doNotHyphenateCaps}}),this.media=new YG,e.externalStyles!==void 0){const b=new PQ;this.styles=b.newInstance(e.externalStyles)}else if(e.styles){const w=new MO().newInstance(e.styles.default);this.styles=new ib(xt(xt({},w),e.styles))}else{const b=new MO;this.styles=new ib(b.newInstance())}this.addDefaultRelationships();for(const b of e.sections)this.addSection(b);if(e.footnotes)for(const b in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(b),e.footnotes[b].children);this.fontWrapper=new DG((y=e.fonts)!=null?y:[])}addSection({headers:e={},footers:t={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(Vo(xt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const t=new XG(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addHeaderToDocument(t),t}createFooter(e){const t=new zG(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=Do.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=Do.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var IQ=Lx();function fd(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zv={exports:{}},NO;function UQ(){return NO||(NO=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(n,i,s){function l(h,d){if(!i[h]){if(!n[h]){var m=typeof fd=="function"&&fd;if(!d&&m)return m(h,!0);if(u)return u(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var y=i[h]={exports:{}};n[h][0].call(y.exports,function(b){var w=n[h][1][b];return l(w||b)},y,y.exports,t,n,i,s)}return i[h].exports}for(var u=typeof fd=="function"&&fd,c=0;c<s.length;c++)l(s[c]);return l})({1:[function(t,n,i){var s=t("./utils"),l=t("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var h,d,m,g,y,b,w,E=[],x=0,k=c.length,O=k,T=s.getTypeOf(c)!=="string";x<c.length;)O=k-x,m=T?(h=c[x++],d=x<k?c[x++]:0,x<k?c[x++]:0):(h=c.charCodeAt(x++),d=x<k?c.charCodeAt(x++):0,x<k?c.charCodeAt(x++):0),g=h>>2,y=(3&h)<<4|d>>4,b=1<O?(15&d)<<2|m>>6:64,w=2<O?63&m:64,E.push(u.charAt(g)+u.charAt(y)+u.charAt(b)+u.charAt(w));return E.join("")},i.decode=function(c){var h,d,m,g,y,b,w=0,E=0,x="data:";if(c.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var k,O=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===u.charAt(64)&&O--,c.charAt(c.length-2)===u.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=l.uint8array?new Uint8Array(0|O):new Array(0|O);w<c.length;)h=u.indexOf(c.charAt(w++))<<2|(g=u.indexOf(c.charAt(w++)))>>4,d=(15&g)<<4|(y=u.indexOf(c.charAt(w++)))>>2,m=(3&y)<<6|(b=u.indexOf(c.charAt(w++))),k[E++]=h,y!==64&&(k[E++]=d),b!==64&&(k[E++]=m);return k}},{"./support":30,"./utils":32}],2:[function(t,n,i){var s=t("./external"),l=t("./stream/DataWorker"),u=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function h(d,m,g,y,b){this.compressedSize=d,this.uncompressedSize=m,this.crc32=g,this.compression=y,this.compressedContent=b}h.prototype={getContentWorker:function(){var d=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),m=this;return d.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(d,m,g){return d.pipe(new u).pipe(new c("uncompressedSize")).pipe(m.compressWorker(g)).pipe(new c("compressedSize")).withStreamInfo("compression",m)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var s=t("./utils"),l=(function(){for(var u,c=[],h=0;h<256;h++){u=h;for(var d=0;d<8;d++)u=1&u?3988292384^u>>>1:u>>>1;c[h]=u}return c})();n.exports=function(u,c){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?(function(h,d,m,g){var y=l,b=g+m;h^=-1;for(var w=g;w<b;w++)h=h>>>8^y[255&(h^d[w])];return-1^h})(0|c,u,u.length,0):(function(h,d,m,g){var y=l,b=g+m;h^=-1;for(var w=g;w<b;w++)h=h>>>8^y[255&(h^d.charCodeAt(w))];return-1^h})(0|c,u,u.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),u=t("./utils"),c=t("./stream/GenericWorker"),h=s?"uint8array":"array";function d(m,g){c.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=g,this.meta={}}i.magic="\b\0",u.inherits(d,c),d.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(h,m.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(g){m.push({data:g,meta:m.meta})}},i.compressWorker=function(m){return new d("Deflate",m)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function s(y,b){var w,E="";for(w=0;w<b;w++)E+=String.fromCharCode(255&y),y>>>=8;return E}function l(y,b,w,E,x,k){var O,T,_=y.file,H=y.compression,M=k!==h.utf8encode,Q=u.transformTo("string",k(_.name)),P=u.transformTo("string",h.utf8encode(_.name)),re=_.comment,pe=u.transformTo("string",k(re)),U=u.transformTo("string",h.utf8encode(re)),X=P.length!==_.name.length,R=U.length!==re.length,ee="",Y="",G="",ue=_.dir,ce=_.date,ke={crc32:0,compressedSize:0,uncompressedSize:0};b&&!w||(ke.crc32=y.crc32,ke.compressedSize=y.compressedSize,ke.uncompressedSize=y.uncompressedSize);var q=0;b&&(q|=8),M||!X&&!R||(q|=2048);var I=0,K=0;ue&&(I|=16),x==="UNIX"?(K=798,I|=(function(he,ie){var B=he;return he||(B=ie?16893:33204),(65535&B)<<16})(_.unixPermissions,ue)):(K=20,I|=(function(he){return 63&(he||0)})(_.dosPermissions)),O=ce.getUTCHours(),O<<=6,O|=ce.getUTCMinutes(),O<<=5,O|=ce.getUTCSeconds()/2,T=ce.getUTCFullYear()-1980,T<<=4,T|=ce.getUTCMonth()+1,T<<=5,T|=ce.getUTCDate(),X&&(Y=s(1,1)+s(d(Q),4)+P,ee+="up"+s(Y.length,2)+Y),R&&(G=s(1,1)+s(d(pe),4)+U,ee+="uc"+s(G.length,2)+G);var se="";return se+=`
\0`,se+=s(q,2),se+=H.magic,se+=s(O,2),se+=s(T,2),se+=s(ke.crc32,4),se+=s(ke.compressedSize,4),se+=s(ke.uncompressedSize,4),se+=s(Q.length,2),se+=s(ee.length,2),{fileRecord:m.LOCAL_FILE_HEADER+se+Q+ee,dirRecord:m.CENTRAL_FILE_HEADER+s(K,2)+se+s(pe.length,2)+"\0\0\0\0"+s(I,4)+s(E,4)+Q+ee+pe}}var u=t("../utils"),c=t("../stream/GenericWorker"),h=t("../utf8"),d=t("../crc32"),m=t("../signature");function g(y,b,w,E){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=w,this.encodeFileName=E,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(g,c),g.prototype.push=function(y){var b=y.meta.percent||0,w=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,c.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:w?(b+100*(w-E-1))/w:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var b=this.streamFiles&&!y.file.dir;if(b){var w=l(y,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var b=this.streamFiles&&!y.file.dir,w=l(y,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),b)this.push({data:(function(E){return m.DATA_DESCRIPTOR+s(E.crc32,4)+s(E.compressedSize,4)+s(E.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var w=this.bytesWritten-y,E=(function(x,k,O,T,_){var H=u.transformTo("string",_(T));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(x,2)+s(x,2)+s(k,4)+s(O,4)+s(H.length,2)+H})(this.dirRecords.length,w,y,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var b=this;return y.on("data",function(w){b.processChunk(w)}),y.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),y.on("error",function(w){b.error(w)}),this},g.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var b=this._sources;if(!c.prototype.error.call(this,y))return!1;for(var w=0;w<b.length;w++)try{b[w].error(y)}catch{}return!0},g.prototype.lock=function(){c.prototype.lock.call(this);for(var y=this._sources,b=0;b<y.length;b++)y[b].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var s=t("../compressions"),l=t("./ZipFileWorker");i.generateWorker=function(u,c,h){var d=new l(c.streamFiles,h,c.platform,c.encodeFileName),m=0;try{u.forEach(function(g,y){m++;var b=(function(k,O){var T=k||O,_=s[T];if(!_)throw new Error(T+" is not a valid compression method !");return _})(y.options.compression,c.compression),w=y.options.compressionOptions||c.compressionOptions||{},E=y.dir,x=y.date;y._compressWorker(b,w).withStreamInfo("file",{name:g,dir:E,date:x,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(d)}),d.entriesCount=m}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(l,u){return new s().loadAsync(l,u)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var s=t("./utils"),l=t("./external"),u=t("./utf8"),c=t("./zipEntries"),h=t("./stream/Crc32Probe"),d=t("./nodejsUtils");function m(g){return new l.Promise(function(y,b){var w=g.decompressed.getContentWorker().pipe(new h);w.on("error",function(E){b(E)}).on("end",function(){w.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(g,y){var b=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),d.isNode&&d.isStream(g)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(w){var E=new c(y);return E.load(w),E}).then(function(w){var E=[l.Promise.resolve(w)],x=w.files;if(y.checkCRC32)for(var k=0;k<x.length;k++)E.push(m(x[k]));return l.Promise.all(E)}).then(function(w){for(var E=w.shift(),x=E.files,k=0;k<x.length;k++){var O=x[k],T=O.fileNameStr,_=s.resolve(O.fileNameStr);b.file(_,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:y.createFolders}),O.dir||(b.file(_).unsafeOriginalName=T)}return E.zipComment.length&&(b.comment=E.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var s=t("../utils"),l=t("../stream/GenericWorker");function u(c,h){l.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(u,l),u.prototype._bindStream=function(c){var h=this;(this._stream=c).pause(),c.on("data",function(d){h.push({data:d,meta:{percent:0}})}).on("error",function(d){h.isPaused?this.generatedError=d:h.error(d)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var s=t("readable-stream").Readable;function l(u,c,h){s.call(this,c),this._helper=u;var d=this;u.on("data",function(m,g){d.push(m)||d._helper.pause(),h&&h(g)}).on("error",function(m){d.emit("error",m)}).on("end",function(){d.push(null)})}t("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},n.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,i){function s(_,H,M){var Q,P=u.getTypeOf(H),re=u.extend(M||{},d);re.date=re.date||new Date,re.compression!==null&&(re.compression=re.compression.toUpperCase()),typeof re.unixPermissions=="string"&&(re.unixPermissions=parseInt(re.unixPermissions,8)),re.unixPermissions&&16384&re.unixPermissions&&(re.dir=!0),re.dosPermissions&&16&re.dosPermissions&&(re.dir=!0),re.dir&&(_=x(_)),re.createFolders&&(Q=E(_))&&k.call(this,Q,!0);var pe=P==="string"&&re.binary===!1&&re.base64===!1;M&&M.binary!==void 0||(re.binary=!pe),(H instanceof m&&H.uncompressedSize===0||re.dir||!H||H.length===0)&&(re.base64=!1,re.binary=!0,H="",re.compression="STORE",P="string");var U=null;U=H instanceof m||H instanceof c?H:b.isNode&&b.isStream(H)?new w(_,H):u.prepareContent(_,H,re.binary,re.optimizedBinaryString,re.base64);var X=new g(_,U,re);this.files[_]=X}var l=t("./utf8"),u=t("./utils"),c=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),d=t("./defaults"),m=t("./compressedObject"),g=t("./zipObject"),y=t("./generate"),b=t("./nodejsUtils"),w=t("./nodejs/NodejsStreamInputAdapter"),E=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var H=_.lastIndexOf("/");return 0<H?_.substring(0,H):""},x=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},k=function(_,H){return H=H!==void 0?H:d.createFolders,_=x(_),this.files[_]||s.call(this,_,null,{dir:!0,createFolders:H}),this.files[_]};function O(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var H,M,Q;for(H in this.files)Q=this.files[H],(M=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&_(M,Q)},filter:function(_){var H=[];return this.forEach(function(M,Q){_(M,Q)&&H.push(Q)}),H},file:function(_,H,M){if(arguments.length!==1)return _=this.root+_,s.call(this,_,H,M),this;if(O(_)){var Q=_;return this.filter(function(re,pe){return!pe.dir&&Q.test(re)})}var P=this.files[this.root+_];return P&&!P.dir?P:null},folder:function(_){if(!_)return this;if(O(_))return this.filter(function(P,re){return re.dir&&_.test(P)});var H=this.root+_,M=k.call(this,H),Q=this.clone();return Q.root=M.name,Q},remove:function(_){_=this.root+_;var H=this.files[_];if(H||(_.slice(-1)!=="/"&&(_+="/"),H=this.files[_]),H&&!H.dir)delete this.files[_];else for(var M=this.filter(function(P,re){return re.name.slice(0,_.length)===_}),Q=0;Q<M.length;Q++)delete this.files[M[Q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var H,M={};try{if((M=u.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");u.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var Q=M.comment||this.comment||"";H=y.generateWorker(this,M,Q)}catch(P){(H=new c("error")).error(P)}return new h(H,M.type||"string",M.mimeType)},generateAsync:function(_,H){return this.generateInternalStream(_).accumulate(H)},generateNodeStream:function(_,H){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(H)}};n.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var s=t("./DataReader");function l(u){s.call(this,u);for(var c=0;c<this.data.length;c++)u[c]=255&u[c]}t("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var c=u.charCodeAt(0),h=u.charCodeAt(1),d=u.charCodeAt(2),m=u.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===c&&this.data[g+1]===h&&this.data[g+2]===d&&this.data[g+3]===m)return g-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var c=u.charCodeAt(0),h=u.charCodeAt(1),d=u.charCodeAt(2),m=u.charCodeAt(3),g=this.readData(4);return c===g[0]&&h===g[1]&&d===g[2]&&m===g[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},n.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var s=t("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var c,h=0;for(this.checkOffset(u),c=this.index+u-1;c>=this.index;c--)h=(h<<8)+this.byteAt(c);return this.index+=u,h},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},n.exports=l},{"../utils":32}],19:[function(t,n,i){var s=t("./Uint8ArrayReader");function l(u){s.call(this,u)}t("../utils").inherits(l,s),l.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},n.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var s=t("./DataReader");function l(u){s.call(this,u)}t("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var c=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},n.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var s=t("./ArrayReader");function l(u){s.call(this,u)}t("../utils").inherits(l,s),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,c},n.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var s=t("../utils"),l=t("../support"),u=t("./ArrayReader"),c=t("./StringReader"),h=t("./NodeBufferReader"),d=t("./Uint8ArrayReader");n.exports=function(m){var g=s.getTypeOf(m);return s.checkSupport(g),g!=="string"||l.uint8array?g==="nodebuffer"?new h(m):l.uint8array?new d(s.transformTo("uint8array",m)):new u(s.transformTo("array",m)):new c(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var s=t("./GenericWorker"),l=t("../utils");function u(c){s.call(this,"ConvertWorker to "+c),this.destType=c}l.inherits(u,s),u.prototype.processChunk=function(c){this.push({data:l.transformTo(this.destType,c.data),meta:c.meta})},n.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var s=t("./GenericWorker"),l=t("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(u,s),u.prototype.processChunk=function(c){this.streamInfo.crc32=l(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var s=t("../utils"),l=t("./GenericWorker");function u(c){l.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(u,l),u.prototype.processChunk=function(c){if(c){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+c.data.length}l.prototype.processChunk.call(this,c)},n.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var s=t("../utils"),l=t("./GenericWorker");function u(c){l.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){h.dataIsReady=!0,h.data=d,h.max=d&&d.length||0,h.type=s.getTypeOf(d),h.isPaused||h._tickAndRepeat()},function(d){h.error(d)})}s.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,h);break;case"uint8array":c=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":c=this.data.slice(this.index,h)}return this.index=h,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var c=0;c<this._listeners[l].length;c++)this._listeners[l][c].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(c){u.processChunk(c)}),l.on("end",function(){u.end()}),l.on("error",function(c){u.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},n.exports=s},{}],29:[function(t,n,i){var s=t("../utils"),l=t("./ConvertWorker"),u=t("./GenericWorker"),c=t("../base64"),h=t("../support"),d=t("../external"),m=null;if(h.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,w){return new d.Promise(function(E,x){var k=[],O=b._internalType,T=b._outputType,_=b._mimeType;b.on("data",function(H,M){k.push(H),w&&w(M)}).on("error",function(H){k=[],x(H)}).on("end",function(){try{var H=(function(M,Q,P){switch(M){case"blob":return s.newBlob(s.transformTo("arraybuffer",Q),P);case"base64":return c.encode(Q);default:return s.transformTo(M,Q)}})(T,(function(M,Q){var P,re=0,pe=null,U=0;for(P=0;P<Q.length;P++)U+=Q[P].length;switch(M){case"string":return Q.join("");case"array":return Array.prototype.concat.apply([],Q);case"uint8array":for(pe=new Uint8Array(U),P=0;P<Q.length;P++)pe.set(Q[P],re),re+=Q[P].length;return pe;case"nodebuffer":return Buffer.concat(Q);default:throw new Error("concat : unsupported type '"+M+"'")}})(O,k),_);E(H)}catch(M){x(M)}k=[]}).resume()})}function y(b,w,E){var x=w;switch(w){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=w,this._mimeType=E,s.checkSupport(x),this._worker=b.pipe(new l(x)),b.lock()}catch(k){this._worker=new u("error"),this._worker.error(k)}}y.prototype={accumulate:function(b){return g(this,b)},on:function(b,w){var E=this;return b==="data"?this._worker.on(b,function(x){w.call(E,x.data,x.meta)}):this._worker.on(b,function(){s.delay(w,arguments,E)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},b)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var s=t("./utils"),l=t("./support"),u=t("./nodejsUtils"),c=t("./stream/GenericWorker"),h=new Array(256),d=0;d<256;d++)h[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;h[254]=h[254]=1;function m(){c.call(this,"utf-8 decode"),this.leftOver=null}function g(){c.call(this,"utf-8 encode")}i.utf8encode=function(y){return l.nodebuffer?u.newBufferFrom(y,"utf-8"):(function(b){var w,E,x,k,O,T=b.length,_=0;for(k=0;k<T;k++)(64512&(E=b.charCodeAt(k)))==55296&&k+1<T&&(64512&(x=b.charCodeAt(k+1)))==56320&&(E=65536+(E-55296<<10)+(x-56320),k++),_+=E<128?1:E<2048?2:E<65536?3:4;for(w=l.uint8array?new Uint8Array(_):new Array(_),k=O=0;O<_;k++)(64512&(E=b.charCodeAt(k)))==55296&&k+1<T&&(64512&(x=b.charCodeAt(k+1)))==56320&&(E=65536+(E-55296<<10)+(x-56320),k++),E<128?w[O++]=E:(E<2048?w[O++]=192|E>>>6:(E<65536?w[O++]=224|E>>>12:(w[O++]=240|E>>>18,w[O++]=128|E>>>12&63),w[O++]=128|E>>>6&63),w[O++]=128|63&E);return w})(y)},i.utf8decode=function(y){return l.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):(function(b){var w,E,x,k,O=b.length,T=new Array(2*O);for(w=E=0;w<O;)if((x=b[w++])<128)T[E++]=x;else if(4<(k=h[x]))T[E++]=65533,w+=k-1;else{for(x&=k===2?31:k===3?15:7;1<k&&w<O;)x=x<<6|63&b[w++],k--;1<k?T[E++]=65533:x<65536?T[E++]=x:(x-=65536,T[E++]=55296|x>>10&1023,T[E++]=56320|1023&x)}return T.length!==E&&(T.subarray?T=T.subarray(0,E):T.length=E),s.applyFromCharCode(T)})(y=s.transformTo(l.uint8array?"uint8array":"array",y))},s.inherits(m,c),m.prototype.processChunk=function(y){var b=s.transformTo(l.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var w=b;(b=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),b.set(w,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var E=(function(k,O){var T;for((O=O||k.length)>k.length&&(O=k.length),T=O-1;0<=T&&(192&k[T])==128;)T--;return T<0||T===0?O:T+h[k[T]]>O?T:O})(b),x=b;E!==b.length&&(l.uint8array?(x=b.subarray(0,E),this.leftOver=b.subarray(E,b.length)):(x=b.slice(0,E),this.leftOver=b.slice(E,b.length))),this.push({data:i.utf8decode(x),meta:y.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(g,c),g.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var s=t("./support"),l=t("./base64"),u=t("./nodejsUtils"),c=t("./external");function h(w){return w}function d(w,E){for(var x=0;x<w.length;++x)E[x]=255&w.charCodeAt(x);return E}t("setimmediate"),i.newBlob=function(w,E){i.checkSupport("blob");try{return new Blob([w],{type:E})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(w),x.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(w,E,x){var k=[],O=0,T=w.length;if(T<=x)return String.fromCharCode.apply(null,w);for(;O<T;)E==="array"||E==="nodebuffer"?k.push(String.fromCharCode.apply(null,w.slice(O,Math.min(O+x,T)))):k.push(String.fromCharCode.apply(null,w.subarray(O,Math.min(O+x,T)))),O+=x;return k.join("")},stringifyByChar:function(w){for(var E="",x=0;x<w.length;x++)E+=String.fromCharCode(w[x]);return E},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}})()}};function g(w){var E=65536,x=i.getTypeOf(w),k=!0;if(x==="uint8array"?k=m.applyCanBeUsed.uint8array:x==="nodebuffer"&&(k=m.applyCanBeUsed.nodebuffer),k)for(;1<E;)try{return m.stringifyByChunk(w,x,E)}catch{E=Math.floor(E/2)}return m.stringifyByChar(w)}function y(w,E){for(var x=0;x<w.length;x++)E[x]=w[x];return E}i.applyFromCharCode=g;var b={};b.string={string:h,array:function(w){return d(w,new Array(w.length))},arraybuffer:function(w){return b.string.uint8array(w).buffer},uint8array:function(w){return d(w,new Uint8Array(w.length))},nodebuffer:function(w){return d(w,u.allocBuffer(w.length))}},b.array={string:g,array:h,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return u.newBufferFrom(w)}},b.arraybuffer={string:function(w){return g(new Uint8Array(w))},array:function(w){return y(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:h,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return u.newBufferFrom(new Uint8Array(w))}},b.uint8array={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:h,nodebuffer:function(w){return u.newBufferFrom(w)}},b.nodebuffer={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return b.nodebuffer.uint8array(w).buffer},uint8array:function(w){return y(w,new Uint8Array(w.length))},nodebuffer:h},i.transformTo=function(w,E){if(E=E||"",!w)return E;i.checkSupport(w);var x=i.getTypeOf(E);return b[x][w](E)},i.resolve=function(w){for(var E=w.split("/"),x=[],k=0;k<E.length;k++){var O=E[k];O==="."||O===""&&k!==0&&k!==E.length-1||(O===".."?x.pop():x.push(O))}return x.join("/")},i.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(w)?"nodebuffer":s.uint8array&&w instanceof Uint8Array?"uint8array":s.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(w){if(!s[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(w){var E,x,k="";for(x=0;x<(w||"").length;x++)k+="\\x"+((E=w.charCodeAt(x))<16?"0":"")+E.toString(16).toUpperCase();return k},i.delay=function(w,E,x){setImmediate(function(){w.apply(x||null,E||[])})},i.inherits=function(w,E){function x(){}x.prototype=E.prototype,w.prototype=new x},i.extend=function(){var w,E,x={};for(w=0;w<arguments.length;w++)for(E in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],E)&&x[E]===void 0&&(x[E]=arguments[w][E]);return x},i.prepareContent=function(w,E,x,k,O){return c.Promise.resolve(E).then(function(T){return s.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(_,H){var M=new FileReader;M.onload=function(Q){_(Q.target.result)},M.onerror=function(Q){H(Q.target.error)},M.readAsArrayBuffer(T)}):T}).then(function(T){var _=i.getTypeOf(T);return _?(_==="arraybuffer"?T=i.transformTo("uint8array",T):_==="string"&&(O?T=l.decode(T):x&&k!==!0&&(T=(function(H){return d(H,s.uint8array?new Uint8Array(H.length):new Array(H.length))})(T))),T):c.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var s=t("./reader/readerFor"),l=t("./utils"),u=t("./signature"),c=t("./zipEntry"),h=t("./support");function d(m){this.files=[],this.loadOptions=m}d.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(g)+", expected "+l.pretty(m)+")")}},isSignature:function(m,g){var y=this.reader.index;this.reader.setIndex(m);var b=this.reader.readString(4)===g;return this.reader.setIndex(y),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",y=l.transformTo(g,m);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,g,y,b=this.zip64EndOfCentralSize-44;0<b;)m=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[m]={id:m,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,g;for(m=0;m<this.files.length;m++)g=this.files[m],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(m=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var g=m;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var b=g-y;if(0<b)this.isSignature(g,u.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var s=t("./reader/readerFor"),l=t("./utils"),u=t("./compressedObject"),c=t("./crc32"),h=t("./utf8"),d=t("./compressions"),m=t("./support");function g(y,b){this.options=y,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var b,w;if(y.skip(22),this.fileNameLength=y.readInt(2),w=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(E){for(var x in d)if(Object.prototype.hasOwnProperty.call(d,x)&&d[x].magic===E)return d[x];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,b,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var b=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(b),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var b,w,E,x=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<x;)b=y.readInt(2),w=y.readInt(2),E=y.readData(w),this.extraFields[b]={id:b,length:w,value:E};y.setIndex(x)},handleUTF8:function(){var y=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var w=l.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var x=l.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var b=s(y.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:h.utf8decode(b.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var b=s(y.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:h.utf8decode(b.readData(y.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function s(b,w,E){this.name=b,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=w,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var l=t("./stream/StreamHelper"),u=t("./stream/DataWorker"),c=t("./utf8"),h=t("./compressedObject"),d=t("./stream/GenericWorker");s.prototype={internalStream:function(b){var w=null,E="string";try{if(!b)throw new Error("No output type specified.");var x=(E=b.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),w=this._decompressWorker();var k=!this._dataBinary;k&&!x&&(w=w.pipe(new c.Utf8EncodeWorker)),!k&&x&&(w=w.pipe(new c.Utf8DecodeWorker))}catch(O){(w=new d("error")).error(O)}return new l(w,E,"")},async:function(b,w){return this.internalStream(b).accumulate(w)},nodeStream:function(b,w){return this.internalStream(b||"nodebuffer").toNodejsStream(w)},_compressWorker:function(b,w){if(this._data instanceof h&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new c.Utf8EncodeWorker)),h.createWorkerFrom(E,b,w)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof d?this._data:new u(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<m.length;y++)s.prototype[m[y]]=g;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(s){var l,u,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var h=0,d=new c(b),m=s.document.createTextNode("");d.observe(m,{characterData:!0}),l=function(){m.data=h=++h%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var w=s.document.createElement("script");w.onreadystatechange=function(){b(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:function(){setTimeout(b,0)};else{var g=new s.MessageChannel;g.port1.onmessage=b,l=function(){g.port2.postMessage(0)}}var y=[];function b(){var w,E;u=!0;for(var x=y.length;x;){for(E=y,y=[],w=-1;++w<x;)E[w]();x=y.length}u=!1}n.exports=function(w){y.push(w)!==1||u||l()}}).call(this,typeof Bi<"u"?Bi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var s=t("immediate");function l(){}var u={},c=["REJECTED"],h=["FULFILLED"],d=["PENDING"];function m(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,x!==l&&w(this,x)}function g(x,k,O){this.promise=x,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function y(x,k,O){s(function(){var T;try{T=k(O)}catch(_){return u.reject(x,_)}T===x?u.reject(x,new TypeError("Cannot resolve promise with itself")):u.resolve(x,T)})}function b(x){var k=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof k=="function")return function(){k.apply(x,arguments)}}function w(x,k){var O=!1;function T(M){O||(O=!0,u.reject(x,M))}function _(M){O||(O=!0,u.resolve(x,M))}var H=E(function(){k(_,T)});H.status==="error"&&T(H.value)}function E(x,k){var O={};try{O.value=x(k),O.status="success"}catch(T){O.status="error",O.value=T}return O}(n.exports=m).prototype.finally=function(x){if(typeof x!="function")return this;var k=this.constructor;return this.then(function(O){return k.resolve(x()).then(function(){return O})},function(O){return k.resolve(x()).then(function(){throw O})})},m.prototype.catch=function(x){return this.then(null,x)},m.prototype.then=function(x,k){if(typeof x!="function"&&this.state===h||typeof k!="function"&&this.state===c)return this;var O=new this.constructor(l);return this.state!==d?y(O,this.state===h?x:k,this.outcome):this.queue.push(new g(O,x,k)),O},g.prototype.callFulfilled=function(x){u.resolve(this.promise,x)},g.prototype.otherCallFulfilled=function(x){y(this.promise,this.onFulfilled,x)},g.prototype.callRejected=function(x){u.reject(this.promise,x)},g.prototype.otherCallRejected=function(x){y(this.promise,this.onRejected,x)},u.resolve=function(x,k){var O=E(b,k);if(O.status==="error")return u.reject(x,O.value);var T=O.value;if(T)w(x,T);else{x.state=h,x.outcome=k;for(var _=-1,H=x.queue.length;++_<H;)x.queue[_].callFulfilled(k)}return x},u.reject=function(x,k){x.state=c,x.outcome=k;for(var O=-1,T=x.queue.length;++O<T;)x.queue[O].callRejected(k);return x},m.resolve=function(x){return x instanceof this?x:u.resolve(new this(l),x)},m.reject=function(x){var k=new this(l);return u.reject(k,x)},m.all=function(x){var k=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=x.length,T=!1;if(!O)return this.resolve([]);for(var _=new Array(O),H=0,M=-1,Q=new this(l);++M<O;)P(x[M],M);return Q;function P(re,pe){k.resolve(re).then(function(U){_[pe]=U,++H!==O||T||(T=!0,u.resolve(Q,_))},function(U){T||(T=!0,u.reject(Q,U))})}},m.race=function(x){var k=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=x.length,T=!1;if(!O)return this.resolve([]);for(var _=-1,H=new this(l);++_<O;)M=x[_],k.resolve(M).then(function(Q){T||(T=!0,u.resolve(H,Q))},function(Q){T||(T=!0,u.reject(H,Q))});var M;return H}},{immediate:36}],38:[function(t,n,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var s=t("./zlib/deflate"),l=t("./utils/common"),u=t("./utils/strings"),c=t("./zlib/messages"),h=t("./zlib/zstream"),d=Object.prototype.toString,m=0,g=-1,y=0,b=8;function w(x){if(!(this instanceof w))return new w(x);this.options=l.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},x||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var O=s.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(O!==m)throw new Error(c[O]);if(k.header&&s.deflateSetHeader(this.strm,k.header),k.dictionary){var T;if(T=typeof k.dictionary=="string"?u.string2buf(k.dictionary):d.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(O=s.deflateSetDictionary(this.strm,T))!==m)throw new Error(c[O]);this._dict_set=!0}}function E(x,k){var O=new w(k);if(O.push(x,!0),O.err)throw O.msg||c[O.err];return O.result}w.prototype.push=function(x,k){var O,T,_=this.strm,H=this.options.chunkSize;if(this.ended)return!1;T=k===~~k?k:k===!0?4:0,typeof x=="string"?_.input=u.string2buf(x):d.call(x)==="[object ArrayBuffer]"?_.input=new Uint8Array(x):_.input=x,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new l.Buf8(H),_.next_out=0,_.avail_out=H),(O=s.deflate(_,T))!==1&&O!==m)return this.onEnd(O),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(_.output,_.next_out))):this.onData(l.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&O!==1);return T===4?(O=s.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===m):T!==2||(this.onEnd(m),!(_.avail_out=0))},w.prototype.onData=function(x){this.chunks.push(x)},w.prototype.onEnd=function(x){x===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=w,i.deflate=E,i.deflateRaw=function(x,k){return(k=k||{}).raw=!0,E(x,k)},i.gzip=function(x,k){return(k=k||{}).gzip=!0,E(x,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var s=t("./zlib/inflate"),l=t("./utils/common"),u=t("./utils/strings"),c=t("./zlib/constants"),h=t("./zlib/messages"),d=t("./zlib/zstream"),m=t("./zlib/gzheader"),g=Object.prototype.toString;function y(w){if(!(this instanceof y))return new y(w);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},w||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||w&&w.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var x=s.inflateInit2(this.strm,E.windowBits);if(x!==c.Z_OK)throw new Error(h[x]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function b(w,E){var x=new y(E);if(x.push(w,!0),x.err)throw x.msg||h[x.err];return x.result}y.prototype.push=function(w,E){var x,k,O,T,_,H,M=this.strm,Q=this.options.chunkSize,P=this.options.dictionary,re=!1;if(this.ended)return!1;k=E===~~E?E:E===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof w=="string"?M.input=u.binstring2buf(w):g.call(w)==="[object ArrayBuffer]"?M.input=new Uint8Array(w):M.input=w,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new l.Buf8(Q),M.next_out=0,M.avail_out=Q),(x=s.inflate(M,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&P&&(H=typeof P=="string"?u.string2buf(P):g.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,x=s.inflateSetDictionary(this.strm,H)),x===c.Z_BUF_ERROR&&re===!0&&(x=c.Z_OK,re=!1),x!==c.Z_STREAM_END&&x!==c.Z_OK)return this.onEnd(x),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&x!==c.Z_STREAM_END&&(M.avail_in!==0||k!==c.Z_FINISH&&k!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=u.utf8border(M.output,M.next_out),T=M.next_out-O,_=u.buf2string(M.output,O),M.next_out=T,M.avail_out=Q-T,T&&l.arraySet(M.output,M.output,O,T,0),this.onData(_)):this.onData(l.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(re=!0)}while((0<M.avail_in||M.avail_out===0)&&x!==c.Z_STREAM_END);return x===c.Z_STREAM_END&&(k=c.Z_FINISH),k===c.Z_FINISH?(x=s.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===c.Z_OK):k!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(M.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Inflate=y,i.inflate=b,i.inflateRaw=function(w,E){return(E=E||{}).raw=!0,b(w,E)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var d=h.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var m in d)d.hasOwnProperty(m)&&(c[m]=d[m])}}return c},i.shrinkBuf=function(c,h){return c.length===h?c:c.subarray?c.subarray(0,h):(c.length=h,c)};var l={arraySet:function(c,h,d,m,g){if(h.subarray&&c.subarray)c.set(h.subarray(d,d+m),g);else for(var y=0;y<m;y++)c[g+y]=h[d+y]},flattenChunks:function(c){var h,d,m,g,y,b;for(h=m=0,d=c.length;h<d;h++)m+=c[h].length;for(b=new Uint8Array(m),h=g=0,d=c.length;h<d;h++)y=c[h],b.set(y,g),g+=y.length;return b}},u={arraySet:function(c,h,d,m,g){for(var y=0;y<m;y++)c[g+y]=h[d+y]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(s)},{}],42:[function(t,n,i){var s=t("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var c=new s.Buf8(256),h=0;h<256;h++)c[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function d(m,g){if(g<65537&&(m.subarray&&u||!m.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(m,g));for(var y="",b=0;b<g;b++)y+=String.fromCharCode(m[b]);return y}c[254]=c[254]=1,i.string2buf=function(m){var g,y,b,w,E,x=m.length,k=0;for(w=0;w<x;w++)(64512&(y=m.charCodeAt(w)))==55296&&w+1<x&&(64512&(b=m.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),w++),k+=y<128?1:y<2048?2:y<65536?3:4;for(g=new s.Buf8(k),w=E=0;E<k;w++)(64512&(y=m.charCodeAt(w)))==55296&&w+1<x&&(64512&(b=m.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),w++),y<128?g[E++]=y:(y<2048?g[E++]=192|y>>>6:(y<65536?g[E++]=224|y>>>12:(g[E++]=240|y>>>18,g[E++]=128|y>>>12&63),g[E++]=128|y>>>6&63),g[E++]=128|63&y);return g},i.buf2binstring=function(m){return d(m,m.length)},i.binstring2buf=function(m){for(var g=new s.Buf8(m.length),y=0,b=g.length;y<b;y++)g[y]=m.charCodeAt(y);return g},i.buf2string=function(m,g){var y,b,w,E,x=g||m.length,k=new Array(2*x);for(y=b=0;y<x;)if((w=m[y++])<128)k[b++]=w;else if(4<(E=c[w]))k[b++]=65533,y+=E-1;else{for(w&=E===2?31:E===3?15:7;1<E&&y<x;)w=w<<6|63&m[y++],E--;1<E?k[b++]=65533:w<65536?k[b++]=w:(w-=65536,k[b++]=55296|w>>10&1023,k[b++]=56320|1023&w)}return d(k,b)},i.utf8border=function(m,g){var y;for((g=g||m.length)>m.length&&(g=m.length),y=g-1;0<=y&&(192&m[y])==128;)y--;return y<0||y===0?g:y+c[m[y]]>g?y:g}},{"./common":41}],43:[function(t,n,i){n.exports=function(s,l,u,c){for(var h=65535&s|0,d=s>>>16&65535|0,m=0;u!==0;){for(u-=m=2e3<u?2e3:u;d=d+(h=h+l[c++]|0)|0,--m;);h%=65521,d%=65521}return h|d<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var s=(function(){for(var l,u=[],c=0;c<256;c++){l=c;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;u[c]=l}return u})();n.exports=function(l,u,c,h){var d=s,m=h+c;l^=-1;for(var g=h;g<m;g++)l=l>>>8^d[255&(l^u[g])];return-1^l}},{}],46:[function(t,n,i){var s,l=t("../utils/common"),u=t("./trees"),c=t("./adler32"),h=t("./crc32"),d=t("./messages"),m=0,g=4,y=0,b=-2,w=-1,E=4,x=2,k=8,O=9,T=286,_=30,H=19,M=2*T+1,Q=15,P=3,re=258,pe=re+P+1,U=42,X=113,R=1,ee=2,Y=3,G=4;function ue(N,ve){return N.msg=d[ve],ve}function ce(N){return(N<<1)-(4<N?9:0)}function ke(N){for(var ve=N.length;0<=--ve;)N[ve]=0}function q(N){var ve=N.state,F=ve.pending;F>N.avail_out&&(F=N.avail_out),F!==0&&(l.arraySet(N.output,ve.pending_buf,ve.pending_out,F,N.next_out),N.next_out+=F,ve.pending_out+=F,N.total_out+=F,N.avail_out-=F,ve.pending-=F,ve.pending===0&&(ve.pending_out=0))}function I(N,ve){u._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,ve),N.block_start=N.strstart,q(N.strm)}function K(N,ve){N.pending_buf[N.pending++]=ve}function se(N,ve){N.pending_buf[N.pending++]=ve>>>8&255,N.pending_buf[N.pending++]=255&ve}function he(N,ve){var F,A,C=N.max_chain_length,D=N.strstart,Z=N.prev_length,oe=N.nice_match,ne=N.strstart>N.w_size-pe?N.strstart-(N.w_size-pe):0,Ee=N.window,Te=N.w_mask,Oe=N.prev,je=N.strstart+re,Ve=Ee[D+Z-1],Qe=Ee[D+Z];N.prev_length>=N.good_match&&(C>>=2),oe>N.lookahead&&(oe=N.lookahead);do if(Ee[(F=ve)+Z]===Qe&&Ee[F+Z-1]===Ve&&Ee[F]===Ee[D]&&Ee[++F]===Ee[D+1]){D+=2,F++;do;while(Ee[++D]===Ee[++F]&&Ee[++D]===Ee[++F]&&Ee[++D]===Ee[++F]&&Ee[++D]===Ee[++F]&&Ee[++D]===Ee[++F]&&Ee[++D]===Ee[++F]&&Ee[++D]===Ee[++F]&&Ee[++D]===Ee[++F]&&D<je);if(A=re-(je-D),D=je-re,Z<A){if(N.match_start=ve,oe<=(Z=A))break;Ve=Ee[D+Z-1],Qe=Ee[D+Z]}}while((ve=Oe[ve&Te])>ne&&--C!=0);return Z<=N.lookahead?Z:N.lookahead}function ie(N){var ve,F,A,C,D,Z,oe,ne,Ee,Te,Oe=N.w_size;do{if(C=N.window_size-N.lookahead-N.strstart,N.strstart>=Oe+(Oe-pe)){for(l.arraySet(N.window,N.window,Oe,Oe,0),N.match_start-=Oe,N.strstart-=Oe,N.block_start-=Oe,ve=F=N.hash_size;A=N.head[--ve],N.head[ve]=Oe<=A?A-Oe:0,--F;);for(ve=F=Oe;A=N.prev[--ve],N.prev[ve]=Oe<=A?A-Oe:0,--F;);C+=Oe}if(N.strm.avail_in===0)break;if(Z=N.strm,oe=N.window,ne=N.strstart+N.lookahead,Ee=C,Te=void 0,Te=Z.avail_in,Ee<Te&&(Te=Ee),F=Te===0?0:(Z.avail_in-=Te,l.arraySet(oe,Z.input,Z.next_in,Te,ne),Z.state.wrap===1?Z.adler=c(Z.adler,oe,Te,ne):Z.state.wrap===2&&(Z.adler=h(Z.adler,oe,Te,ne)),Z.next_in+=Te,Z.total_in+=Te,Te),N.lookahead+=F,N.lookahead+N.insert>=P)for(D=N.strstart-N.insert,N.ins_h=N.window[D],N.ins_h=(N.ins_h<<N.hash_shift^N.window[D+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[D+P-1])&N.hash_mask,N.prev[D&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=D,D++,N.insert--,!(N.lookahead+N.insert<P)););}while(N.lookahead<pe&&N.strm.avail_in!==0)}function B(N,ve){for(var F,A;;){if(N.lookahead<pe){if(ie(N),N.lookahead<pe&&ve===m)return R;if(N.lookahead===0)break}if(F=0,N.lookahead>=P&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+P-1])&N.hash_mask,F=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),F!==0&&N.strstart-F<=N.w_size-pe&&(N.match_length=he(N,F)),N.match_length>=P)if(A=u._tr_tally(N,N.strstart-N.match_start,N.match_length-P),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=P){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+P-1])&N.hash_mask,F=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else A=u._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(A&&(I(N,!1),N.strm.avail_out===0))return R}return N.insert=N.strstart<P-1?N.strstart:P-1,ve===g?(I(N,!0),N.strm.avail_out===0?Y:G):N.last_lit&&(I(N,!1),N.strm.avail_out===0)?R:ee}function L(N,ve){for(var F,A,C;;){if(N.lookahead<pe){if(ie(N),N.lookahead<pe&&ve===m)return R;if(N.lookahead===0)break}if(F=0,N.lookahead>=P&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+P-1])&N.hash_mask,F=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=P-1,F!==0&&N.prev_length<N.max_lazy_match&&N.strstart-F<=N.w_size-pe&&(N.match_length=he(N,F),N.match_length<=5&&(N.strategy===1||N.match_length===P&&4096<N.strstart-N.match_start)&&(N.match_length=P-1)),N.prev_length>=P&&N.match_length<=N.prev_length){for(C=N.strstart+N.lookahead-P,A=u._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-P),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=C&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+P-1])&N.hash_mask,F=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=P-1,N.strstart++,A&&(I(N,!1),N.strm.avail_out===0))return R}else if(N.match_available){if((A=u._tr_tally(N,0,N.window[N.strstart-1]))&&I(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return R}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(A=u._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<P-1?N.strstart:P-1,ve===g?(I(N,!0),N.strm.avail_out===0?Y:G):N.last_lit&&(I(N,!1),N.strm.avail_out===0)?R:ee}function te(N,ve,F,A,C){this.good_length=N,this.max_lazy=ve,this.nice_length=F,this.max_chain=A,this.func=C}function J(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*M),this.dyn_dtree=new l.Buf16(2*(2*_+1)),this.bl_tree=new l.Buf16(2*(2*H+1)),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(Q+1),this.heap=new l.Buf16(2*T+1),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*T+1),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(N){var ve;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=x,(ve=N.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?U:X,N.adler=ve.wrap===2?0:1,ve.last_flush=m,u._tr_init(ve),y):ue(N,b)}function $(N){var ve=W(N);return ve===y&&(function(F){F.window_size=2*F.w_size,ke(F.head),F.max_lazy_match=s[F.level].max_lazy,F.good_match=s[F.level].good_length,F.nice_match=s[F.level].nice_length,F.max_chain_length=s[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=P-1,F.match_available=0,F.ins_h=0})(N.state),ve}function ge(N,ve,F,A,C,D){if(!N)return b;var Z=1;if(ve===w&&(ve=6),A<0?(Z=0,A=-A):15<A&&(Z=2,A-=16),C<1||O<C||F!==k||A<8||15<A||ve<0||9<ve||D<0||E<D)return ue(N,b);A===8&&(A=9);var oe=new J;return(N.state=oe).strm=N,oe.wrap=Z,oe.gzhead=null,oe.w_bits=A,oe.w_size=1<<oe.w_bits,oe.w_mask=oe.w_size-1,oe.hash_bits=C+7,oe.hash_size=1<<oe.hash_bits,oe.hash_mask=oe.hash_size-1,oe.hash_shift=~~((oe.hash_bits+P-1)/P),oe.window=new l.Buf8(2*oe.w_size),oe.head=new l.Buf16(oe.hash_size),oe.prev=new l.Buf16(oe.w_size),oe.lit_bufsize=1<<C+6,oe.pending_buf_size=4*oe.lit_bufsize,oe.pending_buf=new l.Buf8(oe.pending_buf_size),oe.d_buf=1*oe.lit_bufsize,oe.l_buf=3*oe.lit_bufsize,oe.level=ve,oe.strategy=D,oe.method=F,$(N)}s=[new te(0,0,0,0,function(N,ve){var F=65535;for(F>N.pending_buf_size-5&&(F=N.pending_buf_size-5);;){if(N.lookahead<=1){if(ie(N),N.lookahead===0&&ve===m)return R;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var A=N.block_start+F;if((N.strstart===0||N.strstart>=A)&&(N.lookahead=N.strstart-A,N.strstart=A,I(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-pe&&(I(N,!1),N.strm.avail_out===0))return R}return N.insert=0,ve===g?(I(N,!0),N.strm.avail_out===0?Y:G):(N.strstart>N.block_start&&(I(N,!1),N.strm.avail_out),R)}),new te(4,4,8,4,B),new te(4,5,16,8,B),new te(4,6,32,32,B),new te(4,4,16,16,L),new te(8,16,32,32,L),new te(8,16,128,128,L),new te(8,32,128,256,L),new te(32,128,258,1024,L),new te(32,258,258,4096,L)],i.deflateInit=function(N,ve){return ge(N,ve,k,15,8,0)},i.deflateInit2=ge,i.deflateReset=$,i.deflateResetKeep=W,i.deflateSetHeader=function(N,ve){return N&&N.state?N.state.wrap!==2?b:(N.state.gzhead=ve,y):b},i.deflate=function(N,ve){var F,A,C,D;if(!N||!N.state||5<ve||ve<0)return N?ue(N,b):b;if(A=N.state,!N.output||!N.input&&N.avail_in!==0||A.status===666&&ve!==g)return ue(N,N.avail_out===0?-5:b);if(A.strm=N,F=A.last_flush,A.last_flush=ve,A.status===U)if(A.wrap===2)N.adler=0,K(A,31),K(A,139),K(A,8),A.gzhead?(K(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),K(A,255&A.gzhead.time),K(A,A.gzhead.time>>8&255),K(A,A.gzhead.time>>16&255),K(A,A.gzhead.time>>24&255),K(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),K(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(K(A,255&A.gzhead.extra.length),K(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(N.adler=h(N.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(K(A,0),K(A,0),K(A,0),K(A,0),K(A,0),K(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),K(A,3),A.status=X);else{var Z=k+(A.w_bits-8<<4)<<8;Z|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(Z|=32),Z+=31-Z%31,A.status=X,se(A,Z),A.strstart!==0&&(se(A,N.adler>>>16),se(A,65535&N.adler)),N.adler=1}if(A.status===69)if(A.gzhead.extra){for(C=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>C&&(N.adler=h(N.adler,A.pending_buf,A.pending-C,C)),q(N),C=A.pending,A.pending!==A.pending_buf_size));)K(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>C&&(N.adler=h(N.adler,A.pending_buf,A.pending-C,C)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){C=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>C&&(N.adler=h(N.adler,A.pending_buf,A.pending-C,C)),q(N),C=A.pending,A.pending===A.pending_buf_size)){D=1;break}D=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,K(A,D)}while(D!==0);A.gzhead.hcrc&&A.pending>C&&(N.adler=h(N.adler,A.pending_buf,A.pending-C,C)),D===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){C=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>C&&(N.adler=h(N.adler,A.pending_buf,A.pending-C,C)),q(N),C=A.pending,A.pending===A.pending_buf_size)){D=1;break}D=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,K(A,D)}while(D!==0);A.gzhead.hcrc&&A.pending>C&&(N.adler=h(N.adler,A.pending_buf,A.pending-C,C)),D===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&q(N),A.pending+2<=A.pending_buf_size&&(K(A,255&N.adler),K(A,N.adler>>8&255),N.adler=0,A.status=X)):A.status=X),A.pending!==0){if(q(N),N.avail_out===0)return A.last_flush=-1,y}else if(N.avail_in===0&&ce(ve)<=ce(F)&&ve!==g)return ue(N,-5);if(A.status===666&&N.avail_in!==0)return ue(N,-5);if(N.avail_in!==0||A.lookahead!==0||ve!==m&&A.status!==666){var oe=A.strategy===2?(function(ne,Ee){for(var Te;;){if(ne.lookahead===0&&(ie(ne),ne.lookahead===0)){if(Ee===m)return R;break}if(ne.match_length=0,Te=u._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,Te&&(I(ne,!1),ne.strm.avail_out===0))return R}return ne.insert=0,Ee===g?(I(ne,!0),ne.strm.avail_out===0?Y:G):ne.last_lit&&(I(ne,!1),ne.strm.avail_out===0)?R:ee})(A,ve):A.strategy===3?(function(ne,Ee){for(var Te,Oe,je,Ve,Qe=ne.window;;){if(ne.lookahead<=re){if(ie(ne),ne.lookahead<=re&&Ee===m)return R;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=P&&0<ne.strstart&&(Oe=Qe[je=ne.strstart-1])===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]){Ve=ne.strstart+re;do;while(Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&je<Ve);ne.match_length=re-(Ve-je),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=P?(Te=u._tr_tally(ne,1,ne.match_length-P),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(Te=u._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),Te&&(I(ne,!1),ne.strm.avail_out===0))return R}return ne.insert=0,Ee===g?(I(ne,!0),ne.strm.avail_out===0?Y:G):ne.last_lit&&(I(ne,!1),ne.strm.avail_out===0)?R:ee})(A,ve):s[A.level].func(A,ve);if(oe!==Y&&oe!==G||(A.status=666),oe===R||oe===Y)return N.avail_out===0&&(A.last_flush=-1),y;if(oe===ee&&(ve===1?u._tr_align(A):ve!==5&&(u._tr_stored_block(A,0,0,!1),ve===3&&(ke(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),q(N),N.avail_out===0))return A.last_flush=-1,y}return ve!==g?y:A.wrap<=0?1:(A.wrap===2?(K(A,255&N.adler),K(A,N.adler>>8&255),K(A,N.adler>>16&255),K(A,N.adler>>24&255),K(A,255&N.total_in),K(A,N.total_in>>8&255),K(A,N.total_in>>16&255),K(A,N.total_in>>24&255)):(se(A,N.adler>>>16),se(A,65535&N.adler)),q(N),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?y:1)},i.deflateEnd=function(N){var ve;return N&&N.state?(ve=N.state.status)!==U&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==X&&ve!==666?ue(N,b):(N.state=null,ve===X?ue(N,-3):y):b},i.deflateSetDictionary=function(N,ve){var F,A,C,D,Z,oe,ne,Ee,Te=ve.length;if(!N||!N.state||(D=(F=N.state).wrap)===2||D===1&&F.status!==U||F.lookahead)return b;for(D===1&&(N.adler=c(N.adler,ve,Te,0)),F.wrap=0,Te>=F.w_size&&(D===0&&(ke(F.head),F.strstart=0,F.block_start=0,F.insert=0),Ee=new l.Buf8(F.w_size),l.arraySet(Ee,ve,Te-F.w_size,F.w_size,0),ve=Ee,Te=F.w_size),Z=N.avail_in,oe=N.next_in,ne=N.input,N.avail_in=Te,N.next_in=0,N.input=ve,ie(F);F.lookahead>=P;){for(A=F.strstart,C=F.lookahead-(P-1);F.ins_h=(F.ins_h<<F.hash_shift^F.window[A+P-1])&F.hash_mask,F.prev[A&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=A,A++,--C;);F.strstart=A,F.lookahead=P-1,ie(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=P-1,F.match_available=0,N.next_in=oe,N.input=ne,N.avail_in=Z,F.wrap=D,y},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(s,l){var u,c,h,d,m,g,y,b,w,E,x,k,O,T,_,H,M,Q,P,re,pe,U,X,R,ee;u=s.state,c=s.next_in,R=s.input,h=c+(s.avail_in-5),d=s.next_out,ee=s.output,m=d-(l-s.avail_out),g=d+(s.avail_out-257),y=u.dmax,b=u.wsize,w=u.whave,E=u.wnext,x=u.window,k=u.hold,O=u.bits,T=u.lencode,_=u.distcode,H=(1<<u.lenbits)-1,M=(1<<u.distbits)-1;e:do{O<15&&(k+=R[c++]<<O,O+=8,k+=R[c++]<<O,O+=8),Q=T[k&H];t:for(;;){if(k>>>=P=Q>>>24,O-=P,(P=Q>>>16&255)===0)ee[d++]=65535&Q;else{if(!(16&P)){if((64&P)==0){Q=T[(65535&Q)+(k&(1<<P)-1)];continue t}if(32&P){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}re=65535&Q,(P&=15)&&(O<P&&(k+=R[c++]<<O,O+=8),re+=k&(1<<P)-1,k>>>=P,O-=P),O<15&&(k+=R[c++]<<O,O+=8,k+=R[c++]<<O,O+=8),Q=_[k&M];r:for(;;){if(k>>>=P=Q>>>24,O-=P,!(16&(P=Q>>>16&255))){if((64&P)==0){Q=_[(65535&Q)+(k&(1<<P)-1)];continue r}s.msg="invalid distance code",u.mode=30;break e}if(pe=65535&Q,O<(P&=15)&&(k+=R[c++]<<O,(O+=8)<P&&(k+=R[c++]<<O,O+=8)),y<(pe+=k&(1<<P)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(k>>>=P,O-=P,(P=d-m)<pe){if(w<(P=pe-P)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(X=x,(U=0)===E){if(U+=b-P,P<re){for(re-=P;ee[d++]=x[U++],--P;);U=d-pe,X=ee}}else if(E<P){if(U+=b+E-P,(P-=E)<re){for(re-=P;ee[d++]=x[U++],--P;);if(U=0,E<re){for(re-=P=E;ee[d++]=x[U++],--P;);U=d-pe,X=ee}}}else if(U+=E-P,P<re){for(re-=P;ee[d++]=x[U++],--P;);U=d-pe,X=ee}for(;2<re;)ee[d++]=X[U++],ee[d++]=X[U++],ee[d++]=X[U++],re-=3;re&&(ee[d++]=X[U++],1<re&&(ee[d++]=X[U++]))}else{for(U=d-pe;ee[d++]=ee[U++],ee[d++]=ee[U++],ee[d++]=ee[U++],2<(re-=3););re&&(ee[d++]=ee[U++],1<re&&(ee[d++]=ee[U++]))}break}}break}}while(c<h&&d<g);c-=re=O>>3,k&=(1<<(O-=re<<3))-1,s.next_in=c,s.next_out=d,s.avail_in=c<h?h-c+5:5-(c-h),s.avail_out=d<g?g-d+257:257-(d-g),u.hold=k,u.bits=O}},{}],49:[function(t,n,i){var s=t("../utils/common"),l=t("./adler32"),u=t("./crc32"),c=t("./inffast"),h=t("./inftrees"),d=1,m=2,g=0,y=-2,b=1,w=852,E=592;function x(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(U){var X;return U&&U.state?(X=U.state,U.total_in=U.total_out=X.total=0,U.msg="",X.wrap&&(U.adler=1&X.wrap),X.mode=b,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new s.Buf32(w),X.distcode=X.distdyn=new s.Buf32(E),X.sane=1,X.back=-1,g):y}function T(U){var X;return U&&U.state?((X=U.state).wsize=0,X.whave=0,X.wnext=0,O(U)):y}function _(U,X){var R,ee;return U&&U.state?(ee=U.state,X<0?(R=0,X=-X):(R=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?y:(ee.window!==null&&ee.wbits!==X&&(ee.window=null),ee.wrap=R,ee.wbits=X,T(U))):y}function H(U,X){var R,ee;return U?(ee=new k,(U.state=ee).window=null,(R=_(U,X))!==g&&(U.state=null),R):y}var M,Q,P=!0;function re(U){if(P){var X;for(M=new s.Buf32(512),Q=new s.Buf32(32),X=0;X<144;)U.lens[X++]=8;for(;X<256;)U.lens[X++]=9;for(;X<280;)U.lens[X++]=7;for(;X<288;)U.lens[X++]=8;for(h(d,U.lens,0,288,M,0,U.work,{bits:9}),X=0;X<32;)U.lens[X++]=5;h(m,U.lens,0,32,Q,0,U.work,{bits:5}),P=!1}U.lencode=M,U.lenbits=9,U.distcode=Q,U.distbits=5}function pe(U,X,R,ee){var Y,G=U.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new s.Buf8(G.wsize)),ee>=G.wsize?(s.arraySet(G.window,X,R-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(ee<(Y=G.wsize-G.wnext)&&(Y=ee),s.arraySet(G.window,X,R-ee,Y,G.wnext),(ee-=Y)?(s.arraySet(G.window,X,R-ee,ee,0),G.wnext=ee,G.whave=G.wsize):(G.wnext+=Y,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=Y))),0}i.inflateReset=T,i.inflateReset2=_,i.inflateResetKeep=O,i.inflateInit=function(U){return H(U,15)},i.inflateInit2=H,i.inflate=function(U,X){var R,ee,Y,G,ue,ce,ke,q,I,K,se,he,ie,B,L,te,J,W,$,ge,N,ve,F,A,C=0,D=new s.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return y;(R=U.state).mode===12&&(R.mode=13),ue=U.next_out,Y=U.output,ke=U.avail_out,G=U.next_in,ee=U.input,ce=U.avail_in,q=R.hold,I=R.bits,K=ce,se=ke,ve=g;e:for(;;)switch(R.mode){case b:if(R.wrap===0){R.mode=13;break}for(;I<16;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}if(2&R.wrap&&q===35615){D[R.check=0]=255&q,D[1]=q>>>8&255,R.check=u(R.check,D,2,0),I=q=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&q)<<8)+(q>>8))%31){U.msg="incorrect header check",R.mode=30;break}if((15&q)!=8){U.msg="unknown compression method",R.mode=30;break}if(I-=4,N=8+(15&(q>>>=4)),R.wbits===0)R.wbits=N;else if(N>R.wbits){U.msg="invalid window size",R.mode=30;break}R.dmax=1<<N,U.adler=R.check=1,R.mode=512&q?10:12,I=q=0;break;case 2:for(;I<16;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}if(R.flags=q,(255&R.flags)!=8){U.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){U.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=q>>8&1),512&R.flags&&(D[0]=255&q,D[1]=q>>>8&255,R.check=u(R.check,D,2,0)),I=q=0,R.mode=3;case 3:for(;I<32;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}R.head&&(R.head.time=q),512&R.flags&&(D[0]=255&q,D[1]=q>>>8&255,D[2]=q>>>16&255,D[3]=q>>>24&255,R.check=u(R.check,D,4,0)),I=q=0,R.mode=4;case 4:for(;I<16;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}R.head&&(R.head.xflags=255&q,R.head.os=q>>8),512&R.flags&&(D[0]=255&q,D[1]=q>>>8&255,R.check=u(R.check,D,2,0)),I=q=0,R.mode=5;case 5:if(1024&R.flags){for(;I<16;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}R.length=q,R.head&&(R.head.extra_len=q),512&R.flags&&(D[0]=255&q,D[1]=q>>>8&255,R.check=u(R.check,D,2,0)),I=q=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(ce<(he=R.length)&&(he=ce),he&&(R.head&&(N=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),s.arraySet(R.head.extra,ee,G,he,N)),512&R.flags&&(R.check=u(R.check,ee,he,G)),ce-=he,G+=he,R.length-=he),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(ce===0)break e;for(he=0;N=ee[G+he++],R.head&&N&&R.length<65536&&(R.head.name+=String.fromCharCode(N)),N&&he<ce;);if(512&R.flags&&(R.check=u(R.check,ee,he,G)),ce-=he,G+=he,N)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(ce===0)break e;for(he=0;N=ee[G+he++],R.head&&N&&R.length<65536&&(R.head.comment+=String.fromCharCode(N)),N&&he<ce;);if(512&R.flags&&(R.check=u(R.check,ee,he,G)),ce-=he,G+=he,N)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;I<16;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}if(q!==(65535&R.check)){U.msg="header crc mismatch",R.mode=30;break}I=q=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),U.adler=R.check=0,R.mode=12;break;case 10:for(;I<32;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}U.adler=R.check=x(q),I=q=0,R.mode=11;case 11:if(R.havedict===0)return U.next_out=ue,U.avail_out=ke,U.next_in=G,U.avail_in=ce,R.hold=q,R.bits=I,2;U.adler=R.check=1,R.mode=12;case 12:if(X===5||X===6)break e;case 13:if(R.last){q>>>=7&I,I-=7&I,R.mode=27;break}for(;I<3;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}switch(R.last=1&q,I-=1,3&(q>>>=1)){case 0:R.mode=14;break;case 1:if(re(R),R.mode=20,X!==6)break;q>>>=2,I-=2;break e;case 2:R.mode=17;break;case 3:U.msg="invalid block type",R.mode=30}q>>>=2,I-=2;break;case 14:for(q>>>=7&I,I-=7&I;I<32;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}if((65535&q)!=(q>>>16^65535)){U.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&q,I=q=0,R.mode=15,X===6)break e;case 15:R.mode=16;case 16:if(he=R.length){if(ce<he&&(he=ce),ke<he&&(he=ke),he===0)break e;s.arraySet(Y,ee,G,he,ue),ce-=he,G+=he,ke-=he,ue+=he,R.length-=he;break}R.mode=12;break;case 17:for(;I<14;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}if(R.nlen=257+(31&q),q>>>=5,I-=5,R.ndist=1+(31&q),q>>>=5,I-=5,R.ncode=4+(15&q),q>>>=4,I-=4,286<R.nlen||30<R.ndist){U.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;I<3;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}R.lens[Z[R.have++]]=7&q,q>>>=3,I-=3}for(;R.have<19;)R.lens[Z[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,F={bits:R.lenbits},ve=h(0,R.lens,0,19,R.lencode,0,R.work,F),R.lenbits=F.bits,ve){U.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;te=(C=R.lencode[q&(1<<R.lenbits)-1])>>>16&255,J=65535&C,!((L=C>>>24)<=I);){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}if(J<16)q>>>=L,I-=L,R.lens[R.have++]=J;else{if(J===16){for(A=L+2;I<A;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}if(q>>>=L,I-=L,R.have===0){U.msg="invalid bit length repeat",R.mode=30;break}N=R.lens[R.have-1],he=3+(3&q),q>>>=2,I-=2}else if(J===17){for(A=L+3;I<A;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}I-=L,N=0,he=3+(7&(q>>>=L)),q>>>=3,I-=3}else{for(A=L+7;I<A;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}I-=L,N=0,he=11+(127&(q>>>=L)),q>>>=7,I-=7}if(R.have+he>R.nlen+R.ndist){U.msg="invalid bit length repeat",R.mode=30;break}for(;he--;)R.lens[R.have++]=N}}if(R.mode===30)break;if(R.lens[256]===0){U.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,F={bits:R.lenbits},ve=h(d,R.lens,0,R.nlen,R.lencode,0,R.work,F),R.lenbits=F.bits,ve){U.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,F={bits:R.distbits},ve=h(m,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,F),R.distbits=F.bits,ve){U.msg="invalid distances set",R.mode=30;break}if(R.mode=20,X===6)break e;case 20:R.mode=21;case 21:if(6<=ce&&258<=ke){U.next_out=ue,U.avail_out=ke,U.next_in=G,U.avail_in=ce,R.hold=q,R.bits=I,c(U,se),ue=U.next_out,Y=U.output,ke=U.avail_out,G=U.next_in,ee=U.input,ce=U.avail_in,q=R.hold,I=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;te=(C=R.lencode[q&(1<<R.lenbits)-1])>>>16&255,J=65535&C,!((L=C>>>24)<=I);){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}if(te&&(240&te)==0){for(W=L,$=te,ge=J;te=(C=R.lencode[ge+((q&(1<<W+$)-1)>>W)])>>>16&255,J=65535&C,!(W+(L=C>>>24)<=I);){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}q>>>=W,I-=W,R.back+=W}if(q>>>=L,I-=L,R.back+=L,R.length=J,te===0){R.mode=26;break}if(32&te){R.back=-1,R.mode=12;break}if(64&te){U.msg="invalid literal/length code",R.mode=30;break}R.extra=15&te,R.mode=22;case 22:if(R.extra){for(A=R.extra;I<A;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}R.length+=q&(1<<R.extra)-1,q>>>=R.extra,I-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;te=(C=R.distcode[q&(1<<R.distbits)-1])>>>16&255,J=65535&C,!((L=C>>>24)<=I);){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}if((240&te)==0){for(W=L,$=te,ge=J;te=(C=R.distcode[ge+((q&(1<<W+$)-1)>>W)])>>>16&255,J=65535&C,!(W+(L=C>>>24)<=I);){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}q>>>=W,I-=W,R.back+=W}if(q>>>=L,I-=L,R.back+=L,64&te){U.msg="invalid distance code",R.mode=30;break}R.offset=J,R.extra=15&te,R.mode=24;case 24:if(R.extra){for(A=R.extra;I<A;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}R.offset+=q&(1<<R.extra)-1,q>>>=R.extra,I-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){U.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(ke===0)break e;if(he=se-ke,R.offset>he){if((he=R.offset-he)>R.whave&&R.sane){U.msg="invalid distance too far back",R.mode=30;break}ie=he>R.wnext?(he-=R.wnext,R.wsize-he):R.wnext-he,he>R.length&&(he=R.length),B=R.window}else B=Y,ie=ue-R.offset,he=R.length;for(ke<he&&(he=ke),ke-=he,R.length-=he;Y[ue++]=B[ie++],--he;);R.length===0&&(R.mode=21);break;case 26:if(ke===0)break e;Y[ue++]=R.length,ke--,R.mode=21;break;case 27:if(R.wrap){for(;I<32;){if(ce===0)break e;ce--,q|=ee[G++]<<I,I+=8}if(se-=ke,U.total_out+=se,R.total+=se,se&&(U.adler=R.check=R.flags?u(R.check,Y,se,ue-se):l(R.check,Y,se,ue-se)),se=ke,(R.flags?q:x(q))!==R.check){U.msg="incorrect data check",R.mode=30;break}I=q=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;I<32;){if(ce===0)break e;ce--,q+=ee[G++]<<I,I+=8}if(q!==(4294967295&R.total)){U.msg="incorrect length check",R.mode=30;break}I=q=0}R.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return y}return U.next_out=ue,U.avail_out=ke,U.next_in=G,U.avail_in=ce,R.hold=q,R.bits=I,(R.wsize||se!==U.avail_out&&R.mode<30&&(R.mode<27||X!==4))&&pe(U,U.output,U.next_out,se-U.avail_out)?(R.mode=31,-4):(K-=U.avail_in,se-=U.avail_out,U.total_in+=K,U.total_out+=se,R.total+=se,R.wrap&&se&&(U.adler=R.check=R.flags?u(R.check,Y,se,U.next_out-se):l(R.check,Y,se,U.next_out-se)),U.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(K==0&&se===0||X===4)&&ve===g&&(ve=-5),ve)},i.inflateEnd=function(U){if(!U||!U.state)return y;var X=U.state;return X.window&&(X.window=null),U.state=null,g},i.inflateGetHeader=function(U,X){var R;return U&&U.state?(2&(R=U.state).wrap)==0?y:((R.head=X).done=!1,g):y},i.inflateSetDictionary=function(U,X){var R,ee=X.length;return U&&U.state?(R=U.state).wrap!==0&&R.mode!==11?y:R.mode===11&&l(1,X,ee,0)!==R.check?-3:pe(U,X,ee,ee)?(R.mode=31,-4):(R.havedict=1,g):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var s=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,m,g,y,b,w,E,x){var k,O,T,_,H,M,Q,P,re,pe=x.bits,U=0,X=0,R=0,ee=0,Y=0,G=0,ue=0,ce=0,ke=0,q=0,I=null,K=0,se=new s.Buf16(16),he=new s.Buf16(16),ie=null,B=0;for(U=0;U<=15;U++)se[U]=0;for(X=0;X<y;X++)se[m[g+X]]++;for(Y=pe,ee=15;1<=ee&&se[ee]===0;ee--);if(ee<Y&&(Y=ee),ee===0)return b[w++]=20971520,b[w++]=20971520,x.bits=1,0;for(R=1;R<ee&&se[R]===0;R++);for(Y<R&&(Y=R),U=ce=1;U<=15;U++)if(ce<<=1,(ce-=se[U])<0)return-1;if(0<ce&&(d===0||ee!==1))return-1;for(he[1]=0,U=1;U<15;U++)he[U+1]=he[U]+se[U];for(X=0;X<y;X++)m[g+X]!==0&&(E[he[m[g+X]]++]=X);if(M=d===0?(I=ie=E,19):d===1?(I=l,K-=257,ie=u,B-=257,256):(I=c,ie=h,-1),U=R,H=w,ue=X=q=0,T=-1,_=(ke=1<<(G=Y))-1,d===1&&852<ke||d===2&&592<ke)return 1;for(;;){for(Q=U-ue,re=E[X]<M?(P=0,E[X]):E[X]>M?(P=ie[B+E[X]],I[K+E[X]]):(P=96,0),k=1<<U-ue,R=O=1<<G;b[H+(q>>ue)+(O-=k)]=Q<<24|P<<16|re|0,O!==0;);for(k=1<<U-1;q&k;)k>>=1;if(k!==0?(q&=k-1,q+=k):q=0,X++,--se[U]==0){if(U===ee)break;U=m[g+E[X]]}if(Y<U&&(q&_)!==T){for(ue===0&&(ue=Y),H+=R,ce=1<<(G=U-ue);G+ue<ee&&!((ce-=se[G+ue])<=0);)G++,ce<<=1;if(ke+=1<<G,d===1&&852<ke||d===2&&592<ke)return 1;b[T=q&_]=Y<<24|G<<16|H-w|0}}return q!==0&&(b[H+q]=U-ue<<24|64<<16|0),x.bits=Y,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var s=t("../utils/common"),l=0,u=1;function c(C){for(var D=C.length;0<=--D;)C[D]=0}var h=0,d=29,m=256,g=m+1+d,y=30,b=19,w=2*g+1,E=15,x=16,k=7,O=256,T=16,_=17,H=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=new Array(2*(g+2));c(pe);var U=new Array(2*y);c(U);var X=new Array(512);c(X);var R=new Array(256);c(R);var ee=new Array(d);c(ee);var Y,G,ue,ce=new Array(y);function ke(C,D,Z,oe,ne){this.static_tree=C,this.extra_bits=D,this.extra_base=Z,this.elems=oe,this.max_length=ne,this.has_stree=C&&C.length}function q(C,D){this.dyn_tree=C,this.max_code=0,this.stat_desc=D}function I(C){return C<256?X[C]:X[256+(C>>>7)]}function K(C,D){C.pending_buf[C.pending++]=255&D,C.pending_buf[C.pending++]=D>>>8&255}function se(C,D,Z){C.bi_valid>x-Z?(C.bi_buf|=D<<C.bi_valid&65535,K(C,C.bi_buf),C.bi_buf=D>>x-C.bi_valid,C.bi_valid+=Z-x):(C.bi_buf|=D<<C.bi_valid&65535,C.bi_valid+=Z)}function he(C,D,Z){se(C,Z[2*D],Z[2*D+1])}function ie(C,D){for(var Z=0;Z|=1&C,C>>>=1,Z<<=1,0<--D;);return Z>>>1}function B(C,D,Z){var oe,ne,Ee=new Array(E+1),Te=0;for(oe=1;oe<=E;oe++)Ee[oe]=Te=Te+Z[oe-1]<<1;for(ne=0;ne<=D;ne++){var Oe=C[2*ne+1];Oe!==0&&(C[2*ne]=ie(Ee[Oe]++,Oe))}}function L(C){var D;for(D=0;D<g;D++)C.dyn_ltree[2*D]=0;for(D=0;D<y;D++)C.dyn_dtree[2*D]=0;for(D=0;D<b;D++)C.bl_tree[2*D]=0;C.dyn_ltree[2*O]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function te(C){8<C.bi_valid?K(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function J(C,D,Z,oe){var ne=2*D,Ee=2*Z;return C[ne]<C[Ee]||C[ne]===C[Ee]&&oe[D]<=oe[Z]}function W(C,D,Z){for(var oe=C.heap[Z],ne=Z<<1;ne<=C.heap_len&&(ne<C.heap_len&&J(D,C.heap[ne+1],C.heap[ne],C.depth)&&ne++,!J(D,oe,C.heap[ne],C.depth));)C.heap[Z]=C.heap[ne],Z=ne,ne<<=1;C.heap[Z]=oe}function $(C,D,Z){var oe,ne,Ee,Te,Oe=0;if(C.last_lit!==0)for(;oe=C.pending_buf[C.d_buf+2*Oe]<<8|C.pending_buf[C.d_buf+2*Oe+1],ne=C.pending_buf[C.l_buf+Oe],Oe++,oe===0?he(C,ne,D):(he(C,(Ee=R[ne])+m+1,D),(Te=M[Ee])!==0&&se(C,ne-=ee[Ee],Te),he(C,Ee=I(--oe),Z),(Te=Q[Ee])!==0&&se(C,oe-=ce[Ee],Te)),Oe<C.last_lit;);he(C,O,D)}function ge(C,D){var Z,oe,ne,Ee=D.dyn_tree,Te=D.stat_desc.static_tree,Oe=D.stat_desc.has_stree,je=D.stat_desc.elems,Ve=-1;for(C.heap_len=0,C.heap_max=w,Z=0;Z<je;Z++)Ee[2*Z]!==0?(C.heap[++C.heap_len]=Ve=Z,C.depth[Z]=0):Ee[2*Z+1]=0;for(;C.heap_len<2;)Ee[2*(ne=C.heap[++C.heap_len]=Ve<2?++Ve:0)]=1,C.depth[ne]=0,C.opt_len--,Oe&&(C.static_len-=Te[2*ne+1]);for(D.max_code=Ve,Z=C.heap_len>>1;1<=Z;Z--)W(C,Ee,Z);for(ne=je;Z=C.heap[1],C.heap[1]=C.heap[C.heap_len--],W(C,Ee,1),oe=C.heap[1],C.heap[--C.heap_max]=Z,C.heap[--C.heap_max]=oe,Ee[2*ne]=Ee[2*Z]+Ee[2*oe],C.depth[ne]=(C.depth[Z]>=C.depth[oe]?C.depth[Z]:C.depth[oe])+1,Ee[2*Z+1]=Ee[2*oe+1]=ne,C.heap[1]=ne++,W(C,Ee,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],(function(Qe,Ht){var tn,rn,ti,Nt,zt,$r,Xt=Ht.dyn_tree,Sa=Ht.max_code,ru=Ht.stat_desc.static_tree,kl=Ht.stat_desc.has_stree,ri=Ht.stat_desc.extra_bits,yi=Ht.stat_desc.extra_base,nn=Ht.stat_desc.max_length,sn=0;for(Nt=0;Nt<=E;Nt++)Qe.bl_count[Nt]=0;for(Xt[2*Qe.heap[Qe.heap_max]+1]=0,tn=Qe.heap_max+1;tn<w;tn++)nn<(Nt=Xt[2*Xt[2*(rn=Qe.heap[tn])+1]+1]+1)&&(Nt=nn,sn++),Xt[2*rn+1]=Nt,Sa<rn||(Qe.bl_count[Nt]++,zt=0,yi<=rn&&(zt=ri[rn-yi]),$r=Xt[2*rn],Qe.opt_len+=$r*(Nt+zt),kl&&(Qe.static_len+=$r*(ru[2*rn+1]+zt)));if(sn!==0){do{for(Nt=nn-1;Qe.bl_count[Nt]===0;)Nt--;Qe.bl_count[Nt]--,Qe.bl_count[Nt+1]+=2,Qe.bl_count[nn]--,sn-=2}while(0<sn);for(Nt=nn;Nt!==0;Nt--)for(rn=Qe.bl_count[Nt];rn!==0;)Sa<(ti=Qe.heap[--tn])||(Xt[2*ti+1]!==Nt&&(Qe.opt_len+=(Nt-Xt[2*ti+1])*Xt[2*ti],Xt[2*ti+1]=Nt),rn--)}})(C,D),B(Ee,Ve,C.bl_count)}function N(C,D,Z){var oe,ne,Ee=-1,Te=D[1],Oe=0,je=7,Ve=4;for(Te===0&&(je=138,Ve=3),D[2*(Z+1)+1]=65535,oe=0;oe<=Z;oe++)ne=Te,Te=D[2*(oe+1)+1],++Oe<je&&ne===Te||(Oe<Ve?C.bl_tree[2*ne]+=Oe:ne!==0?(ne!==Ee&&C.bl_tree[2*ne]++,C.bl_tree[2*T]++):Oe<=10?C.bl_tree[2*_]++:C.bl_tree[2*H]++,Ee=ne,Ve=(Oe=0)===Te?(je=138,3):ne===Te?(je=6,3):(je=7,4))}function ve(C,D,Z){var oe,ne,Ee=-1,Te=D[1],Oe=0,je=7,Ve=4;for(Te===0&&(je=138,Ve=3),oe=0;oe<=Z;oe++)if(ne=Te,Te=D[2*(oe+1)+1],!(++Oe<je&&ne===Te)){if(Oe<Ve)for(;he(C,ne,C.bl_tree),--Oe!=0;);else ne!==0?(ne!==Ee&&(he(C,ne,C.bl_tree),Oe--),he(C,T,C.bl_tree),se(C,Oe-3,2)):Oe<=10?(he(C,_,C.bl_tree),se(C,Oe-3,3)):(he(C,H,C.bl_tree),se(C,Oe-11,7));Ee=ne,Ve=(Oe=0)===Te?(je=138,3):ne===Te?(je=6,3):(je=7,4)}}c(ce);var F=!1;function A(C,D,Z,oe){se(C,(h<<1)+(oe?1:0),3),(function(ne,Ee,Te,Oe){te(ne),K(ne,Te),K(ne,~Te),s.arraySet(ne.pending_buf,ne.window,Ee,Te,ne.pending),ne.pending+=Te})(C,D,Z)}i._tr_init=function(C){F||((function(){var D,Z,oe,ne,Ee,Te=new Array(E+1);for(ne=oe=0;ne<d-1;ne++)for(ee[ne]=oe,D=0;D<1<<M[ne];D++)R[oe++]=ne;for(R[oe-1]=ne,ne=Ee=0;ne<16;ne++)for(ce[ne]=Ee,D=0;D<1<<Q[ne];D++)X[Ee++]=ne;for(Ee>>=7;ne<y;ne++)for(ce[ne]=Ee<<7,D=0;D<1<<Q[ne]-7;D++)X[256+Ee++]=ne;for(Z=0;Z<=E;Z++)Te[Z]=0;for(D=0;D<=143;)pe[2*D+1]=8,D++,Te[8]++;for(;D<=255;)pe[2*D+1]=9,D++,Te[9]++;for(;D<=279;)pe[2*D+1]=7,D++,Te[7]++;for(;D<=287;)pe[2*D+1]=8,D++,Te[8]++;for(B(pe,g+1,Te),D=0;D<y;D++)U[2*D+1]=5,U[2*D]=ie(D,5);Y=new ke(pe,M,m+1,g,E),G=new ke(U,Q,0,y,E),ue=new ke(new Array(0),P,0,b,k)})(),F=!0),C.l_desc=new q(C.dyn_ltree,Y),C.d_desc=new q(C.dyn_dtree,G),C.bl_desc=new q(C.bl_tree,ue),C.bi_buf=0,C.bi_valid=0,L(C)},i._tr_stored_block=A,i._tr_flush_block=function(C,D,Z,oe){var ne,Ee,Te=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=(function(Oe){var je,Ve=4093624447;for(je=0;je<=31;je++,Ve>>>=1)if(1&Ve&&Oe.dyn_ltree[2*je]!==0)return l;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return u;for(je=32;je<m;je++)if(Oe.dyn_ltree[2*je]!==0)return u;return l})(C)),ge(C,C.l_desc),ge(C,C.d_desc),Te=(function(Oe){var je;for(N(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),N(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),ge(Oe,Oe.bl_desc),je=b-1;3<=je&&Oe.bl_tree[2*re[je]+1]===0;je--);return Oe.opt_len+=3*(je+1)+5+5+4,je})(C),ne=C.opt_len+3+7>>>3,(Ee=C.static_len+3+7>>>3)<=ne&&(ne=Ee)):ne=Ee=Z+5,Z+4<=ne&&D!==-1?A(C,D,Z,oe):C.strategy===4||Ee===ne?(se(C,2+(oe?1:0),3),$(C,pe,U)):(se(C,4+(oe?1:0),3),(function(Oe,je,Ve,Qe){var Ht;for(se(Oe,je-257,5),se(Oe,Ve-1,5),se(Oe,Qe-4,4),Ht=0;Ht<Qe;Ht++)se(Oe,Oe.bl_tree[2*re[Ht]+1],3);ve(Oe,Oe.dyn_ltree,je-1),ve(Oe,Oe.dyn_dtree,Ve-1)})(C,C.l_desc.max_code+1,C.d_desc.max_code+1,Te+1),$(C,C.dyn_ltree,C.dyn_dtree)),L(C),oe&&te(C)},i._tr_tally=function(C,D,Z){return C.pending_buf[C.d_buf+2*C.last_lit]=D>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&D,C.pending_buf[C.l_buf+C.last_lit]=255&Z,C.last_lit++,D===0?C.dyn_ltree[2*Z]++:(C.matches++,D--,C.dyn_ltree[2*(R[Z]+m+1)]++,C.dyn_dtree[2*I(D)]++),C.last_lit===C.lit_bufsize-1},i._tr_align=function(C){se(C,2,3),he(C,O,pe),(function(D){D.bi_valid===16?(K(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)})(C)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(s){(function(l,u){if(!l.setImmediate){var c,h,d,m,g=1,y={},b=!1,w=l.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(l);E=E&&E.setTimeout?E:l,c={}.toString.call(l.process)==="[object process]"?function(T){ut.nextTick(function(){k(T)})}:(function(){if(l.postMessage&&!l.importScripts){var T=!0,_=l.onmessage;return l.onmessage=function(){T=!1},l.postMessage("","*"),l.onmessage=_,T}})()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",O,!1):l.attachEvent("onmessage",O),function(T){l.postMessage(m+T,"*")}):l.MessageChannel?((d=new MessageChannel).port1.onmessage=function(T){k(T.data)},function(T){d.port2.postMessage(T)}):w&&"onreadystatechange"in w.createElement("script")?(h=w.documentElement,function(T){var _=w.createElement("script");_.onreadystatechange=function(){k(T),_.onreadystatechange=null,h.removeChild(_),_=null},h.appendChild(_)}):function(T){setTimeout(k,0,T)},E.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var _=new Array(arguments.length-1),H=0;H<_.length;H++)_[H]=arguments[H+1];var M={callback:T,args:_};return y[g]=M,c(g),g++},E.clearImmediate=x}function x(T){delete y[T]}function k(T){if(b)setTimeout(k,0,T);else{var _=y[T];if(_){b=!0;try{(function(H){var M=H.callback,Q=H.args;switch(Q.length){case 0:M();break;case 1:M(Q[0]);break;case 2:M(Q[0],Q[1]);break;case 3:M(Q[0],Q[1],Q[2]);break;default:M.apply(u,Q)}})(_)}finally{x(T),b=!1}}}}function O(T){T.source===l&&typeof T.data=="string"&&T.data.indexOf(m)===0&&k(+T.data.slice(m.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Bi<"u"?Bi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(zv)),zv.exports}var HQ=UQ();const qQ=b5(HQ);var sc={exports:{}},jv,DO;function WQ(){if(DO)return jv;DO=1;var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(n,i){return r[i]}):t}return jv=e,jv}var LO;function VQ(){if(LO)return sc.exports;LO=1;var r=WQ(),e=Lx().Stream,t="    ";function n(h,d){typeof d!="object"&&(d={indent:d});var m=d.stream?new e:null,g="",y=!1,b=d.indent?d.indent===!0?t:d.indent:"",w=!0;function E(_){w?ut.nextTick(_):_()}function x(_,H){if(H!==void 0&&(g+=H),_&&!y&&(m=m||new e,y=!0),_&&y){var M=g;E(function(){m.emit("data",M)}),g=""}}function k(_,H){u(x,l(_,b,b?1:0),H)}function O(){if(m){var _=g;E(function(){m.emit("data",_),m.emit("end"),m.readable=!1,m.emit("close")})}}function T(_){var H=_.encoding||"UTF-8",M={version:"1.0",encoding:H};_.standalone&&(M.standalone=_.standalone),k({"?xml":{_attr:M}}),g=g.replace("/>","?>")}return E(function(){w=!1}),d.declaration&&T(d.declaration),h&&h.forEach?h.forEach(function(_,H){var M;H+1===h.length&&(M=O),k(_,M)}):k(h,O),m?(m.readable=!0,m):g}function i(){var h=Array.prototype.slice.call(arguments),d={_elem:l(h)};return d.push=function(m){if(!this.append)throw new Error("not assigned to a parent!");var g=this,y=this._elem.indent;u(this.append,l(m,y,this._elem.icount+(y?1:0)),function(){g.append(!0)})},d.close=function(m){m!==void 0&&this.push(m),this.end&&this.end()},d}function s(h,d){return new Array(d||0).join(h||"")}function l(h,d,m){m=m||0;var g=s(d,m),y,b=h,w=!1;if(typeof h=="object"){var E=Object.keys(h);if(y=E[0],b=h[y],b&&b._elem)return b._elem.name=y,b._elem.icount=m,b._elem.indent=d,b._elem.indents=g,b._elem.interrupt=b,b._elem}var x=[],k=[],O;function T(_){var H=Object.keys(_);H.forEach(function(M){x.push(c(M,_[M]))})}switch(typeof b){case"object":if(b===null)break;b._attr&&T(b._attr),b._cdata&&k.push(("<![CDATA["+b._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),b.forEach&&(O=!1,k.push(""),b.forEach(function(_){if(typeof _=="object"){var H=Object.keys(_)[0];H=="_attr"?T(_._attr):k.push(l(_,d,m+1))}else k.pop(),O=!0,k.push(r(_))}),O||k.push(""));break;default:k.push(r(b))}return{name:y,interrupt:w,attributes:x,content:k,icount:m,indents:g,indent:d}}function u(h,d,m){if(typeof d!="object")return h(!1,d);var g=d.interrupt?1:d.content.length;function y(){for(;d.content.length;){var w=d.content.shift();if(w!==void 0){if(b(w))return;u(h,w)}}h(!1,(g>1?d.indents:"")+(d.name?"</"+d.name+">":"")+(d.indent&&!m?`
`:"")),m&&m()}function b(w){return w.interrupt?(w.interrupt.append=h,w.interrupt.end=y,w.interrupt=!1,h(!0),!0):!1}if(h(!1,d.indents+(d.name?"<"+d.name:"")+(d.attributes.length?" "+d.attributes.join(" "):"")+(g?d.name?">":"":d.name?"/>":"")+(d.indent&&g>1?`
`:"")),!g)return h(!1,d.indent?`
`:"");b(d)||y()}function c(h,d){return h+'="'+r(d)+'"'}return sc.exports=n,sc.exports.element=sc.exports.Element=i,sc.exports}var $Q=VQ();const ar=b5($Q),ac=0,Pv=32,GQ=32,QQ=(r,e)=>{const t=e.replace(/-/g,"");if(t.length!==GQ)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=t.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));i.reverse();const l=r.slice(ac,Pv).map((c,h)=>c^i[h%i.length]),u=new Uint8Array(ac+l.length+Math.max(0,r.length-Pv));return u.set(r.slice(0,ac)),u.set(l,ac),u.set(r.slice(Pv),ac+l.length),u};class XQ{format(e,t={stack:[]}){const n=e.prepForXml(t);if(n)return n;throw Error("XMLComponent did not format correctly")}}class YQ{replace(e,t,n){let i=e;return t.forEach((s,l)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+l).toString())}),i}getMediaData(e,t){return t.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class KQ{replace(e,t){let n=e;for(const i of t)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class ZQ{constructor(){Re(this,"formatter"),Re(this,"imageReplacer"),Re(this,"numberingReplacer"),this.formatter=new XQ,this.imageReplacer=new YQ,this.numberingReplacer=new KQ}compile(e,t,n=[]){const i=new qQ,s=this.xmlifyFile(e,t),l=new Map(Object.entries(s));for(const[,u]of l)if(Array.isArray(u))for(const c of u)i.file(c.path,c.data);else i.file(u.path,u.data);for(const u of n)i.file(u.path,u.data);for(const u of e.Media.Array)u.type!=="svg"?i.file(`word/media/${u.fileName}`,u.data):(i.file(`word/media/${u.fileName}`,u.data),i.file(`word/media/${u.fallback.fileName}`,u.fallback.data));for(const{data:u,name:c,fontKey:h}of e.FontTable.fontOptionsWithKey){const[d]=c.split(".");i.file(`word/fonts/${d}.odttf`,QQ(u,h))}return i}xmlifyFile(e,t){const n=e.Document.Relationships.RelationshipCount+1,i=ar(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,l=ar(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),u=this.imageReplacer.getMediaData(i,e.Media),c=this.imageReplacer.getMediaData(l,e.Media);return{Relationships:{data:(u.forEach((h,d)=>{e.Document.Relationships.createRelationship(n+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),ar(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const h=this.imageReplacer.replace(i,u,n);return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const h=ar(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:ar(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:ar(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:ar(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((h,d)=>{const m=ar(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,e.Media).forEach((y,b)=>{h.Relationships.createRelationship(b,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:ar(this.formatter.format(h.Relationships,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${d+1}.xml.rels`}}),FooterRelationships:e.Footers.map((h,d)=>{const m=ar(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,e.Media).forEach((y,b)=>{h.Relationships.createRelationship(b,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:ar(this.formatter.format(h.Relationships,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${d+1}.xml.rels`}}),Headers:e.Headers.map((h,d)=>{const m=ar(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(m,e.Media),y=this.imageReplacer.replace(m,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${d+1}.xml`}}),Footers:e.Footers.map((h,d)=>{const m=ar(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(m,e.Media),y=this.imageReplacer.replace(m,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${d+1}.xml`}}),ContentTypes:{data:ar(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:ar(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:ar(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:ar(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:ar(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:ar(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const h=this.imageReplacer.replace(l,c,s);return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(c.forEach((h,d)=>{e.Comments.Relationships.createRelationship(s+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),ar(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:ar(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:ar(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const JQ={WITH_2_BLANKS:"  "},BO=r=>r===!0?JQ.WITH_2_BLANKS:r===!1?void 0:r,u6=class mo{static pack(e,t,n){return dW(this,arguments,function*(i,s,l,u=[]){return this.compiler.compile(i,BO(l),u).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,n=[]){return mo.pack(e,"string",t,n)}static toBuffer(e,t,n=[]){return mo.pack(e,"nodebuffer",t,n)}static toBase64String(e,t,n=[]){return mo.pack(e,"base64",t,n)}static toBlob(e,t,n=[]){return mo.pack(e,"blob",t,n)}static toArrayBuffer(e,t,n=[]){return mo.pack(e,"arraybuffer",t,n)}static toStream(e,t,n=[]){const i=new IQ.Stream;return this.compiler.compile(e,BO(t),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(l=>{i.emit("data",l),i.emit("end")}),i}};Re(u6,"compiler",new ZQ);let eX=u6;class tX{data;constructor(e){this.data=eu.load(e)}async generateDocx(){const e=this.buildDocument();return await eX.toBlob(e)}buildDocument(){const e=this.data,t=e.||"",n=[];n.push(new Vt({text:`${t} `,heading:xO.TITLE,alignment:Qr.CENTER})),n.push(this.createHeaderTable()),n.push(this.createHeading("")),n.push(new Vt({children:[new ko({text:e.||"",bold:!0}),new ko({text:e.?`${e.}`:""})]}));const i=this.createListSection("",e.);i&&n.push(...i);const s=e.||e.||[],l=this.createListSection("",Array.isArray(s)?s:[]);l&&n.push(...l);const u=this.createMaterialsSection();u&&n.push(...u);const c=this.createFlowSection();c&&n.push(...c);const h=this.createEvaluationSection();h&&n.push(...h),e.&&(n.push(this.createHeading("")),n.push(new Vt({text:e.})));const d=this.createListSection("",e.);d&&n.push(...d);const m=this.createListSection("",e.);return m&&n.push(...m),new FQ({sections:[{properties:{},children:n}]})}createHeading(e){return new Vt({text:e,heading:xO.HEADING_1,spacing:{before:200,after:100}})}createHeaderTable(){const e=this.data,t=[["",e.||""],["",e.||""],["",e.||""],["",e.||""],["",e.||""]];return new TO({width:{size:100,type:nl.PERCENTAGE},rows:t.map(([n,i])=>new Lv({children:[new Ci({width:{size:20,type:nl.PERCENTAGE},shading:{type:ld.SOLID,color:"F5F5F5"},children:[new Vt({text:n})]}),new Ci({width:{size:80,type:nl.PERCENTAGE},children:[new Vt({text:i})]})]}))})}createListSection(e,t){if(!t||!Array.isArray(t)||t.length===0)return null;const n=[this.createHeading(e)];return t.filter(i=>i).forEach(i=>{n.push(new Vt({text:` ${i}`,spacing:{before:50}}))}),n}createMaterialsSection(){const e=this.data.;if(!e)return null;const t=Array.isArray(e.)?e.:[],n=Array.isArray(e.)?e.:[];if(t.length===0&&n.length===0)return null;const i=[this.createHeading("")];return t.length>0&&(i.push(new Vt({text:"",spacing:{before:100}})),t.filter(s=>s).forEach(s=>{i.push(new Vt({text:` ${s}`}))})),n.length>0&&(i.push(new Vt({text:"",spacing:{before:100}})),n.filter(s=>s).forEach(s=>{i.push(new Vt({text:` ${s}`}))})),i}createFlowSection(){const e=this.data.||this.data.||{};if(Object.keys(e).length===0)return null;const t=[this.createHeading("")],n=new Lv({children:[new Ci({shading:{type:ld.SOLID,color:"E8E8E8"},children:[new Vt({text:"",alignment:Qr.CENTER})]}),new Ci({shading:{type:ld.SOLID,color:"E8E8E8"},children:[new Vt({text:"",alignment:Qr.CENTER})]}),new Ci({shading:{type:ld.SOLID,color:"E8E8E8"},children:[new Vt({text:"",alignment:Qr.CENTER})]})]}),i=Object.entries(e).map(([s,l])=>{if(!l)return null;const u=l.||"",c=Array.isArray(l.)?l.:[],h=Array.isArray(l.)?l.:[],d=Array.isArray(l.)?l.:[],m=[];c.filter(y=>y).forEach(y=>{m.push(new Vt({text:` ${y}`}))}),h.filter(y=>y).forEach(y=>{m.push(new Vt({text:` ${y}`}))});const g=d.filter(y=>y).map(y=>new Vt({text:` ${y}`}));return new Lv({children:[new Ci({children:[new Vt({text:`${s}
(${u})`,alignment:Qr.CENTER})]}),new Ci({children:m.length>0?m:[new Vt({text:""})]}),new Ci({children:g.length>0?g:[new Vt({text:""})]})]})}).filter(s=>s!==null);return t.push(new TO({width:{size:100,type:nl.PERCENTAGE},borders:{top:{style:ds.SINGLE,size:1},bottom:{style:ds.SINGLE,size:1},left:{style:ds.SINGLE,size:1},right:{style:ds.SINGLE,size:1},insideHorizontal:{style:ds.SINGLE,size:1},insideVertical:{style:ds.SINGLE,size:1}},rows:[n,...i]})),t}createEvaluationSection(){const e=this.data.||this.data.;if(!e)return null;const t=[this.createHeading("")];return typeof e=="object"&&!Array.isArray(e)?Object.entries(e).forEach(([n,i])=>{t.push(new Vt({children:[new ko({text:`${n}`,bold:!0}),new ko({text:String(i)})],spacing:{before:50}}))}):Array.isArray(e)&&e.filter(n=>n).forEach(n=>{t.push(new Vt({text:` ${String(n)}`,spacing:{before:50}}))}),t}}async function rX(r){return await new tX(r).generateDocx()}async function nX(r){try{return{html:nW(r),success:!0}}catch(e){return{html:"",success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function iX(r){try{return{html:sW(r),success:!0}}catch(e){return{html:"",success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function sX(r){try{return{html:lW(r),success:!0}}catch(e){return{html:"",success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function aX(r){try{return{blob:await rX(r),success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function Hx(){return!0}function qx({hasChanges:r,message:e=""}){const t=t8(({currentLocation:n,nextLocation:i})=>r&&n.pathname!==i.pathname);return fe.useEffect(()=>{const n=i=>{if(r)return i.preventDefault(),i.returnValue=e,e};return window.addEventListener("beforeunload",n),()=>window.removeEventListener("beforeunload",n)},[r,e]),t}function Wx({blocker:r,onSave:e}){if(r.state!=="blocked")return null;const t=()=>{e&&e(),r.proceed()};return z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:z.jsxs("div",{className:"bg-[var(--color-surface)] rounded-2xl shadow-2xl w-[400px] p-6",children:[z.jsx("h2",{className:"text-lg font-semibold mb-3",children:" "}),z.jsx("p",{className:"text-[var(--color-text-muted)] mb-6",children:""}),z.jsxs("div",{className:"flex justify-end gap-3",children:[z.jsx("button",{onClick:()=>r.reset(),className:"px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors",children:""}),e&&z.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:""}),z.jsx("button",{onClick:()=>r.proceed(),className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors",children:""})]})]})})}const hd=`: ""
: ""
: ""
: 50
: 100
: ""

:
  - ""

:
  - : 1
    : ""
    : true
    : 25
    :
      - : "(1)"
        : ""
        : 10
        : ""
        : ""
`;function zO(){const[r]=gb(),e=r.get("filename"),[t,n]=fe.useState(hd),[i,s]=fe.useState(""),[l,u]=fe.useState(!1),[c,h]=fe.useState(null),[d,m]=fe.useState(null),[g,y]=fe.useState(e||".yaml"),[b,w]=fe.useState(!1),[E,x]=fe.useState("form"),k=fe.useRef(hd),O=t!==k.current,T=qx({hasChanges:O});fe.useEffect(()=>{Hx().then(m)},[]);const _=fe.useCallback(async()=>{if(!t.trim())return;u(!0),h(null);const re=await nX(t);re.success?s(re.html):h(re.error||""),u(!1)},[t]);fe.useEffect(()=>{const re=setTimeout(()=>{d&&_()},1e3);return()=>clearTimeout(re)},[t,d,_]);const H=()=>{kb(t,g),hl({filename:g,type:"exam",lastOpened:new Date().toISOString()}),k.current=t,w(!0),setTimeout(()=>w(!1),2e3)},M=async()=>{const re=await Sp();re&&(n(re.content),y(re.filename),hl({filename:re.filename,type:"exam",lastOpened:new Date().toISOString()}))},Q=()=>{i&&Ab(i,g.replace(".yaml",""))},P=()=>{i&&Eb(i,g.replace(".yaml",".html"))};return z.jsxs("div",{className:"h-full flex flex-col",children:[z.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--color-border)] bg-[var(--color-surface)]",children:[z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsx(vl,{to:"/",className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] transition-colors",children:z.jsx(xp,{size:20})}),z.jsx(yx,{value:g,onChange:y,label:" "}),z.jsx("div",{className:"flex items-center gap-2 ml-4",children:d===null?z.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:"..."}):d?z.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-400",children:[z.jsx(Lo,{size:14}),"API"]}):z.jsxs("span",{className:"flex items-center gap-1 text-xs text-red-400",children:[z.jsx(fl,{size:14}),"API"]})})]}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors",children:[z.jsx(wp,{size:18}),z.jsx("span",{children:""})]}),z.jsxs("button",{onClick:_,disabled:l,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[z.jsx(xb,{size:18,className:l?"animate-spin":""}),z.jsx("span",{children:""})]}),z.jsxs("button",{onClick:H,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${b?"bg-green-500/20 text-green-400":"bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]"}`,children:[b?z.jsx(Lo,{size:18}):z.jsx(wb,{size:18}),z.jsx("span",{children:b?"":""})]}),z.jsxs("button",{onClick:Q,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[z.jsx(bb,{size:18}),z.jsx("span",{children:""})]}),z.jsxs("button",{onClick:P,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-primary)] hover:bg-[var(--color-primary-dark)] text-white transition-colors disabled:opacity-50",children:[z.jsx(yb,{size:18}),z.jsx("span",{children:"HTML"})]})]})]}),c&&z.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 bg-red-500/10 border-b border-red-500/20 text-red-400",children:[z.jsx(fl,{size:18}),z.jsx("span",{children:c})]}),z.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[z.jsxs("div",{className:"w-1/2 flex flex-col border-r border-[var(--color-border)] overflow-hidden",children:[z.jsxs("div",{className:"flex border-b border-[var(--color-border)]",children:[z.jsxs("button",{onClick:()=>x("yaml"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${E==="yaml"?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)]"}`,children:[z.jsx(y_,{size:16}),"YAML"]}),z.jsxs("button",{onClick:()=>x("form"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${E==="form"?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)]"}`,children:[z.jsx(v_,{size:16}),""]})]}),E==="yaml"?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"p-4 border-b border-[var(--color-border)]",children:z.jsx(bx,{type:"exam"})}),z.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:z.jsx(gx,{value:t,onChange:n,placeholder:"CopilotYAML"})})]}):z.jsx(pq,{onYamlChange:n,yamlValue:t})]}),z.jsx("div",{className:"w-1/2 p-4 bg-gray-800",children:z.jsx(vx,{html:i,loading:l})})]}),z.jsx(Wx,{blocker:T,onSave:H})]})}const jO=`: ""
: ""
: true

:
  - : 1
    : ""
    : 10
    : 8
    : ""
    : ""
`;function PO(){const[r]=gb(),e=r.get("filename"),[t,n]=fe.useState(jO),[i,s]=fe.useState(""),[l,u]=fe.useState(!1),[c,h]=fe.useState(null),[d,m]=fe.useState(null),[g,y]=fe.useState(e||".yaml"),[b,w]=fe.useState(!1),[E,x]=fe.useState("form"),k=fe.useRef(jO),O=t!==k.current,T=qx({hasChanges:O});fe.useEffect(()=>{Hx().then(m)},[]);const _=fe.useCallback(async()=>{if(!t.trim())return;u(!0),h(null);const re=await iX(t);re.success?s(re.html):h(re.error||""),u(!1)},[t]);fe.useEffect(()=>{const re=setTimeout(()=>{d&&_()},1e3);return()=>clearTimeout(re)},[t,d,_]);const H=()=>{kb(t,g),hl({filename:g,type:"worksheet",lastOpened:new Date().toISOString()}),k.current=t,w(!0),setTimeout(()=>w(!1),2e3)},M=async()=>{const re=await Sp();re&&(n(re.content),y(re.filename),hl({filename:re.filename,type:"worksheet",lastOpened:new Date().toISOString()}))},Q=()=>{i&&Ab(i,g.replace(".yaml",""))},P=()=>{i&&Eb(i,g.replace(".yaml",".html"))};return z.jsxs("div",{className:"h-full flex flex-col",children:[z.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--color-border)] bg-[var(--color-surface)]",children:[z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsx(vl,{to:"/",className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] transition-colors",children:z.jsx(xp,{size:20})}),z.jsx(yx,{value:g,onChange:y,label:" "}),z.jsx("div",{className:"flex items-center gap-2 ml-4",children:d===null?z.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:"..."}):d?z.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-400",children:[z.jsx(Lo,{size:14}),"API"]}):z.jsxs("span",{className:"flex items-center gap-1 text-xs text-red-400",children:[z.jsx(fl,{size:14}),"API"]})})]}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors",children:[z.jsx(wp,{size:18}),z.jsx("span",{children:""})]}),z.jsxs("button",{onClick:_,disabled:l,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[z.jsx(xb,{size:18,className:l?"animate-spin":""}),z.jsx("span",{children:""})]}),z.jsxs("button",{onClick:H,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${b?"bg-green-500/20 text-green-400":"bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]"}`,children:[b?z.jsx(Lo,{size:18}):z.jsx(wb,{size:18}),z.jsx("span",{children:b?"":""})]}),z.jsxs("button",{onClick:Q,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[z.jsx(bb,{size:18}),z.jsx("span",{children:""})]}),z.jsxs("button",{onClick:P,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-primary)] hover:bg-[var(--color-primary-dark)] text-white transition-colors disabled:opacity-50",children:[z.jsx(yb,{size:18}),z.jsx("span",{children:"HTML"})]})]})]}),c&&z.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 bg-red-500/10 border-b border-red-500/20 text-red-400",children:[z.jsx(fl,{size:18}),z.jsx("span",{children:c})]}),z.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[z.jsxs("div",{className:"w-1/2 flex flex-col border-r border-[var(--color-border)] overflow-hidden",children:[z.jsxs("div",{className:"flex border-b border-[var(--color-border)]",children:[z.jsxs("button",{onClick:()=>x("yaml"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${E==="yaml"?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)]"}`,children:[z.jsx(y_,{size:16}),"YAML"]}),z.jsxs("button",{onClick:()=>x("form"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${E==="form"?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)]"}`,children:[z.jsx(v_,{size:16}),""]})]}),E==="yaml"?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"p-4 border-b border-[var(--color-border)]",children:z.jsx(bx,{type:"worksheet"})}),z.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:z.jsx(gx,{value:t,onChange:n,placeholder:"CopilotYAML"})})]}):z.jsx(mq,{onYamlChange:n})]}),z.jsx("div",{className:"w-1/2 p-4 bg-gray-800",children:z.jsx(vx,{html:i,loading:l})})]}),z.jsx(Wx,{blocker:T,onSave:H})]})}const FO=`: ""
: ""
: ""
: ""
: ""
: ""
: ""

: ""
: ""

:
  - ""

:
  :
    : 10
    :
      - ""
    :
      - ""
    :
      - ""

  :
    : 30
    :
      - ""
    :
      - ""
    :
      - ""

  :
    : 10
    :
      - ""
    :
      - ""
    :
      - ""

:
  - ""
`;function IO(){const[r]=gb(),e=r.get("filename"),[t,n]=fe.useState(FO),[i,s]=fe.useState(""),[l,u]=fe.useState(!1),[c,h]=fe.useState(null),[d,m]=fe.useState(null),[g,y]=fe.useState(e||".yaml"),[b,w]=fe.useState(!1),E=fe.useRef(FO),x=t!==E.current,k=qx({hasChanges:x});fe.useEffect(()=>{Hx().then(m)},[]);const O=fe.useCallback(async()=>{if(!t.trim())return;u(!0),h(null);const P=await sX(t);P.success?s(P.html):h(P.error||""),u(!1)},[t]);fe.useEffect(()=>{const P=setTimeout(()=>{d&&O()},1e3);return()=>clearTimeout(P)},[t,d,O]);const T=()=>{kb(t,g),hl({filename:g,type:"lesson-plan",lastOpened:new Date().toISOString()}),E.current=t,w(!0),setTimeout(()=>w(!1),2e3)},_=async()=>{const P=await Sp();P&&(n(P.content),y(P.filename),hl({filename:P.filename,type:"lesson-plan",lastOpened:new Date().toISOString()}))},H=()=>{i&&Ab(i,g.replace(".yaml",""))},M=()=>{i&&Eb(i,g.replace(".yaml",".html"))},Q=async()=>{u(!0),h(null);const P=await aX(t);if(P.success&&P.blob){const re=URL.createObjectURL(P.blob),pe=document.createElement("a");pe.href=re,pe.download=g.replace(".yaml",".docx"),document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(re)}else h(P.error||"Word");u(!1)};return z.jsxs("div",{className:"h-full flex flex-col",children:[z.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--color-border)] bg-[var(--color-surface)]",children:[z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsx(vl,{to:"/",className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] transition-colors",children:z.jsx(xp,{size:20})}),z.jsx(yx,{value:g,onChange:y,label:" "}),z.jsx("div",{className:"flex items-center gap-2 ml-4",children:d===null?z.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:"..."}):d?z.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-400",children:[z.jsx(Lo,{size:14}),"API"]}):z.jsxs("span",{className:"flex items-center gap-1 text-xs text-red-400",children:[z.jsx(fl,{size:14}),"API"]})})]}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors",children:[z.jsx(wp,{size:18}),z.jsx("span",{children:""})]}),z.jsxs("button",{onClick:O,disabled:l,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[z.jsx(xb,{size:18,className:l?"animate-spin":""}),z.jsx("span",{children:""})]}),z.jsxs("button",{onClick:T,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${b?"bg-green-500/20 text-green-400":"bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]"}`,children:[b?z.jsx(Lo,{size:18}):z.jsx(wb,{size:18}),z.jsx("span",{children:b?"":""})]}),z.jsxs("button",{onClick:H,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[z.jsx(bb,{size:18}),z.jsx("span",{children:""})]}),z.jsxs("button",{onClick:Q,disabled:l,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors disabled:opacity-50",children:[z.jsx(vb,{size:18}),z.jsx("span",{children:"Word"})]}),z.jsxs("button",{onClick:M,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-primary)] hover:bg-[var(--color-primary-dark)] text-white transition-colors disabled:opacity-50",children:[z.jsx(yb,{size:18}),z.jsx("span",{children:"HTML"})]})]})]}),c&&z.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 bg-red-500/10 border-b border-red-500/20 text-red-400",children:[z.jsx(fl,{size:18}),z.jsx("span",{children:c})]}),z.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[z.jsxs("div",{className:"w-1/2 flex flex-col border-r border-[var(--color-border)] overflow-hidden",children:[z.jsx("div",{className:"p-4 border-b border-[var(--color-border)]",children:z.jsx(bx,{type:"lesson-plan"})}),z.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:z.jsx(gx,{value:t,onChange:n,placeholder:"CopilotYAML"})})]}),z.jsx("div",{className:"w-1/2 p-4 bg-gray-800",children:z.jsx(vx,{html:i,loading:l})})]}),z.jsx(Wx,{blocker:k,onSave:T})]})}function lX(){const[r,e]=fe.useState("dark"),[t,n]=fe.useState(""),i=s=>{e(s)};return z.jsxs("div",{className:"h-full flex flex-col",children:[z.jsxs("header",{className:"flex items-center gap-4 px-6 py-4 border-b border-[var(--color-border)] bg-[var(--color-surface)]",children:[z.jsx(vl,{to:"/",className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] transition-colors",children:z.jsx(xp,{size:20})}),z.jsx("h1",{className:"font-semibold text-lg",children:" "})]}),z.jsxs("div",{className:"flex-1 p-8 max-w-2xl mx-auto w-full overflow-y-auto",children:[z.jsxs("section",{className:"mb-8",children:[z.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[z.jsx(zL,{size:20}),""]}),z.jsx("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4",children:z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsx("p",{className:"font-medium",children:""}),z.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:""})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsxs("button",{onClick:()=>i("dark"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r==="dark"?"bg-[var(--color-primary)] text-white":"bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]"}`,children:[z.jsx(LL,{size:16}),""]}),z.jsxs("button",{onClick:()=>i("light"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r==="light"?"bg-[var(--color-primary)] text-white":"bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]"}`,children:[z.jsx(GL,{size:16}),""]})]})]})})]}),z.jsxs("section",{className:"mb-8",children:[z.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[z.jsx(SL,{size:20}),""]}),z.jsx("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4 space-y-4",children:z.jsxs("div",{children:[z.jsx("label",{className:"block font-medium mb-2",children:""}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),placeholder:"...",className:"flex-1 px-4 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:outline-none focus:border-[var(--color-primary)]"}),z.jsx("button",{className:"px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors",children:""})]}),z.jsx("p",{className:"text-sm text-[var(--color-text-muted)] mt-2",children:" "})]})})]}),z.jsxs("section",{children:[z.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[z.jsx(OL,{size:20}),""]}),z.jsx("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4",children:z.jsxs("div",{className:"space-y-2 text-sm",children:[z.jsxs("div",{className:"flex justify-between",children:[z.jsx("span",{className:"text-[var(--color-text-muted)]",children:""}),z.jsx("span",{children:"1.0.0"})]}),z.jsxs("div",{className:"flex justify-between",children:[z.jsx("span",{className:"text-[var(--color-text-muted)]",children:""}),z.jsx("span",{children:"React + Tauri + FastAPI"})]}),z.jsxs("div",{className:"flex justify-between",children:[z.jsx("span",{className:"text-[var(--color-text-muted)]",children:"OS"}),z.jsx("span",{children:"Windows / macOS"})]})]})})]})]})]})}const oX=j8([{path:"/",element:z.jsx(nB,{}),children:[{index:!0,element:z.jsx(sB,{})},{path:"exam",children:[{index:!0,element:z.jsx(zO,{})},{path:"new",element:z.jsx(zO,{})}]},{path:"worksheet",children:[{index:!0,element:z.jsx(PO,{})},{path:"new",element:z.jsx(PO,{})}]},{path:"lesson-plan",children:[{index:!0,element:z.jsx(IO,{})},{path:"new",element:z.jsx(IO,{})}]},{path:"settings",element:z.jsx(lX,{})}]}]);function uX(){return z.jsx(X8,{router:oX})}ON.createRoot(document.getElementById("root")).render(z.jsx(fe.StrictMode,{children:z.jsx(uX,{})}));
