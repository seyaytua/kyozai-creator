function xM(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function wM(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var u0={exports:{}},Qc={};var Mk;function SM(){if(Mk)return Qc;Mk=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:r,type:n,key:l,ref:i!==void 0?i:null,props:s}}return Qc.Fragment=e,Qc.jsx=t,Qc.jsxs=t,Qc}var Dk;function kM(){return Dk||(Dk=1,u0.exports=SM()),u0.exports}var N=kM(),h0={exports:{}},st={};var Lk;function AM(){if(Lk)return st;Lk=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,O={};function S(q,I,K){this.props=q,this.context=I,this.refs=O,this.updater=K||b}S.prototype.isReactComponent={},S.prototype.setState=function(q,I){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,I,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=S.prototype;function E(q,I,K){this.props=q,this.context=I,this.refs=O,this.updater=K||b}var A=E.prototype=new k;A.constructor=E,w(A,S.prototype),A.isPureReactComponent=!0;var _=Array.isArray;function U(){}var M={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function P(q,I,K){var se=K.ref;return{$$typeof:r,type:q,key:I,ref:se!==void 0?se:null,props:K}}function re(q,I){return P(q.type,I,q.props)}function pe(q){return typeof q=="object"&&q!==null&&q.$$typeof===r}function H(q){var I={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(K){return I[K]})}var Y=/\/+/g;function R(q,I){return typeof q=="object"&&q!==null&&q.key!=null?H(""+q.key):I.toString(36)}function ee(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(U,U):(q.status="pending",q.then(function(I){q.status==="pending"&&(q.status="fulfilled",q.value=I)},function(I){q.status==="pending"&&(q.status="rejected",q.reason=I)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function X(q,I,K,se,fe){var ie=typeof q;(ie==="undefined"||ie==="boolean")&&(q=null);var z=!1;if(q===null)z=!0;else switch(ie){case"bigint":case"string":case"number":z=!0;break;case"object":switch(q.$$typeof){case r:case e:z=!0;break;case d:return z=q._init,X(z(q._payload),I,K,se,fe)}}if(z)return fe=fe(q),z=se===""?"."+R(q,0):se,_(fe)?(K="",z!=null&&(K=z.replace(Y,"$&/")+"/"),X(fe,I,K,"",function(J){return J})):fe!=null&&(pe(fe)&&(fe=re(fe,K+(fe.key==null||q&&q.key===fe.key?"":(""+fe.key).replace(Y,"$&/")+"/")+z)),I.push(fe)),1;z=0;var B=se===""?".":se+":";if(_(q))for(var te=0;te<q.length;te++)se=q[te],ie=B+R(se,te),z+=X(se,I,K,ie,fe);else if(te=y(q),typeof te=="function")for(q=te.call(q),te=0;!(se=q.next()).done;)se=se.value,ie=B+R(se,te++),z+=X(se,I,K,ie,fe);else if(ie==="object"){if(typeof q.then=="function")return X(ee(q),I,K,se,fe);throw I=String(q),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return z}function G(q,I,K){if(q==null)return q;var se=[],fe=0;return X(q,se,"","",function(ie){return I.call(K,ie,fe++)}),se}function ue(q){if(q._status===-1){var I=q._result;I=I(),I.then(function(K){(q._status===0||q._status===-1)&&(q._status=1,q._result=K)},function(K){(q._status===0||q._status===-1)&&(q._status=2,q._result=K)}),q._status===-1&&(q._status=0,q._result=I)}if(q._status===1)return q._result.default;throw q._result}var he=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ke={map:G,forEach:function(q,I,K){G(q,function(){I.apply(this,arguments)},K)},count:function(q){var I=0;return G(q,function(){I++}),I},toArray:function(q){return G(q,function(I){return I})||[]},only:function(q){if(!pe(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return st.Activity=m,st.Children=ke,st.Component=S,st.Fragment=t,st.Profiler=i,st.PureComponent=E,st.StrictMode=n,st.Suspense=u,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,st.__COMPILER_RUNTIME={__proto__:null,c:function(q){return M.H.useMemoCache(q)}},st.cache=function(q){return function(){return q.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(q,I,K){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var se=w({},q.props),fe=q.key;if(I!=null)for(ie in I.key!==void 0&&(fe=""+I.key),I)!Q.call(I,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&I.ref===void 0||(se[ie]=I[ie]);var ie=arguments.length-2;if(ie===1)se.children=K;else if(1<ie){for(var z=Array(ie),B=0;B<ie;B++)z[B]=arguments[B+2];se.children=z}return P(q.type,fe,se)},st.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},st.createElement=function(q,I,K){var se,fe={},ie=null;if(I!=null)for(se in I.key!==void 0&&(ie=""+I.key),I)Q.call(I,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(fe[se]=I[se]);var z=arguments.length-2;if(z===1)fe.children=K;else if(1<z){for(var B=Array(z),te=0;te<z;te++)B[te]=arguments[te+2];fe.children=B}if(q&&q.defaultProps)for(se in z=q.defaultProps,z)fe[se]===void 0&&(fe[se]=z[se]);return P(q,ie,fe)},st.createRef=function(){return{current:null}},st.forwardRef=function(q){return{$$typeof:c,render:q}},st.isValidElement=pe,st.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:ue}},st.memo=function(q,I){return{$$typeof:f,type:q,compare:I===void 0?null:I}},st.startTransition=function(q){var I=M.T,K={};M.T=K;try{var se=q(),fe=M.S;fe!==null&&fe(K,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(U,he)}catch(ie){he(ie)}finally{I!==null&&K.types!==null&&(I.types=K.types),M.T=I}},st.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},st.use=function(q){return M.H.use(q)},st.useActionState=function(q,I,K){return M.H.useActionState(q,I,K)},st.useCallback=function(q,I){return M.H.useCallback(q,I)},st.useContext=function(q){return M.H.useContext(q)},st.useDebugValue=function(){},st.useDeferredValue=function(q,I){return M.H.useDeferredValue(q,I)},st.useEffect=function(q,I){return M.H.useEffect(q,I)},st.useEffectEvent=function(q){return M.H.useEffectEvent(q)},st.useId=function(){return M.H.useId()},st.useImperativeHandle=function(q,I,K){return M.H.useImperativeHandle(q,I,K)},st.useInsertionEffect=function(q,I){return M.H.useInsertionEffect(q,I)},st.useLayoutEffect=function(q,I){return M.H.useLayoutEffect(q,I)},st.useMemo=function(q,I){return M.H.useMemo(q,I)},st.useOptimistic=function(q,I){return M.H.useOptimistic(q,I)},st.useReducer=function(q,I,K){return M.H.useReducer(q,I,K)},st.useRef=function(q){return M.H.useRef(q)},st.useState=function(q){return M.H.useState(q)},st.useSyncExternalStore=function(q,I,K){return M.H.useSyncExternalStore(q,I,K)},st.useTransition=function(){return M.H.useTransition()},st.version="19.2.3",st}var Bk;function ob(){return Bk||(Bk=1,h0.exports=AM()),h0.exports}var ce=ob();const EM=wM(ce),TM=xM({__proto__:null,default:EM},[ce]);var f0={exports:{}},Yc={},d0={exports:{}},p0={};var zk;function CM(){return zk||(zk=1,(function(r){function e(X,G){var ue=X.length;X.push(G);e:for(;0<ue;){var he=ue-1>>>1,ke=X[he];if(0<i(ke,G))X[he]=G,X[ue]=ke,ue=he;else break e}}function t(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var G=X[0],ue=X.pop();if(ue!==G){X[0]=ue;e:for(var he=0,ke=X.length,q=ke>>>1;he<q;){var I=2*(he+1)-1,K=X[I],se=I+1,fe=X[se];if(0>i(K,ue))se<ke&&0>i(fe,K)?(X[he]=fe,X[se]=ue,he=se):(X[he]=K,X[I]=ue,he=I);else if(se<ke&&0>i(fe,ue))X[he]=fe,X[se]=ue,he=se;else break e}}return G}function i(X,G){var ue=X.sortIndex-G.sortIndex;return ue!==0?ue:X.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var u=[],f=[],d=1,m=null,g=3,y=!1,b=!1,w=!1,O=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(X){for(var G=t(f);G!==null;){if(G.callback===null)n(f);else if(G.startTime<=X)n(f),G.sortIndex=G.expirationTime,e(u,G);else break;G=t(f)}}function _(X){if(w=!1,A(X),!b)if(t(u)!==null)b=!0,U||(U=!0,H());else{var G=t(f);G!==null&&ee(_,G.startTime-X)}}var U=!1,M=-1,Q=5,P=-1;function re(){return O?!0:!(r.unstable_now()-P<Q)}function pe(){if(O=!1,U){var X=r.unstable_now();P=X;var G=!0;try{e:{b=!1,w&&(w=!1,k(M),M=-1),y=!0;var ue=g;try{t:{for(A(X),m=t(u);m!==null&&!(m.expirationTime>X&&re());){var he=m.callback;if(typeof he=="function"){m.callback=null,g=m.priorityLevel;var ke=he(m.expirationTime<=X);if(X=r.unstable_now(),typeof ke=="function"){m.callback=ke,A(X),G=!0;break t}m===t(u)&&n(u),A(X)}else n(u);m=t(u)}if(m!==null)G=!0;else{var q=t(f);q!==null&&ee(_,q.startTime-X),G=!1}}break e}finally{m=null,g=ue,y=!1}G=void 0}}finally{G?H():U=!1}}}var H;if(typeof E=="function")H=function(){E(pe)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,R=Y.port2;Y.port1.onmessage=pe,H=function(){R.postMessage(null)}}else H=function(){S(pe,0)};function ee(X,G){M=S(function(){X(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(X){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var ue=g;g=G;try{return X()}finally{g=ue}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function(X,G){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=g;g=X;try{return G()}finally{g=ue}},r.unstable_scheduleCallback=function(X,G,ue){var he=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?he+ue:he):ue=he,X){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ue+ke,X={id:d++,callback:G,priorityLevel:X,startTime:ue,expirationTime:ke,sortIndex:-1},ue>he?(X.sortIndex=ue,e(f,X),t(u)===null&&X===t(f)&&(w?(k(M),M=-1):w=!0,ee(_,ue-he))):(X.sortIndex=ke,e(u,X),b||y||(b=!0,U||(U=!0,H()))),X},r.unstable_shouldYield=re,r.unstable_wrapCallback=function(X){var G=g;return function(){var ue=g;g=G;try{return X.apply(this,arguments)}finally{g=ue}}}})(p0)),p0}var jk;function OM(){return jk||(jk=1,d0.exports=CM()),d0.exports}var m0={exports:{}},Vr={};var Pk;function _M(){if(Pk)return Vr;Pk=1;var r=ob();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:f,implementation:d}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Vr.createPortal=function(u,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(u,f,null,d)},Vr.flushSync=function(u){var f=l.T,d=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=f,n.p=d,n.d.f()}},Vr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(u,f))},Vr.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Vr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var d=f.as,m=c(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?n.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):d==="script"&&n.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Vr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=c(f.as,f.crossOrigin);n.d.M(u,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(u)},Vr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=c(d,f.crossOrigin);n.d.L(u,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Vr.preloadModule=function(u,f){if(typeof u=="string")if(f){var d=c(f.as,f.crossOrigin);n.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(u)},Vr.requestFormReset=function(u){n.d.r(u)},Vr.unstable_batchedUpdates=function(u,f){return u(f)},Vr.useFormState=function(u,f,d){return l.H.useFormState(u,f,d)},Vr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Vr.version="19.2.3",Vr}var Fk;function HO(){if(Fk)return m0.exports;Fk=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),m0.exports=_M(),m0.exports}var Ik;function RM(){if(Ik)return Yc;Ik=1;var r=OM(),e=ob(),t=HO();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,h=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(h=o.return),a=o.return;while(a)}return o.tag===3?h:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(n(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var h=a,p=o;;){var v=h.return;if(v===null)break;var x=v.alternate;if(x===null){if(p=v.return,p!==null){h=p;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===h)return u(v),a;if(x===p)return u(v),o;x=x.sibling}throw Error(n(188))}if(h.return!==p.return)h=v,p=x;else{for(var j=!1,V=v.child;V;){if(V===h){j=!0,h=v,p=x;break}if(V===p){j=!0,p=v,h=x;break}V=V.sibling}if(!j){for(V=x.child;V;){if(V===h){j=!0,h=x,p=v;break}if(V===p){j=!0,p=x,h=v;break}V=V.sibling}if(!j)throw Error(n(189))}}if(h.alternate!==p)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=pe&&a[pe]||a["@@iterator"],typeof a=="function"?a:null)}var Y=Symbol.for("react.client.reference");function R(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Y?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case S:return"Profiler";case O:return"StrictMode";case _:return"Suspense";case U:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case E:return a.displayName||"Context";case k:return(a._context.displayName||"Context")+".Consumer";case A:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return o=a.displayName||null,o!==null?o:R(a.type)||"Memo";case Q:o=a._payload,a=a._init;try{return R(a(o))}catch{}}return null}var ee=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},he=[],ke=-1;function q(a){return{current:a}}function I(a){0>ke||(a.current=he[ke],he[ke]=null,ke--)}function K(a,o){ke++,he[ke]=a.current,a.current=o}var se=q(null),fe=q(null),ie=q(null),z=q(null);function B(a,o){switch(K(ie,o),K(fe,a),K(se,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?tk(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=tk(o),a=rk(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}I(se),K(se,a)}function te(){I(se),I(fe),I(ie)}function J(a){a.memoizedState!==null&&K(z,a);var o=se.current,h=rk(o,a.type);o!==h&&(K(fe,a),K(se,h))}function W(a){fe.current===a&&(I(se),I(fe)),z.current===a&&(I(z),Wc._currentValue=ue)}var $,ge;function D(a){if($===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||"",ge=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$+a+ge}var ve=!1;function F(a,o){if(!a||ve)return"";ve=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(Ae){var we=Ae}Reflect.construct(a,[],Ne)}else{try{Ne.call()}catch(Ae){we=Ae}a.call(Ne.prototype)}}else{try{throw Error()}catch(Ae){we=Ae}(Ne=a())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(Ae){if(Ae&&we&&typeof Ae.stack=="string")return[Ae.stack,we.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=p.DetermineComponentFrameRoot(),j=x[0],V=x[1];if(j&&V){var ae=j.split(`
`),xe=V.split(`
`);for(v=p=0;p<ae.length&&!ae[p].includes("DetermineComponentFrameRoot");)p++;for(;v<xe.length&&!xe[v].includes("DetermineComponentFrameRoot");)v++;if(p===ae.length||v===xe.length)for(p=ae.length-1,v=xe.length-1;1<=p&&0<=v&&ae[p]!==xe[v];)v--;for(;1<=p&&0<=v;p--,v--)if(ae[p]!==xe[v]){if(p!==1||v!==1)do if(p--,v--,0>v||ae[p]!==xe[v]){var Ce=`
`+ae[p].replace(" at new "," at ");return a.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",a.displayName)),Ce}while(1<=p&&0<=v);break}}}finally{ve=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?D(h):""}function T(a,o){switch(a.tag){case 26:case 27:case 5:return D(a.type);case 16:return D("Lazy");case 13:return a.child!==o&&o!==null?D("Suspense Fallback"):D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return F(a.type,!1);case 11:return F(a.type.render,!1);case 1:return F(a.type,!0);case 31:return D("Activity");default:return""}}function C(a){try{var o="",h=null;do o+=T(a,h),h=a,a=a.return;while(a);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var L=Object.prototype.hasOwnProperty,Z=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,ne=r.unstable_shouldYield,Ee=r.unstable_requestPaint,Te=r.unstable_now,Oe=r.unstable_getCurrentPriorityLevel,je=r.unstable_ImmediatePriority,Ve=r.unstable_UserBlockingPriority,Qe=r.unstable_NormalPriority,Wt=r.unstable_LowPriority,an=r.unstable_IdlePriority,ln=r.log,si=r.unstable_setDisableYieldValue,Lt=null,Pt=null;function Kr(a){if(typeof ln=="function"&&si(a),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Lt,a)}catch{}}var Xt=Math.clz32?Math.clz32:Tl,Ea=Math.log,sc=Math.LN2;function Tl(a){return a>>>=0,a===0?32:31-(Ea(a)/sc|0)|0}var ai=256,wi=262144,on=4194304;function cn(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ta(a,o,h){var p=a.pendingLanes;if(p===0)return 0;var v=0,x=a.suspendedLanes,j=a.pingedLanes;a=a.warmLanes;var V=p&134217727;return V!==0?(p=V&~x,p!==0?v=cn(p):(j&=V,j!==0?v=cn(j):h||(h=V&~a,h!==0&&(v=cn(h))))):(V=p&~x,V!==0?v=cn(V):j!==0?v=cn(j):h||(h=p&~a,h!==0&&(v=cn(h)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,h=o&-o,x>=h||x===32&&(h&4194048)!==0)?o:v}function Ca(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function vh(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oa(){var a=on;return on<<=1,(on&62914560)===0&&(on=4194304),a}function Ns(a){for(var o=[],h=0;31>h;h++)o.push(a);return o}function Ms(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function tm(a,o,h,p,v,x){var j=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var V=a.entanglements,ae=a.expirationTimes,xe=a.hiddenUpdates;for(h=j&~h;0<h;){var Ce=31-Xt(h),Ne=1<<Ce;V[Ce]=0,ae[Ce]=-1;var we=xe[Ce];if(we!==null)for(xe[Ce]=null,Ce=0;Ce<we.length;Ce++){var Ae=we[Ce];Ae!==null&&(Ae.lane&=-536870913)}h&=~Ne}p!==0&&bh(a,p,0),x!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=x&~(j&~o))}function bh(a,o,h){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-Xt(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|h&261930}function le(a,o){var h=a.entangledLanes|=o;for(a=a.entanglements;h;){var p=31-Xt(h),v=1<<p;v&o|a[p]&o&&(a[p]|=o),h&=~v}}function ye(a,o){var h=o&-o;return h=(h&42)!==0?1:Se(h),(h&(a.suspendedLanes|o))!==0?0:h}function Se(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Be(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Pe(){var a=G.p;return a!==0?a:(a=window.event,a===void 0?32:Ek(a.type))}function Ke(a,o){var h=G.p;try{return G.p=a,o()}finally{G.p=h}}var $e=Math.random().toString(36).slice(2),Ie="__reactFiber$"+$e,Ue="__reactProps$"+$e,Xe="__reactContainer$"+$e,Ze="__reactEvents$"+$e,Je="__reactListeners$"+$e,xt="__reactHandles$"+$e,Bt="__reactResources$"+$e,Zt="__reactMarker$"+$e;function ir(a){delete a[Ie],delete a[Ue],delete a[Ze],delete a[Je],delete a[xt]}function At(a){var o=a[Ie];if(o)return o;for(var h=a.parentNode;h;){if(o=h[Xe]||h[Ie]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(a=ck(a);a!==null;){if(h=a[Ie])return h;a=ck(a)}return o}a=h,h=a.parentNode}return null}function Et(a){if(a=a[Ie]||a[Xe]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function En(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function In(a){var o=a[Bt];return o||(o=a[Bt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Vt(a){a[Zt]=!0}var Tn=new Set,Cl={};function Cn(a,o){un(a,o),un(a+"Capture",o)}function un(a,o){for(Cl[a]=o,a=0;a<o.length;a++)Tn.add(o[a])}var Ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_a={},mt={};function _r(a){return L.call(mt,a)?!0:L.call(_a,a)?!1:Ol.test(a)?mt[a]=!0:(_a[a]=!0,!1)}function li(a,o,h){if(_r(o))if(h===null)a.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+h)}}function Un(a,o,h){if(h===null)a.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+h)}}function Tt(a,o,h,p){if(p===null)a.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(o,h,""+p)}}function Dr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ac(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function rm(a,o,h){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,x=p.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(j){h=""+j,x.call(this,j)}}),Object.defineProperty(a,o,{enumerable:p.enumerable}),{getValue:function(){return h},setValue:function(j){h=""+j},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function nm(a){if(!a._valueTracker){var o=ac(a)?"checked":"value";a._valueTracker=rm(a,o,""+a[o])}}function Qx(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var h=o.getValue(),p="";return a&&(p=ac(a)?a.checked?"true":"false":a.value),a=p,a!==h?(o.setValue(a),!0):!1}function xh(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var p6=/[\n"\\]/g;function Hn(a){return a.replace(p6,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function im(a,o,h,p,v,x,j,V){a.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.type=j:a.removeAttribute("type"),o!=null?j==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Dr(o)):a.value!==""+Dr(o)&&(a.value=""+Dr(o)):j!=="submit"&&j!=="reset"||a.removeAttribute("value"),o!=null?sm(a,j,Dr(o)):h!=null?sm(a,j,Dr(h)):p!=null&&a.removeAttribute("value"),v==null&&x!=null&&(a.defaultChecked=!!x),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+Dr(V):a.removeAttribute("name")}function Yx(a,o,h,p,v,x,j,V){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||h!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){nm(a);return}h=h!=null?""+Dr(h):"",o=o!=null?""+Dr(o):h,V||o===a.value||(a.value=o),a.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=V?a.checked:!!p,a.defaultChecked=!!p,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(a.name=j),nm(a)}function sm(a,o,h){o==="number"&&xh(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function _l(a,o,h,p){if(a=a.options,o){o={};for(var v=0;v<h.length;v++)o["$"+h[v]]=!0;for(h=0;h<a.length;h++)v=o.hasOwnProperty("$"+a[h].value),a[h].selected!==v&&(a[h].selected=v),v&&p&&(a[h].defaultSelected=!0)}else{for(h=""+Dr(h),o=null,v=0;v<a.length;v++){if(a[v].value===h){a[v].selected=!0,p&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function Xx(a,o,h){if(o!=null&&(o=""+Dr(o),o!==a.value&&(a.value=o),h==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=h!=null?""+Dr(h):""}function Kx(a,o,h,p){if(o==null){if(p!=null){if(h!=null)throw Error(n(92));if(ee(p)){if(1<p.length)throw Error(n(93));p=p[0]}h=p}h==null&&(h=""),o=h}h=Dr(o),a.defaultValue=h,p=a.textContent,p===h&&p!==""&&p!==null&&(a.value=p),nm(a)}function Rl(a,o){if(o){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=o;return}}a.textContent=o}var m6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zx(a,o,h){var p=o.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,h):typeof h!="number"||h===0||m6.has(o)?o==="float"?a.cssFloat=h:a[o]=(""+h).trim():a[o]=h+"px"}function Jx(a,o,h){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&h[v]!==p&&Zx(a,v,p)}else for(var x in o)o.hasOwnProperty(x)&&Zx(a,x,o[x])}function am(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wh(a){return y6.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Qi(){}var lm=null;function om(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Nl=null,Ml=null;function ew(a){var o=Et(a);if(o&&(a=o.stateNode)){var h=a[Ue]||null;e:switch(a=o.stateNode,o.type){case"input":if(im(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),o=h.name,h.type==="radio"&&o!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Hn(""+o)+'"][type="radio"]'),o=0;o<h.length;o++){var p=h[o];if(p!==a&&p.form===a.form){var v=p[Ue]||null;if(!v)throw Error(n(90));im(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<h.length;o++)p=h[o],p.form===a.form&&Qx(p)}break e;case"textarea":Xx(a,h.value,h.defaultValue);break e;case"select":o=h.value,o!=null&&_l(a,!!h.multiple,o,!1)}}}var cm=!1;function tw(a,o,h){if(cm)return a(o,h);cm=!0;try{var p=a(o);return p}finally{if(cm=!1,(Nl!==null||Ml!==null)&&(cf(),Nl&&(o=Nl,a=Ml,Ml=Nl=null,ew(o),a)))for(o=0;o<a.length;o++)ew(a[o])}}function lc(a,o){var h=a.stateNode;if(h===null)return null;var p=h[Ue]||null;if(p===null)return null;h=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,o,typeof h));return h}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),um=!1;if(Yi)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){um=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{um=!1}var Ds=null,hm=null,Sh=null;function rw(){if(Sh)return Sh;var a,o=hm,h=o.length,p,v="value"in Ds?Ds.value:Ds.textContent,x=v.length;for(a=0;a<h&&o[a]===v[a];a++);var j=h-a;for(p=1;p<=j&&o[h-p]===v[x-p];p++);return Sh=v.slice(a,1<p?1-p:void 0)}function kh(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ah(){return!0}function nw(){return!1}function hn(a){function o(h,p,v,x,j){this._reactName=h,this._targetInst=v,this.type=p,this.nativeEvent=x,this.target=j,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(h=a[V],this[V]=h?h(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ah:nw,this.isPropagationStopped=nw,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ah)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ah)},persist:function(){},isPersistent:Ah}),o}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eh=hn(Ra),cc=m({},Ra,{view:0,detail:0}),v6=hn(cc),fm,dm,uc,Th=m({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==uc&&(uc&&a.type==="mousemove"?(fm=a.screenX-uc.screenX,dm=a.screenY-uc.screenY):dm=fm=0,uc=a),fm)},movementY:function(a){return"movementY"in a?a.movementY:dm}}),iw=hn(Th),b6=m({},Th,{dataTransfer:0}),x6=hn(b6),w6=m({},cc,{relatedTarget:0}),pm=hn(w6),S6=m({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),k6=hn(S6),A6=m({},Ra,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),E6=hn(A6),T6=m({},Ra,{data:0}),sw=hn(T6),C6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R6(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=_6[a])?!!o[a]:!1}function mm(){return R6}var N6=m({},cc,{key:function(a){if(a.key){var o=C6[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=kh(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?O6[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mm,charCode:function(a){return a.type==="keypress"?kh(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?kh(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),M6=hn(N6),D6=m({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aw=hn(D6),L6=m({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mm}),B6=hn(L6),z6=m({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),j6=hn(z6),P6=m({},Th,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),F6=hn(P6),I6=m({},Ra,{newState:0,oldState:0}),U6=hn(I6),H6=[9,13,27,32],gm=Yi&&"CompositionEvent"in window,hc=null;Yi&&"documentMode"in document&&(hc=document.documentMode);var q6=Yi&&"TextEvent"in window&&!hc,lw=Yi&&(!gm||hc&&8<hc&&11>=hc),ow=" ",cw=!1;function uw(a,o){switch(a){case"keyup":return H6.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Dl=!1;function W6(a,o){switch(a){case"compositionend":return hw(o);case"keypress":return o.which!==32?null:(cw=!0,ow);case"textInput":return a=o.data,a===ow&&cw?null:a;default:return null}}function V6(a,o){if(Dl)return a==="compositionend"||!gm&&uw(a,o)?(a=rw(),Sh=hm=Ds=null,Dl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return lw&&o.locale!=="ko"?null:o.data;default:return null}}var $6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fw(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!$6[a.type]:o==="textarea"}function dw(a,o,h,p){Nl?Ml?Ml.push(p):Ml=[p]:Nl=p,o=gf(o,"onChange"),0<o.length&&(h=new Eh("onChange","change",null,h,p),a.push({event:h,listeners:o}))}var fc=null,dc=null;function G6(a){Y2(a,0)}function Ch(a){var o=En(a);if(Qx(o))return a}function pw(a,o){if(a==="change")return o}var mw=!1;if(Yi){var ym;if(Yi){var vm="oninput"in document;if(!vm){var gw=document.createElement("div");gw.setAttribute("oninput","return;"),vm=typeof gw.oninput=="function"}ym=vm}else ym=!1;mw=ym&&(!document.documentMode||9<document.documentMode)}function yw(){fc&&(fc.detachEvent("onpropertychange",vw),dc=fc=null)}function vw(a){if(a.propertyName==="value"&&Ch(dc)){var o=[];dw(o,dc,a,om(a)),tw(G6,o)}}function Q6(a,o,h){a==="focusin"?(yw(),fc=o,dc=h,fc.attachEvent("onpropertychange",vw)):a==="focusout"&&yw()}function Y6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ch(dc)}function X6(a,o){if(a==="click")return Ch(o)}function K6(a,o){if(a==="input"||a==="change")return Ch(o)}function Z6(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var On=typeof Object.is=="function"?Object.is:Z6;function pc(a,o){if(On(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var h=Object.keys(a),p=Object.keys(o);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var v=h[p];if(!L.call(o,v)||!On(a[v],o[v]))return!1}return!0}function bw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function xw(a,o){var h=bw(a);a=0;for(var p;h;){if(h.nodeType===3){if(p=a+h.textContent.length,a<=o&&p>=o)return{node:h,offset:o-a};a=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=bw(h)}}function ww(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?ww(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Sw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=xh(a.document);o instanceof a.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)a=o.contentWindow;else break;o=xh(a.document)}return o}function bm(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var J6=Yi&&"documentMode"in document&&11>=document.documentMode,Ll=null,xm=null,mc=null,wm=!1;function kw(a,o,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;wm||Ll==null||Ll!==xh(p)||(p=Ll,"selectionStart"in p&&bm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),mc&&pc(mc,p)||(mc=p,p=gf(xm,"onSelect"),0<p.length&&(o=new Eh("onSelect","select",null,o,h),a.push({event:o,listeners:p}),o.target=Ll)))}function Na(a,o){var h={};return h[a.toLowerCase()]=o.toLowerCase(),h["Webkit"+a]="webkit"+o,h["Moz"+a]="moz"+o,h}var Bl={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Sm={},Aw={};Yi&&(Aw=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function Ma(a){if(Sm[a])return Sm[a];if(!Bl[a])return a;var o=Bl[a],h;for(h in o)if(o.hasOwnProperty(h)&&h in Aw)return Sm[a]=o[h];return a}var Ew=Ma("animationend"),Tw=Ma("animationiteration"),Cw=Ma("animationstart"),eN=Ma("transitionrun"),tN=Ma("transitionstart"),rN=Ma("transitioncancel"),Ow=Ma("transitionend"),_w=new Map,km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");km.push("scrollEnd");function oi(a,o){_w.set(a,o),Cn(o,[a])}var Oh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},qn=[],zl=0,Am=0;function _h(){for(var a=zl,o=Am=zl=0;o<a;){var h=qn[o];qn[o++]=null;var p=qn[o];qn[o++]=null;var v=qn[o];qn[o++]=null;var x=qn[o];if(qn[o++]=null,p!==null&&v!==null){var j=p.pending;j===null?v.next=v:(v.next=j.next,j.next=v),p.pending=v}x!==0&&Rw(h,v,x)}}function Rh(a,o,h,p){qn[zl++]=a,qn[zl++]=o,qn[zl++]=h,qn[zl++]=p,Am|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Em(a,o,h,p){return Rh(a,o,h,p),Nh(a)}function Da(a,o){return Rh(a,null,null,o),Nh(a)}function Rw(a,o,h){a.lanes|=h;var p=a.alternate;p!==null&&(p.lanes|=h);for(var v=!1,x=a.return;x!==null;)x.childLanes|=h,p=x.alternate,p!==null&&(p.childLanes|=h),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(v=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,v&&o!==null&&(v=31-Xt(h),a=x.hiddenUpdates,p=a[v],p===null?a[v]=[o]:p.push(o),o.lane=h|536870912),x):null}function Nh(a){if(50<jc)throw jc=0,Lg=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var jl={};function nN(a,o,h,p){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(a,o,h,p){return new nN(a,o,h,p)}function Tm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Xi(a,o){var h=a.alternate;return h===null?(h=_n(a.tag,o,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=o,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,o=a.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Nw(a,o){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,o=h.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Mh(a,o,h,p,v,x){var j=0;if(p=a,typeof a=="function")Tm(a)&&(j=1);else if(typeof a=="string")j=oM(a,h,se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case P:return a=_n(31,h,o,v),a.elementType=P,a.lanes=x,a;case w:return La(h.children,v,x,o);case O:j=8,v|=24;break;case S:return a=_n(12,h,o,v|2),a.elementType=S,a.lanes=x,a;case _:return a=_n(13,h,o,v),a.elementType=_,a.lanes=x,a;case U:return a=_n(19,h,o,v),a.elementType=U,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case E:j=10;break e;case k:j=9;break e;case A:j=11;break e;case M:j=14;break e;case Q:j=16,p=null;break e}j=29,h=Error(n(130,a===null?"null":typeof a,"")),p=null}return o=_n(j,h,o,v),o.elementType=a,o.type=p,o.lanes=x,o}function La(a,o,h,p){return a=_n(7,a,p,o),a.lanes=h,a}function Cm(a,o,h){return a=_n(6,a,null,o),a.lanes=h,a}function Mw(a){var o=_n(18,null,null,0);return o.stateNode=a,o}function Om(a,o,h){return o=_n(4,a.children!==null?a.children:[],a.key,o),o.lanes=h,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var Dw=new WeakMap;function Wn(a,o){if(typeof a=="object"&&a!==null){var h=Dw.get(a);return h!==void 0?h:(o={value:a,source:o,stack:C(o)},Dw.set(a,o),o)}return{value:a,source:o,stack:C(o)}}var Pl=[],Fl=0,Dh=null,gc=0,Vn=[],$n=0,Ls=null,Si=1,ki="";function Ki(a,o){Pl[Fl++]=gc,Pl[Fl++]=Dh,Dh=a,gc=o}function Lw(a,o,h){Vn[$n++]=Si,Vn[$n++]=ki,Vn[$n++]=Ls,Ls=a;var p=Si;a=ki;var v=32-Xt(p)-1;p&=~(1<<v),h+=1;var x=32-Xt(o)+v;if(30<x){var j=v-v%5;x=(p&(1<<j)-1).toString(32),p>>=j,v-=j,Si=1<<32-Xt(o)+v|h<<v|p,ki=x+a}else Si=1<<x|h<<v|p,ki=a}function _m(a){a.return!==null&&(Ki(a,1),Lw(a,1,0))}function Rm(a){for(;a===Dh;)Dh=Pl[--Fl],Pl[Fl]=null,gc=Pl[--Fl],Pl[Fl]=null;for(;a===Ls;)Ls=Vn[--$n],Vn[$n]=null,ki=Vn[--$n],Vn[$n]=null,Si=Vn[--$n],Vn[$n]=null}function Bw(a,o){Vn[$n++]=Si,Vn[$n++]=ki,Vn[$n++]=Ls,Si=o.id,ki=o.overflow,Ls=a}var Lr=null,Jt=null,wt=!1,Bs=null,Gn=!1,Nm=Error(n(519));function zs(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yc(Wn(o,a)),Nm}function zw(a){var o=a.stateNode,h=a.type,p=a.memoizedProps;switch(o[Ie]=a,o[Ue]=p,h){case"dialog":dt("cancel",o),dt("close",o);break;case"iframe":case"object":case"embed":dt("load",o);break;case"video":case"audio":for(h=0;h<Fc.length;h++)dt(Fc[h],o);break;case"source":dt("error",o);break;case"img":case"image":case"link":dt("error",o),dt("load",o);break;case"details":dt("toggle",o);break;case"input":dt("invalid",o),Yx(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":dt("invalid",o);break;case"textarea":dt("invalid",o),Kx(o,p.value,p.defaultValue,p.children)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||o.textContent===""+h||p.suppressHydrationWarning===!0||J2(o.textContent,h)?(p.popover!=null&&(dt("beforetoggle",o),dt("toggle",o)),p.onScroll!=null&&dt("scroll",o),p.onScrollEnd!=null&&dt("scrollend",o),p.onClick!=null&&(o.onclick=Qi),o=!0):o=!1,o||zs(a,!0)}function jw(a){for(Lr=a.return;Lr;)switch(Lr.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Lr=Lr.return}}function Il(a){if(a!==Lr)return!1;if(!wt)return jw(a),wt=!0,!1;var o=a.tag,h;if((h=o!==3&&o!==27)&&((h=o===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Yg(a.type,a.memoizedProps)),h=!h),h&&Jt&&zs(a),jw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Jt=ok(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Jt=ok(a)}else o===27?(o=Jt,Xs(a.type)?(a=e0,e0=null,Jt=a):Jt=o):Jt=Lr?Yn(a.stateNode.nextSibling):null;return!0}function Ba(){Jt=Lr=null,wt=!1}function Mm(){var a=Bs;return a!==null&&(mn===null?mn=a:mn.push.apply(mn,a),Bs=null),a}function yc(a){Bs===null?Bs=[a]:Bs.push(a)}var Dm=q(null),za=null,Zi=null;function js(a,o,h){K(Dm,o._currentValue),o._currentValue=h}function Ji(a){a._currentValue=Dm.current,I(Dm)}function Lm(a,o,h){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===h)break;a=a.return}}function Bm(a,o,h,p){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var x=v.dependencies;if(x!==null){var j=v.child;x=x.firstContext;e:for(;x!==null;){var V=x;x=v;for(var ae=0;ae<o.length;ae++)if(V.context===o[ae]){x.lanes|=h,V=x.alternate,V!==null&&(V.lanes|=h),Lm(x.return,h,a),p||(j=null);break e}x=V.next}}else if(v.tag===18){if(j=v.return,j===null)throw Error(n(341));j.lanes|=h,x=j.alternate,x!==null&&(x.lanes|=h),Lm(j,h,a),j=null}else j=v.child;if(j!==null)j.return=v;else for(j=v;j!==null;){if(j===a){j=null;break}if(v=j.sibling,v!==null){v.return=j.return,j=v;break}j=j.return}v=j}}function Ul(a,o,h,p){a=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var j=v.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var V=v.type;On(v.pendingProps.value,j.value)||(a!==null?a.push(V):a=[V])}}else if(v===z.current){if(j=v.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Wc):a=[Wc])}v=v.return}a!==null&&Bm(o,a,h,p),o.flags|=262144}function Lh(a){for(a=a.firstContext;a!==null;){if(!On(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ja(a){za=a,Zi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Br(a){return Pw(za,a)}function Bh(a,o){return za===null&&ja(a),Pw(a,o)}function Pw(a,o){var h=o._currentValue;if(o={context:o,memoizedValue:h,next:null},Zi===null){if(a===null)throw Error(n(308));Zi=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Zi=Zi.next=o;return h}var iN=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(h,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(h){return h()})}},sN=r.unstable_scheduleCallback,aN=r.unstable_NormalPriority,mr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zm(){return{controller:new iN,data:new Map,refCount:0}}function vc(a){a.refCount--,a.refCount===0&&sN(aN,function(){a.controller.abort()})}var bc=null,jm=0,Hl=0,ql=null;function lN(a,o){if(bc===null){var h=bc=[];jm=0,Hl=Ig(),ql={status:"pending",value:void 0,then:function(p){h.push(p)}}}return jm++,o.then(Fw,Fw),o}function Fw(){if(--jm===0&&bc!==null){ql!==null&&(ql.status="fulfilled");var a=bc;bc=null,Hl=0,ql=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function oN(a,o){var h=[],p={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<h.length;v++)(0,h[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),p}var Iw=X.S;X.S=function(a,o){k2=Te(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&lN(a,o),Iw!==null&&Iw(a,o)};var Pa=q(null);function Pm(){var a=Pa.current;return a!==null?a:$t.pooledCache}function zh(a,o){o===null?K(Pa,Pa.current):K(Pa,o.pool)}function Uw(){var a=Pm();return a===null?null:{parent:mr._currentValue,pool:a}}var Wl=Error(n(460)),Fm=Error(n(474)),jh=Error(n(542)),Ph={then:function(){}};function Hw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function qw(a,o,h){switch(h=a[h],h===void 0?a.push(o):h!==o&&(o.then(Qi,Qi),o=h),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Vw(a),a;default:if(typeof o.status=="string")o.then(Qi,Qi);else{if(a=$t,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Vw(a),a}throw Ia=o,Wl}}function Fa(a){try{var o=a._init;return o(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Ia=h,Wl):h}}var Ia=null;function Ww(){if(Ia===null)throw Error(n(459));var a=Ia;return Ia=null,a}function Vw(a){if(a===Wl||a===jh)throw Error(n(483))}var Vl=null,xc=0;function Fh(a){var o=xc;return xc+=1,Vl===null&&(Vl=[]),qw(Vl,a,o)}function wc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Ih(a,o){throw o.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function $w(a){function o(me,de){if(a){var be=me.deletions;be===null?(me.deletions=[de],me.flags|=16):be.push(de)}}function h(me,de){if(!a)return null;for(;de!==null;)o(me,de),de=de.sibling;return null}function p(me){for(var de=new Map;me!==null;)me.key!==null?de.set(me.key,me):de.set(me.index,me),me=me.sibling;return de}function v(me,de){return me=Xi(me,de),me.index=0,me.sibling=null,me}function x(me,de,be){return me.index=be,a?(be=me.alternate,be!==null?(be=be.index,be<de?(me.flags|=67108866,de):be):(me.flags|=67108866,de)):(me.flags|=1048576,de)}function j(me){return a&&me.alternate===null&&(me.flags|=67108866),me}function V(me,de,be,_e){return de===null||de.tag!==6?(de=Cm(be,me.mode,_e),de.return=me,de):(de=v(de,be),de.return=me,de)}function ae(me,de,be,_e){var tt=be.type;return tt===w?Ce(me,de,be.props.children,_e,be.key):de!==null&&(de.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Q&&Fa(tt)===de.type)?(de=v(de,be.props),wc(de,be),de.return=me,de):(de=Mh(be.type,be.key,be.props,null,me.mode,_e),wc(de,be),de.return=me,de)}function xe(me,de,be,_e){return de===null||de.tag!==4||de.stateNode.containerInfo!==be.containerInfo||de.stateNode.implementation!==be.implementation?(de=Om(be,me.mode,_e),de.return=me,de):(de=v(de,be.children||[]),de.return=me,de)}function Ce(me,de,be,_e,tt){return de===null||de.tag!==7?(de=La(be,me.mode,_e,tt),de.return=me,de):(de=v(de,be),de.return=me,de)}function Ne(me,de,be){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=Cm(""+de,me.mode,be),de.return=me,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case y:return be=Mh(de.type,de.key,de.props,null,me.mode,be),wc(be,de),be.return=me,be;case b:return de=Om(de,me.mode,be),de.return=me,de;case Q:return de=Fa(de),Ne(me,de,be)}if(ee(de)||H(de))return de=La(de,me.mode,be,null),de.return=me,de;if(typeof de.then=="function")return Ne(me,Fh(de),be);if(de.$$typeof===E)return Ne(me,Bh(me,de),be);Ih(me,de)}return null}function we(me,de,be,_e){var tt=de!==null?de.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return tt!==null?null:V(me,de,""+be,_e);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return be.key===tt?ae(me,de,be,_e):null;case b:return be.key===tt?xe(me,de,be,_e):null;case Q:return be=Fa(be),we(me,de,be,_e)}if(ee(be)||H(be))return tt!==null?null:Ce(me,de,be,_e,null);if(typeof be.then=="function")return we(me,de,Fh(be),_e);if(be.$$typeof===E)return we(me,de,Bh(me,be),_e);Ih(me,be)}return null}function Ae(me,de,be,_e,tt){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return me=me.get(be)||null,V(de,me,""+_e,tt);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case y:return me=me.get(_e.key===null?be:_e.key)||null,ae(de,me,_e,tt);case b:return me=me.get(_e.key===null?be:_e.key)||null,xe(de,me,_e,tt);case Q:return _e=Fa(_e),Ae(me,de,be,_e,tt)}if(ee(_e)||H(_e))return me=me.get(be)||null,Ce(de,me,_e,tt,null);if(typeof _e.then=="function")return Ae(me,de,be,Fh(_e),tt);if(_e.$$typeof===E)return Ae(me,de,be,Bh(de,_e),tt);Ih(de,_e)}return null}function Ge(me,de,be,_e){for(var tt=null,Ct=null,Ye=de,lt=de=0,yt=null;Ye!==null&&lt<be.length;lt++){Ye.index>lt?(yt=Ye,Ye=null):yt=Ye.sibling;var Ot=we(me,Ye,be[lt],_e);if(Ot===null){Ye===null&&(Ye=yt);break}a&&Ye&&Ot.alternate===null&&o(me,Ye),de=x(Ot,de,lt),Ct===null?tt=Ot:Ct.sibling=Ot,Ct=Ot,Ye=yt}if(lt===be.length)return h(me,Ye),wt&&Ki(me,lt),tt;if(Ye===null){for(;lt<be.length;lt++)Ye=Ne(me,be[lt],_e),Ye!==null&&(de=x(Ye,de,lt),Ct===null?tt=Ye:Ct.sibling=Ye,Ct=Ye);return wt&&Ki(me,lt),tt}for(Ye=p(Ye);lt<be.length;lt++)yt=Ae(Ye,me,lt,be[lt],_e),yt!==null&&(a&&yt.alternate!==null&&Ye.delete(yt.key===null?lt:yt.key),de=x(yt,de,lt),Ct===null?tt=yt:Ct.sibling=yt,Ct=yt);return a&&Ye.forEach(function(ta){return o(me,ta)}),wt&&Ki(me,lt),tt}function nt(me,de,be,_e){if(be==null)throw Error(n(151));for(var tt=null,Ct=null,Ye=de,lt=de=0,yt=null,Ot=be.next();Ye!==null&&!Ot.done;lt++,Ot=be.next()){Ye.index>lt?(yt=Ye,Ye=null):yt=Ye.sibling;var ta=we(me,Ye,Ot.value,_e);if(ta===null){Ye===null&&(Ye=yt);break}a&&Ye&&ta.alternate===null&&o(me,Ye),de=x(ta,de,lt),Ct===null?tt=ta:Ct.sibling=ta,Ct=ta,Ye=yt}if(Ot.done)return h(me,Ye),wt&&Ki(me,lt),tt;if(Ye===null){for(;!Ot.done;lt++,Ot=be.next())Ot=Ne(me,Ot.value,_e),Ot!==null&&(de=x(Ot,de,lt),Ct===null?tt=Ot:Ct.sibling=Ot,Ct=Ot);return wt&&Ki(me,lt),tt}for(Ye=p(Ye);!Ot.done;lt++,Ot=be.next())Ot=Ae(Ye,me,lt,Ot.value,_e),Ot!==null&&(a&&Ot.alternate!==null&&Ye.delete(Ot.key===null?lt:Ot.key),de=x(Ot,de,lt),Ct===null?tt=Ot:Ct.sibling=Ot,Ct=Ot);return a&&Ye.forEach(function(bM){return o(me,bM)}),wt&&Ki(me,lt),tt}function Ut(me,de,be,_e){if(typeof be=="object"&&be!==null&&be.type===w&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case y:e:{for(var tt=be.key;de!==null;){if(de.key===tt){if(tt=be.type,tt===w){if(de.tag===7){h(me,de.sibling),_e=v(de,be.props.children),_e.return=me,me=_e;break e}}else if(de.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Q&&Fa(tt)===de.type){h(me,de.sibling),_e=v(de,be.props),wc(_e,be),_e.return=me,me=_e;break e}h(me,de);break}else o(me,de);de=de.sibling}be.type===w?(_e=La(be.props.children,me.mode,_e,be.key),_e.return=me,me=_e):(_e=Mh(be.type,be.key,be.props,null,me.mode,_e),wc(_e,be),_e.return=me,me=_e)}return j(me);case b:e:{for(tt=be.key;de!==null;){if(de.key===tt)if(de.tag===4&&de.stateNode.containerInfo===be.containerInfo&&de.stateNode.implementation===be.implementation){h(me,de.sibling),_e=v(de,be.children||[]),_e.return=me,me=_e;break e}else{h(me,de);break}else o(me,de);de=de.sibling}_e=Om(be,me.mode,_e),_e.return=me,me=_e}return j(me);case Q:return be=Fa(be),Ut(me,de,be,_e)}if(ee(be))return Ge(me,de,be,_e);if(H(be)){if(tt=H(be),typeof tt!="function")throw Error(n(150));return be=tt.call(be),nt(me,de,be,_e)}if(typeof be.then=="function")return Ut(me,de,Fh(be),_e);if(be.$$typeof===E)return Ut(me,de,Bh(me,be),_e);Ih(me,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,de!==null&&de.tag===6?(h(me,de.sibling),_e=v(de,be),_e.return=me,me=_e):(h(me,de),_e=Cm(be,me.mode,_e),_e.return=me,me=_e),j(me)):h(me,de)}return function(me,de,be,_e){try{xc=0;var tt=Ut(me,de,be,_e);return Vl=null,tt}catch(Ye){if(Ye===Wl||Ye===jh)throw Ye;var Ct=_n(29,Ye,null,me.mode);return Ct.lanes=_e,Ct.return=me,Ct}finally{}}}var Ua=$w(!0),Gw=$w(!1),Ps=!1;function Im(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Um(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Fs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Is(a,o,h){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Nt&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=Nh(a),Rw(a,null,h),o}return Rh(a,p,o,h),Nh(a)}function Sc(a,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,h|=p,o.lanes=h,le(a,h)}}function Hm(a,o){var h=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var v=null,x=null;if(h=h.firstBaseUpdate,h!==null){do{var j={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};x===null?v=x=j:x=x.next=j,h=h.next}while(h!==null);x===null?v=x=o:x=x.next=o}else v=x=o;h={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:p.shared,callbacks:p.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=o:a.next=o,h.lastBaseUpdate=o}var qm=!1;function kc(){if(qm){var a=ql;if(a!==null)throw a}}function Ac(a,o,h,p){qm=!1;var v=a.updateQueue;Ps=!1;var x=v.firstBaseUpdate,j=v.lastBaseUpdate,V=v.shared.pending;if(V!==null){v.shared.pending=null;var ae=V,xe=ae.next;ae.next=null,j===null?x=xe:j.next=xe,j=ae;var Ce=a.alternate;Ce!==null&&(Ce=Ce.updateQueue,V=Ce.lastBaseUpdate,V!==j&&(V===null?Ce.firstBaseUpdate=xe:V.next=xe,Ce.lastBaseUpdate=ae))}if(x!==null){var Ne=v.baseState;j=0,Ce=xe=ae=null,V=x;do{var we=V.lane&-536870913,Ae=we!==V.lane;if(Ae?(gt&we)===we:(p&we)===we){we!==0&&we===Hl&&(qm=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ge=a,nt=V;we=o;var Ut=h;switch(nt.tag){case 1:if(Ge=nt.payload,typeof Ge=="function"){Ne=Ge.call(Ut,Ne,we);break e}Ne=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=nt.payload,we=typeof Ge=="function"?Ge.call(Ut,Ne,we):Ge,we==null)break e;Ne=m({},Ne,we);break e;case 2:Ps=!0}}we=V.callback,we!==null&&(a.flags|=64,Ae&&(a.flags|=8192),Ae=v.callbacks,Ae===null?v.callbacks=[we]:Ae.push(we))}else Ae={lane:we,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Ce===null?(xe=Ce=Ae,ae=Ne):Ce=Ce.next=Ae,j|=we;if(V=V.next,V===null){if(V=v.shared.pending,V===null)break;Ae=V,V=Ae.next,Ae.next=null,v.lastBaseUpdate=Ae,v.shared.pending=null}}while(!0);Ce===null&&(ae=Ne),v.baseState=ae,v.firstBaseUpdate=xe,v.lastBaseUpdate=Ce,x===null&&(v.shared.lanes=0),Vs|=j,a.lanes=j,a.memoizedState=Ne}}function Qw(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function Yw(a,o){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Qw(h[a],o)}var $l=q(null),Uh=q(0);function Xw(a,o){a=os,K(Uh,a),K($l,o),os=a|o.baseLanes}function Wm(){K(Uh,os),K($l,$l.current)}function Vm(){os=Uh.current,I($l),I(Uh)}var Rn=q(null),Qn=null;function Us(a){var o=a.alternate;K(ur,ur.current&1),K(Rn,a),Qn===null&&(o===null||$l.current!==null||o.memoizedState!==null)&&(Qn=a)}function $m(a){K(ur,ur.current),K(Rn,a),Qn===null&&(Qn=a)}function Kw(a){a.tag===22?(K(ur,ur.current),K(Rn,a),Qn===null&&(Qn=a)):Hs()}function Hs(){K(ur,ur.current),K(Rn,Rn.current)}function Nn(a){I(Rn),Qn===a&&(Qn=null),I(ur)}var ur=q(0);function Hh(a){for(var o=a;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Zg(h)||Jg(h)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var es=0,at=null,Ft=null,gr=null,qh=!1,Gl=!1,Ha=!1,Wh=0,Ec=0,Ql=null,cN=0;function sr(){throw Error(n(321))}function Gm(a,o){if(o===null)return!1;for(var h=0;h<o.length&&h<a.length;h++)if(!On(a[h],o[h]))return!1;return!0}function Qm(a,o,h,p,v,x){return es=x,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,X.H=a===null||a.memoizedState===null?LS:cg,Ha=!1,x=h(p,v),Ha=!1,Gl&&(x=Jw(o,h,p,v)),Zw(a),x}function Zw(a){X.H=Oc;var o=Ft!==null&&Ft.next!==null;if(es=0,gr=Ft=at=null,qh=!1,Ec=0,Ql=null,o)throw Error(n(300));a===null||yr||(a=a.dependencies,a!==null&&Lh(a)&&(yr=!0))}function Jw(a,o,h,p){at=a;var v=0;do{if(Gl&&(Ql=null),Ec=0,Gl=!1,25<=v)throw Error(n(301));if(v+=1,gr=Ft=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}X.H=BS,x=o(h,p)}while(Gl);return x}function uN(){var a=X.H,o=a.useState()[0];return o=typeof o.then=="function"?Tc(o):o,a=a.useState()[0],(Ft!==null?Ft.memoizedState:null)!==a&&(at.flags|=1024),o}function Ym(){var a=Wh!==0;return Wh=0,a}function Xm(a,o,h){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~h}function Km(a){if(qh){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}qh=!1}es=0,gr=Ft=at=null,Gl=!1,Ec=Wh=0,Ql=null}function Zr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?at.memoizedState=gr=a:gr=gr.next=a,gr}function hr(){if(Ft===null){var a=at.alternate;a=a!==null?a.memoizedState:null}else a=Ft.next;var o=gr===null?at.memoizedState:gr.next;if(o!==null)gr=o,Ft=a;else{if(a===null)throw at.alternate===null?Error(n(467)):Error(n(310));Ft=a,a={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},gr===null?at.memoizedState=gr=a:gr=gr.next=a}return gr}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tc(a){var o=Ec;return Ec+=1,Ql===null&&(Ql=[]),a=qw(Ql,a,o),o=at,(gr===null?o.memoizedState:gr.next)===null&&(o=o.alternate,X.H=o===null||o.memoizedState===null?LS:cg),a}function $h(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Tc(a);if(a.$$typeof===E)return Br(a)}throw Error(n(438,String(a)))}function Zm(a){var o=null,h=at.updateQueue;if(h!==null&&(o=h.memoCache),o==null){var p=at.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),h===null&&(h=Vh(),at.updateQueue=h),h.memoCache=o,h=o.data[o.index],h===void 0)for(h=o.data[o.index]=Array(a),p=0;p<a;p++)h[p]=re;return o.index++,h}function ts(a,o){return typeof o=="function"?o(a):o}function Gh(a){var o=hr();return Jm(o,Ft,a)}function Jm(a,o,h){var p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=h;var v=a.baseQueue,x=p.pending;if(x!==null){if(v!==null){var j=v.next;v.next=x.next,x.next=j}o.baseQueue=v=x,p.pending=null}if(x=a.baseState,v===null)a.memoizedState=x;else{o=v.next;var V=j=null,ae=null,xe=o,Ce=!1;do{var Ne=xe.lane&-536870913;if(Ne!==xe.lane?(gt&Ne)===Ne:(es&Ne)===Ne){var we=xe.revertLane;if(we===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Ne===Hl&&(Ce=!0);else if((es&we)===we){xe=xe.next,we===Hl&&(Ce=!0);continue}else Ne={lane:0,revertLane:xe.revertLane,gesture:null,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ae===null?(V=ae=Ne,j=x):ae=ae.next=Ne,at.lanes|=we,Vs|=we;Ne=xe.action,Ha&&h(x,Ne),x=xe.hasEagerState?xe.eagerState:h(x,Ne)}else we={lane:Ne,revertLane:xe.revertLane,gesture:xe.gesture,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},ae===null?(V=ae=we,j=x):ae=ae.next=we,at.lanes|=Ne,Vs|=Ne;xe=xe.next}while(xe!==null&&xe!==o);if(ae===null?j=x:ae.next=V,!On(x,a.memoizedState)&&(yr=!0,Ce&&(h=ql,h!==null)))throw h;a.memoizedState=x,a.baseState=j,a.baseQueue=ae,p.lastRenderedState=x}return v===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function eg(a){var o=hr(),h=o.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var p=h.dispatch,v=h.pending,x=o.memoizedState;if(v!==null){h.pending=null;var j=v=v.next;do x=a(x,j.action),j=j.next;while(j!==v);On(x,o.memoizedState)||(yr=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),h.lastRenderedState=x}return[x,p]}function eS(a,o,h){var p=at,v=hr(),x=wt;if(x){if(h===void 0)throw Error(n(407));h=h()}else h=o();var j=!On((Ft||v).memoizedState,h);if(j&&(v.memoizedState=h,yr=!0),v=v.queue,ng(nS.bind(null,p,v,a),[a]),v.getSnapshot!==o||j||gr!==null&&gr.memoizedState.tag&1){if(p.flags|=2048,Yl(9,{destroy:void 0},rS.bind(null,p,v,h,o),null),$t===null)throw Error(n(349));x||(es&127)!==0||tS(p,o,h)}return h}function tS(a,o,h){a.flags|=16384,a={getSnapshot:o,value:h},o=at.updateQueue,o===null?(o=Vh(),at.updateQueue=o,o.stores=[a]):(h=o.stores,h===null?o.stores=[a]:h.push(a))}function rS(a,o,h,p){o.value=h,o.getSnapshot=p,iS(o)&&sS(a)}function nS(a,o,h){return h(function(){iS(o)&&sS(a)})}function iS(a){var o=a.getSnapshot;a=a.value;try{var h=o();return!On(a,h)}catch{return!0}}function sS(a){var o=Da(a,2);o!==null&&gn(o,a,2)}function tg(a){var o=Zr();if(typeof a=="function"){var h=a;if(a=h(),Ha){Kr(!0);try{h()}finally{Kr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:a},o}function aS(a,o,h,p){return a.baseState=h,Jm(a,Ft,typeof p=="function"?p:ts)}function hN(a,o,h,p,v){if(Xh(a))throw Error(n(485));if(a=o.action,a!==null){var x={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){x.listeners.push(j)}};X.T!==null?h(!0):x.isTransition=!1,p(x),h=o.pending,h===null?(x.next=o.pending=x,lS(o,x)):(x.next=h.next,o.pending=h.next=x)}}function lS(a,o){var h=o.action,p=o.payload,v=a.state;if(o.isTransition){var x=X.T,j={};X.T=j;try{var V=h(v,p),ae=X.S;ae!==null&&ae(j,V),oS(a,o,V)}catch(xe){rg(a,o,xe)}finally{x!==null&&j.types!==null&&(x.types=j.types),X.T=x}}else try{x=h(v,p),oS(a,o,x)}catch(xe){rg(a,o,xe)}}function oS(a,o,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){cS(a,o,p)},function(p){return rg(a,o,p)}):cS(a,o,h)}function cS(a,o,h){o.status="fulfilled",o.value=h,uS(o),a.state=h,o=a.pending,o!==null&&(h=o.next,h===o?a.pending=null:(h=h.next,o.next=h,lS(a,h)))}function rg(a,o,h){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=h,uS(o),o=o.next;while(o!==p)}a.action=null}function uS(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function hS(a,o){return o}function fS(a,o){if(wt){var h=$t.formState;if(h!==null){e:{var p=at;if(wt){if(Jt){t:{for(var v=Jt,x=Gn;v.nodeType!==8;){if(!x){v=null;break t}if(v=Yn(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Jt=Yn(v.nextSibling),p=v.data==="F!";break e}}zs(p)}p=!1}p&&(o=h[0])}}return h=Zr(),h.memoizedState=h.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hS,lastRenderedState:o},h.queue=p,h=NS.bind(null,at,p),p.dispatch=h,p=tg(!1),x=og.bind(null,at,!1,p.queue),p=Zr(),v={state:o,dispatch:null,action:a,pending:null},p.queue=v,h=hN.bind(null,at,v,x,h),v.dispatch=h,p.memoizedState=a,[o,h,!1]}function dS(a){var o=hr();return pS(o,Ft,a)}function pS(a,o,h){if(o=Jm(a,o,hS)[0],a=Gh(ts)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Tc(o)}catch(j){throw j===Wl?jh:j}else p=o;o=hr();var v=o.queue,x=v.dispatch;return h!==o.memoizedState&&(at.flags|=2048,Yl(9,{destroy:void 0},fN.bind(null,v,h),null)),[p,x,a]}function fN(a,o){a.action=o}function mS(a){var o=hr(),h=Ft;if(h!==null)return pS(o,h,a);hr(),o=o.memoizedState,h=hr();var p=h.queue.dispatch;return h.memoizedState=a,[o,p,!1]}function Yl(a,o,h,p){return a={tag:a,create:h,deps:p,inst:o,next:null},o=at.updateQueue,o===null&&(o=Vh(),at.updateQueue=o),h=o.lastEffect,h===null?o.lastEffect=a.next=a:(p=h.next,h.next=a,a.next=p,o.lastEffect=a),a}function gS(){return hr().memoizedState}function Qh(a,o,h,p){var v=Zr();at.flags|=a,v.memoizedState=Yl(1|o,{destroy:void 0},h,p===void 0?null:p)}function Yh(a,o,h,p){var v=hr();p=p===void 0?null:p;var x=v.memoizedState.inst;Ft!==null&&p!==null&&Gm(p,Ft.memoizedState.deps)?v.memoizedState=Yl(o,x,h,p):(at.flags|=a,v.memoizedState=Yl(1|o,x,h,p))}function yS(a,o){Qh(8390656,8,a,o)}function ng(a,o){Yh(2048,8,a,o)}function dN(a){at.flags|=4;var o=at.updateQueue;if(o===null)o=Vh(),at.updateQueue=o,o.events=[a];else{var h=o.events;h===null?o.events=[a]:h.push(a)}}function vS(a){var o=hr().memoizedState;return dN({ref:o,nextImpl:a}),function(){if((Nt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function bS(a,o){return Yh(4,2,a,o)}function xS(a,o){return Yh(4,4,a,o)}function wS(a,o){if(typeof o=="function"){a=a();var h=o(a);return function(){typeof h=="function"?h():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function SS(a,o,h){h=h!=null?h.concat([a]):null,Yh(4,4,wS.bind(null,o,a),h)}function ig(){}function kS(a,o){var h=hr();o=o===void 0?null:o;var p=h.memoizedState;return o!==null&&Gm(o,p[1])?p[0]:(h.memoizedState=[a,o],a)}function AS(a,o){var h=hr();o=o===void 0?null:o;var p=h.memoizedState;if(o!==null&&Gm(o,p[1]))return p[0];if(p=a(),Ha){Kr(!0);try{a()}finally{Kr(!1)}}return h.memoizedState=[p,o],p}function sg(a,o,h){return h===void 0||(es&1073741824)!==0&&(gt&261930)===0?a.memoizedState=o:(a.memoizedState=h,a=E2(),at.lanes|=a,Vs|=a,h)}function ES(a,o,h,p){return On(h,o)?h:$l.current!==null?(a=sg(a,h,p),On(a,o)||(yr=!0),a):(es&42)===0||(es&1073741824)!==0&&(gt&261930)===0?(yr=!0,a.memoizedState=h):(a=E2(),at.lanes|=a,Vs|=a,o)}function TS(a,o,h,p,v){var x=G.p;G.p=x!==0&&8>x?x:8;var j=X.T,V={};X.T=V,og(a,!1,o,h);try{var ae=v(),xe=X.S;if(xe!==null&&xe(V,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Ce=oN(ae,p);Cc(a,o,Ce,Ln(a))}else Cc(a,o,p,Ln(a))}catch(Ne){Cc(a,o,{then:function(){},status:"rejected",reason:Ne},Ln())}finally{G.p=x,j!==null&&V.types!==null&&(j.types=V.types),X.T=j}}function pN(){}function ag(a,o,h,p){if(a.tag!==5)throw Error(n(476));var v=CS(a).queue;TS(a,v,o,ue,h===null?pN:function(){return OS(a),h(p)})}function CS(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ue},next:null};var h={};return o.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:h},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function OS(a){var o=CS(a);o.next===null&&(o=a.alternate.memoizedState),Cc(a,o.next.queue,{},Ln())}function lg(){return Br(Wc)}function _S(){return hr().memoizedState}function RS(){return hr().memoizedState}function mN(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var h=Ln();a=Fs(h);var p=Is(o,a,h);p!==null&&(gn(p,o,h),Sc(p,o,h)),o={cache:zm()},a.payload=o;return}o=o.return}}function gN(a,o,h){var p=Ln();h={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Xh(a)?MS(o,h):(h=Em(a,o,h,p),h!==null&&(gn(h,a,p),DS(h,o,p)))}function NS(a,o,h){var p=Ln();Cc(a,o,h,p)}function Cc(a,o,h,p){var v={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Xh(a))MS(o,v);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var j=o.lastRenderedState,V=x(j,h);if(v.hasEagerState=!0,v.eagerState=V,On(V,j))return Rh(a,o,v,0),$t===null&&_h(),!1}catch{}finally{}if(h=Em(a,o,v,p),h!==null)return gn(h,a,p),DS(h,o,p),!0}return!1}function og(a,o,h,p){if(p={lane:2,revertLane:Ig(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Xh(a)){if(o)throw Error(n(479))}else o=Em(a,h,p,2),o!==null&&gn(o,a,2)}function Xh(a){var o=a.alternate;return a===at||o!==null&&o===at}function MS(a,o){Gl=qh=!0;var h=a.pending;h===null?o.next=o:(o.next=h.next,h.next=o),a.pending=o}function DS(a,o,h){if((h&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,h|=p,o.lanes=h,le(a,h)}}var Oc={readContext:Br,use:$h,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useLayoutEffect:sr,useInsertionEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useSyncExternalStore:sr,useId:sr,useHostTransitionStatus:sr,useFormState:sr,useActionState:sr,useOptimistic:sr,useMemoCache:sr,useCacheRefresh:sr};Oc.useEffectEvent=sr;var LS={readContext:Br,use:$h,useCallback:function(a,o){return Zr().memoizedState=[a,o===void 0?null:o],a},useContext:Br,useEffect:yS,useImperativeHandle:function(a,o,h){h=h!=null?h.concat([a]):null,Qh(4194308,4,wS.bind(null,o,a),h)},useLayoutEffect:function(a,o){return Qh(4194308,4,a,o)},useInsertionEffect:function(a,o){Qh(4,2,a,o)},useMemo:function(a,o){var h=Zr();o=o===void 0?null:o;var p=a();if(Ha){Kr(!0);try{a()}finally{Kr(!1)}}return h.memoizedState=[p,o],p},useReducer:function(a,o,h){var p=Zr();if(h!==void 0){var v=h(o);if(Ha){Kr(!0);try{h(o)}finally{Kr(!1)}}}else v=o;return p.memoizedState=p.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},p.queue=a,a=a.dispatch=gN.bind(null,at,a),[p.memoizedState,a]},useRef:function(a){var o=Zr();return a={current:a},o.memoizedState=a},useState:function(a){a=tg(a);var o=a.queue,h=NS.bind(null,at,o);return o.dispatch=h,[a.memoizedState,h]},useDebugValue:ig,useDeferredValue:function(a,o){var h=Zr();return sg(h,a,o)},useTransition:function(){var a=tg(!1);return a=TS.bind(null,at,a.queue,!0,!1),Zr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,h){var p=at,v=Zr();if(wt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=o(),$t===null)throw Error(n(349));(gt&127)!==0||tS(p,o,h)}v.memoizedState=h;var x={value:h,getSnapshot:o};return v.queue=x,yS(nS.bind(null,p,x,a),[a]),p.flags|=2048,Yl(9,{destroy:void 0},rS.bind(null,p,x,h,o),null),h},useId:function(){var a=Zr(),o=$t.identifierPrefix;if(wt){var h=ki,p=Si;h=(p&~(1<<32-Xt(p)-1)).toString(32)+h,o="_"+o+"R_"+h,h=Wh++,0<h&&(o+="H"+h.toString(32)),o+="_"}else h=cN++,o="_"+o+"r_"+h.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:lg,useFormState:fS,useActionState:fS,useOptimistic:function(a){var o=Zr();o.memoizedState=o.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=h,o=og.bind(null,at,!0,h),h.dispatch=o,[a,o]},useMemoCache:Zm,useCacheRefresh:function(){return Zr().memoizedState=mN.bind(null,at)},useEffectEvent:function(a){var o=Zr(),h={impl:a};return o.memoizedState=h,function(){if((Nt&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},cg={readContext:Br,use:$h,useCallback:kS,useContext:Br,useEffect:ng,useImperativeHandle:SS,useInsertionEffect:bS,useLayoutEffect:xS,useMemo:AS,useReducer:Gh,useRef:gS,useState:function(){return Gh(ts)},useDebugValue:ig,useDeferredValue:function(a,o){var h=hr();return ES(h,Ft.memoizedState,a,o)},useTransition:function(){var a=Gh(ts)[0],o=hr().memoizedState;return[typeof a=="boolean"?a:Tc(a),o]},useSyncExternalStore:eS,useId:_S,useHostTransitionStatus:lg,useFormState:dS,useActionState:dS,useOptimistic:function(a,o){var h=hr();return aS(h,Ft,a,o)},useMemoCache:Zm,useCacheRefresh:RS};cg.useEffectEvent=vS;var BS={readContext:Br,use:$h,useCallback:kS,useContext:Br,useEffect:ng,useImperativeHandle:SS,useInsertionEffect:bS,useLayoutEffect:xS,useMemo:AS,useReducer:eg,useRef:gS,useState:function(){return eg(ts)},useDebugValue:ig,useDeferredValue:function(a,o){var h=hr();return Ft===null?sg(h,a,o):ES(h,Ft.memoizedState,a,o)},useTransition:function(){var a=eg(ts)[0],o=hr().memoizedState;return[typeof a=="boolean"?a:Tc(a),o]},useSyncExternalStore:eS,useId:_S,useHostTransitionStatus:lg,useFormState:mS,useActionState:mS,useOptimistic:function(a,o){var h=hr();return Ft!==null?aS(h,Ft,a,o):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:Zm,useCacheRefresh:RS};BS.useEffectEvent=vS;function ug(a,o,h,p){o=a.memoizedState,h=h(p,o),h=h==null?o:m({},o,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var hg={enqueueSetState:function(a,o,h){a=a._reactInternals;var p=Ln(),v=Fs(p);v.payload=o,h!=null&&(v.callback=h),o=Is(a,v,p),o!==null&&(gn(o,a,p),Sc(o,a,p))},enqueueReplaceState:function(a,o,h){a=a._reactInternals;var p=Ln(),v=Fs(p);v.tag=1,v.payload=o,h!=null&&(v.callback=h),o=Is(a,v,p),o!==null&&(gn(o,a,p),Sc(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var h=Ln(),p=Fs(h);p.tag=2,o!=null&&(p.callback=o),o=Is(a,p,h),o!==null&&(gn(o,a,h),Sc(o,a,h))}};function zS(a,o,h,p,v,x,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,x,j):o.prototype&&o.prototype.isPureReactComponent?!pc(h,p)||!pc(v,x):!0}function jS(a,o,h,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,p),o.state!==a&&hg.enqueueReplaceState(o,o.state,null)}function qa(a,o){var h=o;if("ref"in o){h={};for(var p in o)p!=="ref"&&(h[p]=o[p])}if(a=a.defaultProps){h===o&&(h=m({},h));for(var v in a)h[v]===void 0&&(h[v]=a[v])}return h}function PS(a){Oh(a)}function FS(a){console.error(a)}function IS(a){Oh(a)}function Kh(a,o){try{var h=a.onUncaughtError;h(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function US(a,o,h){try{var p=a.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function fg(a,o,h){return h=Fs(h),h.tag=3,h.payload={element:null},h.callback=function(){Kh(a,o)},h}function HS(a){return a=Fs(a),a.tag=3,a}function qS(a,o,h,p){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var x=p.value;a.payload=function(){return v(x)},a.callback=function(){US(o,h,p)}}var j=h.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(a.callback=function(){US(o,h,p),typeof v!="function"&&($s===null?$s=new Set([this]):$s.add(this));var V=p.stack;this.componentDidCatch(p.value,{componentStack:V!==null?V:""})})}function yN(a,o,h,p,v){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=h.alternate,o!==null&&Ul(o,h,v,!0),h=Rn.current,h!==null){switch(h.tag){case 31:case 13:return Qn===null?uf():h.alternate===null&&ar===0&&(ar=3),h.flags&=-257,h.flags|=65536,h.lanes=v,p===Ph?h.flags|=16384:(o=h.updateQueue,o===null?h.updateQueue=new Set([p]):o.add(p),jg(a,p,v)),!1;case 22:return h.flags|=65536,p===Ph?h.flags|=16384:(o=h.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=o):(h=o.retryQueue,h===null?o.retryQueue=new Set([p]):h.add(p)),jg(a,p,v)),!1}throw Error(n(435,h.tag))}return jg(a,p,v),uf(),!1}if(wt)return o=Rn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==Nm&&(a=Error(n(422),{cause:p}),yc(Wn(a,h)))):(p!==Nm&&(o=Error(n(423),{cause:p}),yc(Wn(o,h))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,p=Wn(p,h),v=fg(a.stateNode,p,v),Hm(a,v),ar!==4&&(ar=2)),!1;var x=Error(n(520),{cause:p});if(x=Wn(x,h),zc===null?zc=[x]:zc.push(x),ar!==4&&(ar=2),o===null)return!0;p=Wn(p,h),h=o;do{switch(h.tag){case 3:return h.flags|=65536,a=v&-v,h.lanes|=a,a=fg(h.stateNode,p,a),Hm(h,a),!1;case 1:if(o=h.type,x=h.stateNode,(h.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($s===null||!$s.has(x))))return h.flags|=65536,v&=-v,h.lanes|=v,v=HS(v),qS(v,a,h,p),Hm(h,v),!1}h=h.return}while(h!==null);return!1}var dg=Error(n(461)),yr=!1;function zr(a,o,h,p){o.child=a===null?Gw(o,null,h,p):Ua(o,a.child,h,p)}function WS(a,o,h,p,v){h=h.render;var x=o.ref;if("ref"in p){var j={};for(var V in p)V!=="ref"&&(j[V]=p[V])}else j=p;return ja(o),p=Qm(a,o,h,j,x,v),V=Ym(),a!==null&&!yr?(Xm(a,o,v),rs(a,o,v)):(wt&&V&&_m(o),o.flags|=1,zr(a,o,p,v),o.child)}function VS(a,o,h,p,v){if(a===null){var x=h.type;return typeof x=="function"&&!Tm(x)&&x.defaultProps===void 0&&h.compare===null?(o.tag=15,o.type=x,$S(a,o,x,p,v)):(a=Mh(h.type,null,p,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!wg(a,v)){var j=x.memoizedProps;if(h=h.compare,h=h!==null?h:pc,h(j,p)&&a.ref===o.ref)return rs(a,o,v)}return o.flags|=1,a=Xi(x,p),a.ref=o.ref,a.return=o,o.child=a}function $S(a,o,h,p,v){if(a!==null){var x=a.memoizedProps;if(pc(x,p)&&a.ref===o.ref)if(yr=!1,o.pendingProps=p=x,wg(a,v))(a.flags&131072)!==0&&(yr=!0);else return o.lanes=a.lanes,rs(a,o,v)}return pg(a,o,h,p,v)}function GS(a,o,h,p){var v=p.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|h:h,a!==null){for(p=o.child=a.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~x}else p=0,o.child=null;return QS(a,o,x,h,p)}if((h&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&zh(o,x!==null?x.cachePool:null),x!==null?Xw(o,x):Wm(),Kw(o);else return p=o.lanes=536870912,QS(a,o,x!==null?x.baseLanes|h:h,h,p)}else x!==null?(zh(o,x.cachePool),Xw(o,x),Hs(),o.memoizedState=null):(a!==null&&zh(o,null),Wm(),Hs());return zr(a,o,v,h),o.child}function _c(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function QS(a,o,h,p,v){var x=Pm();return x=x===null?null:{parent:mr._currentValue,pool:x},o.memoizedState={baseLanes:h,cachePool:x},a!==null&&zh(o,null),Wm(),Kw(o),a!==null&&Ul(a,o,p,!0),o.childLanes=v,null}function Zh(a,o){return o=ef({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function YS(a,o,h){return Ua(o,a.child,null,h),a=Zh(o,o.pendingProps),a.flags|=2,Nn(o),o.memoizedState=null,a}function vN(a,o,h){var p=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(wt){if(p.mode==="hidden")return a=Zh(o,p),o.lanes=536870912,_c(null,a);if($m(o),(a=Jt)?(a=lk(a,Gn),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ls!==null?{id:Si,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},h=Mw(a),h.return=o,o.child=h,Lr=o,Jt=null)):a=null,a===null)throw zs(o);return o.lanes=536870912,null}return Zh(o,p)}var x=a.memoizedState;if(x!==null){var j=x.dehydrated;if($m(o),v)if(o.flags&256)o.flags&=-257,o=YS(a,o,h);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(yr||Ul(a,o,h,!1),v=(h&a.childLanes)!==0,yr||v){if(p=$t,p!==null&&(j=ye(p,h),j!==0&&j!==x.retryLane))throw x.retryLane=j,Da(a,j),gn(p,a,j),dg;uf(),o=YS(a,o,h)}else a=x.treeContext,Jt=Yn(j.nextSibling),Lr=o,wt=!0,Bs=null,Gn=!1,a!==null&&Bw(o,a),o=Zh(o,p),o.flags|=4096;return o}return a=Xi(a.child,{mode:p.mode,children:p.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Jh(a,o){var h=o.ref;if(h===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(a===null||a.ref!==h)&&(o.flags|=4194816)}}function pg(a,o,h,p,v){return ja(o),h=Qm(a,o,h,p,void 0,v),p=Ym(),a!==null&&!yr?(Xm(a,o,v),rs(a,o,v)):(wt&&p&&_m(o),o.flags|=1,zr(a,o,h,v),o.child)}function XS(a,o,h,p,v,x){return ja(o),o.updateQueue=null,h=Jw(o,p,h,v),Zw(a),p=Ym(),a!==null&&!yr?(Xm(a,o,x),rs(a,o,x)):(wt&&p&&_m(o),o.flags|=1,zr(a,o,h,x),o.child)}function KS(a,o,h,p,v){if(ja(o),o.stateNode===null){var x=jl,j=h.contextType;typeof j=="object"&&j!==null&&(x=Br(j)),x=new h(p,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=hg,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=p,x.state=o.memoizedState,x.refs={},Im(o),j=h.contextType,x.context=typeof j=="object"&&j!==null?Br(j):jl,x.state=o.memoizedState,j=h.getDerivedStateFromProps,typeof j=="function"&&(ug(o,h,j,p),x.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(j=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),j!==x.state&&hg.enqueueReplaceState(x,x.state,null),Ac(o,p,x,v),kc(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){x=o.stateNode;var V=o.memoizedProps,ae=qa(h,V);x.props=ae;var xe=x.context,Ce=h.contextType;j=jl,typeof Ce=="object"&&Ce!==null&&(j=Br(Ce));var Ne=h.getDerivedStateFromProps;Ce=typeof Ne=="function"||typeof x.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,Ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V||xe!==j)&&jS(o,x,p,j),Ps=!1;var we=o.memoizedState;x.state=we,Ac(o,p,x,v),kc(),xe=o.memoizedState,V||we!==xe||Ps?(typeof Ne=="function"&&(ug(o,h,Ne,p),xe=o.memoizedState),(ae=Ps||zS(o,h,ae,p,we,xe,j))?(Ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=xe),x.props=p,x.state=xe,x.context=j,p=ae):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{x=o.stateNode,Um(a,o),j=o.memoizedProps,Ce=qa(h,j),x.props=Ce,Ne=o.pendingProps,we=x.context,xe=h.contextType,ae=jl,typeof xe=="object"&&xe!==null&&(ae=Br(xe)),V=h.getDerivedStateFromProps,(xe=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==Ne||we!==ae)&&jS(o,x,p,ae),Ps=!1,we=o.memoizedState,x.state=we,Ac(o,p,x,v),kc();var Ae=o.memoizedState;j!==Ne||we!==Ae||Ps||a!==null&&a.dependencies!==null&&Lh(a.dependencies)?(typeof V=="function"&&(ug(o,h,V,p),Ae=o.memoizedState),(Ce=Ps||zS(o,h,Ce,p,we,Ae,ae)||a!==null&&a.dependencies!==null&&Lh(a.dependencies))?(xe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,Ae,ae),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,Ae,ae)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===a.memoizedProps&&we===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&we===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ae),x.props=p,x.state=Ae,x.context=ae,p=Ce):(typeof x.componentDidUpdate!="function"||j===a.memoizedProps&&we===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&we===a.memoizedState||(o.flags|=1024),p=!1)}return x=p,Jh(a,o),p=(o.flags&128)!==0,x||p?(x=o.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&p?(o.child=Ua(o,a.child,null,v),o.child=Ua(o,null,h,v)):zr(a,o,h,v),o.memoizedState=x.state,a=o.child):a=rs(a,o,v),a}function ZS(a,o,h,p){return Ba(),o.flags|=256,zr(a,o,h,p),o.child}var mg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gg(a){return{baseLanes:a,cachePool:Uw()}}function yg(a,o,h){return a=a!==null?a.childLanes&~h:0,o&&(a|=Dn),a}function JS(a,o,h){var p=o.pendingProps,v=!1,x=(o.flags&128)!==0,j;if((j=x)||(j=a!==null&&a.memoizedState===null?!1:(ur.current&2)!==0),j&&(v=!0,o.flags&=-129),j=(o.flags&32)!==0,o.flags&=-33,a===null){if(wt){if(v?Us(o):Hs(),(a=Jt)?(a=lk(a,Gn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ls!==null?{id:Si,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},h=Mw(a),h.return=o,o.child=h,Lr=o,Jt=null)):a=null,a===null)throw zs(o);return Jg(a)?o.lanes=32:o.lanes=536870912,null}var V=p.children;return p=p.fallback,v?(Hs(),v=o.mode,V=ef({mode:"hidden",children:V},v),p=La(p,v,h,null),V.return=o,p.return=o,V.sibling=p,o.child=V,p=o.child,p.memoizedState=gg(h),p.childLanes=yg(a,j,h),o.memoizedState=mg,_c(null,p)):(Us(o),vg(o,V))}var ae=a.memoizedState;if(ae!==null&&(V=ae.dehydrated,V!==null)){if(x)o.flags&256?(Us(o),o.flags&=-257,o=bg(a,o,h)):o.memoizedState!==null?(Hs(),o.child=a.child,o.flags|=128,o=null):(Hs(),V=p.fallback,v=o.mode,p=ef({mode:"visible",children:p.children},v),V=La(V,v,h,null),V.flags|=2,p.return=o,V.return=o,p.sibling=V,o.child=p,Ua(o,a.child,null,h),p=o.child,p.memoizedState=gg(h),p.childLanes=yg(a,j,h),o.memoizedState=mg,o=_c(null,p));else if(Us(o),Jg(V)){if(j=V.nextSibling&&V.nextSibling.dataset,j)var xe=j.dgst;j=xe,p=Error(n(419)),p.stack="",p.digest=j,yc({value:p,source:null,stack:null}),o=bg(a,o,h)}else if(yr||Ul(a,o,h,!1),j=(h&a.childLanes)!==0,yr||j){if(j=$t,j!==null&&(p=ye(j,h),p!==0&&p!==ae.retryLane))throw ae.retryLane=p,Da(a,p),gn(j,a,p),dg;Zg(V)||uf(),o=bg(a,o,h)}else Zg(V)?(o.flags|=192,o.child=a.child,o=null):(a=ae.treeContext,Jt=Yn(V.nextSibling),Lr=o,wt=!0,Bs=null,Gn=!1,a!==null&&Bw(o,a),o=vg(o,p.children),o.flags|=4096);return o}return v?(Hs(),V=p.fallback,v=o.mode,ae=a.child,xe=ae.sibling,p=Xi(ae,{mode:"hidden",children:p.children}),p.subtreeFlags=ae.subtreeFlags&65011712,xe!==null?V=Xi(xe,V):(V=La(V,v,h,null),V.flags|=2),V.return=o,p.return=o,p.sibling=V,o.child=p,_c(null,p),p=o.child,V=a.child.memoizedState,V===null?V=gg(h):(v=V.cachePool,v!==null?(ae=mr._currentValue,v=v.parent!==ae?{parent:ae,pool:ae}:v):v=Uw(),V={baseLanes:V.baseLanes|h,cachePool:v}),p.memoizedState=V,p.childLanes=yg(a,j,h),o.memoizedState=mg,_c(a.child,p)):(Us(o),h=a.child,a=h.sibling,h=Xi(h,{mode:"visible",children:p.children}),h.return=o,h.sibling=null,a!==null&&(j=o.deletions,j===null?(o.deletions=[a],o.flags|=16):j.push(a)),o.child=h,o.memoizedState=null,h)}function vg(a,o){return o=ef({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function ef(a,o){return a=_n(22,a,null,o),a.lanes=0,a}function bg(a,o,h){return Ua(o,a.child,null,h),a=vg(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function e2(a,o,h){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),Lm(a.return,o,h)}function xg(a,o,h,p,v,x){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:v,treeForkCount:x}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=p,j.tail=h,j.tailMode=v,j.treeForkCount=x)}function t2(a,o,h){var p=o.pendingProps,v=p.revealOrder,x=p.tail;p=p.children;var j=ur.current,V=(j&2)!==0;if(V?(j=j&1|2,o.flags|=128):j&=1,K(ur,j),zr(a,o,p,h),p=wt?gc:0,!V&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&e2(a,h,o);else if(a.tag===19)e2(a,h,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(h=o.child,v=null;h!==null;)a=h.alternate,a!==null&&Hh(a)===null&&(v=h),h=h.sibling;h=v,h===null?(v=o.child,o.child=null):(v=h.sibling,h.sibling=null),xg(o,!1,v,h,x,p);break;case"backwards":case"unstable_legacy-backwards":for(h=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Hh(a)===null){o.child=v;break}a=v.sibling,v.sibling=h,h=v,v=a}xg(o,!0,h,null,x,p);break;case"together":xg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function rs(a,o,h){if(a!==null&&(o.dependencies=a.dependencies),Vs|=o.lanes,(h&o.childLanes)===0)if(a!==null){if(Ul(a,o,h,!1),(h&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,h=Xi(a,a.pendingProps),o.child=h,h.return=o;a.sibling!==null;)a=a.sibling,h=h.sibling=Xi(a,a.pendingProps),h.return=o;h.sibling=null}return o.child}function wg(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Lh(a)))}function bN(a,o,h){switch(o.tag){case 3:B(o,o.stateNode.containerInfo),js(o,mr,a.memoizedState.cache),Ba();break;case 27:case 5:J(o);break;case 4:B(o,o.stateNode.containerInfo);break;case 10:js(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,$m(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Us(o),o.flags|=128,null):(h&o.child.childLanes)!==0?JS(a,o,h):(Us(o),a=rs(a,o,h),a!==null?a.sibling:null);Us(o);break;case 19:var v=(a.flags&128)!==0;if(p=(h&o.childLanes)!==0,p||(Ul(a,o,h,!1),p=(h&o.childLanes)!==0),v){if(p)return t2(a,o,h);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),K(ur,ur.current),p)break;return null;case 22:return o.lanes=0,GS(a,o,h,o.pendingProps);case 24:js(o,mr,a.memoizedState.cache)}return rs(a,o,h)}function r2(a,o,h){if(a!==null)if(a.memoizedProps!==o.pendingProps)yr=!0;else{if(!wg(a,h)&&(o.flags&128)===0)return yr=!1,bN(a,o,h);yr=(a.flags&131072)!==0}else yr=!1,wt&&(o.flags&1048576)!==0&&Lw(o,gc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(a=Fa(o.elementType),o.type=a,typeof a=="function")Tm(a)?(p=qa(a,p),o.tag=1,o=KS(null,o,a,p,h)):(o.tag=0,o=pg(null,o,a,p,h));else{if(a!=null){var v=a.$$typeof;if(v===A){o.tag=11,o=WS(null,o,a,p,h);break e}else if(v===M){o.tag=14,o=VS(null,o,a,p,h);break e}}throw o=R(a)||a,Error(n(306,o,""))}}return o;case 0:return pg(a,o,o.type,o.pendingProps,h);case 1:return p=o.type,v=qa(p,o.pendingProps),KS(a,o,p,v,h);case 3:e:{if(B(o,o.stateNode.containerInfo),a===null)throw Error(n(387));p=o.pendingProps;var x=o.memoizedState;v=x.element,Um(a,o),Ac(o,p,null,h);var j=o.memoizedState;if(p=j.cache,js(o,mr,p),p!==x.cache&&Bm(o,[mr],h,!0),kc(),p=j.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:j.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=ZS(a,o,p,h);break e}else if(p!==v){v=Wn(Error(n(424)),o),yc(v),o=ZS(a,o,p,h);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Jt=Yn(a.firstChild),Lr=o,wt=!0,Bs=null,Gn=!0,h=Gw(o,null,p,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Ba(),p===v){o=rs(a,o,h);break e}zr(a,o,p,h)}o=o.child}return o;case 26:return Jh(a,o),a===null?(h=dk(o.type,null,o.pendingProps,null))?o.memoizedState=h:wt||(h=o.type,a=o.pendingProps,p=yf(ie.current).createElement(h),p[Ie]=o,p[Ue]=a,jr(p,h,a),Vt(p),o.stateNode=p):o.memoizedState=dk(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return J(o),a===null&&wt&&(p=o.stateNode=uk(o.type,o.pendingProps,ie.current),Lr=o,Gn=!0,v=Jt,Xs(o.type)?(e0=v,Jt=Yn(p.firstChild)):Jt=v),zr(a,o,o.pendingProps.children,h),Jh(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&wt&&((v=p=Jt)&&(p=YN(p,o.type,o.pendingProps,Gn),p!==null?(o.stateNode=p,Lr=o,Jt=Yn(p.firstChild),Gn=!1,v=!0):v=!1),v||zs(o)),J(o),v=o.type,x=o.pendingProps,j=a!==null?a.memoizedProps:null,p=x.children,Yg(v,x)?p=null:j!==null&&Yg(v,j)&&(o.flags|=32),o.memoizedState!==null&&(v=Qm(a,o,uN,null,null,h),Wc._currentValue=v),Jh(a,o),zr(a,o,p,h),o.child;case 6:return a===null&&wt&&((a=h=Jt)&&(h=XN(h,o.pendingProps,Gn),h!==null?(o.stateNode=h,Lr=o,Jt=null,a=!0):a=!1),a||zs(o)),null;case 13:return JS(a,o,h);case 4:return B(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=Ua(o,null,p,h):zr(a,o,p,h),o.child;case 11:return WS(a,o,o.type,o.pendingProps,h);case 7:return zr(a,o,o.pendingProps,h),o.child;case 8:return zr(a,o,o.pendingProps.children,h),o.child;case 12:return zr(a,o,o.pendingProps.children,h),o.child;case 10:return p=o.pendingProps,js(o,o.type,p.value),zr(a,o,p.children,h),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,ja(o),v=Br(v),p=p(v),o.flags|=1,zr(a,o,p,h),o.child;case 14:return VS(a,o,o.type,o.pendingProps,h);case 15:return $S(a,o,o.type,o.pendingProps,h);case 19:return t2(a,o,h);case 31:return vN(a,o,h);case 22:return GS(a,o,h,o.pendingProps);case 24:return ja(o),p=Br(mr),a===null?(v=Pm(),v===null&&(v=$t,x=zm(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=h),v=x),o.memoizedState={parent:p,cache:v},Im(o),js(o,mr,v)):((a.lanes&h)!==0&&(Um(a,o),Ac(o,null,null,h),kc()),v=a.memoizedState,x=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),js(o,mr,p)):(p=x.cache,js(o,mr,p),p!==v.cache&&Bm(o,[mr],h,!0))),zr(a,o,o.pendingProps.children,h),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function ns(a){a.flags|=4}function Sg(a,o,h,p,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(_2())a.flags|=8192;else throw Ia=Ph,Fm}else a.flags&=-16777217}function n2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!vk(o))if(_2())a.flags|=8192;else throw Ia=Ph,Fm}function tf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Oa():536870912,a.lanes|=o,Jl|=o)}function Rc(a,o){if(!wt)switch(a.tailMode){case"hidden":o=a.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function er(a){var o=a.alternate!==null&&a.alternate.child===a.child,h=0,p=0;if(o)for(var v=a.child;v!==null;)h|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)h|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=p,a.childLanes=h,o}function xN(a,o,h){var p=o.pendingProps;switch(Rm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(o),null;case 1:return er(o),null;case 3:return h=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Ji(mr),te(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Il(o)?ns(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Mm())),er(o),null;case 26:var v=o.type,x=o.memoizedState;return a===null?(ns(o),x!==null?(er(o),n2(o,x)):(er(o),Sg(o,v,null,p,h))):x?x!==a.memoizedState?(ns(o),er(o),n2(o,x)):(er(o),o.flags&=-16777217):(a=a.memoizedProps,a!==p&&ns(o),er(o),Sg(o,v,a,p,h)),null;case 27:if(W(o),h=ie.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&ns(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return er(o),null}a=se.current,Il(o)?zw(o):(a=uk(v,p,h),o.stateNode=a,ns(o))}return er(o),null;case 5:if(W(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&ns(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return er(o),null}if(x=se.current,Il(o))zw(o);else{var j=yf(ie.current);switch(x){case 1:x=j.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=j.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=j.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=j.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=j.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof p.is=="string"?j.createElement("select",{is:p.is}):j.createElement("select"),p.multiple?x.multiple=!0:p.size&&(x.size=p.size);break;default:x=typeof p.is=="string"?j.createElement(v,{is:p.is}):j.createElement(v)}}x[Ie]=o,x[Ue]=p;e:for(j=o.child;j!==null;){if(j.tag===5||j.tag===6)x.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===o)break e;for(;j.sibling===null;){if(j.return===null||j.return===o)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}o.stateNode=x;e:switch(jr(x,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ns(o)}}return er(o),Sg(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,h),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&ns(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(a=ie.current,Il(o)){if(a=o.stateNode,h=o.memoizedProps,p=null,v=Lr,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}a[Ie]=o,a=!!(a.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||J2(a.nodeValue,h)),a||zs(o,!0)}else a=yf(a).createTextNode(p),a[Ie]=o,o.stateNode=a}return er(o),null;case 31:if(h=o.memoizedState,a===null||a.memoizedState!==null){if(p=Il(o),h!==null){if(a===null){if(!p)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Ie]=o}else Ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;er(o),a=!1}else h=Mm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return o.flags&256?(Nn(o),o):(Nn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return er(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Il(o),p!==null&&p.dehydrated!==null){if(a===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Ie]=o}else Ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;er(o),v=!1}else v=Mm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Nn(o),o):(Nn(o),null)}return Nn(o),(o.flags&128)!==0?(o.lanes=h,o):(h=p!==null,a=a!==null&&a.memoizedState!==null,h&&(p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),x=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(x=p.memoizedState.cachePool.pool),x!==v&&(p.flags|=2048)),h!==a&&h&&(o.child.flags|=8192),tf(o,o.updateQueue),er(o),null);case 4:return te(),a===null&&Wg(o.stateNode.containerInfo),er(o),null;case 10:return Ji(o.type),er(o),null;case 19:if(I(ur),p=o.memoizedState,p===null)return er(o),null;if(v=(o.flags&128)!==0,x=p.rendering,x===null)if(v)Rc(p,!1);else{if(ar!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Hh(a),x!==null){for(o.flags|=128,Rc(p,!1),a=x.updateQueue,o.updateQueue=a,tf(o,a),o.subtreeFlags=0,a=h,h=o.child;h!==null;)Nw(h,a),h=h.sibling;return K(ur,ur.current&1|2),wt&&Ki(o,p.treeForkCount),o.child}a=a.sibling}p.tail!==null&&Te()>lf&&(o.flags|=128,v=!0,Rc(p,!1),o.lanes=4194304)}else{if(!v)if(a=Hh(x),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,tf(o,a),Rc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!wt)return er(o),null}else 2*Te()-p.renderingStartTime>lf&&h!==536870912&&(o.flags|=128,v=!0,Rc(p,!1),o.lanes=4194304);p.isBackwards?(x.sibling=o.child,o.child=x):(a=p.last,a!==null?a.sibling=x:o.child=x,p.last=x)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Te(),a.sibling=null,h=ur.current,K(ur,v?h&1|2:h&1),wt&&Ki(o,p.treeForkCount),a):(er(o),null);case 22:case 23:return Nn(o),Vm(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(h&536870912)!==0&&(o.flags&128)===0&&(er(o),o.subtreeFlags&6&&(o.flags|=8192)):er(o),h=o.updateQueue,h!==null&&tf(o,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==h&&(o.flags|=2048),a!==null&&I(Pa),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ji(mr),er(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function wN(a,o){switch(Rm(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ji(mr),te(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return W(o),null;case 31:if(o.memoizedState!==null){if(Nn(o),o.alternate===null)throw Error(n(340));Ba()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Nn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ba()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return I(ur),null;case 4:return te(),null;case 10:return Ji(o.type),null;case 22:case 23:return Nn(o),Vm(),a!==null&&I(Pa),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ji(mr),null;case 25:return null;default:return null}}function i2(a,o){switch(Rm(o),o.tag){case 3:Ji(mr),te();break;case 26:case 27:case 5:W(o);break;case 4:te();break;case 31:o.memoizedState!==null&&Nn(o);break;case 13:Nn(o);break;case 19:I(ur);break;case 10:Ji(o.type);break;case 22:case 23:Nn(o),Vm(),a!==null&&I(Pa);break;case 24:Ji(mr)}}function Nc(a,o){try{var h=o.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var v=p.next;h=v;do{if((h.tag&a)===a){p=void 0;var x=h.create,j=h.inst;p=x(),j.destroy=p}h=h.next}while(h!==v)}}catch(V){jt(o,o.return,V)}}function qs(a,o,h){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var x=v.next;p=x;do{if((p.tag&a)===a){var j=p.inst,V=j.destroy;if(V!==void 0){j.destroy=void 0,v=o;var ae=h,xe=V;try{xe()}catch(Ce){jt(v,ae,Ce)}}}p=p.next}while(p!==x)}}catch(Ce){jt(o,o.return,Ce)}}function s2(a){var o=a.updateQueue;if(o!==null){var h=a.stateNode;try{Yw(o,h)}catch(p){jt(a,a.return,p)}}}function a2(a,o,h){h.props=qa(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(p){jt(a,o,p)}}function Mc(a,o){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof h=="function"?a.refCleanup=h(p):h.current=p}}catch(v){jt(a,o,v)}}function Ai(a,o){var h=a.ref,p=a.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(v){jt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){jt(a,o,v)}else h.current=null}function l2(a){var o=a.type,h=a.memoizedProps,p=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(v){jt(a,a.return,v)}}function kg(a,o,h){try{var p=a.stateNode;qN(p,a.type,h,o),p[Ue]=o}catch(v){jt(a,a.return,v)}}function o2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xs(a.type)||a.tag===4}function Ag(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||o2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Eg(a,o,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,o):(o=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,o.appendChild(a),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Qi));else if(p!==4&&(p===27&&Xs(a.type)&&(h=a.stateNode,o=null),a=a.child,a!==null))for(Eg(a,o,h),a=a.sibling;a!==null;)Eg(a,o,h),a=a.sibling}function rf(a,o,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?h.insertBefore(a,o):h.appendChild(a);else if(p!==4&&(p===27&&Xs(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(rf(a,o,h),a=a.sibling;a!==null;)rf(a,o,h),a=a.sibling}function c2(a){var o=a.stateNode,h=a.memoizedProps;try{for(var p=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);jr(o,p,h),o[Ie]=a,o[Ue]=h}catch(x){jt(a,a.return,x)}}var is=!1,vr=!1,Tg=!1,u2=typeof WeakSet=="function"?WeakSet:Set,Rr=null;function SN(a,o){if(a=a.containerInfo,Gg=Af,a=Sw(a),bm(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var v=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{h.nodeType,x.nodeType}catch{h=null;break e}var j=0,V=-1,ae=-1,xe=0,Ce=0,Ne=a,we=null;t:for(;;){for(var Ae;Ne!==h||v!==0&&Ne.nodeType!==3||(V=j+v),Ne!==x||p!==0&&Ne.nodeType!==3||(ae=j+p),Ne.nodeType===3&&(j+=Ne.nodeValue.length),(Ae=Ne.firstChild)!==null;)we=Ne,Ne=Ae;for(;;){if(Ne===a)break t;if(we===h&&++xe===v&&(V=j),we===x&&++Ce===p&&(ae=j),(Ae=Ne.nextSibling)!==null)break;Ne=we,we=Ne.parentNode}Ne=Ae}h=V===-1||ae===-1?null:{start:V,end:ae}}else h=null}h=h||{start:0,end:0}}else h=null;for(Qg={focusedElem:a,selectionRange:h},Af=!1,Rr=o;Rr!==null;)if(o=Rr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Rr=a;else for(;Rr!==null;){switch(o=Rr,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)v=a[h],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,h=o,v=x.memoizedProps,x=x.memoizedState,p=h.stateNode;try{var Ge=qa(h.type,v);a=p.getSnapshotBeforeUpdate(Ge,x),p.__reactInternalSnapshotBeforeUpdate=a}catch(nt){jt(h,h.return,nt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,h=a.nodeType,h===9)Kg(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Kg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,Rr=a;break}Rr=o.return}}function h2(a,o,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:as(a,h),p&4&&Nc(5,h);break;case 1:if(as(a,h),p&4)if(a=h.stateNode,o===null)try{a.componentDidMount()}catch(j){jt(h,h.return,j)}else{var v=qa(h.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(j){jt(h,h.return,j)}}p&64&&s2(h),p&512&&Mc(h,h.return);break;case 3:if(as(a,h),p&64&&(a=h.updateQueue,a!==null)){if(o=null,h.child!==null)switch(h.child.tag){case 27:case 5:o=h.child.stateNode;break;case 1:o=h.child.stateNode}try{Yw(a,o)}catch(j){jt(h,h.return,j)}}break;case 27:o===null&&p&4&&c2(h);case 26:case 5:as(a,h),o===null&&p&4&&l2(h),p&512&&Mc(h,h.return);break;case 12:as(a,h);break;case 31:as(a,h),p&4&&p2(a,h);break;case 13:as(a,h),p&4&&m2(a,h),p&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=NN.bind(null,h),KN(a,h))));break;case 22:if(p=h.memoizedState!==null||is,!p){o=o!==null&&o.memoizedState!==null||vr,v=is;var x=vr;is=p,(vr=o)&&!x?ls(a,h,(h.subtreeFlags&8772)!==0):as(a,h),is=v,vr=x}break;case 30:break;default:as(a,h)}}function f2(a){var o=a.alternate;o!==null&&(a.alternate=null,f2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&ir(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var tr=null,fn=!1;function ss(a,o,h){for(h=h.child;h!==null;)d2(a,o,h),h=h.sibling}function d2(a,o,h){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Lt,h)}catch{}switch(h.tag){case 26:vr||Ai(h,o),ss(a,o,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:vr||Ai(h,o);var p=tr,v=fn;Xs(h.type)&&(tr=h.stateNode,fn=!1),ss(a,o,h),Uc(h.stateNode),tr=p,fn=v;break;case 5:vr||Ai(h,o);case 6:if(p=tr,v=fn,tr=null,ss(a,o,h),tr=p,fn=v,tr!==null)if(fn)try{(tr.nodeType===9?tr.body:tr.nodeName==="HTML"?tr.ownerDocument.body:tr).removeChild(h.stateNode)}catch(x){jt(h,o,x)}else try{tr.removeChild(h.stateNode)}catch(x){jt(h,o,x)}break;case 18:tr!==null&&(fn?(a=tr,sk(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),lo(a)):sk(tr,h.stateNode));break;case 4:p=tr,v=fn,tr=h.stateNode.containerInfo,fn=!0,ss(a,o,h),tr=p,fn=v;break;case 0:case 11:case 14:case 15:qs(2,h,o),vr||qs(4,h,o),ss(a,o,h);break;case 1:vr||(Ai(h,o),p=h.stateNode,typeof p.componentWillUnmount=="function"&&a2(h,o,p)),ss(a,o,h);break;case 21:ss(a,o,h);break;case 22:vr=(p=vr)||h.memoizedState!==null,ss(a,o,h),vr=p;break;default:ss(a,o,h)}}function p2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{lo(a)}catch(h){jt(o,o.return,h)}}}function m2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{lo(a)}catch(h){jt(o,o.return,h)}}function kN(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new u2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new u2),o;default:throw Error(n(435,a.tag))}}function nf(a,o){var h=kN(a);o.forEach(function(p){if(!h.has(p)){h.add(p);var v=MN.bind(null,a,p);p.then(v,v)}})}function dn(a,o){var h=o.deletions;if(h!==null)for(var p=0;p<h.length;p++){var v=h[p],x=a,j=o,V=j;e:for(;V!==null;){switch(V.tag){case 27:if(Xs(V.type)){tr=V.stateNode,fn=!1;break e}break;case 5:tr=V.stateNode,fn=!1;break e;case 3:case 4:tr=V.stateNode.containerInfo,fn=!0;break e}V=V.return}if(tr===null)throw Error(n(160));d2(x,j,v),tr=null,fn=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)g2(o,a),o=o.sibling}var ci=null;function g2(a,o){var h=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dn(o,a),pn(a),p&4&&(qs(3,a,a.return),Nc(3,a),qs(5,a,a.return));break;case 1:dn(o,a),pn(a),p&512&&(vr||h===null||Ai(h,h.return)),p&64&&is&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var v=ci;if(dn(o,a),pn(a),p&512&&(vr||h===null||Ai(h,h.return)),p&4){var x=h!==null?h.memoizedState:null;if(p=a.memoizedState,h===null)if(p===null)if(a.stateNode===null){e:{p=a.type,h=a.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":x=v.getElementsByTagName("title")[0],(!x||x[Zt]||x[Ie]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(p),v.head.insertBefore(x,v.querySelector("head > title"))),jr(x,p,h),x[Ie]=a,Vt(x),p=x;break e;case"link":var j=gk("link","href",v).get(p+(h.href||""));if(j){for(var V=0;V<j.length;V++)if(x=j[V],x.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&x.getAttribute("rel")===(h.rel==null?null:h.rel)&&x.getAttribute("title")===(h.title==null?null:h.title)&&x.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){j.splice(V,1);break t}}x=v.createElement(p),jr(x,p,h),v.head.appendChild(x);break;case"meta":if(j=gk("meta","content",v).get(p+(h.content||""))){for(V=0;V<j.length;V++)if(x=j[V],x.getAttribute("content")===(h.content==null?null:""+h.content)&&x.getAttribute("name")===(h.name==null?null:h.name)&&x.getAttribute("property")===(h.property==null?null:h.property)&&x.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&x.getAttribute("charset")===(h.charSet==null?null:h.charSet)){j.splice(V,1);break t}}x=v.createElement(p),jr(x,p,h),v.head.appendChild(x);break;default:throw Error(n(468,p))}x[Ie]=a,Vt(x),p=x}a.stateNode=p}else yk(v,a.type,a.stateNode);else a.stateNode=mk(v,p,a.memoizedProps);else x!==p?(x===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):x.count--,p===null?yk(v,a.type,a.stateNode):mk(v,p,a.memoizedProps)):p===null&&a.stateNode!==null&&kg(a,a.memoizedProps,h.memoizedProps)}break;case 27:dn(o,a),pn(a),p&512&&(vr||h===null||Ai(h,h.return)),h!==null&&p&4&&kg(a,a.memoizedProps,h.memoizedProps);break;case 5:if(dn(o,a),pn(a),p&512&&(vr||h===null||Ai(h,h.return)),a.flags&32){v=a.stateNode;try{Rl(v,"")}catch(Ge){jt(a,a.return,Ge)}}p&4&&a.stateNode!=null&&(v=a.memoizedProps,kg(a,v,h!==null?h.memoizedProps:v)),p&1024&&(Tg=!0);break;case 6:if(dn(o,a),pn(a),p&4){if(a.stateNode===null)throw Error(n(162));p=a.memoizedProps,h=a.stateNode;try{h.nodeValue=p}catch(Ge){jt(a,a.return,Ge)}}break;case 3:if(xf=null,v=ci,ci=vf(o.containerInfo),dn(o,a),ci=v,pn(a),p&4&&h!==null&&h.memoizedState.isDehydrated)try{lo(o.containerInfo)}catch(Ge){jt(a,a.return,Ge)}Tg&&(Tg=!1,y2(a));break;case 4:p=ci,ci=vf(a.stateNode.containerInfo),dn(o,a),pn(a),ci=p;break;case 12:dn(o,a),pn(a);break;case 31:dn(o,a),pn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nf(a,p)));break;case 13:dn(o,a),pn(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(af=Te()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nf(a,p)));break;case 22:v=a.memoizedState!==null;var ae=h!==null&&h.memoizedState!==null,xe=is,Ce=vr;if(is=xe||v,vr=Ce||ae,dn(o,a),vr=Ce,is=xe,pn(a),p&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(h===null||ae||is||vr||Wa(a)),h=null,o=a;;){if(o.tag===5||o.tag===26){if(h===null){ae=h=o;try{if(x=ae.stateNode,v)j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{V=ae.stateNode;var Ne=ae.memoizedProps.style,we=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;V.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(Ge){jt(ae,ae.return,Ge)}}}else if(o.tag===6){if(h===null){ae=o;try{ae.stateNode.nodeValue=v?"":ae.memoizedProps}catch(Ge){jt(ae,ae.return,Ge)}}}else if(o.tag===18){if(h===null){ae=o;try{var Ae=ae.stateNode;v?ak(Ae,!0):ak(ae.stateNode,!1)}catch(Ge){jt(ae,ae.return,Ge)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,nf(a,h))));break;case 19:dn(o,a),pn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nf(a,p)));break;case 30:break;case 21:break;default:dn(o,a),pn(a)}}function pn(a){var o=a.flags;if(o&2){try{for(var h,p=a.return;p!==null;){if(o2(p)){h=p;break}p=p.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var v=h.stateNode,x=Ag(a);rf(a,x,v);break;case 5:var j=h.stateNode;h.flags&32&&(Rl(j,""),h.flags&=-33);var V=Ag(a);rf(a,V,j);break;case 3:case 4:var ae=h.stateNode.containerInfo,xe=Ag(a);Eg(a,xe,ae);break;default:throw Error(n(161))}}catch(Ce){jt(a,a.return,Ce)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function y2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;y2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function as(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)h2(a,o.alternate,o),o=o.sibling}function Wa(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:qs(4,o,o.return),Wa(o);break;case 1:Ai(o,o.return);var h=o.stateNode;typeof h.componentWillUnmount=="function"&&a2(o,o.return,h),Wa(o);break;case 27:Uc(o.stateNode);case 26:case 5:Ai(o,o.return),Wa(o);break;case 22:o.memoizedState===null&&Wa(o);break;case 30:Wa(o);break;default:Wa(o)}a=a.sibling}}function ls(a,o,h){for(h=h&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=a,x=o,j=x.flags;switch(x.tag){case 0:case 11:case 15:ls(v,x,h),Nc(4,x);break;case 1:if(ls(v,x,h),p=x,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(xe){jt(p,p.return,xe)}if(p=x,v=p.updateQueue,v!==null){var V=p.stateNode;try{var ae=v.shared.hiddenCallbacks;if(ae!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ae.length;v++)Qw(ae[v],V)}catch(xe){jt(p,p.return,xe)}}h&&j&64&&s2(x),Mc(x,x.return);break;case 27:c2(x);case 26:case 5:ls(v,x,h),h&&p===null&&j&4&&l2(x),Mc(x,x.return);break;case 12:ls(v,x,h);break;case 31:ls(v,x,h),h&&j&4&&p2(v,x);break;case 13:ls(v,x,h),h&&j&4&&m2(v,x);break;case 22:x.memoizedState===null&&ls(v,x,h),Mc(x,x.return);break;case 30:break;default:ls(v,x,h)}o=o.sibling}}function Cg(a,o){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&vc(h))}function Og(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&vc(a))}function ui(a,o,h,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)v2(a,o,h,p),o=o.sibling}function v2(a,o,h,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ui(a,o,h,p),v&2048&&Nc(9,o);break;case 1:ui(a,o,h,p);break;case 3:ui(a,o,h,p),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&vc(a)));break;case 12:if(v&2048){ui(a,o,h,p),a=o.stateNode;try{var x=o.memoizedProps,j=x.id,V=x.onPostCommit;typeof V=="function"&&V(j,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ae){jt(o,o.return,ae)}}else ui(a,o,h,p);break;case 31:ui(a,o,h,p);break;case 13:ui(a,o,h,p);break;case 23:break;case 22:x=o.stateNode,j=o.alternate,o.memoizedState!==null?x._visibility&2?ui(a,o,h,p):Dc(a,o):x._visibility&2?ui(a,o,h,p):(x._visibility|=2,Xl(a,o,h,p,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Cg(j,o);break;case 24:ui(a,o,h,p),v&2048&&Og(o.alternate,o);break;default:ui(a,o,h,p)}}function Xl(a,o,h,p,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,j=o,V=h,ae=p,xe=j.flags;switch(j.tag){case 0:case 11:case 15:Xl(x,j,V,ae,v),Nc(8,j);break;case 23:break;case 22:var Ce=j.stateNode;j.memoizedState!==null?Ce._visibility&2?Xl(x,j,V,ae,v):Dc(x,j):(Ce._visibility|=2,Xl(x,j,V,ae,v)),v&&xe&2048&&Cg(j.alternate,j);break;case 24:Xl(x,j,V,ae,v),v&&xe&2048&&Og(j.alternate,j);break;default:Xl(x,j,V,ae,v)}o=o.sibling}}function Dc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var h=a,p=o,v=p.flags;switch(p.tag){case 22:Dc(h,p),v&2048&&Cg(p.alternate,p);break;case 24:Dc(h,p),v&2048&&Og(p.alternate,p);break;default:Dc(h,p)}o=o.sibling}}var Lc=8192;function Kl(a,o,h){if(a.subtreeFlags&Lc)for(a=a.child;a!==null;)b2(a,o,h),a=a.sibling}function b2(a,o,h){switch(a.tag){case 26:Kl(a,o,h),a.flags&Lc&&a.memoizedState!==null&&cM(h,ci,a.memoizedState,a.memoizedProps);break;case 5:Kl(a,o,h);break;case 3:case 4:var p=ci;ci=vf(a.stateNode.containerInfo),Kl(a,o,h),ci=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Lc,Lc=16777216,Kl(a,o,h),Lc=p):Kl(a,o,h));break;default:Kl(a,o,h)}}function x2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Bc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var p=o[h];Rr=p,S2(p,a)}x2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)w2(a),a=a.sibling}function w2(a){switch(a.tag){case 0:case 11:case 15:Bc(a),a.flags&2048&&qs(9,a,a.return);break;case 3:Bc(a);break;case 12:Bc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,sf(a)):Bc(a);break;default:Bc(a)}}function sf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var p=o[h];Rr=p,S2(p,a)}x2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:qs(8,o,o.return),sf(o);break;case 22:h=o.stateNode,h._visibility&2&&(h._visibility&=-3,sf(o));break;default:sf(o)}a=a.sibling}}function S2(a,o){for(;Rr!==null;){var h=Rr;switch(h.tag){case 0:case 11:case 15:qs(8,h,o);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:vc(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Rr=p;else e:for(h=a;Rr!==null;){p=Rr;var v=p.sibling,x=p.return;if(f2(p),p===h){Rr=null;break e}if(v!==null){v.return=x,Rr=v;break e}Rr=x}}}var AN={getCacheForType:function(a){var o=Br(mr),h=o.data.get(a);return h===void 0&&(h=a(),o.data.set(a,h)),h},cacheSignal:function(){return Br(mr).controller.signal}},EN=typeof WeakMap=="function"?WeakMap:Map,Nt=0,$t=null,ft=null,gt=0,zt=0,Mn=null,Ws=!1,Zl=!1,_g=!1,os=0,ar=0,Vs=0,Va=0,Rg=0,Dn=0,Jl=0,zc=null,mn=null,Ng=!1,af=0,k2=0,lf=1/0,of=null,$s=null,kr=0,Gs=null,eo=null,cs=0,Mg=0,Dg=null,A2=null,jc=0,Lg=null;function Ln(){return(Nt&2)!==0&&gt!==0?gt&-gt:X.T!==null?Ig():Pe()}function E2(){if(Dn===0)if((gt&536870912)===0||wt){var a=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),Dn=a}else Dn=536870912;return a=Rn.current,a!==null&&(a.flags|=32),Dn}function gn(a,o,h){(a===$t&&(zt===2||zt===9)||a.cancelPendingCommit!==null)&&(to(a,0),Qs(a,gt,Dn,!1)),Ms(a,h),((Nt&2)===0||a!==$t)&&(a===$t&&((Nt&2)===0&&(Va|=h),ar===4&&Qs(a,gt,Dn,!1)),Ei(a))}function T2(a,o,h){if((Nt&6)!==0)throw Error(n(327));var p=!h&&(o&127)===0&&(o&a.expiredLanes)===0||Ca(a,o),v=p?ON(a,o):zg(a,o,!0),x=p;do{if(v===0){Zl&&!p&&Qs(a,o,0,!1);break}else{if(h=a.current.alternate,x&&!TN(h)){v=zg(a,o,!1),x=!1;continue}if(v===2){if(x=o,a.errorRecoveryDisabledLanes&x)var j=0;else j=a.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){o=j;e:{var V=a;v=zc;var ae=V.current.memoizedState.isDehydrated;if(ae&&(to(V,j).flags|=256),j=zg(V,j,!1),j!==2){if(_g&&!ae){V.errorRecoveryDisabledLanes|=x,Va|=x,v=4;break e}x=mn,mn=v,x!==null&&(mn===null?mn=x:mn.push.apply(mn,x))}v=j}if(x=!1,v!==2)continue}}if(v===1){to(a,0),Qs(a,o,0,!0);break}e:{switch(p=a,x=v,x){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Qs(p,o,Dn,!Ws);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=af+300-Te(),10<v)){if(Qs(p,o,Dn,!Ws),Ta(p,0,!0)!==0)break e;cs=o,p.timeoutHandle=nk(C2.bind(null,p,h,mn,of,Ng,o,Dn,Va,Jl,Ws,x,"Throttled",-0,0),v);break e}C2(p,h,mn,of,Ng,o,Dn,Va,Jl,Ws,x,null,-0,0)}}break}while(!0);Ei(a)}function C2(a,o,h,p,v,x,j,V,ae,xe,Ce,Ne,we,Ae){if(a.timeoutHandle=-1,Ne=o.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qi},b2(o,x,Ne);var Ge=(x&62914560)===x?af-Te():(x&4194048)===x?k2-Te():0;if(Ge=uM(Ne,Ge),Ge!==null){cs=x,a.cancelPendingCommit=Ge(B2.bind(null,a,o,x,h,p,v,j,V,ae,Ce,Ne,null,we,Ae)),Qs(a,x,j,!xe);return}}B2(a,o,x,h,p,v,j,V,ae)}function TN(a){for(var o=a;;){var h=o.tag;if((h===0||h===11||h===15)&&o.flags&16384&&(h=o.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var v=h[p],x=v.getSnapshot;v=v.value;try{if(!On(x(),v))return!1}catch{return!1}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qs(a,o,h,p){o&=~Rg,o&=~Va,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var v=o;0<v;){var x=31-Xt(v),j=1<<x;p[x]=-1,v&=~j}h!==0&&bh(a,h,o)}function cf(){return(Nt&6)===0?(Pc(0),!1):!0}function Bg(){if(ft!==null){if(zt===0)var a=ft.return;else a=ft,Zi=za=null,Km(a),Vl=null,xc=0,a=ft;for(;a!==null;)i2(a.alternate,a),a=a.return;ft=null}}function to(a,o){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,$N(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),cs=0,Bg(),$t=a,ft=h=Xi(a.current,null),gt=o,zt=0,Mn=null,Ws=!1,Zl=Ca(a,o),_g=!1,Jl=Dn=Rg=Va=Vs=ar=0,mn=zc=null,Ng=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var v=31-Xt(p),x=1<<v;o|=a[v],p&=~x}return os=o,_h(),h}function O2(a,o){at=null,X.H=Oc,o===Wl||o===jh?(o=Ww(),zt=3):o===Fm?(o=Ww(),zt=4):zt=o===dg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mn=o,ft===null&&(ar=1,Kh(a,Wn(o,a.current)))}function _2(){var a=Rn.current;return a===null?!0:(gt&4194048)===gt?Qn===null:(gt&62914560)===gt||(gt&536870912)!==0?a===Qn:!1}function R2(){var a=X.H;return X.H=Oc,a===null?Oc:a}function N2(){var a=X.A;return X.A=AN,a}function uf(){ar=4,Ws||(gt&4194048)!==gt&&Rn.current!==null||(Zl=!0),(Vs&134217727)===0&&(Va&134217727)===0||$t===null||Qs($t,gt,Dn,!1)}function zg(a,o,h){var p=Nt;Nt|=2;var v=R2(),x=N2();($t!==a||gt!==o)&&(of=null,to(a,o)),o=!1;var j=ar;e:do try{if(zt!==0&&ft!==null){var V=ft,ae=Mn;switch(zt){case 8:Bg(),j=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(o=!0);var xe=zt;if(zt=0,Mn=null,ro(a,V,ae,xe),h&&Zl){j=0;break e}break;default:xe=zt,zt=0,Mn=null,ro(a,V,ae,xe)}}CN(),j=ar;break}catch(Ce){O2(a,Ce)}while(!0);return o&&a.shellSuspendCounter++,Zi=za=null,Nt=p,X.H=v,X.A=x,ft===null&&($t=null,gt=0,_h()),j}function CN(){for(;ft!==null;)M2(ft)}function ON(a,o){var h=Nt;Nt|=2;var p=R2(),v=N2();$t!==a||gt!==o?(of=null,lf=Te()+500,to(a,o)):Zl=Ca(a,o);e:do try{if(zt!==0&&ft!==null){o=ft;var x=Mn;t:switch(zt){case 1:zt=0,Mn=null,ro(a,o,x,1);break;case 2:case 9:if(Hw(x)){zt=0,Mn=null,D2(o);break}o=function(){zt!==2&&zt!==9||$t!==a||(zt=7),Ei(a)},x.then(o,o);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Hw(x)?(zt=0,Mn=null,D2(o)):(zt=0,Mn=null,ro(a,o,x,7));break;case 5:var j=null;switch(ft.tag){case 26:j=ft.memoizedState;case 5:case 27:var V=ft;if(j?vk(j):V.stateNode.complete){zt=0,Mn=null;var ae=V.sibling;if(ae!==null)ft=ae;else{var xe=V.return;xe!==null?(ft=xe,hf(xe)):ft=null}break t}}zt=0,Mn=null,ro(a,o,x,5);break;case 6:zt=0,Mn=null,ro(a,o,x,6);break;case 8:Bg(),ar=6;break e;default:throw Error(n(462))}}_N();break}catch(Ce){O2(a,Ce)}while(!0);return Zi=za=null,X.H=p,X.A=v,Nt=h,ft!==null?0:($t=null,gt=0,_h(),ar)}function _N(){for(;ft!==null&&!ne();)M2(ft)}function M2(a){var o=r2(a.alternate,a,os);a.memoizedProps=a.pendingProps,o===null?hf(a):ft=o}function D2(a){var o=a,h=o.alternate;switch(o.tag){case 15:case 0:o=XS(h,o,o.pendingProps,o.type,void 0,gt);break;case 11:o=XS(h,o,o.pendingProps,o.type.render,o.ref,gt);break;case 5:Km(o);default:i2(h,o),o=ft=Nw(o,os),o=r2(h,o,os)}a.memoizedProps=a.pendingProps,o===null?hf(a):ft=o}function ro(a,o,h,p){Zi=za=null,Km(o),Vl=null,xc=0;var v=o.return;try{if(yN(a,v,o,h,gt)){ar=1,Kh(a,Wn(h,a.current)),ft=null;return}}catch(x){if(v!==null)throw ft=v,x;ar=1,Kh(a,Wn(h,a.current)),ft=null;return}o.flags&32768?(wt||p===1?a=!0:Zl||(gt&536870912)!==0?a=!1:(Ws=a=!0,(p===2||p===9||p===3||p===6)&&(p=Rn.current,p!==null&&p.tag===13&&(p.flags|=16384))),L2(o,a)):hf(o)}function hf(a){var o=a;do{if((o.flags&32768)!==0){L2(o,Ws);return}a=o.return;var h=xN(o.alternate,o,os);if(h!==null){ft=h;return}if(o=o.sibling,o!==null){ft=o;return}ft=o=a}while(o!==null);ar===0&&(ar=5)}function L2(a,o){do{var h=wN(a.alternate,a);if(h!==null){h.flags&=32767,ft=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!o&&(a=a.sibling,a!==null)){ft=a;return}ft=a=h}while(a!==null);ar=6,ft=null}function B2(a,o,h,p,v,x,j,V,ae){a.cancelPendingCommit=null;do ff();while(kr!==0);if((Nt&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(x=o.lanes|o.childLanes,x|=Am,tm(a,h,x,j,V,ae),a===$t&&(ft=$t=null,gt=0),eo=o,Gs=a,cs=h,Mg=x,Dg=v,A2=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,DN(Qe,function(){return I2(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=X.T,X.T=null,v=G.p,G.p=2,j=Nt,Nt|=4;try{SN(a,o,h)}finally{Nt=j,G.p=v,X.T=p}}kr=1,z2(),j2(),P2()}}function z2(){if(kr===1){kr=0;var a=Gs,o=eo,h=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||h){h=X.T,X.T=null;var p=G.p;G.p=2;var v=Nt;Nt|=4;try{g2(o,a);var x=Qg,j=Sw(a.containerInfo),V=x.focusedElem,ae=x.selectionRange;if(j!==V&&V&&V.ownerDocument&&ww(V.ownerDocument.documentElement,V)){if(ae!==null&&bm(V)){var xe=ae.start,Ce=ae.end;if(Ce===void 0&&(Ce=xe),"selectionStart"in V)V.selectionStart=xe,V.selectionEnd=Math.min(Ce,V.value.length);else{var Ne=V.ownerDocument||document,we=Ne&&Ne.defaultView||window;if(we.getSelection){var Ae=we.getSelection(),Ge=V.textContent.length,nt=Math.min(ae.start,Ge),Ut=ae.end===void 0?nt:Math.min(ae.end,Ge);!Ae.extend&&nt>Ut&&(j=Ut,Ut=nt,nt=j);var me=xw(V,nt),de=xw(V,Ut);if(me&&de&&(Ae.rangeCount!==1||Ae.anchorNode!==me.node||Ae.anchorOffset!==me.offset||Ae.focusNode!==de.node||Ae.focusOffset!==de.offset)){var be=Ne.createRange();be.setStart(me.node,me.offset),Ae.removeAllRanges(),nt>Ut?(Ae.addRange(be),Ae.extend(de.node,de.offset)):(be.setEnd(de.node,de.offset),Ae.addRange(be))}}}}for(Ne=[],Ae=V;Ae=Ae.parentNode;)Ae.nodeType===1&&Ne.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Ne.length;V++){var _e=Ne[V];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Af=!!Gg,Qg=Gg=null}finally{Nt=v,G.p=p,X.T=h}}a.current=o,kr=2}}function j2(){if(kr===2){kr=0;var a=Gs,o=eo,h=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||h){h=X.T,X.T=null;var p=G.p;G.p=2;var v=Nt;Nt|=4;try{h2(a,o.alternate,o)}finally{Nt=v,G.p=p,X.T=h}}kr=3}}function P2(){if(kr===4||kr===3){kr=0,Ee();var a=Gs,o=eo,h=cs,p=A2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?kr=5:(kr=0,eo=Gs=null,F2(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&($s=null),Be(h),o=o.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Lt,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=X.T,v=G.p,G.p=2,X.T=null;try{for(var x=a.onRecoverableError,j=0;j<p.length;j++){var V=p[j];x(V.value,{componentStack:V.stack})}}finally{X.T=o,G.p=v}}(cs&3)!==0&&ff(),Ei(a),v=a.pendingLanes,(h&261930)!==0&&(v&42)!==0?a===Lg?jc++:(jc=0,Lg=a):jc=0,Pc(0)}}function F2(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,vc(o)))}function ff(){return z2(),j2(),P2(),I2()}function I2(){if(kr!==5)return!1;var a=Gs,o=Mg;Mg=0;var h=Be(cs),p=X.T,v=G.p;try{G.p=32>h?32:h,X.T=null,h=Dg,Dg=null;var x=Gs,j=cs;if(kr=0,eo=Gs=null,cs=0,(Nt&6)!==0)throw Error(n(331));var V=Nt;if(Nt|=4,w2(x.current),v2(x,x.current,j,h),Nt=V,Pc(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Lt,x)}catch{}return!0}finally{G.p=v,X.T=p,F2(a,o)}}function U2(a,o,h){o=Wn(h,o),o=fg(a.stateNode,o,2),a=Is(a,o,2),a!==null&&(Ms(a,2),Ei(a))}function jt(a,o,h){if(a.tag===3)U2(a,a,h);else for(;o!==null;){if(o.tag===3){U2(o,a,h);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&($s===null||!$s.has(p))){a=Wn(h,a),h=HS(2),p=Is(o,h,2),p!==null&&(qS(h,p,o,a),Ms(p,2),Ei(p));break}}o=o.return}}function jg(a,o,h){var p=a.pingCache;if(p===null){p=a.pingCache=new EN;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(h)||(_g=!0,v.add(h),a=RN.bind(null,a,o,h),o.then(a,a))}function RN(a,o,h){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,$t===a&&(gt&h)===h&&(ar===4||ar===3&&(gt&62914560)===gt&&300>Te()-af?(Nt&2)===0&&to(a,0):Rg|=h,Jl===gt&&(Jl=0)),Ei(a)}function H2(a,o){o===0&&(o=Oa()),a=Da(a,o),a!==null&&(Ms(a,o),Ei(a))}function NN(a){var o=a.memoizedState,h=0;o!==null&&(h=o.retryLane),H2(a,h)}function MN(a,o){var h=0;switch(a.tag){case 31:case 13:var p=a.stateNode,v=a.memoizedState;v!==null&&(h=v.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),H2(a,h)}function DN(a,o){return Z(a,o)}var df=null,no=null,Pg=!1,pf=!1,Fg=!1,Ys=0;function Ei(a){a!==no&&a.next===null&&(no===null?df=no=a:no=no.next=a),pf=!0,Pg||(Pg=!0,BN())}function Pc(a,o){if(!Fg&&pf){Fg=!0;do for(var h=!1,p=df;p!==null;){if(a!==0){var v=p.pendingLanes;if(v===0)var x=0;else{var j=p.suspendedLanes,V=p.pingedLanes;x=(1<<31-Xt(42|a)+1)-1,x&=v&~(j&~V),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(h=!0,$2(p,x))}else x=gt,x=Ta(p,p===$t?x:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(x&3)===0||Ca(p,x)||(h=!0,$2(p,x));p=p.next}while(h);Fg=!1}}function LN(){q2()}function q2(){pf=Pg=!1;var a=0;Ys!==0&&VN()&&(a=Ys);for(var o=Te(),h=null,p=df;p!==null;){var v=p.next,x=W2(p,o);x===0?(p.next=null,h===null?df=v:h.next=v,v===null&&(no=h)):(h=p,(a!==0||(x&3)!==0)&&(pf=!0)),p=v}kr!==0&&kr!==5||Pc(a),Ys!==0&&(Ys=0)}function W2(a,o){for(var h=a.suspendedLanes,p=a.pingedLanes,v=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var j=31-Xt(x),V=1<<j,ae=v[j];ae===-1?((V&h)===0||(V&p)!==0)&&(v[j]=vh(V,o)):ae<=o&&(a.expiredLanes|=V),x&=~V}if(o=$t,h=gt,h=Ta(a,a===o?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,h===0||a===o&&(zt===2||zt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&oe(p),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Ca(a,h)){if(o=h&-h,o===a.callbackPriority)return o;switch(p!==null&&oe(p),Be(h)){case 2:case 8:h=Ve;break;case 32:h=Qe;break;case 268435456:h=an;break;default:h=Qe}return p=V2.bind(null,a),h=Z(h,p),a.callbackPriority=o,a.callbackNode=h,o}return p!==null&&p!==null&&oe(p),a.callbackPriority=2,a.callbackNode=null,2}function V2(a,o){if(kr!==0&&kr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(ff()&&a.callbackNode!==h)return null;var p=gt;return p=Ta(a,a===$t?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(T2(a,p,o),W2(a,Te()),a.callbackNode!=null&&a.callbackNode===h?V2.bind(null,a):null)}function $2(a,o){if(ff())return null;T2(a,o,!0)}function BN(){GN(function(){(Nt&6)!==0?Z(je,LN):q2()})}function Ig(){if(Ys===0){var a=Hl;a===0&&(a=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ys=a}return Ys}function G2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:wh(""+a)}function Q2(a,o){var h=o.ownerDocument.createElement("input");return h.name=o.name,h.value=o.value,a.id&&h.setAttribute("form",a.id),o.parentNode.insertBefore(h,o),a=new FormData(a),h.parentNode.removeChild(h),a}function zN(a,o,h,p,v){if(o==="submit"&&h&&h.stateNode===v){var x=G2((v[Ue]||null).action),j=p.submitter;j&&(o=(o=j[Ue]||null)?G2(o.formAction):j.getAttribute("formAction"),o!==null&&(x=o,j=null));var V=new Eh("action","action",null,p,v);a.push({event:V,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ys!==0){var ae=j?Q2(v,j):new FormData(v);ag(h,{pending:!0,data:ae,method:v.method,action:x},null,ae)}}else typeof x=="function"&&(V.preventDefault(),ae=j?Q2(v,j):new FormData(v),ag(h,{pending:!0,data:ae,method:v.method,action:x},x,ae))},currentTarget:v}]})}}for(var Ug=0;Ug<km.length;Ug++){var Hg=km[Ug],jN=Hg.toLowerCase(),PN=Hg[0].toUpperCase()+Hg.slice(1);oi(jN,"on"+PN)}oi(Ew,"onAnimationEnd"),oi(Tw,"onAnimationIteration"),oi(Cw,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(eN,"onTransitionRun"),oi(tN,"onTransitionStart"),oi(rN,"onTransitionCancel"),oi(Ow,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function Y2(a,o){o=(o&4)!==0;for(var h=0;h<a.length;h++){var p=a[h],v=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var j=p.length-1;0<=j;j--){var V=p[j],ae=V.instance,xe=V.currentTarget;if(V=V.listener,ae!==x&&v.isPropagationStopped())break e;x=V,v.currentTarget=xe;try{x(v)}catch(Ce){Oh(Ce)}v.currentTarget=null,x=ae}else for(j=0;j<p.length;j++){if(V=p[j],ae=V.instance,xe=V.currentTarget,V=V.listener,ae!==x&&v.isPropagationStopped())break e;x=V,v.currentTarget=xe;try{x(v)}catch(Ce){Oh(Ce)}v.currentTarget=null,x=ae}}}}function dt(a,o){var h=o[Ze];h===void 0&&(h=o[Ze]=new Set);var p=a+"__bubble";h.has(p)||(X2(o,a,2,!1),h.add(p))}function qg(a,o,h){var p=0;o&&(p|=4),X2(h,a,p,o)}var mf="_reactListening"+Math.random().toString(36).slice(2);function Wg(a){if(!a[mf]){a[mf]=!0,Tn.forEach(function(h){h!=="selectionchange"&&(FN.has(h)||qg(h,!1,a),qg(h,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[mf]||(o[mf]=!0,qg("selectionchange",!1,o))}}function X2(a,o,h,p){switch(Ek(o)){case 2:var v=dM;break;case 8:v=pM;break;default:v=s0}h=v.bind(null,o,h,a),v=void 0,!um||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?a.addEventListener(o,h,{capture:!0,passive:v}):a.addEventListener(o,h,!0):v!==void 0?a.addEventListener(o,h,{passive:v}):a.addEventListener(o,h,!1)}function Vg(a,o,h,p,v){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var j=p.tag;if(j===3||j===4){var V=p.stateNode.containerInfo;if(V===v)break;if(j===4)for(j=p.return;j!==null;){var ae=j.tag;if((ae===3||ae===4)&&j.stateNode.containerInfo===v)return;j=j.return}for(;V!==null;){if(j=At(V),j===null)return;if(ae=j.tag,ae===5||ae===6||ae===26||ae===27){p=x=j;continue e}V=V.parentNode}}p=p.return}tw(function(){var xe=x,Ce=om(h),Ne=[];e:{var we=_w.get(a);if(we!==void 0){var Ae=Eh,Ge=a;switch(a){case"keypress":if(kh(h)===0)break e;case"keydown":case"keyup":Ae=M6;break;case"focusin":Ge="focus",Ae=pm;break;case"focusout":Ge="blur",Ae=pm;break;case"beforeblur":case"afterblur":Ae=pm;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=x6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=B6;break;case Ew:case Tw:case Cw:Ae=k6;break;case Ow:Ae=j6;break;case"scroll":case"scrollend":Ae=v6;break;case"wheel":Ae=F6;break;case"copy":case"cut":case"paste":Ae=E6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=aw;break;case"toggle":case"beforetoggle":Ae=U6}var nt=(o&4)!==0,Ut=!nt&&(a==="scroll"||a==="scrollend"),me=nt?we!==null?we+"Capture":null:we;nt=[];for(var de=xe,be;de!==null;){var _e=de;if(be=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||be===null||me===null||(_e=lc(de,me),_e!=null&&nt.push(Ic(de,_e,be))),Ut)break;de=de.return}0<nt.length&&(we=new Ae(we,Ge,null,h,Ce),Ne.push({event:we,listeners:nt}))}}if((o&7)===0){e:{if(we=a==="mouseover"||a==="pointerover",Ae=a==="mouseout"||a==="pointerout",we&&h!==lm&&(Ge=h.relatedTarget||h.fromElement)&&(At(Ge)||Ge[Xe]))break e;if((Ae||we)&&(we=Ce.window===Ce?Ce:(we=Ce.ownerDocument)?we.defaultView||we.parentWindow:window,Ae?(Ge=h.relatedTarget||h.toElement,Ae=xe,Ge=Ge?At(Ge):null,Ge!==null&&(Ut=s(Ge),nt=Ge.tag,Ge!==Ut||nt!==5&&nt!==27&&nt!==6)&&(Ge=null)):(Ae=null,Ge=xe),Ae!==Ge)){if(nt=iw,_e="onMouseLeave",me="onMouseEnter",de="mouse",(a==="pointerout"||a==="pointerover")&&(nt=aw,_e="onPointerLeave",me="onPointerEnter",de="pointer"),Ut=Ae==null?we:En(Ae),be=Ge==null?we:En(Ge),we=new nt(_e,de+"leave",Ae,h,Ce),we.target=Ut,we.relatedTarget=be,_e=null,At(Ce)===xe&&(nt=new nt(me,de+"enter",Ge,h,Ce),nt.target=be,nt.relatedTarget=Ut,_e=nt),Ut=_e,Ae&&Ge)t:{for(nt=IN,me=Ae,de=Ge,be=0,_e=me;_e;_e=nt(_e))be++;_e=0;for(var tt=de;tt;tt=nt(tt))_e++;for(;0<be-_e;)me=nt(me),be--;for(;0<_e-be;)de=nt(de),_e--;for(;be--;){if(me===de||de!==null&&me===de.alternate){nt=me;break t}me=nt(me),de=nt(de)}nt=null}else nt=null;Ae!==null&&K2(Ne,we,Ae,nt,!1),Ge!==null&&Ut!==null&&K2(Ne,Ut,Ge,nt,!0)}}e:{if(we=xe?En(xe):window,Ae=we.nodeName&&we.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&we.type==="file")var Ct=pw;else if(fw(we))if(mw)Ct=K6;else{Ct=Y6;var Ye=Q6}else Ae=we.nodeName,!Ae||Ae.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?xe&&am(xe.elementType)&&(Ct=pw):Ct=X6;if(Ct&&(Ct=Ct(a,xe))){dw(Ne,Ct,h,Ce);break e}Ye&&Ye(a,we,xe),a==="focusout"&&xe&&we.type==="number"&&xe.memoizedProps.value!=null&&sm(we,"number",we.value)}switch(Ye=xe?En(xe):window,a){case"focusin":(fw(Ye)||Ye.contentEditable==="true")&&(Ll=Ye,xm=xe,mc=null);break;case"focusout":mc=xm=Ll=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,kw(Ne,h,Ce);break;case"selectionchange":if(J6)break;case"keydown":case"keyup":kw(Ne,h,Ce)}var lt;if(gm)e:{switch(a){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Dl?uw(a,h)&&(yt="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(yt="onCompositionStart");yt&&(lw&&h.locale!=="ko"&&(Dl||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Dl&&(lt=rw()):(Ds=Ce,hm="value"in Ds?Ds.value:Ds.textContent,Dl=!0)),Ye=gf(xe,yt),0<Ye.length&&(yt=new sw(yt,a,null,h,Ce),Ne.push({event:yt,listeners:Ye}),lt?yt.data=lt:(lt=hw(h),lt!==null&&(yt.data=lt)))),(lt=q6?W6(a,h):V6(a,h))&&(yt=gf(xe,"onBeforeInput"),0<yt.length&&(Ye=new sw("onBeforeInput","beforeinput",null,h,Ce),Ne.push({event:Ye,listeners:yt}),Ye.data=lt)),zN(Ne,a,xe,h,Ce)}Y2(Ne,o)})}function Ic(a,o,h){return{instance:a,listener:o,currentTarget:h}}function gf(a,o){for(var h=o+"Capture",p=[];a!==null;){var v=a,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=lc(a,h),v!=null&&p.unshift(Ic(a,v,x)),v=lc(a,o),v!=null&&p.push(Ic(a,v,x))),a.tag===3)return p;a=a.return}return[]}function IN(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function K2(a,o,h,p,v){for(var x=o._reactName,j=[];h!==null&&h!==p;){var V=h,ae=V.alternate,xe=V.stateNode;if(V=V.tag,ae!==null&&ae===p)break;V!==5&&V!==26&&V!==27||xe===null||(ae=xe,v?(xe=lc(h,x),xe!=null&&j.unshift(Ic(h,xe,ae))):v||(xe=lc(h,x),xe!=null&&j.push(Ic(h,xe,ae)))),h=h.return}j.length!==0&&a.push({event:o,listeners:j})}var UN=/\r\n?/g,HN=/\u0000|\uFFFD/g;function Z2(a){return(typeof a=="string"?a:""+a).replace(UN,`
`).replace(HN,"")}function J2(a,o){return o=Z2(o),Z2(a)===o}function It(a,o,h,p,v,x){switch(h){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Rl(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Rl(a,""+p);break;case"className":Un(a,"class",p);break;case"tabIndex":Un(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(a,h,p);break;case"style":Jx(a,p,x);break;case"data":if(o!=="object"){Un(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||h!=="href")){a.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=wh(""+p),a.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(h==="formAction"?(o!=="input"&&It(a,o,"name",v.name,v,null),It(a,o,"formEncType",v.formEncType,v,null),It(a,o,"formMethod",v.formMethod,v,null),It(a,o,"formTarget",v.formTarget,v,null)):(It(a,o,"encType",v.encType,v,null),It(a,o,"method",v.method,v,null),It(a,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=wh(""+p),a.setAttribute(h,p);break;case"onClick":p!=null&&(a.onclick=Qi);break;case"onScroll":p!=null&&dt("scroll",a);break;case"onScrollEnd":p!=null&&dt("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(h=p.__html,h!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}h=wh(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""+p):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":p===!0?a.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,p):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(h,p):a.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(h):a.setAttribute(h,p);break;case"popover":dt("beforetoggle",a),dt("toggle",a),li(a,"popover",p);break;case"xlinkActuate":Tt(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Tt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Tt(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Tt(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Tt(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Tt(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Tt(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Tt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Tt(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":li(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=g6.get(h)||h,li(a,h,p))}}function $g(a,o,h,p,v,x){switch(h){case"style":Jx(a,p,x);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(h=p.__html,h!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"children":typeof p=="string"?Rl(a,p):(typeof p=="number"||typeof p=="bigint")&&Rl(a,""+p);break;case"onScroll":p!=null&&dt("scroll",a);break;case"onScrollEnd":p!=null&&dt("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),o=h.slice(2,v?h.length-7:void 0),x=a[Ue]||null,x=x!=null?x[h]:null,typeof x=="function"&&a.removeEventListener(o,x,v),typeof p=="function")){typeof x!="function"&&x!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(o,p,v);break e}h in a?a[h]=p:p===!0?a.setAttribute(h,""):li(a,h,p)}}}function jr(a,o,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",a),dt("load",a);var p=!1,v=!1,x;for(x in h)if(h.hasOwnProperty(x)){var j=h[x];if(j!=null)switch(x){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:It(a,o,x,j,h,null)}}v&&It(a,o,"srcSet",h.srcSet,h,null),p&&It(a,o,"src",h.src,h,null);return;case"input":dt("invalid",a);var V=x=j=v=null,ae=null,xe=null;for(p in h)if(h.hasOwnProperty(p)){var Ce=h[p];if(Ce!=null)switch(p){case"name":v=Ce;break;case"type":j=Ce;break;case"checked":ae=Ce;break;case"defaultChecked":xe=Ce;break;case"value":x=Ce;break;case"defaultValue":V=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,o));break;default:It(a,o,p,Ce,h,null)}}Yx(a,x,V,ae,xe,j,v,!1);return;case"select":dt("invalid",a),p=j=x=null;for(v in h)if(h.hasOwnProperty(v)&&(V=h[v],V!=null))switch(v){case"value":x=V;break;case"defaultValue":j=V;break;case"multiple":p=V;default:It(a,o,v,V,h,null)}o=x,h=j,a.multiple=!!p,o!=null?_l(a,!!p,o,!1):h!=null&&_l(a,!!p,h,!0);return;case"textarea":dt("invalid",a),x=v=p=null;for(j in h)if(h.hasOwnProperty(j)&&(V=h[j],V!=null))switch(j){case"value":p=V;break;case"defaultValue":v=V;break;case"children":x=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(91));break;default:It(a,o,j,V,h,null)}Kx(a,p,v,x);return;case"option":for(ae in h)if(h.hasOwnProperty(ae)&&(p=h[ae],p!=null))switch(ae){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:It(a,o,ae,p,h,null)}return;case"dialog":dt("beforetoggle",a),dt("toggle",a),dt("cancel",a),dt("close",a);break;case"iframe":case"object":dt("load",a);break;case"video":case"audio":for(p=0;p<Fc.length;p++)dt(Fc[p],a);break;case"image":dt("error",a),dt("load",a);break;case"details":dt("toggle",a);break;case"embed":case"source":case"link":dt("error",a),dt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in h)if(h.hasOwnProperty(xe)&&(p=h[xe],p!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:It(a,o,xe,p,h,null)}return;default:if(am(o)){for(Ce in h)h.hasOwnProperty(Ce)&&(p=h[Ce],p!==void 0&&$g(a,o,Ce,p,h,void 0));return}}for(V in h)h.hasOwnProperty(V)&&(p=h[V],p!=null&&It(a,o,V,p,h,null))}function qN(a,o,h,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,j=null,V=null,ae=null,xe=null,Ce=null;for(Ae in h){var Ne=h[Ae];if(h.hasOwnProperty(Ae)&&Ne!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":ae=Ne;default:p.hasOwnProperty(Ae)||It(a,o,Ae,null,p,Ne)}}for(var we in p){var Ae=p[we];if(Ne=h[we],p.hasOwnProperty(we)&&(Ae!=null||Ne!=null))switch(we){case"type":x=Ae;break;case"name":v=Ae;break;case"checked":xe=Ae;break;case"defaultChecked":Ce=Ae;break;case"value":j=Ae;break;case"defaultValue":V=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(n(137,o));break;default:Ae!==Ne&&It(a,o,we,Ae,p,Ne)}}im(a,j,V,ae,xe,Ce,x,v);return;case"select":Ae=j=V=we=null;for(x in h)if(ae=h[x],h.hasOwnProperty(x)&&ae!=null)switch(x){case"value":break;case"multiple":Ae=ae;default:p.hasOwnProperty(x)||It(a,o,x,null,p,ae)}for(v in p)if(x=p[v],ae=h[v],p.hasOwnProperty(v)&&(x!=null||ae!=null))switch(v){case"value":we=x;break;case"defaultValue":V=x;break;case"multiple":j=x;default:x!==ae&&It(a,o,v,x,p,ae)}o=V,h=j,p=Ae,we!=null?_l(a,!!h,we,!1):!!p!=!!h&&(o!=null?_l(a,!!h,o,!0):_l(a,!!h,h?[]:"",!1));return;case"textarea":Ae=we=null;for(V in h)if(v=h[V],h.hasOwnProperty(V)&&v!=null&&!p.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:It(a,o,V,null,p,v)}for(j in p)if(v=p[j],x=h[j],p.hasOwnProperty(j)&&(v!=null||x!=null))switch(j){case"value":we=v;break;case"defaultValue":Ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==x&&It(a,o,j,v,p,x)}Xx(a,we,Ae);return;case"option":for(var Ge in h)if(we=h[Ge],h.hasOwnProperty(Ge)&&we!=null&&!p.hasOwnProperty(Ge))switch(Ge){case"selected":a.selected=!1;break;default:It(a,o,Ge,null,p,we)}for(ae in p)if(we=p[ae],Ae=h[ae],p.hasOwnProperty(ae)&&we!==Ae&&(we!=null||Ae!=null))switch(ae){case"selected":a.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:It(a,o,ae,we,p,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in h)we=h[nt],h.hasOwnProperty(nt)&&we!=null&&!p.hasOwnProperty(nt)&&It(a,o,nt,null,p,we);for(xe in p)if(we=p[xe],Ae=h[xe],p.hasOwnProperty(xe)&&we!==Ae&&(we!=null||Ae!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(137,o));break;default:It(a,o,xe,we,p,Ae)}return;default:if(am(o)){for(var Ut in h)we=h[Ut],h.hasOwnProperty(Ut)&&we!==void 0&&!p.hasOwnProperty(Ut)&&$g(a,o,Ut,void 0,p,we);for(Ce in p)we=p[Ce],Ae=h[Ce],!p.hasOwnProperty(Ce)||we===Ae||we===void 0&&Ae===void 0||$g(a,o,Ce,we,p,Ae);return}}for(var me in h)we=h[me],h.hasOwnProperty(me)&&we!=null&&!p.hasOwnProperty(me)&&It(a,o,me,null,p,we);for(Ne in p)we=p[Ne],Ae=h[Ne],!p.hasOwnProperty(Ne)||we===Ae||we==null&&Ae==null||It(a,o,Ne,we,p,Ae)}function ek(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WN(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,h=performance.getEntriesByType("resource"),p=0;p<h.length;p++){var v=h[p],x=v.transferSize,j=v.initiatorType,V=v.duration;if(x&&V&&ek(j)){for(j=0,V=v.responseEnd,p+=1;p<h.length;p++){var ae=h[p],xe=ae.startTime;if(xe>V)break;var Ce=ae.transferSize,Ne=ae.initiatorType;Ce&&ek(Ne)&&(ae=ae.responseEnd,j+=Ce*(ae<V?1:(V-xe)/(ae-xe)))}if(--p,o+=8*(x+j)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Gg=null,Qg=null;function yf(a){return a.nodeType===9?a:a.ownerDocument}function tk(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rk(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Yg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xg=null;function VN(){var a=window.event;return a&&a.type==="popstate"?a===Xg?!1:(Xg=a,!0):(Xg=null,!1)}var nk=typeof setTimeout=="function"?setTimeout:void 0,$N=typeof clearTimeout=="function"?clearTimeout:void 0,ik=typeof Promise=="function"?Promise:void 0,GN=typeof queueMicrotask=="function"?queueMicrotask:typeof ik<"u"?function(a){return ik.resolve(null).then(a).catch(QN)}:nk;function QN(a){setTimeout(function(){throw a})}function Xs(a){return a==="head"}function sk(a,o){var h=o,p=0;do{var v=h.nextSibling;if(a.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"||h==="/&"){if(p===0){a.removeChild(v),lo(o);return}p--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")p++;else if(h==="html")Uc(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,Uc(h);for(var x=h.firstChild;x;){var j=x.nextSibling,V=x.nodeName;x[Zt]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||h.removeChild(x),x=j}}else h==="body"&&Uc(a.ownerDocument.body);h=v}while(h);lo(o)}function ak(a,o){var h=a;a=0;do{var p=h.nextSibling;if(h.nodeType===1?o?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(o?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),p&&p.nodeType===8)if(h=p.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=p}while(h)}function Kg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var h=o;switch(o=o.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Kg(h),ir(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function YN(a,o,h,p){for(;a.nodeType===1;){var v=h;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Zt])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Yn(a.nextSibling),a===null)break}return null}function XN(a,o,h){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Yn(a.nextSibling),a===null))return null;return a}function lk(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Yn(a.nextSibling),a===null))return null;return a}function Zg(a){return a.data==="$?"||a.data==="$~"}function Jg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function KN(a,o){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||h.readyState!=="loading")o();else{var p=function(){o(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Yn(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var e0=null;function ok(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(o===0)return Yn(a.nextSibling);o--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||o++}a=a.nextSibling}return null}function ck(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(o===0)return a;o--}else h!=="/$"&&h!=="/&"||o++}a=a.previousSibling}return null}function uk(a,o,h){switch(o=yf(h),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Uc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);ir(a)}var Xn=new Map,hk=new Set;function vf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var us=G.d;G.d={f:ZN,r:JN,D:eM,C:tM,L:rM,m:nM,X:sM,S:iM,M:aM};function ZN(){var a=us.f(),o=cf();return a||o}function JN(a){var o=Et(a);o!==null&&o.tag===5&&o.type==="form"?OS(o):us.r(a)}var io=typeof document>"u"?null:document;function fk(a,o,h){var p=io;if(p&&typeof o=="string"&&o){var v=Hn(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),hk.has(v)||(hk.add(v),a={rel:a,crossOrigin:h,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),jr(o,"link",a),Vt(o),p.head.appendChild(o)))}}function eM(a){us.D(a),fk("dns-prefetch",a,null)}function tM(a,o){us.C(a,o),fk("preconnect",a,o)}function rM(a,o,h){us.L(a,o,h);var p=io;if(p&&a&&o){var v='link[rel="preload"][as="'+Hn(o)+'"]';o==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+Hn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+Hn(h.imageSizes)+'"]')):v+='[href="'+Hn(a)+'"]';var x=v;switch(o){case"style":x=so(a);break;case"script":x=ao(a)}Xn.has(x)||(a=m({rel:"preload",href:o==="image"&&h&&h.imageSrcSet?void 0:a,as:o},h),Xn.set(x,a),p.querySelector(v)!==null||o==="style"&&p.querySelector(Hc(x))||o==="script"&&p.querySelector(qc(x))||(o=p.createElement("link"),jr(o,"link",a),Vt(o),p.head.appendChild(o)))}}function nM(a,o){us.m(a,o);var h=io;if(h&&a){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Hn(p)+'"][href="'+Hn(a)+'"]',x=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ao(a)}if(!Xn.has(x)&&(a=m({rel:"modulepreload",href:a},o),Xn.set(x,a),h.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(qc(x)))return}p=h.createElement("link"),jr(p,"link",a),Vt(p),h.head.appendChild(p)}}}function iM(a,o,h){us.S(a,o,h);var p=io;if(p&&a){var v=In(p).hoistableStyles,x=so(a);o=o||"default";var j=v.get(x);if(!j){var V={loading:0,preload:null};if(j=p.querySelector(Hc(x)))V.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},h),(h=Xn.get(x))&&t0(a,h);var ae=j=p.createElement("link");Vt(ae),jr(ae,"link",a),ae._p=new Promise(function(xe,Ce){ae.onload=xe,ae.onerror=Ce}),ae.addEventListener("load",function(){V.loading|=1}),ae.addEventListener("error",function(){V.loading|=2}),V.loading|=4,bf(j,o,p)}j={type:"stylesheet",instance:j,count:1,state:V},v.set(x,j)}}}function sM(a,o){us.X(a,o);var h=io;if(h&&a){var p=In(h).hoistableScripts,v=ao(a),x=p.get(v);x||(x=h.querySelector(qc(v)),x||(a=m({src:a,async:!0},o),(o=Xn.get(v))&&r0(a,o),x=h.createElement("script"),Vt(x),jr(x,"link",a),h.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(v,x))}}function aM(a,o){us.M(a,o);var h=io;if(h&&a){var p=In(h).hoistableScripts,v=ao(a),x=p.get(v);x||(x=h.querySelector(qc(v)),x||(a=m({src:a,async:!0,type:"module"},o),(o=Xn.get(v))&&r0(a,o),x=h.createElement("script"),Vt(x),jr(x,"link",a),h.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},p.set(v,x))}}function dk(a,o,h,p){var v=(v=ie.current)?vf(v):null;if(!v)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(o=so(h.href),h=In(v).hoistableStyles,p=h.get(o),p||(p={type:"style",instance:null,count:0,state:null},h.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=so(h.href);var x=In(v).hoistableStyles,j=x.get(a);if(j||(v=v.ownerDocument||v,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,j),(x=v.querySelector(Hc(a)))&&!x._p&&(j.instance=x,j.state.loading=5),Xn.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Xn.set(a,h),x||lM(v,a,h,j.state))),o&&p===null)throw Error(n(528,""));return j}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=h.async,h=h.src,typeof h=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ao(h),h=In(v).hoistableScripts,p=h.get(o),p||(p={type:"script",instance:null,count:0,state:null},h.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function so(a){return'href="'+Hn(a)+'"'}function Hc(a){return'link[rel="stylesheet"]['+a+"]"}function pk(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function lM(a,o,h,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),jr(o,"link",h),Vt(o),a.head.appendChild(o))}function ao(a){return'[src="'+Hn(a)+'"]'}function qc(a){return"script[async]"+a}function mk(a,o,h){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+Hn(h.href)+'"]');if(p)return o.instance=p,Vt(p),p;var v=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Vt(p),jr(p,"style",v),bf(p,h.precedence,a),o.instance=p;case"stylesheet":v=so(h.href);var x=a.querySelector(Hc(v));if(x)return o.state.loading|=4,o.instance=x,Vt(x),x;p=pk(h),(v=Xn.get(v))&&t0(p,v),x=(a.ownerDocument||a).createElement("link"),Vt(x);var j=x;return j._p=new Promise(function(V,ae){j.onload=V,j.onerror=ae}),jr(x,"link",p),o.state.loading|=4,bf(x,h.precedence,a),o.instance=x;case"script":return x=ao(h.src),(v=a.querySelector(qc(x)))?(o.instance=v,Vt(v),v):(p=h,(v=Xn.get(x))&&(p=m({},h),r0(p,v)),a=a.ownerDocument||a,v=a.createElement("script"),Vt(v),jr(v,"link",p),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,bf(p,h.precedence,a));return o.instance}function bf(a,o,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,x=v,j=0;j<p.length;j++){var V=p[j];if(V.dataset.precedence===o)x=V;else if(x!==v)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=h.nodeType===9?h.head:h,o.insertBefore(a,o.firstChild))}function t0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function r0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var xf=null;function gk(a,o,h){if(xf===null){var p=new Map,v=xf=new Map;v.set(h,p)}else v=xf,p=v.get(h),p||(p=new Map,v.set(h,p));if(p.has(a))return p;for(p.set(a,null),h=h.getElementsByTagName(a),v=0;v<h.length;v++){var x=h[v];if(!(x[Zt]||x[Ie]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var j=x.getAttribute(o)||"";j=a+j;var V=p.get(j);V?V.push(x):p.set(j,[x])}}return p}function yk(a,o,h){a=a.ownerDocument||a,a.head.insertBefore(h,o==="title"?a.querySelector("head > title"):null)}function oM(a,o,h){if(h===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function vk(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function cM(a,o,h,p){if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var v=so(p.href),x=o.querySelector(Hc(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=wf.bind(a),o.then(a,a)),h.state.loading|=4,h.instance=x,Vt(x);return}x=o.ownerDocument||o,p=pk(p),(v=Xn.get(v))&&t0(p,v),x=x.createElement("link"),Vt(x);var j=x;j._p=new Promise(function(V,ae){j.onload=V,j.onerror=ae}),jr(x,"link",p),h.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,o),(o=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=wf.bind(a),o.addEventListener("load",h),o.addEventListener("error",h))}}var n0=0;function uM(a,o){return a.stylesheets&&a.count===0&&kf(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var p=setTimeout(function(){if(a.stylesheets&&kf(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&n0===0&&(n0=62500*WN());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&kf(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>n0?50:800)+o);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function wf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Sf=null;function kf(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Sf=new Map,o.forEach(hM,a),Sf=null,wf.call(a))}function hM(a,o){if(!(o.state.loading&4)){var h=Sf.get(a);if(h)var p=h.get(null);else{h=new Map,Sf.set(a,h);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var j=v[x];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(h.set(j.dataset.precedence,j),p=j)}p&&h.set(null,p)}v=o.instance,j=v.getAttribute("data-precedence"),x=h.get(j)||p,x===p&&h.set(null,v),h.set(j,v),this.count++,p=wf.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),x?x.parentNode.insertBefore(v,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Wc={$$typeof:E,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function fM(a,o,h,p,v,x,j,V,ae){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.hiddenUpdates=Ns(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function bk(a,o,h,p,v,x,j,V,ae,xe,Ce,Ne){return a=new fM(a,o,h,j,ae,xe,Ce,Ne,V),o=1,x===!0&&(o|=24),x=_n(3,null,null,o),a.current=x,x.stateNode=a,o=zm(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:p,isDehydrated:h,cache:o},Im(x),a}function xk(a){return a?(a=jl,a):jl}function wk(a,o,h,p,v,x){v=xk(v),p.context===null?p.context=v:p.pendingContext=v,p=Fs(o),p.payload={element:h},x=x===void 0?null:x,x!==null&&(p.callback=x),h=Is(a,p,o),h!==null&&(gn(h,a,o),Sc(h,a,o))}function Sk(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<o?h:o}}function i0(a,o){Sk(a,o),(a=a.alternate)&&Sk(a,o)}function kk(a){if(a.tag===13||a.tag===31){var o=Da(a,67108864);o!==null&&gn(o,a,67108864),i0(a,67108864)}}function Ak(a){if(a.tag===13||a.tag===31){var o=Ln();o=Se(o);var h=Da(a,o);h!==null&&gn(h,a,o),i0(a,o)}}var Af=!0;function dM(a,o,h,p){var v=X.T;X.T=null;var x=G.p;try{G.p=2,s0(a,o,h,p)}finally{G.p=x,X.T=v}}function pM(a,o,h,p){var v=X.T;X.T=null;var x=G.p;try{G.p=8,s0(a,o,h,p)}finally{G.p=x,X.T=v}}function s0(a,o,h,p){if(Af){var v=a0(p);if(v===null)Vg(a,o,p,Ef,h),Tk(a,p);else if(gM(v,a,o,h,p))p.stopPropagation();else if(Tk(a,p),o&4&&-1<mM.indexOf(a)){for(;v!==null;){var x=Et(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var j=cn(x.pendingLanes);if(j!==0){var V=x;for(V.pendingLanes|=2,V.entangledLanes|=2;j;){var ae=1<<31-Xt(j);V.entanglements[1]|=ae,j&=~ae}Ei(x),(Nt&6)===0&&(lf=Te()+500,Pc(0))}}break;case 31:case 13:V=Da(x,2),V!==null&&gn(V,x,2),cf(),i0(x,2)}if(x=a0(p),x===null&&Vg(a,o,p,Ef,h),x===v)break;v=x}v!==null&&p.stopPropagation()}else Vg(a,o,p,null,h)}}function a0(a){return a=om(a),l0(a)}var Ef=null;function l0(a){if(Ef=null,a=At(a),a!==null){var o=s(a);if(o===null)a=null;else{var h=o.tag;if(h===13){if(a=l(o),a!==null)return a;a=null}else if(h===31){if(a=c(o),a!==null)return a;a=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Ef=a,null}function Ek(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case je:return 2;case Ve:return 8;case Qe:case Wt:return 32;case an:return 268435456;default:return 32}default:return 32}}var o0=!1,Ks=null,Zs=null,Js=null,Vc=new Map,$c=new Map,ea=[],mM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tk(a,o){switch(a){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Vc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(o.pointerId)}}function Gc(a,o,h,p,v,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:h,eventSystemFlags:p,nativeEvent:x,targetContainers:[v]},o!==null&&(o=Et(o),o!==null&&kk(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function gM(a,o,h,p,v){switch(o){case"focusin":return Ks=Gc(Ks,a,o,h,p,v),!0;case"dragenter":return Zs=Gc(Zs,a,o,h,p,v),!0;case"mouseover":return Js=Gc(Js,a,o,h,p,v),!0;case"pointerover":var x=v.pointerId;return Vc.set(x,Gc(Vc.get(x)||null,a,o,h,p,v)),!0;case"gotpointercapture":return x=v.pointerId,$c.set(x,Gc($c.get(x)||null,a,o,h,p,v)),!0}return!1}function Ck(a){var o=At(a.target);if(o!==null){var h=s(o);if(h!==null){if(o=h.tag,o===13){if(o=l(h),o!==null){a.blockedOn=o,Ke(a.priority,function(){Ak(h)});return}}else if(o===31){if(o=c(h),o!==null){a.blockedOn=o,Ke(a.priority,function(){Ak(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Tf(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var h=a0(a.nativeEvent);if(h===null){h=a.nativeEvent;var p=new h.constructor(h.type,h);lm=p,h.target.dispatchEvent(p),lm=null}else return o=Et(h),o!==null&&kk(o),a.blockedOn=h,!1;o.shift()}return!0}function Ok(a,o,h){Tf(a)&&h.delete(o)}function yM(){o0=!1,Ks!==null&&Tf(Ks)&&(Ks=null),Zs!==null&&Tf(Zs)&&(Zs=null),Js!==null&&Tf(Js)&&(Js=null),Vc.forEach(Ok),$c.forEach(Ok)}function Cf(a,o){a.blockedOn===o&&(a.blockedOn=null,o0||(o0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yM)))}var Of=null;function _k(a){Of!==a&&(Of=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Of===a&&(Of=null);for(var o=0;o<a.length;o+=3){var h=a[o],p=a[o+1],v=a[o+2];if(typeof p!="function"){if(l0(p||h)===null)continue;break}var x=Et(h);x!==null&&(a.splice(o,3),o-=3,ag(x,{pending:!0,data:v,method:h.method,action:p},p,v))}}))}function lo(a){function o(ae){return Cf(ae,a)}Ks!==null&&Cf(Ks,a),Zs!==null&&Cf(Zs,a),Js!==null&&Cf(Js,a),Vc.forEach(o),$c.forEach(o);for(var h=0;h<ea.length;h++){var p=ea[h];p.blockedOn===a&&(p.blockedOn=null)}for(;0<ea.length&&(h=ea[0],h.blockedOn===null);)Ck(h),h.blockedOn===null&&ea.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var v=h[p],x=h[p+1],j=v[Ue]||null;if(typeof x=="function")j||_k(h);else if(j){var V=null;if(x&&x.hasAttribute("formAction")){if(v=x,j=x[Ue]||null)V=j.formAction;else if(l0(v)!==null)continue}else V=j.action;typeof V=="function"?h[p+1]=V:(h.splice(p,3),p-=3),_k(h)}}}function Rk(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(j){return v=j})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),p||setTimeout(h,20)}function h(){if(!p&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(h,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function c0(a){this._internalRoot=a}_f.prototype.render=c0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var h=o.current,p=Ln();wk(h,p,a,o,null,null)},_f.prototype.unmount=c0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;wk(a.current,2,null,a,null,null),cf(),o[Xe]=null}};function _f(a){this._internalRoot=a}_f.prototype.unstable_scheduleHydration=function(a){if(a){var o=Pe();a={blockedOn:null,target:a,priority:o};for(var h=0;h<ea.length&&o!==0&&o<ea[h].priority;h++);ea.splice(h,0,a),h===0&&Ck(a)}};var Nk=e.version;if(Nk!=="19.2.3")throw Error(n(527,Nk,"19.2.3"));G.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=f(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var vM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{Lt=Rf.inject(vM),Pt=Rf}catch{}}return Yc.createRoot=function(a,o){if(!i(a))throw Error(n(299));var h=!1,p="",v=PS,x=FS,j=IS;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError)),o=bk(a,1,!1,null,null,h,p,null,v,x,j,Rk),a[Xe]=o.current,Wg(a),new c0(o)},Yc.hydrateRoot=function(a,o,h){if(!i(a))throw Error(n(299));var p=!1,v="",x=PS,j=FS,V=IS,ae=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(x=h.onUncaughtError),h.onCaughtError!==void 0&&(j=h.onCaughtError),h.onRecoverableError!==void 0&&(V=h.onRecoverableError),h.formState!==void 0&&(ae=h.formState)),o=bk(a,1,!0,o,h??null,p,v,ae,x,j,V,Rk),o.context=xk(null),h=o.current,p=Ln(),p=Se(p),v=Fs(p),v.callback=null,Is(h,v,p),h=p,o.current.lanes=h,Ms(o,h),Ei(o),a[Xe]=o.current,Wg(a),new _f(o)},Yc.version="19.2.3",Yc}var Uk;function NM(){if(Uk)return f0.exports;Uk=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),f0.exports=RM(),f0.exports}var MM=NM();var qO=r=>{throw TypeError(r)},DM=(r,e,t)=>e.has(r)||qO("Cannot "+t),g0=(r,e,t)=>(DM(r,e,"read from private field"),t?t.call(r):e.get(r)),LM=(r,e,t)=>e.has(r)?qO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Hk="popstate";function BM(r={}){function e(i,s){let{pathname:l="/",search:c="",hash:u=""}=Ts(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Cu("",{pathname:l,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let u=i.location.href,f=u.indexOf("#");c=f===-1?u:u.slice(0,f)}return c+"#"+(typeof s=="string"?s:qi(s))}function n(i,s){nr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return jM(e,t,n,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zM(){return Math.random().toString(36).substring(2,10)}function qk(r,e){return{usr:r.state,key:r.key,idx:e}}function Cu(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ts(e):e,state:t,key:e&&e.key||n||zM()}}function qi({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ts(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function jM(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,c="POP",u=null,f=d();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function d(){return(l.state||{idx:null}).idx}function m(){c="POP";let O=d(),S=O==null?null:O-f;f=O,u&&u({action:c,location:w.location,delta:S})}function g(O,S){c="PUSH";let k=Cu(w.location,O,S);t&&t(k,O),f=d()+1;let E=qk(k,f),A=w.createHref(k);try{l.pushState(E,"",A)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(A)}s&&u&&u({action:c,location:w.location,delta:1})}function y(O,S){c="REPLACE";let k=Cu(w.location,O,S);t&&t(k,O),f=d();let E=qk(k,f),A=w.createHref(k);l.replaceState(E,"",A),s&&u&&u({action:c,location:w.location,delta:0})}function b(O){return WO(O)}let w={get action(){return c},get location(){return r(i,l)},listen(O){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Hk,m),u=O,()=>{i.removeEventListener(Hk,m),u=null}},createHref(O){return e(i,O)},createURL:b,encodeLocation(O){let S=b(O);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:y,go(O){return l.go(O)}};return w}function WO(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:qi(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}var uu,Wk=class{constructor(r){if(LM(this,uu,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(g0(this,uu).has(r))return g0(this,uu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){g0(this,uu).set(r,e)}};uu=new WeakMap;var PM=new Set(["lazy","caseSensitive","path","id","index","children"]);function FM(r){return PM.has(r)}var IM=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function UM(r){return IM.has(r)}function HM(r){return r.index===!0}function Ou(r,e,t=[],n={},i=!1){return r.map((s,l)=>{let c=[...t,String(l)],u=typeof s.id=="string"?s.id:c.join("-");if(ut(s.index!==!0||!s.children,"Cannot specify children on an index route"),ut(i||!n[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),HM(s)){let f={...s,id:u};return n[u]=Vk(f,e(f)),f}else{let f={...s,id:u,children:void 0};return n[u]=Vk(f,e(f)),s.children&&(f.children=Ou(s.children,e,c,n,i)),f}})}function Vk(r,e){return Object.assign(r,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...r.lazy,...e.lazy}}:{}})}function ia(r,e,t="/"){return hu(r,e,t,!1)}function hu(r,e,t,n){let i=typeof e=="string"?Ts(e):e,s=kn(i.pathname||"/",t);if(s==null)return null;let l=VO(r);WM(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let f=tD(s);c=JM(l[u],f,n)}return c}function qM(r,e){let{route:t,pathname:n,params:i}=r;return{id:t.id,pathname:n,params:i,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function VO(r,e=[],t=[],n="",i=!1){let s=(l,c,u=i,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&u)return;ut(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let m=Ii([n,d.relativePath]),g=t.concat(d);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),VO(l.children,e,g,m,u)),!(l.path==null&&!l.index)&&e.push({path:m,score:KM(m,l.index),routesMeta:g})};return r.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let u of $O(l.path))s(l,c,!0,u)}),e}function $O(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=$O(n.join("/")),c=[];return c.push(...l.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...l),c.map(u=>r.startsWith("/")&&u===""?"/":u)}function WM(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:ZM(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var VM=/^:[\w-]+$/,$M=3,GM=2,QM=1,YM=10,XM=-2,$k=r=>r==="*";function KM(r,e){let t=r.split("/"),n=t.length;return t.some($k)&&(n+=XM),e&&(n+=GM),t.filter(i=>!$k(i)).reduce((i,s)=>i+(VM.test(s)?$M:s===""?QM:YM),n)}function ZM(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function JM(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",l=[];for(let c=0;c<n.length;++c){let u=n[c],f=c===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=Ld({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),g=u.route;if(!m&&f&&t&&!n[n.length-1].route.index&&(m=Ld({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Ii([s,m.pathname]),pathnameBase:sD(Ii([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Ii([s,m.pathnameBase]))}return l}function Ld(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=eD(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((f,{paramName:d,isOptional:m},g)=>{if(d==="*"){let b=c[g]||"";l=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=c[g];return m&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:r}}function eD(r,e=!1,t=!0){nr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function tD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function kn(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function rD({basename:r,pathname:e}){return e==="/"?r:Ii([r,e])}var nD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kp=r=>nD.test(r);function iD(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Ts(r):r,s;if(t)if(kp(t))s=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),nr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?s=Gk(t.substring(1),"/"):s=Gk(t,e)}else s=e;return{pathname:s,search:aD(n),hash:lD(i)}}function Gk(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function y0(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GO(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cb(r){let e=GO(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function ub(r,e,t,n=!1){let i;typeof r=="string"?i=Ts(r):(i={...r},ut(!i.pathname||!i.pathname.includes("?"),y0("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),y0("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),y0("#","search","hash",i)));let s=r===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}c=m>=0?e[m]:"/"}let u=iD(i,c),f=l&&l!=="/"&&l.endsWith("/"),d=(s||l===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}var Ii=r=>r.join("/").replace(/\/\/+/g,"/"),sD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),aD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Ap=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function _u(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function th(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var la=Symbol("Uninstrumented");function oD(r,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(s){let l=Object.keys(t);for(let c of l)s[c]&&t[c].push(s[c])}}));let n={};if(typeof e.lazy=="function"&&t.lazy.length>0){let i=xo(t.lazy,e.lazy,()=>{});i&&(n.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(s=>{let l=i[s],c=t[`lazy.${s}`];if(typeof l=="function"&&c.length>0){let u=xo(c,l,()=>{});u&&(n.lazy=Object.assign(n.lazy||{},{[s]:u}))}})}return["loader","action"].forEach(i=>{let s=e[i];if(typeof s=="function"&&t[i].length>0){let l=s[la]??s,c=xo(t[i],l,(...u)=>Qk(u[0]));c&&(c[la]=l,n[i]=c)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(n.middleware=e.middleware.map(i=>{let s=i[la]??i,l=xo(t.middleware,s,(...c)=>Qk(c[0]));return l?(l[la]=s,l):i})),n}function cD(r,e){let t={navigate:[],fetch:[]};if(e.forEach(n=>n({instrument(i){let s=Object.keys(i);for(let l of s)i[l]&&t[l].push(i[l])}})),t.navigate.length>0){let n=r.navigate[la]??r.navigate,i=xo(t.navigate,n,(...s)=>{let[l,c]=s;return{to:typeof l=="number"||typeof l=="string"?l:l?qi(l):".",...Yk(r,c??{})}});i&&(i[la]=n,r.navigate=i)}if(t.fetch.length>0){let n=r.fetch[la]??r.fetch,i=xo(t.fetch,n,(...s)=>{let[l,,c,u]=s;return{href:c??".",fetcherKey:l,...Yk(r,u??{})}});i&&(i[la]=n,r.fetch=i)}return r}function xo(r,e,t){return r.length===0?null:async(...n)=>{let i=await QO(r,t(...n),()=>e(...n),r.length-1);if(i.type==="error")throw i.value;return i.value}}async function QO(r,e,t,n){let i=r[n],s;if(i){let l,c=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=QO(r,e,t,n-1),s=await l,ut(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(c,e)}catch(u){console.error("An instrumentation function threw an error:",u)}l||await c(),await l}else try{s={type:"success",value:await t()}}catch(l){s={type:"error",value:l}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Qk(r){let{request:e,context:t,params:n,unstable_pattern:i}=r;return{request:uD(e),params:{...n},unstable_pattern:i,context:hD(t)}}function Yk(r,e){return{currentUrl:qi(r.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function uD(r){return{method:r.method,url:r.url,headers:{get:(...e)=>r.headers.get(...e)}}}function hD(r){if(dD(r)){let e={...r};return Object.freeze(e),e}else return{get:e=>r.get(e)}}var fD=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dD(r){if(r===null||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===fD}var YO=["POST","PUT","PATCH","DELETE"],pD=new Set(YO),mD=["GET",...YO],gD=new Set(mD),yD=new Set([301,302,303,307,308]),vD=new Set([307,308]),v0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xD=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),XO="remix-router-transitions",KO=Symbol("ResetLoaderData");function wD(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ut(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=r.hydrationRouteProperties||[],i=r.mapRouteProperties||xD,s=i;if(r.unstable_instrumentations){let le=r.unstable_instrumentations;s=ye=>({...i(ye),...oD(le.map(Se=>Se.route).filter(Boolean),ye)})}let l={},c=Ou(r.routes,s,void 0,l),u,f=r.basename||"/";f.startsWith("/")||(f=`/${f}`);let d=r.dataStrategy||TD,m={...r.future},g=null,y=new Set,b=null,w=null,O=null,S=r.hydrationData!=null,k=ia(c,r.history.location,f),E=!1,A=null,_;if(k==null&&!r.patchRoutesOnNavigation){let le=Zn(404,{pathname:r.history.location.pathname}),{matches:ye,route:Se}=Nf(c);_=!0,k=ye,A={[Se.id]:le}}else if(k&&!r.hydrationData&&Oa(k,c,r.history.location.pathname).active&&(k=null),k)if(k.some(le=>le.route.lazy))_=!1;else if(!k.some(le=>hb(le.route)))_=!0;else{let le=r.hydrationData?r.hydrationData.loaderData:null,ye=r.hydrationData?r.hydrationData.errors:null;if(ye){let Se=k.findIndex(Be=>ye[Be.route.id]!==void 0);_=k.slice(0,Se+1).every(Be=>!Vv(Be.route,le,ye))}else _=k.every(Se=>!Vv(Se.route,le,ye))}else{_=!1,k=[];let le=Oa(null,c,r.history.location.pathname);le.active&&le.matches&&(E=!0,k=le.matches)}let U,M={historyAction:r.history.action,location:r.history.location,matches:k,initialized:_,navigation:v0,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||A,fetchers:new Map,blockers:new Map},Q="POP",P=null,re=!1,pe,H=!1,Y=new Map,R=null,ee=!1,X=!1,G=new Set,ue=new Map,he=0,ke=-1,q=new Map,I=new Set,K=new Map,se=new Map,fe=new Set,ie=new Map,z,B=null;function te(){if(g=r.history.listen(({action:le,location:ye,delta:Se})=>{if(z){z(),z=void 0;return}nr(ie.size===0||Se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Be=wi({currentLocation:M.location,nextLocation:ye,historyAction:le});if(Be&&Se!=null){let Pe=new Promise(Ke=>{z=Ke});r.history.go(Se*-1),ai(Be,{state:"blocked",location:ye,proceed(){ai(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),Pe.then(()=>r.history.go(Se))},reset(){let Ke=new Map(M.blockers);Ke.set(Be,fo),$({blockers:Ke})}}),P?.resolve(),P=null;return}return F(le,ye)}),t){HD(e,Y);let le=()=>qD(e,Y);e.addEventListener("pagehide",le),R=()=>e.removeEventListener("pagehide",le)}return M.initialized||F("POP",M.location,{initialHydration:!0}),U}function J(){g&&g(),R&&R(),y.clear(),pe&&pe.abort(),M.fetchers.forEach((le,ye)=>si(ye)),M.blockers.forEach((le,ye)=>Tl(ye))}function W(le){return y.add(le),()=>y.delete(le)}function $(le,ye={}){le.matches&&(le.matches=le.matches.map(Pe=>{let Ke=l[Pe.route.id],$e=Pe.route;return $e.element!==Ke.element||$e.errorElement!==Ke.errorElement||$e.hydrateFallbackElement!==Ke.hydrateFallbackElement?{...Pe,route:Ke}:Pe})),M={...M,...le};let Se=[],Be=[];M.fetchers.forEach((Pe,Ke)=>{Pe.state==="idle"&&(fe.has(Ke)?Se.push(Ke):Be.push(Ke))}),fe.forEach(Pe=>{!M.fetchers.has(Pe)&&!ue.has(Pe)&&Se.push(Pe)}),[...y].forEach(Pe=>Pe(M,{deletedFetchers:Se,newErrors:le.errors??null,viewTransitionOpts:ye.viewTransitionOpts,flushSync:ye.flushSync===!0})),Se.forEach(Pe=>si(Pe)),Be.forEach(Pe=>M.fetchers.delete(Pe))}function ge(le,ye,{flushSync:Se}={}){let Be=M.actionData!=null&&M.navigation.formMethod!=null&&Jr(M.navigation.formMethod)&&M.navigation.state==="loading"&&le.state?._isRedirect!==!0,Pe;ye.actionData?Object.keys(ye.actionData).length>0?Pe=ye.actionData:Pe=null:Be?Pe=M.actionData:Pe=null;let Ke=ye.loaderData?sA(M.loaderData,ye.loaderData,ye.matches||[],ye.errors):M.loaderData,$e=M.blockers;$e.size>0&&($e=new Map($e),$e.forEach((Ze,Je)=>$e.set(Je,fo)));let Ie=ee?!1:vh(le,ye.matches||M.matches),Ue=re===!0||M.navigation.formMethod!=null&&Jr(M.navigation.formMethod)&&le.state?._isRedirect!==!0;u&&(c=u,u=void 0),ee||Q==="POP"||(Q==="PUSH"?r.history.push(le,le.state):Q==="REPLACE"&&r.history.replace(le,le.state));let Xe;if(Q==="POP"){let Ze=Y.get(M.location.pathname);Ze&&Ze.has(le.pathname)?Xe={currentLocation:M.location,nextLocation:le}:Y.has(le.pathname)&&(Xe={currentLocation:le,nextLocation:M.location})}else if(H){let Ze=Y.get(M.location.pathname);Ze?Ze.add(le.pathname):(Ze=new Set([le.pathname]),Y.set(M.location.pathname,Ze)),Xe={currentLocation:M.location,nextLocation:le}}$({...ye,actionData:Pe,loaderData:Ke,historyAction:Q,location:le,initialized:!0,navigation:v0,revalidation:"idle",restoreScrollPosition:Ie,preventScrollReset:Ue,blockers:$e},{viewTransitionOpts:Xe,flushSync:Se===!0}),Q="POP",re=!1,H=!1,ee=!1,X=!1,P?.resolve(),P=null,B?.resolve(),B=null}async function D(le,ye){if(P?.resolve(),P=null,typeof le=="number"){P||(P=cA());let Bt=P.promise;return r.history.go(le),Bt}let Se=Wv(M.location,M.matches,f,le,ye?.fromRouteId,ye?.relative),{path:Be,submission:Pe,error:Ke}=Xk(!1,Se,ye),$e=M.location,Ie=Cu(M.location,Be,ye&&ye.state);Ie={...Ie,...r.history.encodeLocation(Ie)};let Ue=ye&&ye.replace!=null?ye.replace:void 0,Xe="PUSH";Ue===!0?Xe="REPLACE":Ue===!1||Pe!=null&&Jr(Pe.formMethod)&&Pe.formAction===M.location.pathname+M.location.search&&(Xe="REPLACE");let Ze=ye&&"preventScrollReset"in ye?ye.preventScrollReset===!0:void 0,Je=(ye&&ye.flushSync)===!0,xt=wi({currentLocation:$e,nextLocation:Ie,historyAction:Xe});if(xt){ai(xt,{state:"blocked",location:Ie,proceed(){ai(xt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),D(le,ye)},reset(){let Bt=new Map(M.blockers);Bt.set(xt,fo),$({blockers:Bt})}});return}await F(Xe,Ie,{submission:Pe,pendingError:Ke,preventScrollReset:Ze,replace:ye&&ye.replace,enableViewTransition:ye&&ye.viewTransition,flushSync:Je})}function ve(){B||(B=cA()),Ve(),$({revalidation:"loading"});let le=B.promise;return M.navigation.state==="submitting"?le:M.navigation.state==="idle"?(F(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),le):(F(Q||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:H===!0}),le)}async function F(le,ye,Se){pe&&pe.abort(),pe=null,Q=le,ee=(Se&&Se.startUninterruptedRevalidation)===!0,Ca(M.location,M.matches),re=(Se&&Se.preventScrollReset)===!0,H=(Se&&Se.enableViewTransition)===!0;let Be=u||c,Pe=Se&&Se.overrideNavigation,Ke=Se?.initialHydration&&M.matches&&M.matches.length>0&&!E?M.matches:ia(Be,ye,f),$e=(Se&&Se.flushSync)===!0;if(Ke&&M.initialized&&!X&&LD(M.location,ye)&&!(Se&&Se.submission&&Jr(Se.submission.formMethod))){ge(ye,{matches:Ke},{flushSync:$e});return}let Ie=Oa(Ke,Be,ye.pathname);if(Ie.active&&Ie.matches&&(Ke=Ie.matches),!Ke){let{error:ir,notFoundMatches:At,route:Et}=on(ye.pathname);ge(ye,{matches:At,loaderData:{},errors:{[Et.id]:ir}},{flushSync:$e});return}pe=new AbortController;let Ue=po(r.history,ye,pe.signal,Se&&Se.submission),Xe=r.getContext?await r.getContext():new Wk,Ze;if(Se&&Se.pendingError)Ze=[sa(Ke).route.id,{type:"error",error:Se.pendingError}];else if(Se&&Se.submission&&Jr(Se.submission.formMethod)){let ir=await T(Ue,ye,Se.submission,Ke,Xe,Ie.active,Se&&Se.initialHydration===!0,{replace:Se.replace,flushSync:$e});if(ir.shortCircuited)return;if(ir.pendingActionResult){let[At,Et]=ir.pendingActionResult;if(Pn(Et)&&_u(Et.error)&&Et.error.status===404){pe=null,ge(ye,{matches:ir.matches,loaderData:{},errors:{[At]:Et.error}});return}}Ke=ir.matches||Ke,Ze=ir.pendingActionResult,Pe=b0(ye,Se.submission),$e=!1,Ie.active=!1,Ue=po(r.history,Ue.url,Ue.signal)}let{shortCircuited:Je,matches:xt,loaderData:Bt,errors:Zt}=await C(Ue,ye,Ke,Xe,Ie.active,Pe,Se&&Se.submission,Se&&Se.fetcherSubmission,Se&&Se.replace,Se&&Se.initialHydration===!0,$e,Ze);Je||(pe=null,ge(ye,{matches:xt||Ke,...aA(Ze),loaderData:Bt,errors:Zt}))}async function T(le,ye,Se,Be,Pe,Ke,$e,Ie={}){Ve();let Ue=ID(ye,Se);if($({navigation:Ue},{flushSync:Ie.flushSync===!0}),Ke){let Je=await Ns(Be,ye.pathname,le.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){if(Je.partialMatches.length===0){let{matches:Bt,route:Zt}=Nf(c);return{matches:Bt,pendingActionResult:[Zt.id,{type:"error",error:Je.error}]}}let xt=sa(Je.partialMatches).route.id;return{matches:Je.partialMatches,pendingActionResult:[xt,{type:"error",error:Je.error}]}}else if(Je.matches)Be=Je.matches;else{let{notFoundMatches:xt,error:Bt,route:Zt}=on(ye.pathname);return{matches:xt,pendingActionResult:[Zt.id,{type:"error",error:Bt}]}}}let Xe,Ze=bd(Be,ye);if(!Ze.route.action&&!Ze.route.lazy)Xe={type:"error",error:Zn(405,{method:le.method,pathname:ye.pathname,routeId:Ze.route.id})};else{let Je=Co(s,l,le,Be,Ze,$e?[]:n,Pe),xt=await Oe(le,Je,Pe,null);if(Xe=xt[Ze.route.id],!Xe){for(let Bt of Be)if(xt[Bt.route.id]){Xe=xt[Bt.route.id];break}}if(le.signal.aborted)return{shortCircuited:!0}}if(tl(Xe)){let Je;return Ie&&Ie.replace!=null?Je=Ie.replace:Je=rA(Xe.response.headers.get("Location"),new URL(le.url),f)===M.location.pathname+M.location.search,await Te(le,Xe,!0,{submission:Se,replace:Je}),{shortCircuited:!0}}if(Pn(Xe)){let Je=sa(Be,Ze.route.id);return(Ie&&Ie.replace)!==!0&&(Q="PUSH"),{matches:Be,pendingActionResult:[Je.route.id,Xe,Ze.route.id]}}return{matches:Be,pendingActionResult:[Ze.route.id,Xe]}}async function C(le,ye,Se,Be,Pe,Ke,$e,Ie,Ue,Xe,Ze,Je){let xt=Ke||b0(ye,$e),Bt=$e||Ie||oA(xt),Zt=!ee&&!Xe;if(Pe){if(Zt){let _r=L(Je);$({navigation:xt,..._r!==void 0?{actionData:_r}:{}},{flushSync:Ze})}let mt=await Ns(Se,ye.pathname,le.signal);if(mt.type==="aborted")return{shortCircuited:!0};if(mt.type==="error"){if(mt.partialMatches.length===0){let{matches:li,route:Un}=Nf(c);return{matches:li,loaderData:{},errors:{[Un.id]:mt.error}}}let _r=sa(mt.partialMatches).route.id;return{matches:mt.partialMatches,loaderData:{},errors:{[_r]:mt.error}}}else if(mt.matches)Se=mt.matches;else{let{error:_r,notFoundMatches:li,route:Un}=on(ye.pathname);return{matches:li,loaderData:{},errors:{[Un.id]:_r}}}}let ir=u||c,{dsMatches:At,revalidatingFetchers:Et}=Kk(le,Be,s,l,r.history,M,Se,Bt,ye,Xe?[]:n,Xe===!0,X,G,fe,K,I,ir,f,r.patchRoutesOnNavigation!=null,Je);if(ke=++he,!r.dataStrategy&&!At.some(mt=>mt.shouldLoad)&&!At.some(mt=>mt.route.middleware&&mt.route.middleware.length>0)&&Et.length===0){let mt=Xt();return ge(ye,{matches:Se,loaderData:{},errors:Je&&Pn(Je[1])?{[Je[0]]:Je[1].error}:null,...aA(Je),...mt?{fetchers:new Map(M.fetchers)}:{}},{flushSync:Ze}),{shortCircuited:!0}}if(Zt){let mt={};if(!Pe){mt.navigation=xt;let _r=L(Je);_r!==void 0&&(mt.actionData=_r)}Et.length>0&&(mt.fetchers=Z(Et)),$(mt,{flushSync:Ze})}Et.forEach(mt=>{Pt(mt.key),mt.controller&&ue.set(mt.key,mt.controller)});let En=()=>Et.forEach(mt=>Pt(mt.key));pe&&pe.signal.addEventListener("abort",En);let{loaderResults:In,fetcherResults:Vt}=await je(At,Et,le,Be);if(le.signal.aborted)return{shortCircuited:!0};pe&&pe.signal.removeEventListener("abort",En),Et.forEach(mt=>ue.delete(mt.key));let Tn=Mf(In);if(Tn)return await Te(le,Tn.result,!0,{replace:Ue}),{shortCircuited:!0};if(Tn=Mf(Vt),Tn)return I.add(Tn.key),await Te(le,Tn.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:Cl,errors:Cn}=iA(M,Se,In,Je,Et,Vt);Xe&&M.errors&&(Cn={...M.errors,...Cn});let un=Xt(),Ol=Ea(ke),_a=un||Ol||Et.length>0;return{matches:Se,loaderData:Cl,errors:Cn,..._a?{fetchers:new Map(M.fetchers)}:{}}}function L(le){if(le&&!Pn(le[1]))return{[le[0]]:le[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Z(le){return le.forEach(ye=>{let Se=M.fetchers.get(ye.key),Be=Xc(void 0,Se?Se.data:void 0);M.fetchers.set(ye.key,Be)}),new Map(M.fetchers)}async function oe(le,ye,Se,Be){Pt(le);let Pe=(Be&&Be.flushSync)===!0,Ke=u||c,$e=Wv(M.location,M.matches,f,Se,ye,Be?.relative),Ie=ia(Ke,$e,f),Ue=Oa(Ie,Ke,$e);if(Ue.active&&Ue.matches&&(Ie=Ue.matches),!Ie){Wt(le,ye,Zn(404,{pathname:$e}),{flushSync:Pe});return}let{path:Xe,submission:Ze,error:Je}=Xk(!0,$e,Be);if(Je){Wt(le,ye,Je,{flushSync:Pe});return}let xt=r.getContext?await r.getContext():new Wk,Bt=(Be&&Be.preventScrollReset)===!0;if(Ze&&Jr(Ze.formMethod)){await ne(le,ye,Xe,Ie,xt,Ue.active,Pe,Bt,Ze);return}K.set(le,{routeId:ye,path:Xe}),await Ee(le,ye,Xe,Ie,xt,Ue.active,Pe,Bt,Ze)}async function ne(le,ye,Se,Be,Pe,Ke,$e,Ie,Ue){Ve(),K.delete(le);let Xe=M.fetchers.get(le);Qe(le,UD(Ue,Xe),{flushSync:$e});let Ze=new AbortController,Je=po(r.history,Se,Ze.signal,Ue);if(Ke){let Tt=await Ns(Be,new URL(Je.url).pathname,Je.signal,le);if(Tt.type==="aborted")return;if(Tt.type==="error"){Wt(le,ye,Tt.error,{flushSync:$e});return}else if(Tt.matches)Be=Tt.matches;else{Wt(le,ye,Zn(404,{pathname:Se}),{flushSync:$e});return}}let xt=bd(Be,Se);if(!xt.route.action&&!xt.route.lazy){let Tt=Zn(405,{method:Ue.formMethod,pathname:Se,routeId:ye});Wt(le,ye,Tt,{flushSync:$e});return}ue.set(le,Ze);let Bt=he,Zt=Co(s,l,Je,Be,xt,n,Pe),ir=await Oe(Je,Zt,Pe,le),At=ir[xt.route.id];if(!At){for(let Tt of Zt)if(ir[Tt.route.id]){At=ir[Tt.route.id];break}}if(Je.signal.aborted){ue.get(le)===Ze&&ue.delete(le);return}if(fe.has(le)){if(tl(At)||Pn(At)){Qe(le,ds(void 0));return}}else{if(tl(At))if(ue.delete(le),ke>Bt){Qe(le,ds(void 0));return}else return I.add(le),Qe(le,Xc(Ue)),Te(Je,At,!1,{fetcherSubmission:Ue,preventScrollReset:Ie});if(Pn(At)){Wt(le,ye,At.error);return}}let Et=M.navigation.location||M.location,En=po(r.history,Et,Ze.signal),In=u||c,Vt=M.navigation.state!=="idle"?ia(In,M.navigation.location,f):M.matches;ut(Vt,"Didn't find any matches after fetcher action");let Tn=++he;q.set(le,Tn);let Cl=Xc(Ue,At.data);M.fetchers.set(le,Cl);let{dsMatches:Cn,revalidatingFetchers:un}=Kk(En,Pe,s,l,r.history,M,Vt,Ue,Et,n,!1,X,G,fe,K,I,In,f,r.patchRoutesOnNavigation!=null,[xt.route.id,At]);un.filter(Tt=>Tt.key!==le).forEach(Tt=>{let Dr=Tt.key,ac=M.fetchers.get(Dr),rm=Xc(void 0,ac?ac.data:void 0);M.fetchers.set(Dr,rm),Pt(Dr),Tt.controller&&ue.set(Dr,Tt.controller)}),$({fetchers:new Map(M.fetchers)});let Ol=()=>un.forEach(Tt=>Pt(Tt.key));Ze.signal.addEventListener("abort",Ol);let{loaderResults:_a,fetcherResults:mt}=await je(Cn,un,En,Pe);if(Ze.signal.aborted)return;if(Ze.signal.removeEventListener("abort",Ol),q.delete(le),ue.delete(le),un.forEach(Tt=>ue.delete(Tt.key)),M.fetchers.has(le)){let Tt=ds(At.data);M.fetchers.set(le,Tt)}let _r=Mf(_a);if(_r)return Te(En,_r.result,!1,{preventScrollReset:Ie});if(_r=Mf(mt),_r)return I.add(_r.key),Te(En,_r.result,!1,{preventScrollReset:Ie});let{loaderData:li,errors:Un}=iA(M,Vt,_a,void 0,un,mt);Ea(Tn),M.navigation.state==="loading"&&Tn>ke?(ut(Q,"Expected pending action"),pe&&pe.abort(),ge(M.navigation.location,{matches:Vt,loaderData:li,errors:Un,fetchers:new Map(M.fetchers)})):($({errors:Un,loaderData:sA(M.loaderData,li,Vt,Un),fetchers:new Map(M.fetchers)}),X=!1)}async function Ee(le,ye,Se,Be,Pe,Ke,$e,Ie,Ue){let Xe=M.fetchers.get(le);Qe(le,Xc(Ue,Xe?Xe.data:void 0),{flushSync:$e});let Ze=new AbortController,Je=po(r.history,Se,Ze.signal);if(Ke){let Et=await Ns(Be,new URL(Je.url).pathname,Je.signal,le);if(Et.type==="aborted")return;if(Et.type==="error"){Wt(le,ye,Et.error,{flushSync:$e});return}else if(Et.matches)Be=Et.matches;else{Wt(le,ye,Zn(404,{pathname:Se}),{flushSync:$e});return}}let xt=bd(Be,Se);ue.set(le,Ze);let Bt=he,Zt=Co(s,l,Je,Be,xt,n,Pe),At=(await Oe(Je,Zt,Pe,le))[xt.route.id];if(ue.get(le)===Ze&&ue.delete(le),!Je.signal.aborted){if(fe.has(le)){Qe(le,ds(void 0));return}if(tl(At))if(ke>Bt){Qe(le,ds(void 0));return}else{I.add(le),await Te(Je,At,!1,{preventScrollReset:Ie});return}if(Pn(At)){Wt(le,ye,At.error);return}Qe(le,ds(At.data))}}async function Te(le,ye,Se,{submission:Be,fetcherSubmission:Pe,preventScrollReset:Ke,replace:$e}={}){Se||(P?.resolve(),P=null),ye.response.headers.has("X-Remix-Revalidate")&&(X=!0);let Ie=ye.response.headers.get("Location");ut(Ie,"Expected a Location header on the redirect Response"),Ie=rA(Ie,new URL(le.url),f);let Ue=Cu(M.location,Ie,{_isRedirect:!0});if(t){let Zt=!1;if(ye.response.headers.has("X-Remix-Reload-Document"))Zt=!0;else if(kp(Ie)){const ir=WO(Ie,!0);Zt=ir.origin!==e.location.origin||kn(ir.pathname,f)==null}if(Zt){$e?e.location.replace(Ie):e.location.assign(Ie);return}}pe=null;let Xe=$e===!0||ye.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ze,formAction:Je,formEncType:xt}=M.navigation;!Be&&!Pe&&Ze&&Je&&xt&&(Be=oA(M.navigation));let Bt=Be||Pe;if(vD.has(ye.response.status)&&Bt&&Jr(Bt.formMethod))await F(Xe,Ue,{submission:{...Bt,formAction:Ie},preventScrollReset:Ke||re,enableViewTransition:Se?H:void 0});else{let Zt=b0(Ue,Be);await F(Xe,Ue,{overrideNavigation:Zt,fetcherSubmission:Pe,preventScrollReset:Ke||re,enableViewTransition:Se?H:void 0})}}async function Oe(le,ye,Se,Be){let Pe,Ke={};try{Pe=await OD(d,le,ye,Be,Se,!1)}catch($e){return ye.filter(Ie=>Ie.shouldLoad).forEach(Ie=>{Ke[Ie.route.id]={type:"error",error:$e}}),Ke}if(le.signal.aborted)return Ke;for(let[$e,Ie]of Object.entries(Pe))if(PD(Ie)){let Ue=Ie.result;Ke[$e]={type:"redirect",response:MD(Ue,le,$e,ye,f)}}else Ke[$e]=await ND(Ie);return Ke}async function je(le,ye,Se,Be){let Pe=Oe(Se,le,Be,null),Ke=Promise.all(ye.map(async Ue=>{if(Ue.matches&&Ue.match&&Ue.request&&Ue.controller){let Ze=(await Oe(Ue.request,Ue.matches,Be,Ue.key))[Ue.match.route.id];return{[Ue.key]:Ze}}else return Promise.resolve({[Ue.key]:{type:"error",error:Zn(404,{pathname:Ue.path})}})})),$e=await Pe,Ie=(await Ke).reduce((Ue,Xe)=>Object.assign(Ue,Xe),{});return{loaderResults:$e,fetcherResults:Ie}}function Ve(){X=!0,K.forEach((le,ye)=>{ue.has(ye)&&G.add(ye),Pt(ye)})}function Qe(le,ye,Se={}){M.fetchers.set(le,ye),$({fetchers:new Map(M.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function Wt(le,ye,Se,Be={}){let Pe=sa(M.matches,ye);si(le),$({errors:{[Pe.route.id]:Se},fetchers:new Map(M.fetchers)},{flushSync:(Be&&Be.flushSync)===!0})}function an(le){return se.set(le,(se.get(le)||0)+1),fe.has(le)&&fe.delete(le),M.fetchers.get(le)||bD}function ln(le,ye){Pt(le,ye?.reason),Qe(le,ds(null))}function si(le){let ye=M.fetchers.get(le);ue.has(le)&&!(ye&&ye.state==="loading"&&q.has(le))&&Pt(le),K.delete(le),q.delete(le),I.delete(le),fe.delete(le),G.delete(le),M.fetchers.delete(le)}function Lt(le){let ye=(se.get(le)||0)-1;ye<=0?(se.delete(le),fe.add(le)):se.set(le,ye),$({fetchers:new Map(M.fetchers)})}function Pt(le,ye){let Se=ue.get(le);Se&&(Se.abort(ye),ue.delete(le))}function Kr(le){for(let ye of le){let Se=an(ye),Be=ds(Se.data);M.fetchers.set(ye,Be)}}function Xt(){let le=[],ye=!1;for(let Se of I){let Be=M.fetchers.get(Se);ut(Be,`Expected fetcher: ${Se}`),Be.state==="loading"&&(I.delete(Se),le.push(Se),ye=!0)}return Kr(le),ye}function Ea(le){let ye=[];for(let[Se,Be]of q)if(Be<le){let Pe=M.fetchers.get(Se);ut(Pe,`Expected fetcher: ${Se}`),Pe.state==="loading"&&(Pt(Se),q.delete(Se),ye.push(Se))}return Kr(ye),ye.length>0}function sc(le,ye){let Se=M.blockers.get(le)||fo;return ie.get(le)!==ye&&ie.set(le,ye),Se}function Tl(le){M.blockers.delete(le),ie.delete(le)}function ai(le,ye){let Se=M.blockers.get(le)||fo;ut(Se.state==="unblocked"&&ye.state==="blocked"||Se.state==="blocked"&&ye.state==="blocked"||Se.state==="blocked"&&ye.state==="proceeding"||Se.state==="blocked"&&ye.state==="unblocked"||Se.state==="proceeding"&&ye.state==="unblocked",`Invalid blocker state transition: ${Se.state} -> ${ye.state}`);let Be=new Map(M.blockers);Be.set(le,ye),$({blockers:Be})}function wi({currentLocation:le,nextLocation:ye,historyAction:Se}){if(ie.size===0)return;ie.size>1&&nr(!1,"A router only supports one blocker at a time");let Be=Array.from(ie.entries()),[Pe,Ke]=Be[Be.length-1],$e=M.blockers.get(Pe);if(!($e&&$e.state==="proceeding")&&Ke({currentLocation:le,nextLocation:ye,historyAction:Se}))return Pe}function on(le){let ye=Zn(404,{pathname:le}),Se=u||c,{matches:Be,route:Pe}=Nf(Se);return{notFoundMatches:Be,route:Pe,error:ye}}function cn(le,ye,Se){if(b=le,O=ye,w=Se||null,!S&&M.navigation===v0){S=!0;let Be=vh(M.location,M.matches);Be!=null&&$({restoreScrollPosition:Be})}return()=>{b=null,O=null,w=null}}function Ta(le,ye){return w&&w(le,ye.map(Be=>qM(Be,M.loaderData)))||le.key}function Ca(le,ye){if(b&&O){let Se=Ta(le,ye);b[Se]=O()}}function vh(le,ye){if(b){let Se=Ta(le,ye),Be=b[Se];if(typeof Be=="number")return Be}return null}function Oa(le,ye,Se){if(r.patchRoutesOnNavigation)if(le){if(Object.keys(le[0].params).length>0)return{active:!0,matches:hu(ye,Se,f,!0)}}else return{active:!0,matches:hu(ye,Se,f,!0)||[]};return{active:!1,matches:null}}async function Ns(le,ye,Se,Be){if(!r.patchRoutesOnNavigation)return{type:"success",matches:le};let Pe=le;for(;;){let Ke=u==null,$e=u||c,Ie=l;try{await r.patchRoutesOnNavigation({signal:Se,path:ye,matches:Pe,fetcherKey:Be,patch:(Ze,Je)=>{Se.aborted||Zk(Ze,Je,$e,Ie,s,!1)}})}catch(Ze){return{type:"error",error:Ze,partialMatches:Pe}}finally{Ke&&!Se.aborted&&(c=[...c])}if(Se.aborted)return{type:"aborted"};let Ue=ia($e,ye,f),Xe=null;if(Ue){if(Object.keys(Ue[0].params).length===0)return{type:"success",matches:Ue};if(Xe=hu($e,ye,f,!0),!(Xe&&Pe.length<Xe.length&&Ms(Pe,Xe.slice(0,Pe.length))))return{type:"success",matches:Ue}}if(Xe||(Xe=hu($e,ye,f,!0)),!Xe||Ms(Pe,Xe))return{type:"success",matches:null};Pe=Xe}}function Ms(le,ye){return le.length===ye.length&&le.every((Se,Be)=>Se.route.id===ye[Be].route.id)}function tm(le){l={},u=Ou(le,s,void 0,l)}function bh(le,ye,Se=!1){let Be=u==null;Zk(le,ye,u||c,l,s,Se),Be&&(c=[...c],$({}))}return U={get basename(){return f},get future(){return m},get state(){return M},get routes(){return c},get window(){return e},initialize:te,subscribe:W,enableScrollRestoration:cn,navigate:D,fetch:oe,revalidate:ve,createHref:le=>r.history.createHref(le),encodeLocation:le=>r.history.encodeLocation(le),getFetcher:an,resetFetcher:ln,deleteFetcher:Lt,dispose:J,getBlocker:sc,deleteBlocker:Tl,patchRoutes:bh,_internalFetchControllers:ue,_internalSetRoutes:tm,_internalSetStateDoNotUseOrYouWillBreakYourApp(le){$(le)}},r.unstable_instrumentations&&(U=cD(U,r.unstable_instrumentations.map(le=>le.router).filter(Boolean))),U}function SD(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Wv(r,e,t,n,i,s){let l,c;if(i){l=[];for(let f of e)if(l.push(f),f.route.id===i){c=f;break}}else l=e,c=e[e.length-1];let u=ub(n||".",cb(l),kn(r.pathname,t)||r.pathname,s==="path");if(n==null&&(u.search=r.search,u.hash=r.hash),(n==null||n===""||n===".")&&c){let f=fb(u.search);if(c.route.index&&!f)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let d=new URLSearchParams(u.search),m=d.getAll("index");d.delete("index"),m.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();u.search=g?`?${g}`:""}}return t!=="/"&&(u.pathname=rD({basename:t,pathname:u.pathname})),qi(u)}function Xk(r,e,t){if(!t||!SD(t))return{path:e};if(t.formMethod&&!FD(t.formMethod))return{path:e,error:Zn(405,{method:t.formMethod})};let n=()=>({path:e,error:Zn(400,{type:"invalid-body"})}),s=(t.formMethod||"get").toUpperCase(),l=n_(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Jr(s))return n();let m=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((g,[y,b])=>`${g}${y}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:s,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:m}}}else if(t.formEncType==="application/json"){if(!Jr(s))return n();try{let m=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:s,formAction:l,formEncType:t.formEncType,formData:void 0,json:m,text:void 0}}}catch{return n()}}}ut(typeof FormData=="function","FormData is not available in this environment");let c,u;if(t.formData)c=Gv(t.formData),u=t.formData;else if(t.body instanceof FormData)c=Gv(t.body),u=t.body;else if(t.body instanceof URLSearchParams)c=t.body,u=nA(c);else if(t.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(t.body),u=nA(c)}catch{return n()}let f={formMethod:s,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Jr(f.formMethod))return{path:e,submission:f};let d=Ts(e);return r&&d.search&&fb(d.search)&&c.append("index",""),d.search=`?${c}`,{path:qi(d),submission:f}}function Kk(r,e,t,n,i,s,l,c,u,f,d,m,g,y,b,w,O,S,k,E){let A=E?Pn(E[1])?E[1].error:E[1].data:void 0,_=i.createURL(s.location),U=i.createURL(u),M;if(d&&s.errors){let R=Object.keys(s.errors)[0];M=l.findIndex(ee=>ee.route.id===R)}else if(E&&Pn(E[1])){let R=E[0];M=l.findIndex(ee=>ee.route.id===R)-1}let Q=E?E[1].statusCode:void 0,P=Q&&Q>=400,re={currentUrl:_,currentParams:s.matches[0]?.params||{},nextUrl:U,nextParams:l[0].params,...c,actionResult:A,actionStatus:Q},pe=th(l),H=l.map((R,ee)=>{let{route:X}=R,G=null;if(M!=null&&ee>M?G=!1:X.lazy?G=!0:hb(X)?d?G=Vv(X,s.loaderData,s.errors):kD(s.loaderData,s.matches[ee],R)&&(G=!0):G=!1,G!==null)return $v(t,n,r,pe,R,f,e,G);let ue=P?!1:m||_.pathname+_.search===U.pathname+U.search||_.search!==U.search||AD(s.matches[ee],R),he={...re,defaultShouldRevalidate:ue},ke=Bd(R,he);return $v(t,n,r,pe,R,f,e,ke,he)}),Y=[];return b.forEach((R,ee)=>{if(d||!l.some(K=>K.route.id===R.routeId)||y.has(ee))return;let X=s.fetchers.get(ee),G=X&&X.state!=="idle"&&X.data===void 0,ue=ia(O,R.path,S);if(!ue){if(k&&G)return;Y.push({key:ee,routeId:R.routeId,path:R.path,matches:null,match:null,request:null,controller:null});return}if(w.has(ee))return;let he=bd(ue,R.path),ke=new AbortController,q=po(i,R.path,ke.signal),I=null;if(g.has(ee))g.delete(ee),I=Co(t,n,q,ue,he,f,e);else if(G)m&&(I=Co(t,n,q,ue,he,f,e));else{let K={...re,defaultShouldRevalidate:P?!1:m};Bd(he,K)&&(I=Co(t,n,q,ue,he,f,e,K))}I&&Y.push({key:ee,routeId:R.routeId,path:R.path,matches:I,match:he,request:q,controller:ke})}),{dsMatches:H,revalidatingFetchers:Y}}function hb(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function Vv(r,e,t){if(r.lazy)return!0;if(!hb(r))return!1;let n=e!=null&&r.id in e,i=t!=null&&t[r.id]!==void 0;return!n&&i?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!n&&!i}function kD(r,e,t){let n=!e||t.route.id!==e.route.id,i=!r.hasOwnProperty(t.route.id);return n||i}function AD(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Bd(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Zk(r,e,t,n,i,s){let l;if(r){let f=n[r];ut(f,`No route found to patch children into: routeId = ${r}`),f.children||(f.children=[]),l=f.children}else l=t;let c=[],u=[];if(e.forEach(f=>{let d=l.find(m=>ZO(f,m));d?u.push({existingRoute:d,newRoute:f}):c.push(f)}),c.length>0){let f=Ou(c,i,[r||"_","patch",String(l?.length||"0")],n);l.push(...f)}if(s&&u.length>0)for(let f=0;f<u.length;f++){let{existingRoute:d,newRoute:m}=u[f],g=d,[y]=Ou([m],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function ZO(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,n)=>e.children?.some(i=>ZO(t,i))):!1}var Jk=new WeakMap,JO=({key:r,route:e,manifest:t,mapRouteProperties:n})=>{let i=t[e.id];if(ut(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[r];if(!s)return;let l=Jk.get(i);l||(l={},Jk.set(i,l));let c=l[r];if(c)return c;let u=(async()=>{let f=FM(r),m=i[r]!==void 0&&r!=="hasErrorBoundary";if(f)nr(!f,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),l[r]=Promise.resolve();else if(m)nr(!1,`Route "${i.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[r]:g}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[r]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return l[r]=u,u},eA=new WeakMap;function ED(r,e,t,n,i){let s=t[r.id];if(ut(s,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let d=eA.get(s);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let m=(async()=>{ut(typeof r.lazy=="function","No lazy route function found");let g=await r.lazy(),y={};for(let b in g){let w=g[b];if(w===void 0)continue;let O=UM(b),k=s[b]!==void 0&&b!=="hasErrorBoundary";O?nr(!O,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?nr(!k,`Route "${s.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):y[b]=w}Object.assign(s,y),Object.assign(s,{...n(s),lazy:void 0})})();return eA.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let l=Object.keys(r.lazy),c=[],u;for(let d of l){if(i&&i.includes(d))continue;let m=JO({key:d,route:r,manifest:t,mapRouteProperties:n});m&&(c.push(m),d===e&&(u=m))}let f=c.length>0?Promise.all(c).then(()=>{}):void 0;return f?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:u}}async function tA(r){let e=r.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{t[e[s].route.id]=i}),t}async function TD(r){return r.matches.some(e=>e.route.middleware)?e_(r,()=>tA(r)):tA(r)}function e_(r,e){return CD(r,e,n=>n,zD,t);function t(n,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:n}}));{let{matches:l}=r,c=Math.min(Math.max(l.findIndex(f=>f.route.id===i),0),Math.max(l.findIndex(f=>f.shouldCallHandler()),0)),u=sa(l,l[c].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:n}})}}}async function CD(r,e,t,n,i){let{matches:s,request:l,params:c,context:u,unstable_pattern:f}=r,d=s.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await t_({request:l,params:c,context:u,unstable_pattern:f},d,e,t,n,i)}async function t_(r,e,t,n,i,s,l=0){let{request:c}=r;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let u=e[l];if(!u)return await t();let[f,d]=u,m,g=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await t_(r,e,t,n,i,s,l+1)},m.value}catch(y){return m={value:await s(y,f,m)},m.value}};try{let y=await d(r,g),b=y!=null?n(y):void 0;return i(b)?b:m?b??m.value:(m={value:await g()},m.value)}catch(y){return await s(y,f,m)}}function r_(r,e,t,n,i){let s=JO({key:"middleware",route:n.route,manifest:e,mapRouteProperties:r}),l=ED(n.route,Jr(t.method)?"action":"loader",e,r,i);return{middleware:s,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function $v(r,e,t,n,i,s,l,c,u=null){let f=!1,d=r_(r,e,t,i,s);return{...i,_lazyPromises:d,shouldLoad:c,shouldRevalidateArgs:u,shouldCallHandler(m){return f=!0,u?typeof m=="boolean"?Bd(i,{...u,defaultShouldRevalidate:m}):Bd(i,u):c},resolve(m){let{lazy:g,loader:y,middleware:b}=i.route,w=f||c||m&&!Jr(t.method)&&(g||y),O=b&&b.length>0&&!y&&!g;return w&&(Jr(t.method)||!O)?_D({request:t,unstable_pattern:n,match:i,lazyHandlerPromise:d?.handler,lazyRoutePromise:d?.route,handlerOverride:m,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Co(r,e,t,n,i,s,l,c=null){return n.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:r_(r,e,t,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:$v(r,e,t,th(n),u,s,l,!0,c))}async function OD(r,e,t,n,i,s){t.some(f=>f._lazyPromises?.middleware)&&await Promise.all(t.map(f=>f._lazyPromises?.middleware));let l={request:e,unstable_pattern:th(t),params:t[0].params,context:i,matches:t},u=await r({...l,fetcherKey:n,runClientMiddleware:f=>{let d=l;return e_(d,()=>f({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return u}async function _D({request:r,unstable_pattern:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:s,scopedContext:l}){let c,u,f=Jr(r.method),d=f?"action":"loader",m=g=>{let y,b=new Promise((S,k)=>y=k);u=()=>y(),r.signal.addEventListener("abort",u);let w=S=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${t.route.id}]`)):g({request:r,unstable_pattern:e,params:t.params,context:l},...S!==void 0?[S]:[]),O=(async()=>{try{return{type:"data",result:await(s?s(k=>w(k)):w())}}catch(S){return{type:"error",result:S}}})();return Promise.race([O,b])};try{let g=f?t.route.action:t.route.loader;if(n||i)if(g){let y,[b]=await Promise.all([m(g).catch(w=>{y=w}),n,i]);if(y!==void 0)throw y;c=b}else{await n;let y=f?t.route.action:t.route.loader;if(y)[c]=await Promise.all([m(y),i]);else if(d==="action"){let b=new URL(r.url),w=b.pathname+b.search;throw Zn(405,{method:r.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(g)c=await m(g);else{let y=new URL(r.url),b=y.pathname+y.search;throw Zn(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{u&&r.signal.removeEventListener("abort",u)}return c}async function RD(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function ND(r){let{result:e,type:t}=r;if(i_(e)){let n;try{n=await RD(e)}catch(i){return{type:"error",error:i}}return t==="error"?{type:"error",error:new Ap(e.status,e.statusText,n),statusCode:e.status,headers:e.headers}:{type:"data",data:n,statusCode:e.status,headers:e.headers}}return t==="error"?lA(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:BD(e),statusCode:_u(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:_u(e)?e.status:void 0}:lA(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function MD(r,e,t,n,i){let s=r.headers.get("Location");if(ut(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!kp(s)){let l=n.slice(0,n.findIndex(c=>c.route.id===t)+1);s=Wv(new URL(e.url),l,i,s),r.headers.set("Location",s)}return r}function rA(r,e,t){if(kp(r)){let n=r,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=kn(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return r}function po(r,e,t,n){let i=r.createURL(n_(e)).toString(),s={signal:t};if(n&&Jr(n.formMethod)){let{formMethod:l,formEncType:c}=n;s.method=l.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(n.json)):c==="text/plain"?s.body=n.text:c==="application/x-www-form-urlencoded"&&n.formData?s.body=Gv(n.formData):s.body=n.formData}return new Request(i,s)}function Gv(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function nA(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function DD(r,e,t,n=!1,i=!1){let s={},l=null,c,u=!1,f={},d=t&&Pn(t[1])?t[1].error:void 0;return r.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,y=e[g];if(ut(!tl(y),"Cannot handle redirect results in processLoaderData"),Pn(y)){let b=y.error;if(d!==void 0&&(b=d,d=void 0),l=l||{},i)l[g]=b;else{let w=sa(r,g);l[w.route.id]==null&&(l[w.route.id]=b)}n||(s[g]=KO),u||(u=!0,c=_u(y.error)?y.error.status:500),y.headers&&(f[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(c=y.statusCode),y.headers&&(f[g]=y.headers)}),d!==void 0&&t&&(l={[t[0]]:d},t[2]&&(s[t[2]]=void 0)),{loaderData:s,errors:l,statusCode:c||200,loaderHeaders:f}}function iA(r,e,t,n,i,s){let{loaderData:l,errors:c}=DD(e,t,n);return i.filter(u=>!u.matches||u.matches.some(f=>f.shouldLoad)).forEach(u=>{let{key:f,match:d,controller:m}=u;if(m&&m.signal.aborted)return;let g=s[f];if(ut(g,"Did not find corresponding fetcher result"),Pn(g)){let y=sa(r.matches,d?.route.id);c&&c[y.route.id]||(c={...c,[y.route.id]:g.error}),r.fetchers.delete(f)}else if(tl(g))ut(!1,"Unhandled fetcher revalidation redirect");else{let y=ds(g.data);r.fetchers.set(f,y)}}),{loaderData:l,errors:c}}function sA(r,e,t,n){let i=Object.entries(e).filter(([,s])=>s!==KO).reduce((s,[l,c])=>(s[l]=c,s),{});for(let s of t){let l=s.route.id;if(!e.hasOwnProperty(l)&&r.hasOwnProperty(l)&&s.route.loader&&(i[l]=r[l]),n&&n.hasOwnProperty(l))break}return i}function aA(r){return r?Pn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function sa(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function Nf(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zn(r,{pathname:e,routeId:t,method:n,type:i,message:s}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return r===400?(l="Bad Request",n&&e&&t?c=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):r===403?(l="Forbidden",c=`Route "${t}" does not match URL "${e}"`):r===404?(l="Not Found",c=`No route matches URL "${e}"`):r===405&&(l="Method Not Allowed",n&&e&&t?c=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(c=`Invalid request method "${n.toUpperCase()}"`)),new Ap(r||500,l,new Error(c),!0)}function Mf(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[n,i]=e[t];if(tl(i))return{key:n,result:i}}}function n_(r){let e=typeof r=="string"?Ts(r):r;return qi({...e,hash:""})}function LD(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function BD(r){return new Ap(r.init?.status??500,r.init?.statusText??"Internal Server Error",r.data)}function zD(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,t])=>typeof e=="string"&&jD(t))}function jD(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function PD(r){return i_(r.result)&&yD.has(r.result.status)}function Pn(r){return r.type==="error"}function tl(r){return(r&&r.type)==="redirect"}function lA(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function i_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function FD(r){return gD.has(r.toUpperCase())}function Jr(r){return pD.has(r.toUpperCase())}function fb(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function bd(r,e){let t=typeof e=="string"?Ts(e).search:e.search;if(r[r.length-1].route.index&&fb(t||""))return r[r.length-1];let n=GO(r);return n[n.length-1]}function oA(r){let{formMethod:e,formAction:t,formEncType:n,text:i,formData:s,json:l}=r;if(!(!e||!t||!n)){if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:n,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:l,text:void 0}}}function b0(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ID(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xc(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function UD(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function ds(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function HD(r,e){try{let t=r.sessionStorage.getItem(XO);if(t){let n=JSON.parse(t);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function qD(r,e){if(e.size>0){let t={};for(let[n,i]of e)t[n]=[...i];try{r.sessionStorage.setItem(XO,JSON.stringify(t))}catch(n){nr(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function cA(){let r,e,t=new Promise((n,i)=>{r=async s=>{n(s);try{await t}catch{}},e=async s=>{i(s);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var bl=ce.createContext(null);bl.displayName="DataRouter";var rh=ce.createContext(null);rh.displayName="DataRouterState";ce.createContext(!1);var db=ce.createContext({isTransitioning:!1});db.displayName="ViewTransition";var s_=ce.createContext(new Map);s_.displayName="Fetchers";var WD=ce.createContext(null);WD.displayName="Await";var vi=ce.createContext(null);vi.displayName="Navigation";var Ep=ce.createContext(null);Ep.displayName="Location";var Vi=ce.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var pb=ce.createContext(null);pb.displayName="RouteError";function VD(r,{relative:e}={}){ut(nh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=ce.useContext(vi),{hash:i,pathname:s,search:l}=ih(r,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Ii([t,s])),n.createHref({pathname:c,search:l,hash:i})}function nh(){return ce.useContext(Ep)!=null}function xa(){return ut(nh(),"useLocation() may be used only in the context of a <Router> component."),ce.useContext(Ep).location}var a_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l_(r){ce.useContext(vi).static||ce.useLayoutEffect(r)}function Tp(){let{isDataRoute:r}=ce.useContext(Vi);return r?a8():$D()}function $D(){ut(nh(),"useNavigate() may be used only in the context of a <Router> component.");let r=ce.useContext(bl),{basename:e,navigator:t}=ce.useContext(vi),{matches:n}=ce.useContext(Vi),{pathname:i}=xa(),s=JSON.stringify(cb(n)),l=ce.useRef(!1);return l_(()=>{l.current=!0}),ce.useCallback((u,f={})=>{if(nr(l.current,a_),!l.current)return;if(typeof u=="number"){t.go(u);return}let d=ub(u,JSON.parse(s),i,f.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ii([e,d.pathname])),(f.replace?t.replace:t.push)(d,f.state,f)},[e,t,s,i,r])}var GD=ce.createContext(null);function QD(r){let e=ce.useContext(Vi).outlet;return ce.useMemo(()=>e&&ce.createElement(GD.Provider,{value:r},e),[e,r])}function ih(r,{relative:e}={}){let{matches:t}=ce.useContext(Vi),{pathname:n}=xa(),i=JSON.stringify(cb(t));return ce.useMemo(()=>ub(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function YD(r,e,t,n,i){ut(nh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ce.useContext(vi),{matches:l}=ce.useContext(Vi),c=l[l.length-1],u=c?c.params:{},f=c?c.pathname:"/",d=c?c.pathnameBase:"/",m=c&&c.route;{let k=m&&m.path||"";u_(f,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=xa(),y;y=g;let b=y.pathname||"/",w=b;if(d!=="/"){let k=d.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let O=ia(r,{pathname:w});return nr(m||O!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),nr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),e8(O&&O.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:Ii([d,s.encodeLocation?s.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:Ii([d,s.encodeLocation?s.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,t,n,i)}function XD(){let r=n8(),e=_u(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=ce.createElement(ce.Fragment,null,ce.createElement("p",null," Hey developer "),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:s},"ErrorBoundary")," or"," ",ce.createElement("code",{style:s},"errorElement")," prop on your route.")),ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),t?ce.createElement("pre",{style:i},t):null,l)}var KD=ce.createElement(XD,null),ZD=class extends ce.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?ce.createElement(Vi.Provider,{value:this.props.routeContext},ce.createElement(pb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JD({routeContext:r,match:e,children:t}){let n=ce.useContext(bl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ce.createElement(Vi.Provider,{value:r},t)}function e8(r,e=[],t=null,n=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,l=t?.errors;if(l!=null){let d=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);ut(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(t)for(let d=0;d<s.length;d++){let m=s[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:g,errors:y}=t,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let f=t&&n?(d,m)=>{n(d,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:th(t.matches),errorInfo:m})}:void 0;return s.reduceRight((d,m,g)=>{let y,b=!1,w=null,O=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||KD,c&&(u<0&&g===0?(u_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,O=null):u===g&&(b=!0,O=m.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),k=()=>{let E;return y?E=w:b?E=O:m.route.Component?E=ce.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=d,ce.createElement(JD,{match:m,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:E})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?ce.createElement(ZD,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):k()},null)}function mb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o_(r){let e=ce.useContext(bl);return ut(e,mb(r)),e}function c_(r){let e=ce.useContext(rh);return ut(e,mb(r)),e}function t8(r){let e=ce.useContext(Vi);return ut(e,mb(r)),e}function gb(r){let e=t8(r),t=e.matches[e.matches.length-1];return ut(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function r8(){return gb("useRouteId")}function n8(){let r=ce.useContext(pb),e=c_("useRouteError"),t=gb("useRouteError");return r!==void 0?r:e.errors?.[t]}var i8=0;function s8(r){let{router:e,basename:t}=o_("useBlocker"),n=c_("useBlocker"),[i,s]=ce.useState(""),l=ce.useCallback(c=>{if(typeof r!="function")return!!r;if(t==="/")return r(c);let{currentLocation:u,nextLocation:f,historyAction:d}=c;return r({currentLocation:{...u,pathname:kn(u.pathname,t)||u.pathname},nextLocation:{...f,pathname:kn(f.pathname,t)||f.pathname},historyAction:d})},[t,r]);return ce.useEffect(()=>{let c=String(++i8);return s(c),()=>e.deleteBlocker(c)},[e]),ce.useEffect(()=>{i!==""&&e.getBlocker(i,l)},[e,i,l]),i&&n.blockers.has(i)?n.blockers.get(i):fo}function a8(){let{router:r}=o_("useNavigate"),e=gb("useNavigate"),t=ce.useRef(!1);return l_(()=>{t.current=!0}),ce.useCallback(async(i,s={})=>{nr(t.current,a_),t.current&&(typeof i=="number"?await r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var uA={};function u_(r,e,t){!e&&!uA[r]&&(uA[r]=!0,nr(!1,t))}var hA={};function fA(r,e){!r&&!hA[e]&&(hA[e]=!0,console.warn(e))}var l8="useOptimistic",dA=TM[l8],o8=()=>{};function c8(r){return dA?dA(r):[r,o8]}function u8(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&nr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:ce.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&nr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:ce.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&nr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:ce.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var h8=["HydrateFallback","hydrateFallbackElement"],f8=class{constructor(){this.status="pending",this.promise=new Promise((r,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",r(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function d8({router:r,flushSync:e,unstable_onError:t,unstable_useTransitions:n}){let[i,s]=ce.useState(r.state),[l,c]=c8(i),[u,f]=ce.useState(),[d,m]=ce.useState({isTransitioning:!1}),[g,y]=ce.useState(),[b,w]=ce.useState(),[O,S]=ce.useState(),k=ce.useRef(new Map),E=ce.useCallback((M,{deletedFetchers:Q,newErrors:P,flushSync:re,viewTransitionOpts:pe})=>{P&&t&&Object.values(P).forEach(Y=>t(Y,{location:M.location,params:M.matches[0]?.params??{},unstable_pattern:th(M.matches)})),M.fetchers.forEach((Y,R)=>{Y.data!==void 0&&k.current.set(R,Y.data)}),Q.forEach(Y=>k.current.delete(Y)),fA(re===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let H=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(fA(pe==null||H,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!pe||!H){e&&re?e(()=>s(M)):n===!1?s(M):ce.startTransition(()=>{n===!0&&c(Y=>pA(Y,M)),s(M)});return}if(e&&re){e(()=>{b&&(g?.resolve(),b.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})});let Y=r.window.document.startViewTransition(()=>{e(()=>s(M))});Y.finished.finally(()=>{e(()=>{y(void 0),w(void 0),f(void 0),m({isTransitioning:!1})})}),e(()=>w(Y));return}b?(g?.resolve(),b.skipTransition(),S({state:M,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})):(f(M),m({isTransitioning:!0,flushSync:!1,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation}))},[r.window,e,b,g,n,c,t]);ce.useLayoutEffect(()=>r.subscribe(E),[r,E]),ce.useEffect(()=>{d.isTransitioning&&!d.flushSync&&y(new f8)},[d]),ce.useEffect(()=>{if(g&&u&&r.window){let M=u,Q=g.promise,P=r.window.document.startViewTransition(async()=>{n===!1?s(M):ce.startTransition(()=>{n===!0&&c(re=>pA(re,M)),s(M)}),await Q});P.finished.finally(()=>{y(void 0),w(void 0),f(void 0),m({isTransitioning:!1})}),w(P)}},[u,g,r.window,n,c]),ce.useEffect(()=>{g&&u&&l.location.key===u.location.key&&g.resolve()},[g,b,l.location,u]),ce.useEffect(()=>{!d.isTransitioning&&O&&(f(O.state),m({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}),S(void 0))},[d.isTransitioning,O]);let A=ce.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:M=>r.navigate(M),push:(M,Q,P)=>r.navigate(M,{state:Q,preventScrollReset:P?.preventScrollReset}),replace:(M,Q,P)=>r.navigate(M,{replace:!0,state:Q,preventScrollReset:P?.preventScrollReset})}),[r]),_=r.basename||"/",U=ce.useMemo(()=>({router:r,navigator:A,static:!1,basename:_,unstable_onError:t}),[r,A,_,t]);return ce.createElement(ce.Fragment,null,ce.createElement(bl.Provider,{value:U},ce.createElement(rh.Provider,{value:l},ce.createElement(s_.Provider,{value:k.current},ce.createElement(db.Provider,{value:d},ce.createElement(y8,{basename:_,location:l.location,navigationType:l.historyAction,navigator:A,unstable_useTransitions:n===!0},ce.createElement(p8,{routes:r.routes,future:r.future,state:l,unstable_onError:t})))))),null)}function pA(r,e){return{...r,navigation:e.navigation.state!=="idle"?e.navigation:r.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:r.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:r.actionData,fetchers:e.fetchers}}var p8=ce.memo(m8);function m8({routes:r,future:e,state:t,unstable_onError:n}){return YD(r,void 0,t,n,e)}function g8(r){return QD(r.context)}function y8({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){ut(!nh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),u=ce.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);typeof t=="string"&&(t=Ts(t));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:y="default"}=t,b=ce.useMemo(()=>{let w=kn(f,c);return w==null?null:{location:{pathname:w,search:d,hash:m,state:g,key:y},navigationType:n}},[c,f,d,m,g,y,n]);return nr(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:ce.createElement(vi.Provider,{value:u},ce.createElement(Ep.Provider,{children:e,value:b}))}var xd="get",wd="application/x-www-form-urlencoded";function Cp(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function v8(r){return Cp(r)&&r.tagName.toLowerCase()==="button"}function b8(r){return Cp(r)&&r.tagName.toLowerCase()==="form"}function x8(r){return Cp(r)&&r.tagName.toLowerCase()==="input"}function w8(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function S8(r,e){return r.button===0&&(!e||e==="_self")&&!w8(r)}function Qv(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(i=>[t,i]):[[t,n]])},[]))}function k8(r,e){let t=Qv(r);return e&&e.forEach((n,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var Df=null;function A8(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch{Df=!0}return Df}var E8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function x0(r){return r!=null&&!E8.has(r)?(nr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wd}"`),null):r}function T8(r,e){let t,n,i,s,l;if(b8(r)){let c=r.getAttribute("action");n=c?kn(c,e):null,t=r.getAttribute("method")||xd,i=x0(r.getAttribute("enctype"))||wd,s=new FormData(r)}else if(v8(r)||x8(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=r.getAttribute("formaction")||c.getAttribute("action");if(n=u?kn(u,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||xd,i=x0(r.getAttribute("formenctype"))||x0(c.getAttribute("enctype"))||wd,s=new FormData(c,r),!A8()){let{name:f,type:d,value:m}=r;if(d==="image"){let g=f?`${f}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else f&&s.append(f,m)}}else{if(Cp(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xd,n=null,i=wd,l=r}return s&&i==="text/plain"&&(l=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yb(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function C8(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&kn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function O8(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _8(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function R8(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await O8(s,t);return l.links?l.links():[]}return[]}));return L8(n.flat(1).filter(_8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function mA(r,e,t,n,i,s){let l=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,c=(u,f)=>t[f].pathname!==u.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,f)=>l(u,f)||c(u,f)):s==="data"?e.filter((u,f)=>{let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(l(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function N8(r,e,{includeHydrateFallback:t}={}){return M8(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function M8(r){return[...new Set(r)]}function D8(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function L8(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify(D8(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}function h_(){let r=ce.useContext(bl);return yb(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function B8(){let r=ce.useContext(rh);return yb(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vb=ce.createContext(void 0);vb.displayName="FrameworkContext";function f_(){let r=ce.useContext(vb);return yb(r,"You must render this element inside a <HydratedRouter> element"),r}function z8(r,e){let t=ce.useContext(vb),[n,i]=ce.useState(!1),[s,l]=ce.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:d,onTouchStart:m}=e,g=ce.useRef(null);ce.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let w=S=>{S.forEach(k=>{l(k.isIntersecting)})},O=new IntersectionObserver(w,{threshold:.5});return g.current&&O.observe(g.current),()=>{O.disconnect()}}},[r]),ce.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let y=()=>{i(!0)},b=()=>{i(!1),l(!1)};return t?r!=="intent"?[s,g,{}]:[s,g,{onFocus:Kc(c,y),onBlur:Kc(u,b),onMouseEnter:Kc(f,y),onMouseLeave:Kc(d,b),onTouchStart:Kc(m,y)}]:[!1,g,{}]}function Kc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function j8({page:r,...e}){let{router:t}=h_(),n=ce.useMemo(()=>ia(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?ce.createElement(F8,{page:r,matches:n,...e}):null}function P8(r){let{manifest:e,routeModules:t}=f_(),[n,i]=ce.useState([]);return ce.useEffect(()=>{let s=!1;return R8(r,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[r,e,t]),n}function F8({page:r,matches:e,...t}){let n=xa(),{manifest:i,routeModules:s}=f_(),{basename:l}=h_(),{loaderData:c,matches:u}=B8(),f=ce.useMemo(()=>mA(r,e,u,i,n,"data"),[r,e,u,i,n]),d=ce.useMemo(()=>mA(r,e,u,i,n,"assets"),[r,e,u,i,n]),m=ce.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(e.forEach(S=>{let k=i.routes[S.route.id];!k||!k.hasLoader||(!f.some(E=>E.route.id===S.route.id)&&S.route.id in c&&s[S.route.id]?.shouldRevalidate||k.hasClientLoader?w=!0:b.add(S.route.id))}),b.size===0)return[];let O=C8(r,l,"data");return w&&b.size>0&&O.searchParams.set("_routes",e.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[O.pathname+O.search]},[l,c,n,i,f,e,r,s]),g=ce.useMemo(()=>N8(d,i),[d,i]),y=P8(d);return ce.createElement(ce.Fragment,null,m.map(b=>ce.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>ce.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:w})=>ce.createElement("link",{key:b,nonce:t.nonce,...w})))}function I8(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var d_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d_&&(window.__reactRouterVersion="7.10.1")}catch{}function U8(r,e){return wD({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:BM({window:e?.window}),hydrationData:H8(),routes:r,mapRouteProperties:u8,hydrationRouteProperties:h8,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function H8(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:q8(r.errors)}),r}function q8(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")t[n]=new Ap(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let l=new s(i.message);l.stack="",t[n]=l}catch{}}if(t[n]==null){let s=new Error(i.message);s.stack="",t[n]=s}}else t[n]=i;return t}var p_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xl=ce.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:l,state:c,target:u,to:f,preventScrollReset:d,viewTransition:m,...g},y){let{basename:b,unstable_useTransitions:w}=ce.useContext(vi),O=typeof f=="string"&&p_.test(f),S,k=!1;if(typeof f=="string"&&O&&(S=f,d_))try{let re=new URL(window.location.href),pe=f.startsWith("//")?new URL(re.protocol+f):new URL(f),H=kn(pe.pathname,b);pe.origin===re.origin&&H!=null?f=H+pe.search+pe.hash:k=!0}catch{nr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=VD(f,{relative:i}),[A,_,U]=z8(n,g),M=$8(f,{replace:l,state:c,target:u,preventScrollReset:d,relative:i,viewTransition:m,unstable_useTransitions:w});function Q(re){e&&e(re),re.defaultPrevented||M(re)}let P=ce.createElement("a",{...g,...U,href:S||E,onClick:k||s?e:Q,ref:I8(y,_),target:u,"data-discover":!O&&t==="render"?"true":void 0});return A&&!O?ce.createElement(ce.Fragment,null,P,ce.createElement(j8,{page:E})):P});xl.displayName="Link";var Sd=ce.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:l,viewTransition:c,children:u,...f},d){let m=ih(l,{relative:f.relative}),g=xa(),y=ce.useContext(rh),{navigator:b,basename:w}=ce.useContext(vi),O=y!=null&&K8(m)&&c===!0,S=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(k=k.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&w&&(E=kn(E,w)||E);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let _=k===S||!i&&k.startsWith(S)&&k.charAt(A)==="/",U=E!=null&&(E===S||!i&&E.startsWith(S)&&E.charAt(S.length)==="/"),M={isActive:_,isPending:U,isTransitioning:O},Q=_?e:void 0,P;typeof n=="function"?P=n(M):P=[n,_?"active":null,U?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let re=typeof s=="function"?s(M):s;return ce.createElement(xl,{...f,"aria-current":Q,className:P,ref:d,style:re,to:l,viewTransition:c},typeof u=="function"?u(M):u)});Sd.displayName="NavLink";var W8=ce.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:l=xd,action:c,onSubmit:u,relative:f,preventScrollReset:d,viewTransition:m,...g},y)=>{let{unstable_useTransitions:b}=ce.useContext(vi),w=Y8(),O=X8(c,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&p_.test(c),E=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let _=A.nativeEvent.submitter,U=_?.getAttribute("formmethod")||l,M=()=>w(_||A.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:s,relative:f,preventScrollReset:d,viewTransition:m});b&&t!==!1?ce.startTransition(()=>M()):M()};return ce.createElement("form",{ref:y,method:S,action:O,onSubmit:n?u:E,...g,"data-discover":!k&&r==="render"?"true":void 0})});W8.displayName="Form";function V8(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m_(r){let e=ce.useContext(bl);return ut(e,V8(r)),e}function $8(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:l,unstable_useTransitions:c}={}){let u=Tp(),f=xa(),d=ih(r,{relative:s});return ce.useCallback(m=>{if(S8(m,e)){m.preventDefault();let g=t!==void 0?t:qi(f)===qi(d),y=()=>u(r,{replace:g,state:n,preventScrollReset:i,relative:s,viewTransition:l});c?ce.startTransition(()=>y()):y()}},[f,u,d,t,n,e,r,i,s,l,c])}function bb(r){nr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ce.useRef(Qv(r)),t=ce.useRef(!1),n=xa(),i=ce.useMemo(()=>k8(n.search,t.current?null:e.current),[n.search]),s=Tp(),l=ce.useCallback((c,u)=>{const f=Qv(typeof c=="function"?c(new URLSearchParams(i)):c);t.current=!0,s("?"+f,u)},[s,i]);return[i,l]}var G8=0,Q8=()=>`__${String(++G8)}__`;function Y8(){let{router:r}=m_("useSubmit"),{basename:e}=ce.useContext(vi),t=r8(),n=r.fetch,i=r.navigate;return ce.useCallback(async(s,l={})=>{let{action:c,method:u,encType:f,formData:d,body:m}=T8(s,e);if(l.navigate===!1){let g=l.fetcherKey||Q8();await n(g,t,l.action||c,{preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||u,formEncType:l.encType||f,flushSync:l.flushSync})}else await i(l.action||c,{preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||u,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,i,e,t])}function X8(r,{relative:e}={}){let{basename:t}=ce.useContext(vi),n=ce.useContext(Vi);ut(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...ih(r||".",{relative:e})},l=xa();if(r==null){s.search=l.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(d=>d==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let d=c.toString();s.search=d?`?${d}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ii([t,s.pathname])),qi(s)}function K8(r,{relative:e}={}){let t=ce.useContext(db);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=m_("useViewTransitionState"),i=ih(r,{relative:e});if(!t.isTransitioning)return!1;let s=kn(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=kn(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Ld(i.pathname,l)!=null||Ld(i.pathname,s)!=null}var Z8=HO();function J8(r){return ce.createElement(d8,{flushSync:Z8.flushSync,...r})}const eL=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tL=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),gA=r=>{const e=tL(r);return e.charAt(0).toUpperCase()+e.slice(1)},g_=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),rL=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iL=ce.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:l,...c},u)=>ce.createElement("svg",{ref:u,...nL,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:g_("lucide",i),...!s&&!rL(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,d])=>ce.createElement(f,d)),...Array.isArray(s)?s:[s]]));const bt=(r,e)=>{const t=ce.forwardRef(({className:n,...i},s)=>ce.createElement(iL,{ref:s,iconNode:e,className:g_(`lucide-${eL(gA(r))}`,`lucide-${r}`,n),...i}));return t.displayName=gA(r),t};const sL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Op=bt("arrow-left",sL);const aL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],y_=bt("book-open",aL);const lL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],v_=bt("check",lL);const oL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yA=bt("chevron-down",oL);const cL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uL=bt("chevron-right",cL);const hL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vA=bt("chevron-up",hL);const fL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pl=bt("circle-alert",fL);const dL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jo=bt("circle-check-big",dL);const pL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mL=bt("circle-question-mark",pL);const gL=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],b_=bt("clipboard-list",gL);const yL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vL=bt("clock",yL);const bL=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],x_=bt("code",bL);const xL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],w_=bt("copy",xL);const wL=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],SL=bt("download",wL);const kL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],xb=bt("file-down",kL);const AL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ru=bt("file-text",AL);const EL=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],wb=bt("folder-open",EL);const TL=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],CL=bt("folder",TL);const OL=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],_L=bt("grip-vertical",OL);const RL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],NL=bt("house",RL);const ML=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],DL=bt("info",ML);const LL=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],BL=bt("lightbulb",LL);const zL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jL=bt("loader-circle",zL);const PL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],FL=bt("message-square",PL);const IL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],UL=bt("moon",IL);const HL=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],qL=bt("palette",HL);const WL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],VL=bt("pencil",WL);const $L=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ol=bt("plus",$L);const GL=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Nu=bt("printer",GL);const QL=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],S_=bt("rectangle-ellipsis",QL);const YL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sb=bt("refresh-cw",YL);const XL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kb=bt("save",XL);const KL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZL=bt("settings",KL);const JL=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],eB=bt("sun",JL);const tB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cl=bt("trash-2",tB);const rB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ab=bt("x",rB),nB={exam:"",worksheet:"","lesson-plan":""},w0={exam:"1",worksheet:"","lesson-plan":""};function iB({isOpen:r,onClose:e,onConfirm:t,type:n}){const[i,s]=ce.useState(w0[n]);if(!r)return null;const l=()=>{const u=i.trim()||w0[n];t(u.endsWith(".yaml")?u:`${u}.yaml`),e()},c=u=>{u.key==="Enter"?l():u.key==="Escape"&&e()};return N.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:N.jsxs("div",{className:"bg-[var(--color-surface)] rounded-2xl shadow-2xl w-[400px] overflow-hidden",children:[N.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--color-border)]",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(Ru,{size:20,className:"text-[var(--color-primary)]"}),N.jsxs("h2",{className:"text-lg font-semibold",children:["",nB[n],""]})]}),N.jsx("button",{onClick:e,className:"p-1 rounded-lg hover:bg-[var(--color-surface-hover)] text-[var(--color-text-muted)]",children:N.jsx(Ab,{size:20})})]}),N.jsxs("div",{className:"p-6",children:[N.jsx("label",{className:"block text-sm text-[var(--color-text-muted)] mb-2",children:""}),N.jsx("input",{type:"text",value:i,onChange:u=>s(u.target.value),onKeyDown:c,autoFocus:!0,className:"w-full px-4 py-3 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-lg",placeholder:w0[n]}),N.jsx("p",{className:"mt-2 text-xs text-[var(--color-text-muted)]",children:"  .yaml "})]}),N.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-[var(--color-border)] bg-[var(--color-surface-hover)]",children:[N.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg hover:bg-[var(--color-border)] transition-colors",children:""}),N.jsx("button",{onClick:l,className:"px-6 py-2 rounded-lg bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary-dark)] transition-colors font-medium",children:""})]})]})})}const sB=[{to:"/",icon:NL,label:""},{to:"/exam",icon:Ru,label:"",type:"exam"},{to:"/worksheet",icon:b_,label:"",type:"worksheet"},{to:"/lesson-plan",icon:y_,label:"",type:"lesson-plan"}];function aB(){const r=Tp(),[e,t]=ce.useState(!1),[n,i]=ce.useState("exam"),s=c=>{i(c),t(!0)},l=c=>{r(`/${n}/new?filename=${encodeURIComponent(c)}`)};return N.jsxs(N.Fragment,{children:[N.jsxs("aside",{className:"w-56 bg-[var(--color-surface)] border-r border-[var(--color-border)] flex flex-col",children:[N.jsx("div",{className:"p-4 border-b border-[var(--color-border)]",children:N.jsx("h1",{className:"text-lg font-bold flex items-center gap-2",children:" "})}),N.jsxs("nav",{className:"flex-1 p-2 space-y-1",children:[sB.map(({to:c,icon:u,label:f,type:d})=>N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsxs(Sd,{to:c,className:({isActive:m})=>`flex-1 flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 ${m?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)] hover:text-[var(--color-text)]"}`,children:[N.jsx(u,{size:20}),N.jsx("span",{children:f})]}),d&&N.jsx("button",{onClick:()=>s(d),className:"p-2 rounded-lg text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)] hover:text-[var(--color-primary)] transition-all",title:`${f}`,children:N.jsx(ol,{size:16})})]},c)),N.jsx("div",{className:"pt-4 mt-4 border-t border-[var(--color-border)]",children:N.jsxs(Sd,{to:"/help",className:({isActive:c})=>`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 ${c?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)] hover:text-[var(--color-text)]"}`,children:[N.jsx(mL,{size:20}),N.jsx("span",{children:""})]})})]}),N.jsx("div",{className:"p-2 border-t border-[var(--color-border)]",children:N.jsxs(Sd,{to:"/settings",className:({isActive:c})=>`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 ${c?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)] hover:text-[var(--color-text)]"}`,children:[N.jsx(ZL,{size:20}),N.jsx("span",{children:""})]})})]}),N.jsx(iB,{isOpen:e,onClose:()=>t(!1),onConfirm:l,type:n})]})}function lB(){return N.jsxs("div",{className:"flex h-screen overflow-hidden",children:[N.jsx(aB,{}),N.jsx("main",{className:"flex-1 overflow-auto bg-[var(--color-background)]",children:N.jsx(g8,{})})]})}const Eb="kyozai-recent-projects",oB=10;function zd(){try{const r=localStorage.getItem(Eb);return r?JSON.parse(r):[]}catch{return[]}}function Po(r){try{const t=zd().filter(i=>i.filename!==r.filename);t.unshift({...r,lastOpened:new Date().toISOString()});const n=t.slice(0,oB);localStorage.setItem(Eb,JSON.stringify(n))}catch{console.error("Failed to save recent project")}}function cB(r){try{const t=zd().filter(n=>n.filename!==r);localStorage.setItem(Eb,JSON.stringify(t))}catch{console.error("Failed to remove recent project")}}function uB(r){switch(r){case"exam":return"";case"worksheet":return"";case"lesson-plan":return""}}const hB=[{to:"/exam/new",title:" ",subtitle:"",color:"from-blue-500 to-blue-600"},{to:"/worksheet/new",title:" ",subtitle:"",color:"from-emerald-500 to-emerald-600"},{to:"/lesson-plan/new",title:" ",subtitle:"",color:"from-purple-500 to-purple-600"}];function fB(){const[r,e]=ce.useState([]),t=Tp();ce.useEffect(()=>{e(zd())},[]);const n=(l,c)=>{l.stopPropagation(),cB(c),e(zd())},i=l=>{t(`/${l.type}`)},s=l=>{const c=new Date(l),u=c.getMonth()+1,f=c.getDate(),d=c.getHours().toString().padStart(2,"0"),m=c.getMinutes().toString().padStart(2,"0");return`${u}/${f} ${d}:${m}`};return N.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[N.jsxs("div",{className:"mb-10",children:[N.jsx("h1",{className:"text-3xl font-bold mb-2",children:""}),N.jsx("p",{className:"text-[var(--color-text-muted)]",children:""})]}),N.jsxs("section",{className:"mb-12",children:[N.jsx("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:" "}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:hB.map(({to:l,title:c,subtitle:u,color:f})=>N.jsxs(xl,{to:l,className:"group relative overflow-hidden rounded-2xl bg-[var(--color-surface)] border border-[var(--color-border)] p-6 transition-all duration-300 hover:border-[var(--color-primary)] hover:shadow-lg hover:shadow-blue-500/10 hover:-translate-y-1",children:[N.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${f} opacity-0 group-hover:opacity-10 transition-opacity duration-300`}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"text-4xl mb-4",children:c.split(" ")[0]}),N.jsx("h3",{className:"text-lg font-semibold mb-1",children:c.split(" ")[1]}),N.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:u}),N.jsxs("div",{className:"mt-4 flex items-center text-[var(--color-primary)] opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[N.jsx("span",{className:"text-sm",children:""}),N.jsx(uL,{size:16,className:"ml-1"})]})]})]},l))})]}),N.jsxs("section",{children:[N.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[N.jsx(vL,{size:20}),""]}),N.jsx("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] overflow-hidden",children:r.length>0?N.jsx("ul",{className:"divide-y divide-[var(--color-border)]",children:r.map((l,c)=>N.jsx("li",{children:N.jsxs("div",{onClick:()=>i(l),className:"w-full flex items-center justify-between px-5 py-4 hover:bg-[var(--color-surface-hover)] transition-colors duration-200 cursor-pointer",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("span",{className:"text-2xl",children:uB(l.type)}),N.jsx("div",{className:"text-left",children:N.jsx("p",{className:"font-medium",children:l.filename})})]}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("span",{className:"text-sm text-[var(--color-text-muted)]",children:s(l.lastOpened)}),N.jsx("button",{onClick:u=>n(u,l.filename),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400 transition-colors",children:N.jsx(cl,{size:16})})]})]})},c))}):N.jsx("div",{className:"p-8 text-center text-[var(--color-text-muted)]",children:""})})]})]})}let Yv=[],k_=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?k_:Yv).push(t=t+r[e])})();function dB(r){if(r<768)return!1;for(let e=0,t=Yv.length;;){let n=e+t>>1;if(r<Yv[n])t=n;else if(r>=k_[n])e=n+1;else return!0;if(e==t)return!1}}function bA(r){return r>=127462&&r<=127487}const xA=8205;function pB(r,e,t=!0,n=!0){return(t?A_:mB)(r,e,n)}function A_(r,e,t){if(e==r.length)return e;e&&E_(r.charCodeAt(e))&&T_(r.charCodeAt(e-1))&&e--;let n=S0(r,e);for(e+=wA(n);e<r.length;){let i=S0(r,e);if(n==xA||i==xA||t&&dB(i))e+=wA(i),n=i;else if(bA(i)){let s=0,l=e-2;for(;l>=0&&bA(S0(r,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function mB(r,e,t){for(;e>0;){let n=A_(r,e-2,t);if(n<e)return n;e--}return 0}function S0(r,e){let t=r.charCodeAt(e);if(!T_(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return E_(n)?(t-55296<<10)+(n-56320)+65536:t}function E_(r){return r>=56320&&r<57344}function T_(r){return r>=55296&&r<56320}function wA(r){return r<65536?1:2}let Dt=class C_{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=Fo(this,e,t);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),Li.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Fo(this,e,t);let n=[];return this.decompose(e,t,n,0),Li.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new vu(this),s=new vu(e);for(let l=t,c=t;;){if(i.next(l),s.next(l),l=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(c+=i.value.length,i.done||c>=n)return!0}}iter(e=1){return new vu(this,e)}iterRange(e,t=this.length){return new O_(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new __(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?C_.empty:e.length<=32?new dr(e):Li.from(dr.split(e,[]))}};class dr extends Dt{constructor(e,t=gB(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let s=0;;s++){let l=this.text[s],c=i+l.length;if((t?n:c)>=e)return new yB(i,c,n,l);i=c+1,n++}}decompose(e,t,n,i){let s=e<=0&&t>=this.length?this:new dr(SA(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let l=n.pop(),c=kd(s.text,l.text.slice(),0,s.length);if(c.length<=32)n.push(new dr(c,l.length+s.length));else{let u=c.length>>1;n.push(new dr(c.slice(0,u)),new dr(c.slice(u)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof dr))return super.replace(e,t,n);[e,t]=Fo(this,e,t);let i=kd(this.text,kd(n.text,SA(this.text,0,e)),t),s=this.length+n.length-(t-e);return i.length<=32?new dr(i,s):Li.from(dr.split(i,[]),s)}sliceString(e,t=this.length,n=`
`){[e,t]=Fo(this,e,t);let i="";for(let s=0,l=0;s<=t&&l<this.text.length;l++){let c=this.text[l],u=s+c.length;s>e&&l&&(i+=n),e<u&&t>s&&(i+=c.slice(Math.max(0,e-s),t-s)),s=u+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(let s of e)n.push(s),i+=s.length+1,n.length==32&&(t.push(new dr(n,i)),n=[],i=-1);return i>-1&&t.push(new dr(n,i)),t}}class Li extends Dt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,i){for(let s=0;;s++){let l=this.children[s],c=i+l.length,u=n+l.lines-1;if((t?u:c)>=e)return l.lineInner(e,t,n,i);i=c+1,n=u+1}}decompose(e,t,n,i){for(let s=0,l=0;l<=t&&s<this.children.length;s++){let c=this.children[s],u=l+c.length;if(e<=u&&t>=l){let f=i&((l<=e?1:0)|(u>=t?2:0));l>=e&&u<=t&&!f?n.push(c):c.decompose(e-l,t-l,n,f)}l=u+1}}replace(e,t,n){if([e,t]=Fo(this,e,t),n.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let l=this.children[i],c=s+l.length;if(e>=s&&t<=c){let u=l.replace(e-s,t-s,n),f=this.lines-l.lines+u.lines;if(u.lines<f>>4&&u.lines>f>>6){let d=this.children.slice();return d[i]=u,new Li(d,this.length-(t-e)+n.length)}return super.replace(s,c,u)}s=c+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=Fo(this,e,t);let i="";for(let s=0,l=0;s<this.children.length&&l<=t;s++){let c=this.children[s],u=l+c.length;l>e&&s&&(i+=n),e<u&&t>l&&(i+=c.sliceString(e-l,t-l,n)),l=u+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Li))return 0;let n=0,[i,s,l,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==l||s==c)return n;let u=this.children[i],f=e.children[s];if(u!=f)return n+u.scanIdentical(f,t);n+=u.length+1}}static from(e,t=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let y of e)n+=y.lines;if(n<32){let y=[];for(let b of e)b.flatten(y);return new dr(y,t)}let i=Math.max(32,n>>5),s=i<<1,l=i>>1,c=[],u=0,f=-1,d=[];function m(y){let b;if(y.lines>s&&y instanceof Li)for(let w of y.children)m(w);else y.lines>l&&(u>l||!u)?(g(),c.push(y)):y instanceof dr&&u&&(b=d[d.length-1])instanceof dr&&y.lines+b.lines<=32?(u+=y.lines,f+=y.length+1,d[d.length-1]=new dr(b.text.concat(y.text),b.length+1+y.length)):(u+y.lines>i&&g(),u+=y.lines,f+=y.length+1,d.push(y))}function g(){u!=0&&(c.push(d.length==1?d[0]:Li.from(d,f)),f=-1,u=d.length=0)}for(let y of e)m(y);return g(),c.length==1?c[0]:new Li(c,t)}}Dt.empty=new dr([""],0);function gB(r){let e=-1;for(let t of r)e+=t.length+1;return e}function kd(r,e,t=0,n=1e9){for(let i=0,s=0,l=!0;s<r.length&&i<=n;s++){let c=r[s],u=i+c.length;u>=t&&(u>n&&(c=c.slice(0,n-i)),i<t&&(c=c.slice(t-i)),l?(e[e.length-1]+=c,l=!1):e.push(c)),i=u+1}return e}function SA(r,e,t){return kd(r,[""],e,t)}class vu{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof dr?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],l=s>>1,c=i instanceof dr?i.text.length:i.children.length;if(l==(t>0?c:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof dr){let u=i.text[l+(t<0?-1:0)];if(this.offsets[n]+=t,u.length>Math.max(0,e))return this.value=e==0?u:t>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[l+(t<0?-1:0)];e>u.length?(e-=u.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(u),this.offsets.push(t>0?1:(u instanceof dr?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class O_{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new vu(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class __{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Dt.prototype[Symbol.iterator]=function(){return this.iter()},vu.prototype[Symbol.iterator]=O_.prototype[Symbol.iterator]=__.prototype[Symbol.iterator]=function(){return this});class yB{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}function Fo(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function Tr(r,e,t=!0,n=!0){return pB(r,e,t,n)}function vB(r){return r>=56320&&r<57344}function bB(r){return r>=55296&&r<56320}function yn(r,e){let t=r.charCodeAt(e);if(!bB(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return vB(n)?(t-55296<<10)+(n-56320)+65536:t}function Tb(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function Bi(r){return r<65536?1:2}const Xv=/\r\n?|\n/;var tn=(function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r})(tn||(tn={}));class Ui{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let s=this.sections[t++],l=this.sections[t++];l<0?(e(n,i,s),i+=s):i+=l,n+=s}}iterChangedRanges(e,t=!1){Kv(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new Ui(e)}composeDesc(e){return this.empty?e:e.empty?this:R_(this,e)}mapDesc(e,t=!1){return e.empty?this:Zv(this,e,t)}mapPos(e,t=-1,n=tn.Simple){let i=0,s=0;for(let l=0;l<this.sections.length;){let c=this.sections[l++],u=this.sections[l++],f=i+c;if(u<0){if(f>e)return s+(e-i);s+=c}else{if(n!=tn.Simple&&f>=e&&(n==tn.TrackDel&&i<e&&f>e||n==tn.TrackBefore&&i<e||n==tn.TrackAfter&&f>e))return null;if(f>e||f==e&&t<0&&!c)return e==i||t<0?s:s+u;s+=u}i=f}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let n=0,i=0;n<this.sections.length&&i<=t;){let s=this.sections[n++],l=this.sections[n++],c=i+s;if(l>=0&&i<=t&&c>=e)return i<e&&c>t?"cover":!0;i=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ui(e)}static create(e){return new Ui(e)}}class Ar extends Ui{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Kv(this,(t,n,i,s,l)=>e=e.replace(i,i+(n-t),l),!1),e}mapDesc(e,t=!1){return Zv(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,s=0;i<t.length;i+=2){let l=t[i],c=t[i+1];if(c>=0){t[i]=c,t[i+1]=l;let u=i>>1;for(;n.length<u;)n.push(Dt.empty);n.push(l?e.slice(s,s+l):Dt.empty)}s+=l}return new Ar(t,n)}compose(e){return this.empty?e:e.empty?this:R_(this,e,!0)}map(e,t=!1){return e.empty?this:Zv(this,e,t,!0)}iterChanges(e,t=!1){Kv(this,e,t)}get desc(){return Ui.create(this.sections)}filter(e){let t=[],n=[],i=[],s=new Mu(this);e:for(let l=0,c=0;;){let u=l==e.length?1e9:e[l++];for(;c<u||c==u&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,u-c);$r(i,d,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;$r(t,d,m),m>0&&oa(n,t,s.text),s.forward(d),c+=d}let f=e[l++];for(;c<f;){if(s.done)break e;let d=Math.min(s.len,f-c);$r(t,d,-1),$r(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),c+=d}}return{changes:new Ar(t,n),filtered:Ui.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],s=[],l=0,c=null;function u(d=!1){if(!d&&!i.length)return;l<t&&$r(i,t-l,-1);let m=new Ar(i,s);c=c?c.compose(m.map(c)):m,i=[],s=[],l=0}function f(d){if(Array.isArray(d))for(let m of d)f(m);else if(d instanceof Ar){if(d.length!=t)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${t})`);u(),c=c?c.compose(d.map(c)):d}else{let{from:m,to:g=m,insert:y}=d;if(m>g||m<0||g>t)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${t})`);let b=y?typeof y=="string"?Dt.of(y.split(n||Xv)):y:Dt.empty,w=b.length;if(m==g&&w==0)return;m<l&&u(),m>l&&$r(i,m-l,-1),$r(i,g-m,w),oa(s,i,b),l=g}}return f(e),u(!c),c}static empty(e){return new Ar(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,c)=>c&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;n.length<i;)n.push(Dt.empty);n[i]=Dt.of(s.slice(1)),t.push(s[0],n[i].length)}}}return new Ar(t,n)}static createSet(e,t){return new Ar(e,t)}}function $r(r,e,t,n=!1){if(e==0&&t<=0)return;let i=r.length-2;i>=0&&t<=0&&t==r[i+1]?r[i]+=e:i>=0&&e==0&&r[i]==0?r[i+1]+=t:n?(r[i]+=e,r[i+1]+=t):r.push(e,t)}function oa(r,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<n;)r.push(Dt.empty);r.push(t)}}function Kv(r,e,t){let n=r.inserted;for(let i=0,s=0,l=0;l<r.sections.length;){let c=r.sections[l++],u=r.sections[l++];if(u<0)i+=c,s+=c;else{let f=i,d=s,m=Dt.empty;for(;f+=c,d+=u,u&&n&&(m=m.append(n[l-2>>1])),!(t||l==r.sections.length||r.sections[l+1]<0);)c=r.sections[l++],u=r.sections[l++];e(i,f,s,d,m),i=f,s=d}}}function Zv(r,e,t,n=!1){let i=[],s=n?[]:null,l=new Mu(r),c=new Mu(e);for(let u=-1;;){if(l.done&&c.len||c.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&c.ins==-1){let f=Math.min(l.len,c.len);$r(i,f,-1),l.forward(f),c.forward(f)}else if(c.ins>=0&&(l.ins<0||u==l.i||l.off==0&&(c.len<l.len||c.len==l.len&&!t))){let f=c.len;for($r(i,c.ins,-1);f;){let d=Math.min(l.len,f);l.ins>=0&&u<l.i&&l.len<=d&&($r(i,0,l.ins),s&&oa(s,i,l.text),u=l.i),l.forward(d),f-=d}c.next()}else if(l.ins>=0){let f=0,d=l.len;for(;d;)if(c.ins==-1){let m=Math.min(d,c.len);f+=m,d-=m,c.forward(m)}else if(c.ins==0&&c.len<d)d-=c.len,c.next();else break;$r(i,f,u<l.i?l.ins:0),s&&u<l.i&&oa(s,i,l.text),u=l.i,l.forward(l.len-d)}else{if(l.done&&c.done)return s?Ar.createSet(i,s):Ui.create(i);throw new Error("Mismatched change set lengths")}}}function R_(r,e,t=!1){let n=[],i=t?[]:null,s=new Mu(r),l=new Mu(e);for(let c=!1;;){if(s.done&&l.done)return i?Ar.createSet(n,i):Ui.create(n);if(s.ins==0)$r(n,s.len,0,c),s.next();else if(l.len==0&&!l.done)$r(n,0,l.ins,c),i&&oa(i,n,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(s.len2,l.len),f=n.length;if(s.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;$r(n,u,d,c),i&&d&&oa(i,n,l.text)}else l.ins==-1?($r(n,s.off?0:s.len,u,c),i&&oa(i,n,s.textBit(u))):($r(n,s.off?0:s.len,l.off?0:l.ins,c),i&&!l.off&&oa(i,n,l.text));c=(s.ins>u||l.ins>=0&&l.len>u)&&(c||n.length>f),s.forward2(u),l.forward(u)}}}}class Mu{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Dt.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Dt.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class rl{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new rl(n,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Me.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Me.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Me.range(e.anchor,e.head)}static create(e,t,n){return new rl(e,t,n)}}class Me{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Me.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Me([this.main],0)}addRange(e,t=!0){return Me.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Me.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Me(e.ranges.map(t=>rl.fromJSON(t)),e.main)}static single(e,t=e){return new Me([Me.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=n:s.from<n)return Me.normalized(e.slice(),t);n=s.to}return new Me(e,t)}static cursor(e,t=0,n,i){return rl.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,t,n,i){let s=(n??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?rl.create(t,e,48|s):rl.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let n=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(n);for(let i=1;i<e.length;i++){let s=e[i],l=e[i-1];if(s.empty?s.from<=l.to:s.from<l.to){let c=l.from,u=Math.max(s.to,l.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?Me.range(u,c):Me.range(c,u))}}return new Me(e,t)}}function N_(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Cb=0;class We{constructor(e,t,n,i,s){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.id=Cb++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new We(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:Ob),!!e.static,e.enables)}of(e){return new Ad([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ad(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ad(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function Ob(r,e){return r==e||r.length==e.length&&r.every((t,n)=>t===e[n])}class Ad{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=Cb++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,s=this.id,l=e[s]>>1,c=this.type==2,u=!1,f=!1,d=[];for(let m of this.dependencies)m=="doc"?u=!0:m=="selection"?f=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[l]=n(m),1},update(m,g){if(u&&g.docChanged||f&&(g.docChanged||g.selection)||Jv(m,d)){let y=n(m);if(c?!kA(y,m.values[l],i):!i(y,m.values[l]))return m.values[l]=y,1}return 0},reconfigure:(m,g)=>{let y,b=g.config.address[s];if(b!=null){let w=Pd(g,b);if(this.dependencies.every(O=>O instanceof We?g.facet(O)===m.facet(O):O instanceof Wr?g.field(O,!1)==m.field(O,!1):!0)||(c?kA(y=n(m),w,i):i(y=n(m),w)))return m.values[l]=w,0}else y=n(m);return m.values[l]=y,1}}}}function kA(r,e,t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!t(r[n],e[n]))return!1;return!0}function Jv(r,e){let t=!1;for(let n of e)bu(r,n)&1&&(t=!0);return t}function xB(r,e,t){let n=t.map(u=>r[u.id]),i=t.map(u=>u.type),s=n.filter(u=>!(u&1)),l=r[e.id]>>1;function c(u){let f=[];for(let d=0;d<n.length;d++){let m=Pd(u,n[d]);if(i[d]==2)for(let g of m)f.push(g);else f.push(m)}return e.combine(f)}return{create(u){for(let f of n)bu(u,f);return u.values[l]=c(u),1},update(u,f){if(!Jv(u,s))return 0;let d=c(u);return e.compare(d,u.values[l])?0:(u.values[l]=d,1)},reconfigure(u,f){let d=Jv(u,n),m=f.config.facets[e.id],g=f.facet(e);if(m&&!d&&Ob(t,m))return u.values[l]=g,0;let y=c(u);return e.compare(y,g)?(u.values[l]=g,0):(u.values[l]=y,1)}}}const Lf=We.define({static:!0});class Wr{constructor(e,t,n,i,s){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Wr(Cb++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Lf).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,i)=>{let s=n.values[t],l=this.updateF(s,i);return this.compareF(s,l)?0:(n.values[t]=l,1)},reconfigure:(n,i)=>{let s=n.facet(Lf),l=i.facet(Lf),c;return(c=s.find(u=>u.field==this))&&c!=l.find(u=>u.field==this)?(n.values[t]=c.create(n),1):i.config.address[this.id]!=null?(n.values[t]=i.field(this),0):(n.values[t]=this.create(n),1)}}}init(e){return[this,Lf.of({field:this,create:e})]}get extension(){return this}}const Za={lowest:4,low:3,default:2,high:1,highest:0};function Zc(r){return e=>new M_(e,r)}const wl={highest:Zc(Za.highest),high:Zc(Za.high),default:Zc(Za.default),low:Zc(Za.low),lowest:Zc(Za.lowest)};class M_{constructor(e,t){this.inner=e,this.prec=t}}class _p{of(e){return new e1(this,e)}reconfigure(e){return _p.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class e1{constructor(e,t){this.compartment=e,this.inner=t}}class jd{constructor(e,t,n,i,s,l){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let i=[],s=Object.create(null),l=new Map;for(let g of wB(e,t,l))g instanceof Wr?i.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let c=Object.create(null),u=[],f=[];for(let g of i)c[g.id]=f.length<<1,f.push(y=>g.slot(y));let d=n?.config.facets;for(let g in s){let y=s[g],b=y[0].facet,w=d&&d[g]||[];if(y.every(O=>O.type==0))if(c[b.id]=u.length<<1|1,Ob(w,y))u.push(n.facet(b));else{let O=b.combine(y.map(S=>S.value));u.push(n&&b.compare(O,n.facet(b))?n.facet(b):O)}else{for(let O of y)O.type==0?(c[O.id]=u.length<<1|1,u.push(O.value)):(c[O.id]=f.length<<1,f.push(S=>O.dynamicSlot(S)));c[b.id]=f.length<<1,f.push(O=>xB(O,b,y))}}let m=f.map(g=>g(c));return new jd(e,l,m,c,u,s)}}function wB(r,e,t){let n=[[],[],[],[],[]],i=new Map;function s(l,c){let u=i.get(l);if(u!=null){if(u<=c)return;let f=n[u].indexOf(l);f>-1&&n[u].splice(f,1),l instanceof e1&&t.delete(l.compartment)}if(i.set(l,c),Array.isArray(l))for(let f of l)s(f,c);else if(l instanceof e1){if(t.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(l.compartment)||l.inner;t.set(l.compartment,f),s(f,c)}else if(l instanceof M_)s(l.inner,l.prec);else if(l instanceof Wr)n[c].push(l),l.provides&&s(l.provides,c);else if(l instanceof Ad)n[c].push(l),l.facet.extensions&&s(l.facet.extensions,Za.default);else{let f=l.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(f,c)}}return s(r,Za.default),n.reduce((l,c)=>l.concat(c))}function bu(r,e){if(e&1)return 2;let t=e>>1,n=r.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;r.status[t]=4;let i=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|i}function Pd(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const D_=We.define(),t1=We.define({combine:r=>r.some(e=>e),static:!0}),L_=We.define({combine:r=>r.length?r[0]:void 0,static:!0}),B_=We.define(),z_=We.define(),j_=We.define(),P_=We.define({combine:r=>r.length?r[0]:!1});class Cs{constructor(e,t){this.type=e,this.value=t}static define(){return new SB}}class SB{of(e){return new Cs(this,e)}}class kB{constructor(e){this.map=e}of(e){return new ot(this,e)}}class ot{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new ot(this.type,t)}is(e){return this.type==e}static define(e={}){return new kB(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let i of e){let s=i.map(t);s&&n.push(s)}return n}}ot.reconfigure=ot.define();ot.appendConfig=ot.define();class Cr{constructor(e,t,n,i,s,l){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,n&&N_(n,t.newLength),s.some(c=>c.type==Cr.time)||(this.annotations=s.concat(Cr.time.of(Date.now())))}static create(e,t,n,i,s,l){return new Cr(e,t,n,i,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Cr.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Cr.time=Cs.define();Cr.userEvent=Cs.define();Cr.addToHistory=Cs.define();Cr.remote=Cs.define();function AB(r,e){let t=[];for(let n=0,i=0;;){let s,l;if(n<r.length&&(i==e.length||e[i]>=r[n]))s=r[n++],l=r[n++];else if(i<e.length)s=e[i++],l=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,l):t[t.length-1]<l&&(t[t.length-1]=l)}}function F_(r,e,t){var n;let i,s,l;return t?(i=e.changes,s=Ar.empty(e.changes.length),l=r.changes.compose(e.changes)):(i=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),l=r.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(s):(n=r.selection)===null||n===void 0?void 0:n.map(i),effects:ot.mapEffects(r.effects,i).concat(ot.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function r1(r,e,t){let n=e.selection,i=Oo(e.annotations);return e.userEvent&&(i=i.concat(Cr.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ar?e.changes:Ar.of(e.changes||[],t,r.facet(L_)),selection:n&&(n instanceof Me?n:Me.single(n.anchor,n.head)),effects:Oo(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function I_(r,e,t){let n=r1(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let l=!!e[s].sequential;n=F_(n,r1(r,e[s],l?n.changes.newLength:r.doc.length),l)}let i=Cr.create(r,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return TB(t?EB(i):i)}function EB(r){let e=r.startState,t=!0;for(let i of e.facet(B_)){let s=i(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:AB(t,s))}if(t!==!0){let i,s;if(t===!1)s=r.changes.invertedDesc,i=Ar.empty(e.doc.length);else{let l=r.changes.filter(t);i=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}r=Cr.create(e,i,r.selection&&r.selection.map(s),ot.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let n=e.facet(z_);for(let i=n.length-1;i>=0;i--){let s=n[i](r);s instanceof Cr?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Cr?r=s[0]:r=I_(e,Oo(s),!1)}return r}function TB(r){let e=r.startState,t=e.facet(j_),n=r;for(let i=t.length-1;i>=0;i--){let s=t[i](r);s&&Object.keys(s).length&&(n=F_(n,r1(e,s,r.changes.newLength),!0))}return n==r?r:Cr.create(e,r.changes,r.selection,n.effects,n.annotations,n.scrollIntoView)}const CB=[];function Oo(r){return r==null?CB:Array.isArray(r)?r:[r]}var rr=(function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r})(rr||(rr={}));const OB=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let n1;try{n1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function _B(r){if(n1)return n1.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||OB.test(t)))return!0}return!1}function RB(r){return e=>{if(!/\S/.test(e))return rr.Space;if(_B(e))return rr.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return rr.Word;return rr.Other}}class kt{constructor(e,t,n,i,s,l){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)bu(this,c<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return bu(this,n),Pd(this,n)}update(...e){return I_(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:i}=t;for(let c of e.effects)c.is(_p.reconfigure)?(t&&(i=new Map,t.compartments.forEach((u,f)=>i.set(f,u)),t=null),i.set(c.value.compartment,c.value.extension)):c.is(ot.reconfigure)?(t=null,n=c.value):c.is(ot.appendConfig)&&(t=null,n=Oo(n).concat(c.value));let s;t?s=e.startState.values.slice():(t=jd.resolve(n,i,this),s=new kt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(u,f)=>f.reconfigure(u,this),null).values);let l=e.startState.facet(t1)?e.newSelection:e.newSelection.asSingle();new kt(t,e.newDoc,l,s,(c,u)=>u.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Me.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),s=[n.range],l=Oo(n.effects);for(let c=1;c<t.ranges.length;c++){let u=e(t.ranges[c]),f=this.changes(u.changes),d=f.map(i);for(let g=0;g<c;g++)s[g]=s[g].map(d);let m=i.mapDesc(f,!0);s.push(u.range.map(m)),i=i.compose(d),l=ot.mapEffects(l,d).concat(ot.mapEffects(Oo(u.effects),m))}return{changes:i,selection:Me.create(s,t.mainIndex),effects:l}}changes(e=[]){return e instanceof Ar?e:Ar.of(e,this.doc.length,this.facet(kt.lineSeparator))}toText(e){return Dt.of(e.split(this.facet(kt.lineSeparator)||Xv))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(bu(this,t),Pd(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof Wr&&this.config.address[i.id]!=null&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let l=n[s],c=e[s];i.push(l.init(u=>l.spec.fromJSON(c,u)))}}return kt.create({doc:e.doc,selection:Me.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=jd.resolve(e.extensions||[],new Map),n=e.doc instanceof Dt?e.doc:Dt.of((e.doc||"").split(t.staticFacet(kt.lineSeparator)||Xv)),i=e.selection?e.selection instanceof Me?e.selection:Me.single(e.selection.anchor,e.selection.head):Me.single(0);return N_(i,n.length),t.staticFacet(t1)||(i=i.asSingle()),new kt(t,n,i,t.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(kt.tabSize)}get lineBreak(){return this.facet(kt.lineSeparator)||`
`}get readOnly(){return this.facet(P_)}phrase(e,...t){for(let n of this.facet(kt.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?n:t[s-1]})),e}languageDataAt(e,t,n=-1){let i=[];for(let s of this.facet(D_))for(let l of s(this,t,n))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){return RB(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-n,c=e-n;for(;l>0;){let u=Tr(t,l,!1);if(s(t.slice(u,l))!=rr.Word)break;l=u}for(;c<i;){let u=Tr(t,c);if(s(t.slice(c,u))!=rr.Word)break;c=u}return l==c?null:Me.range(l+n,c+n)}}kt.allowMultipleSelections=t1;kt.tabSize=We.define({combine:r=>r.length?r[0]:4});kt.lineSeparator=L_;kt.readOnly=P_;kt.phrases=We.define({compare(r,e){let t=Object.keys(r),n=Object.keys(e);return t.length==n.length&&t.every(i=>r[i]==e[i])}});kt.languageData=D_;kt.changeFilter=B_;kt.transactionFilter=z_;kt.transactionExtender=j_;_p.reconfigure=ot.define();function $i(r,e,t={}){let n={};for(let i of r)for(let s of Object.keys(i)){let l=i[s],c=n[s];if(c===void 0)n[s]=l;else if(!(c===l||l===void 0))if(Object.hasOwnProperty.call(t,s))n[s]=t[s](c,l);else throw new Error("Config merge conflict for field "+s)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class da{eq(e){return this==e}range(e,t=e){return i1.create(e,t,this)}}da.prototype.startSide=da.prototype.endSide=0;da.prototype.point=!1;da.prototype.mapMode=tn.TrackDel;let i1=class U_{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new U_(e,t,n)}};function s1(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class _b{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,i=0){let s=n?this.to:this.from;for(let l=i,c=s.length;;){if(l==c)return l;let u=l+c>>1,f=s[u]-e||(n?this.value[u].endSide:this.value[u].startSide)-t;if(u==l)return f>=0?l:c;f>=0?c=u:l=u+1}}between(e,t,n,i){for(let s=this.findIndex(t,-1e9,!0),l=this.findIndex(n,1e9,!1,s);s<l;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let n=[],i=[],s=[],l=-1,c=-1;for(let u=0;u<this.value.length;u++){let f=this.value[u],d=this.from[u]+e,m=this.to[u]+e,g,y;if(d==m){let b=t.mapPos(d,f.startSide,f.mapMode);if(b==null||(g=y=b,f.startSide!=f.endSide&&(y=t.mapPos(d,f.endSide),y<g)))continue}else if(g=t.mapPos(d,f.startSide),y=t.mapPos(m,f.endSide),g>y||g==y&&f.startSide>0&&f.endSide<=0)continue;(y-g||f.endSide-f.startSide)<0||(l<0&&(l=g),f.point&&(c=Math.max(c,y-g)),n.push(f),i.push(g-l),s.push(y-l))}return{mapped:n.length?new _b(i,s,n,c):null,pos:l}}}class vt{constructor(e,t,n,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}static create(e,t,n,i){return new vt(e,t,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:s=this.length}=e,l=e.filter;if(t.length==0&&!l)return this;if(n&&(t=t.slice().sort(s1)),this.isEmpty)return t.length?vt.of(t):this;let c=new H_(this,null,-1).goto(0),u=0,f=[],d=new ws;for(;c.value||u<t.length;)if(u<t.length&&(c.from-t[u].from||c.startSide-t[u].value.startSide)>=0){let m=t[u++];d.addInner(m.from,m.to,m.value)||f.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(u==t.length||this.chunkEnd(c.chunkIndex)<t[u].from)&&(!l||i>this.chunkEnd(c.chunkIndex)||s<this.chunkPos[c.chunkIndex])&&d.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!l||i>c.to||s<c.from||l(c.from,c.to,c.value))&&(d.addInner(c.from,c.to,c.value)||f.push(i1.create(c.from,c.to,c.value))),c.next());return d.finishInner(this.nextLayer.isEmpty&&!f.length?vt.empty:this.nextLayer.update({add:f,filter:l,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],i=-1;for(let l=0;l<this.chunk.length;l++){let c=this.chunkPos[l],u=this.chunk[l],f=e.touchesRange(c,c+u.length);if(f===!1)i=Math.max(i,u.maxPoint),t.push(u),n.push(e.mapPos(c));else if(f===!0){let{mapped:d,pos:m}=u.map(c,e);d&&(i=Math.max(i,d.maxPoint),t.push(d),n.push(m))}}let s=this.nextLayer.map(e);return t.length==0?s:new vt(n,t,s||vt.empty,i)}between(e,t,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],l=this.chunk[i];if(t>=s&&e<=s+l.length&&l.between(s,e-s,t-s,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return Du.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Du.from(e).goto(t)}static compare(e,t,n,i,s=-1){let l=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),c=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),u=AA(l,c,n),f=new Jc(l,u,s),d=new Jc(c,u,s);n.iterGaps((m,g,y)=>EA(f,m,d,g,y,i)),n.empty&&n.length==0&&EA(f,0,d,0,0,i)}static eq(e,t,n=0,i){i==null&&(i=999999999);let s=e.filter(d=>!d.isEmpty&&t.indexOf(d)<0),l=t.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let c=AA(s,l),u=new Jc(s,c,0).goto(n),f=new Jc(l,c,0).goto(n);for(;;){if(u.to!=f.to||!a1(u.active,f.active)||u.point&&(!f.point||!u.point.eq(f.point)))return!1;if(u.to>i)return!0;u.next(),f.next()}}static spans(e,t,n,i,s=-1){let l=new Jc(e,null,s).goto(t),c=t,u=l.openStart;for(;;){let f=Math.min(l.to,n);if(l.point){let d=l.activeForPoint(l.to),m=l.pointFrom<t?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,u);i.point(c,f,l.point,d,m,l.pointRank),u=Math.min(l.openEnd(f),d.length)}else f>c&&(i.span(c,f,l.active,u),u=l.openEnd(f));if(l.to>n)return u+(l.point&&l.to>n?1:0);c=l.to,l.next()}}static of(e,t=!1){let n=new ws;for(let i of e instanceof i1?[e]:t?NB(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return vt.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=vt.empty;i=i.nextLayer)t=new vt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}vt.empty=new vt([],[],null,-1);function NB(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let n=r[t];if(s1(e,n)>0)return r.slice().sort(s1);e=n}return r}vt.empty.nextLayer=vt.empty;class ws{finishChunk(e){this.chunks.push(new _b(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new ws)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(vt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=vt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function AA(r,e,t){let n=new Map;for(let s of r)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&n.set(s.chunk[l],s.chunkPos[l]);let i=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let c=n.get(s.chunk[l]);c!=null&&(t?t.mapPos(c):c)==s.chunkPos[l]&&!t?.touchesRange(c,c+s.chunk[l].length)&&i.add(s.chunk[l])}return i}class H_{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Du{constructor(e){this.heap=e}static from(e,t=null,n=-1){let i=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=n&&i.push(new H_(l,t,n,s));return i.length==1?i[0]:new Du(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)k0(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)k0(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),k0(this.heap,0)}}}function k0(r,e){for(let t=r[e];;){let n=(e<<1)+1;if(n>=r.length)break;let i=r[n];if(n+1<r.length&&i.compare(r[n+1])>=0&&(i=r[n+1],n++),t.compare(i)<0)break;r[n]=t,r[e]=i,e=n}}class Jc{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Du.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Bf(this.active,e),Bf(this.activeTo,e),Bf(this.activeRank,e),this.minActive=TA(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;zf(this.active,t,n),zf(this.activeTo,t,i),zf(this.activeRank,t,s),e&&zf(e,t,this.cursor.from),this.minActive=TA(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Bf(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function EA(r,e,t,n,i,s){r.goto(e),t.goto(n);let l=n+i,c=n,u=n-e;for(;;){let f=r.to+u-t.to,d=f||r.endSide-t.endSide,m=d<0?r.to+u:t.to,g=Math.min(m,l);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&a1(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(c,g,r.point,t.point):g>c&&!a1(r.active,t.active)&&s.compareRange(c,g,r.active,t.active),m>l)break;(f||r.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(m),c=m,d<=0&&r.next(),d>=0&&t.next()}}function a1(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function Bf(r,e){for(let t=e,n=r.length-1;t<n;t++)r[t]=r[t+1];r.pop()}function zf(r,e,t){for(let n=r.length-1;n>=e;n--)r[n+1]=r[n];r[e]=t}function TA(r,e){let t=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||r[i].endSide-r[t].endSide)<0&&(t=i,n=e[i]);return t}function tc(r,e,t=r.length){let n=0;for(let i=0;i<t&&i<r.length;)r.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=Tr(r,i));return n}function l1(r,e,t,n){for(let i=0,s=0;;){if(s>=e)return i;if(i==r.length)break;s+=r.charCodeAt(i)==9?t-s%t:1,i=Tr(r,i)}return n===!0?-1:r.length}const o1="",CA=typeof Symbol>"u"?"__"+o1:Symbol.for(o1),c1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),OA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class pa{constructor(e,t){this.rules=[];let{finish:n}=t||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,c,u,f){let d=[],m=/^@(\w+)\b/.exec(l[0]),g=m&&m[1]=="keyframes";if(m&&c==null)return u.push(l[0]+";");for(let y in c){let b=c[y];if(/&/.test(y))s(y.split(/,\s*/).map(w=>l.map(O=>w.replace(/&/,O))).reduce((w,O)=>w.concat(O)),b,u);else if(b&&typeof b=="object"){if(!m)throw new RangeError("The value of a property ("+y+") should be a primitive value.");s(i(y),b,d,g)}else b!=null&&d.push(y.replace(/_.*/,"").replace(/[A-Z]/g,w=>"-"+w.toLowerCase())+": "+b+";")}(d.length||g)&&u.push((n&&!m&&!f?l.map(n):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)s(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=OA[CA]||1;return OA[CA]=e+1,o1+e.toString(36)}static mount(e,t,n){let i=e[c1],s=n&&n.nonce;i?s&&i.setNonce(s):i=new MB(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let _A=new Map;class MB{constructor(e,t){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=_A.get(n);if(s)return e[c1]=s;this.sheet=new i.CSSStyleSheet,_A.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[c1]=this}mount(e,t){let n=this.sheet,i=0,s=0;for(let l=0;l<e.length;l++){let c=e[l],u=this.modules.indexOf(c);if(u<s&&u>-1&&(this.modules.splice(u,1),s--,u=-1),u==-1){if(this.modules.splice(s++,0,c),n)for(let f=0;f<c.rules.length;f++)n.insertRule(c.rules[f],i++)}else{for(;s<u;)i+=this.modules[s++].rules.length;i+=c.rules.length,s++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let l="";for(let u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+`
`;this.styleTag.textContent=l;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ma={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Lu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},DB=typeof navigator<"u"&&/Mac/.test(navigator.platform),LB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ir=0;Ir<10;Ir++)ma[48+Ir]=ma[96+Ir]=String(Ir);for(var Ir=1;Ir<=24;Ir++)ma[Ir+111]="F"+Ir;for(var Ir=65;Ir<=90;Ir++)ma[Ir]=String.fromCharCode(Ir+32),Lu[Ir]=String.fromCharCode(Ir);for(var A0 in ma)Lu.hasOwnProperty(A0)||(Lu[A0]=ma[A0]);function BB(r){var e=DB&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||LB&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?Lu:ma)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Gt(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];typeof i=="string"?r.setAttribute(n,i):i!=null&&(r[n]=i)}e++}for(;e<arguments.length;e++)q_(r,arguments[e]);return r}function q_(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)q_(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}let en=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},u1=typeof document<"u"?document:{documentElement:{style:{}}};const h1=/Edge\/(\d+)/.exec(en.userAgent),W_=/MSIE \d/.test(en.userAgent),f1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(en.userAgent),Rp=!!(W_||f1||h1),RA=!Rp&&/gecko\/(\d+)/i.test(en.userAgent),E0=!Rp&&/Chrome\/(\d+)/.exec(en.userAgent),zB="webkitFontSmoothing"in u1.documentElement.style,d1=!Rp&&/Apple Computer/.test(en.vendor),NA=d1&&(/Mobile\/\w+/.test(en.userAgent)||en.maxTouchPoints>2);var qe={mac:NA||/Mac/.test(en.platform),windows:/Win/.test(en.platform),linux:/Linux|X11/.test(en.platform),ie:Rp,ie_version:W_?u1.documentMode||6:f1?+f1[1]:h1?+h1[1]:0,gecko:RA,gecko_version:RA?+(/Firefox\/(\d+)/.exec(en.userAgent)||[0,0])[1]:0,chrome:!!E0,chrome_version:E0?+E0[1]:0,ios:NA,android:/Android\b/.test(en.userAgent),webkit_version:zB?+(/\bAppleWebKit\/(\d+)/.exec(en.userAgent)||[0,0])[1]:0,safari:d1,safari_version:d1?+(/\bVersion\/(\d+(\.\d+)?)/.exec(en.userAgent)||[0,0])[1]:0,tabSize:u1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Rb(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const Fd=Object.create(null);function Nb(r,e,t){if(r==e)return!0;r||(r=Fd),e||(e=Fd);let n=Object.keys(r),i=Object.keys(e);if(n.length-0!=i.length-0)return!1;for(let s of n)if(s!=t&&(i.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function jB(r,e){for(let t=r.attributes.length-1;t>=0;t--){let n=r.attributes[t].name;e[n]==null&&r.removeAttribute(n)}for(let t in e){let n=e[t];t=="style"?r.style.cssText=n:r.getAttribute(t)!=n&&r.setAttribute(t,n)}}function MA(r,e,t){let n=!1;if(e)for(let i in e)t&&i in t||(n=!0,i=="style"?r.style.cssText="":r.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(n=!0,i=="style"?r.style.cssText=t[i]:r.setAttribute(i,t[i]));return n}function PB(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let n=r.attributes[t];e[n.name]=n.value}return e}class Os{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Hr=(function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r})(Hr||(Hr={}));class it extends da{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new sh(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new ml(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:s,end:l}=V_(e,t);n=(s?t?-3e8:-1:5e8)-1,i=(l?t?2e8:1:-6e8)+1}return new ml(e,n,i,t,e.widget||null,!0)}static line(e){return new ah(e)}static set(e,t=!1){return vt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}it.none=vt.empty;class sh extends it{constructor(e){let{start:t,end:n}=V_(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?Rb(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Fd}eq(e){return this==e||e instanceof sh&&this.tagName==e.tagName&&Nb(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}sh.prototype.point=!1;class ah extends it{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ah&&this.spec.class==e.spec.class&&Nb(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}ah.prototype.mapMode=tn.TrackBefore;ah.prototype.point=!0;class ml extends it{constructor(e,t,n,i,s,l){super(t,n,s,e),this.block=i,this.isReplace=l,this.mapMode=i?t<=0?tn.TrackBefore:tn.TrackAfter:tn.TrackDel}get type(){return this.startSide!=this.endSide?Hr.WidgetRange:this.startSide<=0?Hr.WidgetBefore:Hr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ml&&FB(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}ml.prototype.point=!0;function V_(r,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=r;return t==null&&(t=r.inclusive),n==null&&(n=r.inclusive),{start:t??e,end:n??e}}function FB(r,e){return r==e||!!(r&&e&&r.compare(e))}function _o(r,e,t,n=0){let i=t.length-1;i>=0&&t[i]+n>=r?t[i]=Math.max(t[i],e):t.push(r,e)}class Bu extends da{constructor(e,t){super(),this.tagName=e,this.attributes=t}eq(e){return e==this||e instanceof Bu&&this.tagName==e.tagName&&Nb(this.attributes,e.attributes)}static create(e){return new Bu(e.tagName,e.attributes||Fd)}static set(e,t=!1){return vt.of(e,t)}}Bu.prototype.startSide=Bu.prototype.endSide=-1;function zu(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function p1(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function Ed(r,e){if(!e.anchorNode)return!1;try{return p1(r,e.anchorNode)}catch{return!1}}function Td(r){return r.nodeType==3?ju(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function xu(r,e,t,n){return t?DA(r,e,t,n,-1)||DA(r,e,t,n,1):!1}function ga(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function Id(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function DA(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:Ss(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=ga(r)+(i<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=i<0?Ss(r):0}else return!1}}function Ss(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Ud(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function IB(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function $_(r,e){let t=e.width/r.offsetWidth,n=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-r.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function UB(r,e,t,n,i,s,l,c){let u=r.ownerDocument,f=u.defaultView||window;for(let d=r,m=!1;d&&!m;)if(d.nodeType==1){let g,y=d==u.body,b=1,w=1;if(y)g=IB(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let k=d.getBoundingClientRect();({scaleX:b,scaleY:w}=$_(d,k)),g={left:k.left,right:k.left+d.clientWidth*b,top:k.top,bottom:k.top+d.clientHeight*w}}let O=0,S=0;if(i=="nearest")e.top<g.top?(S=e.top-(g.top+l),t>0&&e.bottom>g.bottom+S&&(S=e.bottom-g.bottom+l)):e.bottom>g.bottom&&(S=e.bottom-g.bottom+l,t<0&&e.top-S<g.top&&(S=e.top-(g.top+l)));else{let k=e.bottom-e.top,E=g.bottom-g.top;S=(i=="center"&&k<=E?e.top+k/2-E/2:i=="start"||i=="center"&&t<0?e.top-l:e.bottom-E+l)-g.top}if(n=="nearest"?e.left<g.left?(O=e.left-(g.left+s),t>0&&e.right>g.right+O&&(O=e.right-g.right+s)):e.right>g.right&&(O=e.right-g.right+s,t<0&&e.left<g.left+O&&(O=e.left-(g.left+s))):O=(n=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:n=="start"==c?e.left-s:e.right-(g.right-g.left)+s)-g.left,O||S)if(y)f.scrollBy(O,S);else{let k=0,E=0;if(S){let A=d.scrollTop;d.scrollTop+=S/w,E=(d.scrollTop-A)*w}if(O){let A=d.scrollLeft;d.scrollLeft+=O/b,k=(d.scrollLeft-A)*b}e={left:e.left-k,top:e.top-E,right:e.right-k,bottom:e.bottom-E},k&&Math.abs(k-O)<1&&(n="nearest"),E&&Math.abs(E-S)<1&&(i="nearest")}if(y)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function HB(r){let e=r.ownerDocument,t,n;for(let i=r.parentNode;i&&!(i==e.body||t&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:n}}class qB{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?Ss(t):0),n,Math.min(e.focusOffset,n?Ss(n):0))}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let Ka=null;qe.safari&&qe.safari_version>=26&&(Ka=!1);function G_(r){if(r.setActive)return r.setActive();if(Ka)return r.focus(Ka);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(Ka==null?{get preventScroll(){return Ka={preventScroll:!0},!0}}:void 0),!Ka){Ka=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],s=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let LA;function ju(r,e,t=e){let n=LA||(LA=document.createRange());return n.setEnd(r,t),n.setStart(r,e),n}function Ro(r,e,t,n){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,r.dispatchEvent(s);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,r.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function WB(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function VB(r,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,Ss(t));;)if(n){if(t.nodeType!=1)return!1;let i=t.childNodes[n-1];i.contentEditable=="false"?n--:(t=i,n=Ss(t))}else{if(t==r)return!0;n=ga(t),t=t.parentNode}}function Q_(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function Y_(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=Ss(t)}else if(t.parentNode&&!Id(t))n=ga(t),t=t.parentNode;else return null}}function X_(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!Id(t))n=ga(t)+1,t=t.parentNode;else return null}}class mi{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new mi(e.parentNode,ga(e),t)}static after(e,t){return new mi(e.parentNode,ga(e)+1,t)}}var Yt=(function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r})(Yt||(Yt={}));const gl=Yt.LTR,Mb=Yt.RTL;function K_(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const $B=K_("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),GB=K_("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),m1=Object.create(null),Ti=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);m1[e]=t,m1[t]=-e}function Z_(r){return r<=247?$B[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?GB[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const QB=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class vs{get dir(){return this.level%2?Mb:gl}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,i){let s=-1;for(let l=0;l<e.length;l++){let c=e[l];if(c.from<=t&&c.to>=t){if(c.level==n)return l;(s<0||(i!=0?i<0?c.from<t:c.to>t:e[s].level>c.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}function J_(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let n=r[t],i=e[t];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!J_(n.inner,i.inner))return!1}return!0}const Qt=[];function YB(r,e,t,n,i){for(let s=0;s<=n.length;s++){let l=s?n[s-1].to:e,c=s<n.length?n[s].from:t,u=s?256:i;for(let f=l,d=u,m=u;f<c;f++){let g=Z_(r.charCodeAt(f));g==512?g=d:g==8&&m==4&&(g=16),Qt[f]=g==4?2:g,g&7&&(m=g),d=g}for(let f=l,d=u,m=u;f<c;f++){let g=Qt[f];if(g==128)f<c-1&&d==Qt[f+1]&&d&24?g=Qt[f]=d:Qt[f]=256;else if(g==64){let y=f+1;for(;y<c&&Qt[y]==64;)y++;let b=f&&d==8||y<t&&Qt[y]==8?m==1?1:8:256;for(let w=f;w<y;w++)Qt[w]=b;f=y-1}else g==8&&m==1&&(Qt[f]=1);d=g,g&7&&(m=g)}}}function XB(r,e,t,n,i){let s=i==1?2:1;for(let l=0,c=0,u=0;l<=n.length;l++){let f=l?n[l-1].to:e,d=l<n.length?n[l].from:t;for(let m=f,g,y,b;m<d;m++)if(y=m1[g=r.charCodeAt(m)])if(y<0){for(let w=c-3;w>=0;w-=3)if(Ti[w+1]==-y){let O=Ti[w+2],S=O&2?i:O&4?O&1?s:i:0;S&&(Qt[m]=Qt[Ti[w]]=S),c=w;break}}else{if(Ti.length==189)break;Ti[c++]=m,Ti[c++]=g,Ti[c++]=u}else if((b=Qt[m])==2||b==1){let w=b==i;u=w?0:1;for(let O=c-3;O>=0;O-=3){let S=Ti[O+2];if(S&2)break;if(w)Ti[O+2]|=2;else{if(S&4)break;Ti[O+2]|=4}}}}}function KB(r,e,t,n){for(let i=0,s=n;i<=t.length;i++){let l=i?t[i-1].to:r,c=i<t.length?t[i].from:e;for(let u=l;u<c;){let f=Qt[u];if(f==256){let d=u+1;for(;;)if(d==c){if(i==t.length)break;d=t[i++].to,c=i<t.length?t[i].from:e}else if(Qt[d]==256)d++;else break;let m=s==1,g=(d<e?Qt[d]:n)==1,y=m==g?m?1:2:n;for(let b=d,w=i,O=w?t[w-1].to:r;b>u;)b==O&&(b=t[--w].from,O=w?t[w-1].to:r),Qt[--b]=y;u=d}else s=f,u++}}}function g1(r,e,t,n,i,s,l){let c=n%2?2:1;if(n%2==i%2)for(let u=e,f=0;u<t;){let d=!0,m=!1;if(f==s.length||u<s[f].from){let w=Qt[u];w!=c&&(d=!1,m=w==16)}let g=!d&&c==1?[]:null,y=d?n:n+1,b=u;e:for(;;)if(f<s.length&&b==s[f].from){if(m)break e;let w=s[f];if(!d)for(let O=w.to,S=f+1;;){if(O==t)break e;if(S<s.length&&s[S].from==O)O=s[S++].to;else{if(Qt[O]==c)break e;break}}if(f++,g)g.push(w);else{w.from>u&&l.push(new vs(u,w.from,y));let O=w.direction==gl!=!(y%2);y1(r,O?n+1:n,i,w.inner,w.from,w.to,l),u=w.to}b=w.to}else{if(b==t||(d?Qt[b]!=c:Qt[b]==c))break;b++}g?g1(r,u,b,n+1,i,g,l):u<b&&l.push(new vs(u,b,y)),u=b}else for(let u=t,f=s.length;u>e;){let d=!0,m=!1;if(!f||u>s[f-1].to){let w=Qt[u-1];w!=c&&(d=!1,m=w==16)}let g=!d&&c==1?[]:null,y=d?n:n+1,b=u;e:for(;;)if(f&&b==s[f-1].to){if(m)break e;let w=s[--f];if(!d)for(let O=w.from,S=f;;){if(O==e)break e;if(S&&s[S-1].to==O)O=s[--S].from;else{if(Qt[O-1]==c)break e;break}}if(g)g.push(w);else{w.to<u&&l.push(new vs(w.to,u,y));let O=w.direction==gl!=!(y%2);y1(r,O?n+1:n,i,w.inner,w.from,w.to,l),u=w.from}b=w.from}else{if(b==e||(d?Qt[b-1]!=c:Qt[b-1]==c))break;b--}g?g1(r,b,u,n+1,i,g,l):b<u&&l.push(new vs(b,u,y)),u=b}}function y1(r,e,t,n,i,s,l){let c=e%2?2:1;YB(r,i,s,n,c),XB(r,i,s,n,c),KB(i,s,n,c),g1(r,i,s,e,t,n,l)}function ZB(r,e,t){if(!r)return[new vs(0,0,e==Mb?1:0)];if(e==gl&&!t.length&&!QB.test(r))return eR(r.length);if(t.length)for(;r.length>Qt.length;)Qt[Qt.length]=256;let n=[],i=e==gl?0:1;return y1(r,i,i,t,0,r.length,n),n}function eR(r){return[new vs(0,r,0)]}let tR="";function JB(r,e,t,n,i){var s;let l=n.head-r.from,c=vs.find(e,l,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc),u=e[c],f=u.side(i,t);if(l==f){let g=c+=i?1:-1;if(g<0||g>=e.length)return null;u=e[c=g],l=u.side(!i,t),f=u.side(i,t)}let d=Tr(r.text,l,u.forward(i,t));(d<u.from||d>u.to)&&(d=f),tR=r.text.slice(Math.min(l,d),Math.max(l,d));let m=c==(i?e.length-1:0)?null:e[c+(i?1:-1)];return m&&d==f&&m.level+(i?0:1)<u.level?Me.cursor(m.side(!i,t)+r.from,m.forward(i,t)?1:-1,m.level):Me.cursor(d+r.from,u.forward(i,t)?-1:1,u.level)}function ez(r,e,t){for(let n=e;n<t;n++){let i=Z_(r.charCodeAt(n));if(i==1)return gl;if(i==2||i==4)return Mb}return gl}const rR=We.define(),nR=We.define(),iR=We.define(),sR=We.define(),v1=We.define(),aR=We.define(),lR=We.define(),Db=We.define(),Lb=We.define(),oR=We.define({combine:r=>r.some(e=>e)}),cR=We.define({combine:r=>r.some(e=>e)}),uR=We.define();class No{constructor(e,t="nearest",n="nearest",i=5,s=5,l=!1){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=s,this.isSnapshot=l}map(e){return e.empty?this:new No(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new No(Me.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const jf=ot.define({map:(r,e)=>r.map(e)}),hR=ot.define();function xn(r,e,t){let n=r.facet(sR);n.length?n[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const ys=We.define({combine:r=>r.length?r[0]:!0});let tz=0;const wo=We.define({combine(r){return r.filter((e,t)=>{for(let n=0;n<t;n++)if(r[n].plugin==e.plugin)return!1;return!0})}});class Sr{constructor(e,t,n,i,s){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(wo.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(wo.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:n,eventObservers:i,provide:s,decorations:l}=t||{};return new Sr(tz++,e,n,i,c=>{let u=[];return l&&u.push(Pu.of(f=>{let d=f.plugin(c);return d?l(d):it.none})),s&&u.push(s(c)),u})}static fromClass(e,t){return Sr.define((n,i)=>new e(n,i),t)}}class T0{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(xn(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){xn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){xn(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const fR=We.define(),Bb=We.define(),Pu=We.define(),dR=We.define(),pR=We.define(),lh=We.define(),mR=We.define();function BA(r,e){let t=r.state.facet(mR);if(!t.length)return t;let n=t.map(s=>s instanceof Function?s(r):s),i=[];return vt.spans(n,e.from,e.to,{point(){},span(s,l,c,u){let f=s-e.from,d=l-e.from,m=i;for(let g=c.length-1;g>=0;g--,u--){let y=c[g].spec.bidiIsolate,b;if(y==null&&(y=ez(e.text,f,d)),u>0&&m.length&&(b=m[m.length-1]).to==f&&b.direction==y)b.to=d,m=b.inner;else{let w={from:f,to:d,direction:y,inner:[]};m.push(w),m=w.inner}}}}),i}const gR=We.define();function zb(r){let e=0,t=0,n=0,i=0;for(let s of r.state.facet(gR)){let l=s(r);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(t=Math.max(t,l.right)),l.top!=null&&(n=Math.max(n,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:t,top:n,bottom:i}}const fu=We.define();class Jn{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new Jn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let i=0,s=0,l=0;;){let c=i<e.length?e[i].fromB:1e9,u=s<t.length?t[s]:1e9,f=Math.min(c,u);if(f==1e9)break;let d=f+l,m=f,g=d;for(;;)if(s<t.length&&t[s]<=m){let y=t[s+1];s+=2,m=Math.max(m,y);for(let b=i;b<e.length&&e[b].fromB<=m;b++)l=e[b].toA-e[b].toB;g=Math.max(g,y+l)}else if(i<e.length&&e[i].fromB<=m){let y=e[i++];m=Math.max(m,y.toB),g=Math.max(g,y.toA),l=y.toA-y.toB}else break;n.push(new Jn(d,g,f,m))}return n}}class Hd{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Ar.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,l,c,u)=>i.push(new Jn(s,l,c,u))),this.changedRanges=i}static create(e,t,n){return new Hd(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const rz=[];class Or{constructor(e,t,n=0){this.dom=e,this.length=t,this.flags=n,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return rz}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let t=this.domAttrs;t&&jB(this.dom,t)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,t=this.posAtStart){let n=t;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,t){return null}domPosFor(e,t){let n=ga(this.dom),i=this.length?e>0:t>0;return new mi(this.parent.dom,n+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Mp)return e;return null}static get(e){return e.cmTile}}class Np extends Or{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let t=this.dom,n=null,i,s=e?.node==t?e:null,l=0;for(let c of this.children){if(c.sync(e),l+=c.length+c.breakAfter,i=n?n.nextSibling:t.firstChild,s&&i!=c.dom&&(s.written=!0),c.dom.parentNode==t)for(;i&&i!=c.dom;)i=zA(i);else t.insertBefore(c.dom,i);n=c.dom}for(i=n?n.nextSibling:t.firstChild,s&&i&&(s.written=!0);i;)i=zA(i);this.length=l}}function zA(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class Mp extends Np{constructor(e,t){super(t),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let t=Or.get(e);if(t&&this.owns(t))return t;e=e.parentNode}}blockTiles(e){for(let t=[],n=this,i=0,s=0;;)if(i==n.children.length){if(!t.length)return;n=n.parent,n.breakAfter&&s++,i=t.pop()}else{let l=n.children[i++];if(l instanceof ua)t.push(i),n=l,i=0;else{let c=s+l.length,u=e(l,s);if(u!==void 0)return u;s=c+l.breakAfter}}}resolveBlock(e,t){let n,i=-1,s,l=-1;if(this.blockTiles((c,u)=>{let f=u+c.length;if(e>=u&&e<=f){if(c.isWidget()&&t>=-1&&t<=1){if(c.flags&32)return!0;c.flags&16&&(n=void 0)}(u<e||e==f&&(t<-1?c.length:c.covers(1)))&&(!n||!c.isWidget()&&n.isWidget())&&(n=c,i=e-u),(f>e||e==u&&(t>1?c.length:c.covers(-1)))&&(!s||!c.isWidget()&&s.isWidget())&&(s=c,l=e-u)}}),!n&&!s)throw new Error("No tile at position "+e);return n&&t<0||!s?{tile:n,offset:i}:{tile:s,offset:l}}}class ua extends Np{constructor(e,t){super(e),this.wrapper=t}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,t){let n=new ua(t||document.createElement(e.tagName),e);return t||(n.flags|=4),n}}class Io extends Np{constructor(e,t){super(e),this.attrs=t}isLine(){return!0}static start(e,t,n){let i=new Io(t||document.createElement("div"),e);return(!t||!n)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,t,n){let i=null,s=-1,l=null,c=-1;function u(d,m){for(let g=0,y=0;g<d.children.length&&y<=m;g++){let b=d.children[g],w=y+b.length;w>=m&&(b.isComposite()?u(b,m-y):(!l||l.isHidden&&(t>0||n&&iz(l,b)))&&(w>m||b.flags&32)?(l=b,c=m-y):(y<m||b.flags&16&&!b.isHidden)&&(i=b,s=m-y)),y=w}}u(this,e);let f=(t<0?i:l)||i||l;return f?{tile:f,offset:f==i?s:c}:null}coordsIn(e,t){let n=this.resolveInline(e,t,!0);return n?n.tile.coordsIn(Math.max(0,n.offset),t):nz(this)}domIn(e,t){let n=this.resolveInline(e,t);if(n){let{tile:i,offset:s}=n;if(this.dom.contains(i.dom))return i.isText()?new mi(i.dom,Math.min(i.dom.nodeValue.length,s)):i.domPosFor(s,i.flags&16?1:i.flags&32?-1:t);let l=n.tile.parent,c=!1;for(let u of l.children){if(c)return new mi(u.dom,0);u==n.tile&&(c=!0)}}return new mi(this.dom,0)}}function nz(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=Td(e);return t[t.length-1]||null}function iz(r,e){let t=r.coordsIn(0,1),n=e.coordsIn(0,1);return t&&n&&n.top<t.bottom}class bn extends Np{constructor(e,t){super(e),this.mark=t}get domAttrs(){return this.mark.attrs}static of(e,t){let n=new bn(t||document.createElement(e.tagName),e);return t||(n.flags|=4),n}}class nl extends Or{constructor(e,t){super(e,t.length),this.text=t}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,t){let n=this.dom.nodeValue.length;e>n&&(e=n);let i=e,s=e,l=0;e==0&&t<0||e==n&&t>=0?qe.chrome||qe.gecko||(e?(i--,l=1):s<n&&(s++,l=-1)):t<0?i--:s<n&&s++;let c=ju(this.dom,i,s).getClientRects();if(!c.length)return null;let u=c[(l?l<0:t>=0)?0:c.length-1];return qe.safari&&!l&&u.width==0&&(u=Array.prototype.find.call(c,f=>f.width)||u),l?Ud(u,l<0):u||null}static of(e,t){let n=new nl(t||document.createTextNode(e),e);return t||(n.flags|=2),n}}class Uo extends Or{constructor(e,t,n,i){super(e,t,i),this.widget=n}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,t){return this.coordsInWidget(e,t,!1)}coordsInWidget(e,t,n){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;if(n)return Ud(this.dom.getBoundingClientRect(),this.length?e==0:t<=0);{let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let c=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=c?s.length-1:0;l=s[u],!(e>0?u==0:u==s.length-1||l.top<l.bottom);u+=c?-1:1);return Ud(l,!c)}}get overrideDOMText(){if(!this.length)return Dt.empty;let{root:e}=this;if(!e)return Dt.empty;let t=this.posAtStart;return e.view.state.doc.slice(t,t+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,t,n,i,s){return s||(s=e.toDOM(t),e.editable||(s.contentEditable="false")),new Uo(s,n,e,i)}}class qd extends Or{constructor(e){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),super(t,0,e)}get isHidden(){return!1}get overrideDOMText(){return Dt.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class sz{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,t,n){let{tile:i,index:s,beforeBreak:l,parents:c}=this;for(;e||t>0;)if(i.isComposite())if(l){if(!e)break;n&&n.break(),e--,l=!1}else if(s==i.children.length){if(!e&&!c.length)break;n&&n.leave(i),l=!!i.breakAfter,{tile:i,index:s}=c.pop(),s++}else{let u=i.children[s],f=u.breakAfter;(t>0?u.length<=e:u.length<e)&&(!n||n.skip(u,0,u.length)!==!1||!u.isComposite)?(l=!!f,s++,e-=u.length):(c.push({tile:i,index:s}),i=u,s=0,n&&u.isComposite()&&n.enter(u))}else if(s==i.length)l=!!i.breakAfter,{tile:i,index:s}=c.pop(),s++;else if(e){let u=Math.min(e,i.length-s);n&&n.skip(i,s,s+u),e-=u,s+=u}else break;return this.tile=i,this.index=s,this.beforeBreak=l,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class az{constructor(e,t,n,i){this.from=e,this.to=t,this.wrapper=n,this.rank=i}}class lz{constructor(e,t,n){this.cache=e,this.root=t,this.blockWrappers=n,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,t,n,i){var s;this.flushBuffer();let l=this.ensureMarks(t,n),c=l.lastChild;if(c&&c.isText()&&!(c.flags&8)){this.cache.reused.set(c,2);let u=l.children[l.children.length-1]=new nl(c.dom,c.text+e);u.parent=l}else l.append(i||nl.of(e,(s=this.cache.find(nl))===null||s===void 0?void 0:s.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,t){let n=this.curLine;n.dom!=t.line.dom&&(n.setDOM(this.cache.reused.has(t.line)?C0(t.line.dom):t.line.dom),this.cache.reused.set(t.line,2));let i=n;for(let l=t.marks.length-1;l>=0;l--){let c=t.marks[l],u=i.lastChild;if(u instanceof bn&&u.mark.eq(c.mark))u.dom!=c.dom&&u.setDOM(C0(c.dom)),i=u;else{if(this.cache.reused.get(c)){let d=Or.get(c.dom);d&&d.setDOM(C0(c.dom))}let f=bn.of(c.mark,c.dom);i.append(f),i=f}this.cache.reused.set(c,2)}let s=new nl(e.text,e.text.nodeValue);s.flags|=8,i.append(s)}addInlineWidget(e,t,n){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let s=this.ensureMarks(t,n);!i&&!(e.flags&16)&&s.append(this.getBuffer(1)),s.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,t,n){this.flushBuffer(),this.ensureMarks(t,n).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let t=this.afterWidget||this.lastBlock;t.length+=e,this.pos+=e}addLineStart(e,t){var n;e||(e=yR);let i=Io.start(e,t||((n=this.cache.find(Io))===null||n===void 0?void 0:n.dom),!!t);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,t){var n;let i=this.curLine;for(let s=e.length-1;s>=0;s--){let l=e[s],c;if(t>0&&(c=i.lastChild)&&c instanceof bn&&c.mark.eq(l))i=c,t--;else{let u=bn.of(l,(n=this.cache.find(bn,f=>f.mark.eq(l)))===null||n===void 0?void 0:n.dom);i.append(u),i=u,t=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!jA(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(qe.ios&&jA(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(O0,0,32)||new Uo(O0.toDOM(),0,O0,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let t=new az(e.from,e.to,e.value,e.rank),n=this.wrappers.length;for(;n>0&&(this.wrappers[n-1].rank-t.rank||this.wrappers[n-1].to-t.to)<0;)n--;this.wrappers.splice(n,0,t)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let t=this.root;for(let n of this.wrappers){let i=t.lastChild;if(n.from<this.pos&&i instanceof ua&&i.wrapper.eq(n.wrapper))t=i;else{let s=ua.of(n.wrapper,(e=this.cache.find(ua,l=>l.wrapper.eq(n.wrapper)))===null||e===void 0?void 0:e.dom);t.append(s),t=s}}return t}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let t=2|(e<0?16:32),n=this.cache.find(qd,void 0,1);return n&&(n.flags=t),n||new qd(t)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class oz{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:l}=this.cursor.next(this.skipCount);if(this.skipCount=0,l)throw new Error("Ran out of text content when drawing inline views");this.text=i;let c=this.textOff=Math.min(e,i.length);return s?null:i.slice(0,c)}let t=Math.min(this.text.length,this.textOff+e),n=this.text.slice(this.textOff,t);return this.textOff=t,n}}const Wd=[Uo,Io,nl,bn,qd,ua,Mp];for(let r=0;r<Wd.length;r++)Wd[r].bucket=r;class cz{constructor(e){this.view=e,this.buckets=Wd.map(()=>[]),this.index=Wd.map(()=>0),this.reused=new Map}add(e){let t=e.constructor.bucket,n=this.buckets[t];n.length<6?n.push(e):n[this.index[t]=(this.index[t]+1)%6]=e}find(e,t,n=2){let i=e.bucket,s=this.buckets[i],l=this.index[i];for(let c=s.length-1;c>=0;c--){let u=(c+l)%s.length,f=s[u];if((!t||t(f))&&!this.reused.has(f))return s.splice(u,1),u<l&&this.index[i]--,this.reused.set(f,n),f}return null}findWidget(e,t,n){let i=this.buckets[0];if(i.length)for(let s=0,l=0;;s++){if(s==i.length){if(l)return null;l=1,s=0}let c=i[s];if(!this.reused.has(c)&&(l==0?c.widget.compare(e):c.widget.constructor==e.constructor&&e.updateDOM(c.dom,this.view)))return i.splice(s,1),s<this.index[0]&&this.index[0]--,this.reused.set(c,1),c.length=t,c.flags=c.flags&-498|n,c}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,t=2){if(!this.reused.has(e))return this.reused.set(e,t),e.dom}}class uz{constructor(e,t,n,i,s){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new cz(e),this.text=new oz(e.state.doc),this.builder=new lz(this.cache,new Mp(e,e.contentDOM),vt.iter(n)),this.cache.reused.set(t,2),this.old=new sz(t)}run(e,t){let n=t&&this.getCompositionContext(t.text);for(let i=0,s=0,l=0;;){let c=l<e.length?e[l++]:null,u=c?c.fromA:this.old.root.length;if(u>i){let f=u-i;this.preserve(f,!l,!c),i=u,s+=f}if(!c)break;this.forward(c.fromA,c.toA),t&&c.fromA<=t.range.fromA&&c.toA>=t.range.toA?(this.emit(s,t.range.fromB),this.builder.addComposition(t,n),this.emit(t.range.toB,c.toB)):this.emit(s,c.toB),s=c.toB,i=c.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,t,n){let i=dz(this.old),s=this.openMarks;this.old.advance(e,n?1:-1,{skip:(l,c,u)=>{if(l.isWidget())if(this.openWidget)this.builder.continueWidget(u-c);else{let f=u>0||c<l.length?Uo.of(l.widget,this.view,u-c,l.flags&496,this.cache.maybeReuse(l)):this.cache.reuse(l);f.flags&256?(f.flags&=-2,this.builder.addBlockWidget(f)):(this.builder.ensureLine(null),this.builder.addInlineWidget(f,i,s),s=i.length)}else if(l.isText())this.builder.ensureLine(null),!c&&u==l.length?this.builder.addText(l.text,i,s,this.cache.reuse(l)):(this.cache.add(l),this.builder.addText(l.text.slice(c,u),i,s)),s=i.length;else if(l.isLine())l.flags&=-2,this.cache.reused.set(l,1),this.builder.addLine(l);else if(l instanceof qd)this.cache.add(l);else if(l instanceof bn)this.builder.ensureLine(null),this.builder.addMark(l,i,s),this.cache.reused.set(l,1),s=i.length;else return!1;this.openWidget=!1},enter:l=>{l.isLine()?this.builder.addLineStart(l.attrs,this.cache.maybeReuse(l)):(this.cache.add(l),l instanceof bn&&i.unshift(l.mark)),this.openWidget=!1},leave:l=>{l.isLine()?i.length&&(i.length=s=0):l instanceof bn&&(i.shift(),s=Math.min(s,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,t){let n=null,i=this.builder,s=0,l=vt.spans(this.decorations,e,t,{point:(c,u,f,d,m,g)=>{if(f instanceof ml){if(this.disallowBlockEffectsFor[g]){if(f.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(c).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=d.length,m>d.length)i.continueWidget(u-c);else{let y=f.widget||(f.block?Ho.block:Ho.inline),b=hz(f),w=this.cache.findWidget(y,u-c,b)||Uo.of(y,this.view,u-c,b);f.block?(f.startSide>0&&i.addLineStartIfNotCovered(n),i.addBlockWidget(w)):(i.ensureLine(n),i.addInlineWidget(w,d,m))}n=null}else n=fz(n,f);u>c&&this.text.skip(u-c)},span:(c,u,f,d)=>{for(let m=c;m<u;){let g=this.text.next(Math.min(512,u-m));g==null?(i.addLineStartIfNotCovered(n),i.addBreak(),m++):(i.ensureLine(n),i.addText(g,f,d),m+=g.length),n=null}}});i.addLineStartIfNotCovered(n),this.openWidget=l>s,this.openMarks=l}forward(e,t){this.old.advance(t-e,1,{skip:(n,i,s)=>{(n.isText()||s==n.length)&&this.cache.add(n)},enter:n=>this.cache.add(n),leave:()=>{},break:()=>{}})}getCompositionContext(e){let t=[],n=null;for(let i=e.parentNode;;i=i.parentNode){let s=Or.get(i);if(i==this.view.contentDOM)break;s instanceof bn?t.push(s):s?.isLine()?n=s:i.nodeName=="DIV"&&!n&&i!=this.view.contentDOM?n=new Io(i,yR):t.push(bn.of(new sh({tagName:i.nodeName.toLowerCase(),attributes:PB(i)}),i))}return{line:n,marks:t}}}function jA(r,e){let t=n=>{for(let i of n.children)if((e?i.isText():i.length)||t(i))return!0;return!1};return t(r)}function hz(r){let e=r.isReplace?(r.startSide<0?64:0)|(r.endSide>0?128:0):r.startSide>0?32:16;return r.block&&(e|=256),e}const yR={class:"cm-line"};function fz(r,e){let t=e.spec.attributes,n=e.spec.class;return!t&&!n||(r||(r={class:"cm-line"}),t&&Rb(t,r),n&&(r.class+=" "+n)),r}function dz(r){let e=[];for(let t=r.parents.length;t>1;t--){let n=t==r.parents.length?r.tile:r.parents[t].tile;n instanceof bn&&e.push(n.mark)}return e}function C0(r){let e=Or.get(r);return e&&e.setDOM(r.cloneNode()),r}class Ho extends Os{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ho.inline=new Ho("span");Ho.block=new Ho("div");const O0=new class extends Os{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class PA{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=it.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Mp(e,e.contentDOM),this.updateInner([new Jn(0,0,0,e.state.doc.length)],null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:d,toA:m})=>m<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!Sz(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?mz(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:m}=this.hasComposition;n=new Jn(d,m,e.changes.mapPos(d,-1),e.changes.mapPos(m,1)).addToSet(n.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(qe.ie||qe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,c=this.blockWrappers;this.updateDeco();let u=vz(l,this.decorations,e.changes);u.length&&(n=Jn.extendWithRanges(n,u));let f=xz(c,this.blockWrappers,e.changes);return f.length&&(n=Jn.extendWithRanges(n,f)),s&&!n.some(d=>d.fromA<=s.range.fromA&&d.toA>=s.range.toA)&&(n=s.range.addToSet(n.slice())),this.tile.flags&2&&n.length==0?!1:(this.updateInner(n,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0;let{observer:n}=this.view;n.ignore(()=>{if(t||e.length){let l=this.tile,c=new uz(this.view,l,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=c.run(e,t),b1(l,c.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=qe.chrome||qe.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||n.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof _0&&i.push(s.dom);n.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(hR)&&(this.editContextFormatting=n.value)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:n}=this.tile,i=this.view.root.activeElement,s=i==n,l=!s&&!(this.view.state.facet(ys)||n.tabIndex>-1)&&Ed(n,this.view.observer.selectionRange)&&!(i&&n.contains(i));if(!(s||t||l))return;let c=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,f,d;if(u.empty?d=f=this.inlineDOMNearPos(u.anchor,u.assoc||1):(d=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),f=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),qe.gecko&&u.empty&&!this.hasComposition&&pz(f)){let g=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(g,f.node.childNodes[f.offset]||null)),f=d=new mi(g,0),c=!0}let m=this.view.observer.selectionRange;(c||!m.focusNode||(!xu(f.node,f.offset,m.anchorNode,m.anchorOffset)||!xu(d.node,d.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,u))&&(this.view.observer.ignore(()=>{qe.android&&qe.chrome&&n.contains(m.focusNode)&&wz(m.focusNode,n)&&(n.blur(),n.focus({preventScroll:!0}));let g=zu(this.view.root);if(g)if(u.empty){if(qe.gecko){let y=gz(f.node,f.offset);if(y&&y!=3){let b=(y==1?Y_:X_)(f.node,f.offset);b&&(f=new mi(b.node,b.offset))}}g.collapse(f.node,f.offset),u.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=u.bidiLevel)}else if(g.extend){g.collapse(f.node,f.offset);try{g.extend(d.node,d.offset)}catch{}}else{let y=document.createRange();u.anchor>u.head&&([f,d]=[d,f]),y.setEnd(d.node,d.offset),y.setStart(f.node,f.offset),g.removeAllRanges(),g.addRange(y)}l&&this.view.root.activeElement==n&&(n.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(f,d)),this.impreciseAnchor=f.precise?null:new mi(m.anchorNode,m.anchorOffset),this.impreciseHead=d.precise?null:new mi(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&xu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=zu(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let l=this.lineAt(t.head,t.assoc);if(!l)return;let c=l.posAtStart;if(t.head==c||t.head==c+l.length)return;let u=this.coordsAt(t.head,-1),f=this.coordsAt(t.head,1);if(!u||!f||u.bottom>f.top)return;let d=this.domAtPos(t.head+t.assoc,t.assoc);n.collapse(d.node,d.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&n.collapse(i,s)}posFromDOM(e,t){let n=this.tile.nearest(e);if(!n)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=n.posAtStart;if(n.isComposite()){let s;if(e==n.dom)s=n.dom.childNodes[t];else{let l=Ss(e)==0?0:t==0?-1:1;for(;;){let c=e.parentNode;if(c==n.dom)break;l==0&&c.firstChild!=c.lastChild&&(e==c.firstChild?l=-1:l=1),e=c}l<0?s=e:s=e.nextSibling}if(s==n.dom.firstChild)return i;for(;s&&!Or.get(s);)s=s.nextSibling;if(!s)return i+n.length;for(let l=0,c=i;;l++){let u=n.children[l];if(u.dom==s)return c;c+=u.length+u.breakAfter}}else return n.isText()?e==n.dom?i+t:i+(t?n.length:0):i}domAtPos(e,t){let{tile:n,offset:i}=this.tile.resolveBlock(e,t);return n.isWidget()?n.domPosFor(e,t):n.domIn(i,t)}inlineDOMNearPos(e,t){let n,i=-1,s=!1,l,c=-1,u=!1;return this.tile.blockTiles((f,d)=>{if(f.isWidget()){if(f.flags&32&&d>=e)return!0;f.flags&16&&(s=!0)}else{let m=d+f.length;if(d<=e&&(n=f,i=e-d,s=m<e),m>=e&&!l&&(l=f,c=e-d,u=d>e),d>e&&l)return!0}}),!n&&!l?this.domAtPos(e,t):(s&&l?n=null:u&&n&&(l=null),n&&t<0||!l?n.domIn(i,t):l.domIn(c,t))}coordsAt(e,t){let{tile:n,offset:i}=this.tile.resolveBlock(e,t);return n.isWidget()?n.widget instanceof _0?null:n.coordsInWidget(i,t,!0):n.coordsIn(i,t)}lineAt(e,t){let{tile:n}=this.tile.resolveBlock(e,t);return n.isLine()?n:null}coordsForChar(e){let{tile:t,offset:n}=this.tile.resolveBlock(e,1);if(!t.isLine())return null;function i(s,l){if(s.isComposite())for(let c of s.children){if(c.length>=l){let u=i(c,l);if(u)return u}if(l-=c.length,l<0)break}else if(s.isText()&&l<s.length){let c=Tr(s.text,l);if(c==l)return null;let u=ju(s.dom,l,c).getClientRects();for(let f=0;f<u.length;f++){let d=u[f];if(f==u.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return i(t,n)}measureVisibleLineHeights(e){let t=[],{from:n,to:i}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,u=this.view.textDirection==Yt.LTR,f=0,d=(m,g,y)=>{for(let b=0;b<m.children.length&&!(g>i);b++){let w=m.children[b],O=g+w.length,S=w.dom.getBoundingClientRect(),{height:k}=S;if(y&&!b&&(f+=S.top-y.top),w instanceof ua)O>n&&d(w,g,S);else if(g>=n&&(f>0&&t.push(-f),t.push(k+f),f=0,l)){let E=w.dom.lastChild,A=E?Td(E):[];if(A.length){let _=A[A.length-1],U=u?_.right-S.left:S.right-_.left;U>c&&(c=U,this.minWidth=s,this.minWidthFrom=g,this.minWidthTo=O)}}y&&b==m.children.length-1&&(f+=y.bottom-S.bottom),g=O+w.breakAfter}};return d(this.tile,0,null),t}textDirectionAt(e){let{tile:t}=this.tile.resolveBlock(e,1);return getComputedStyle(t.dom).direction=="rtl"?Yt.RTL:Yt.LTR}measureTextSize(){let e=this.tile.blockTiles(l=>{if(l.isLine()&&l.children.length&&l.length<=20){let c=0,u;for(let f of l.children){if(!f.isText()||/[^ -~]/.test(f.text))return;let d=Td(f.dom);if(d.length!=1)return;c+=d[0].width,u=d[0].height}if(c)return{lineHeight:l.dom.getBoundingClientRect().height,charWidth:c/l.length,textHeight:u}}});if(e)return e;let t=document.createElement("div"),n,i,s;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(t);let l=Td(t.firstChild)[0];n=t.getBoundingClientRect().height,i=l&&l.width?l.width/27:7,s=l&&l.height?l.height:n,t.remove()}),{lineHeight:n,charWidth:i,textHeight:s}}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],l=s?s.from-1:this.view.state.doc.length;if(l>n){let c=(t.lineBlockAt(l).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(it.replace({widget:new _0(c),block:!0,inclusive:!0,isBlockGap:!0}).range(n,l))}if(!s)break;n=s.to+1}return it.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Pu).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),n=!1,i=this.view.state.facet(pR).map((s,l)=>{let c=typeof s=="function";return c&&(n=!0),c?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=n,t.push(vt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(dR).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(uR))try{if(f(this.view,e.range,e))return!0}catch(d){xn(this.view.state,d,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!n)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let s=zb(this.view),l={left:n.left-s.left,top:n.top-s.top,right:n.right+s.right,bottom:n.bottom+s.bottom},{offsetWidth:c,offsetHeight:u}=this.view.scrollDOM;UB(this.view.scrollDOM,l,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==Yt.LTR)}lineHasWidget(e){let t=n=>n.isWidget()||n.children.some(t);return t(this.tile.resolveBlock(e,1).tile)}destroy(){b1(this.tile)}}function b1(r,e){let t=e?.get(r);if(t!=1){t==null&&r.destroy();for(let n of r.children)b1(n,e)}}function pz(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function vR(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let n=Y_(t.focusNode,t.focusOffset),i=X_(t.focusNode,t.focusOffset),s=n||i;if(i&&n&&i.node!=n.node){let c=Or.get(i.node);if(!c||c.isText()&&c.text!=i.node.nodeValue)s=i;else if(r.docView.lastCompositionAfterCursor){let u=Or.get(n.node);!u||u.isText()&&u.text!=n.node.nodeValue||(s=i)}}if(r.docView.lastCompositionAfterCursor=s!=n,!s)return null;let l=e-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function mz(r,e,t){let n=vR(r,t);if(!n)return null;let{node:i,from:s,to:l}=n,c=i.nodeValue;if(/[\n\r]/.test(c)||r.state.doc.sliceString(n.from,n.to)!=c)return null;let u=e.invertedDesc;return{range:new Jn(u.mapPos(s),u.mapPos(l),s,l),text:i}}function gz(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let yz=class{constructor(){this.changes=[]}compareRange(e,t){_o(e,t,this.changes)}comparePoint(e,t){_o(e,t,this.changes)}boundChange(e){_o(e,e,this.changes)}};function vz(r,e,t){let n=new yz;return vt.compare(r,e,t,n),n.changes}class bz{constructor(){this.changes=[]}compareRange(e,t){_o(e,t,this.changes)}comparePoint(){}boundChange(e){_o(e,e,this.changes)}}function xz(r,e,t){let n=new bz;return vt.compare(r,e,t,n),n.changes}function wz(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Sz(r,e){let t=!1;return e&&r.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(t=!0)}),t}class _0 extends Os{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function kz(r,e,t=1){let n=r.charCategorizer(e),i=r.doc.lineAt(e),s=e-i.from;if(i.length==0)return Me.cursor(e);s==0?t=1:s==i.length&&(t=-1);let l=s,c=s;t<0?l=Tr(i.text,s,!1):c=Tr(i.text,s);let u=n(i.text.slice(l,c));for(;l>0;){let f=Tr(i.text,l,!1);if(n(i.text.slice(f,l))!=u)break;l=f}for(;c<i.length;){let f=Tr(i.text,c);if(n(i.text.slice(c,f))!=u)break;c=f}return Me.range(l+i.from,c+i.from)}function Az(r,e,t,n,i){let s=Math.round((n-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let c=r.viewState.heightOracle.textHeight,u=Math.floor((i-t.top-(r.defaultLineHeight-c)*.5)/c);s+=u*r.viewState.heightOracle.lineLength}let l=r.state.sliceDoc(t.from,t.to);return t.from+l1(l,s,r.state.tabSize)}function x1(r,e,t){let n=r.lineBlockAt(e);if(Array.isArray(n.type)){let i;for(let s of n.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==Hr.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||n}return n}function Ez(r,e,t,n){let i=x1(r,e.head,e.assoc||-1),s=!n||i.type!=Hr.Text||!(r.lineWrapping||i.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=r.dom.getBoundingClientRect(),c=r.textDirectionAt(i.from),u=r.posAtCoords({x:t==(c==Yt.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(u!=null)return Me.cursor(u,t?-1:1)}return Me.cursor(t?i.to:i.from,t?-1:1)}function FA(r,e,t,n){let i=r.state.doc.lineAt(e.head),s=r.bidiSpans(i),l=r.textDirectionAt(i.from);for(let c=e,u=null;;){let f=JB(i,s,l,c,t),d=tR;if(!f){if(i.number==(t?r.state.doc.lines:1))return c;d=`
`,i=r.state.doc.line(i.number+(t?1:-1)),s=r.bidiSpans(i),f=r.visualLineSide(i,!t)}if(u){if(!u(d))return c}else{if(!n)return f;u=n(d)}c=f}}function Tz(r,e,t){let n=r.state.charCategorizer(e),i=n(t);return s=>{let l=n(s);return i==rr.Space&&(i=l),i==l}}function Cz(r,e,t,n){let i=e.head,s=t?1:-1;if(i==(t?r.state.doc.length:0))return Me.cursor(i,e.assoc);let l=e.goalColumn,c,u=r.contentDOM.getBoundingClientRect(),f=r.coordsAtPos(i,e.assoc||-1),d=r.documentTop;if(f)l==null&&(l=f.left-u.left),c=s<0?f.top:f.bottom;else{let y=r.viewState.lineBlockAt(i);l==null&&(l=Math.min(u.right-u.left,r.defaultCharacterWidth*(i-y.from))),c=(s<0?y.top:y.bottom)+d}let m=u.left+l,g=n??r.viewState.heightOracle.textHeight>>1;for(let y=0;;y+=10){let b=c+(g+y)*s,w=w1(r,{x:m,y:b},!1,s);return Me.cursor(w.pos,w.assoc,void 0,l)}}function wu(r,e,t){for(;;){let n=0;for(let i of r)i.between(e-1,e+1,(s,l,c)=>{if(e>s&&e<l){let u=n||t||(e-s<l-e?-1:1);e=u<0?s:l,n=u}});if(!n)return e}}function bR(r,e){let t=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],s=null;if(i.empty){let l=wu(r,i.from,0);l!=i.from&&(s=Me.cursor(l,-1))}else{let l=wu(r,i.from,-1),c=wu(r,i.to,1);(l!=i.from||c!=i.to)&&(s=Me.range(i.from==i.anchor?l:c,i.from==i.head?l:c))}s&&(t||(t=e.ranges.slice()),t[n]=s)}return t?Me.create(t,e.mainIndex):e}function R0(r,e,t){let n=wu(r.state.facet(lh).map(i=>i(r)),t.from,e.head>t.from?-1:1);return n==t.from?t:Me.cursor(n,n<t.from?1:-1)}class zi{constructor(e,t){this.pos=e,this.assoc=t}}function w1(r,e,t,n){let i=r.contentDOM.getBoundingClientRect(),s=i.top+r.viewState.paddingTop,{x:l,y:c}=e,u=c-s,f;for(;;){if(u<0)return new zi(0,1);if(u>r.viewState.docHeight)return new zi(r.state.doc.length,-1);if(f=r.elementAtHeight(u),n==null)break;if(f.type==Hr.Text){let g=r.docView.coordsAt(n<0?f.from:f.to,n);if(g&&(n<0?g.top<=u+s:g.bottom>=u+s))break}let m=r.viewState.heightOracle.textHeight/2;u=n>0?f.bottom+m:f.top-m}if(r.viewport.from>=f.to||r.viewport.to<=f.from){if(t)return null;if(f.type==Hr.Text){let m=Az(r,i,f,l,c);return new zi(m,m==f.from?1:-1)}}if(f.type!=Hr.Text)return u<(f.top+f.bottom)/2?new zi(f.from,1):new zi(f.to,-1);let d=r.docView.lineAt(f.from,2);return(!d||d.length!=f.length)&&(d=r.docView.lineAt(f.from,-2)),xR(r,d,f.from,l,c)}function xR(r,e,t,n,i){let s=-1,l=null,c=1e9,u=1e9,f=i,d=i,m=(g,y)=>{for(let b=0;b<g.length;b++){let w=g[b];if(w.top==w.bottom)continue;let O=w.left>n?w.left-n:w.right<n?n-w.right:0,S=w.top>i?w.top-i:w.bottom<i?i-w.bottom:0;w.top<=d&&w.bottom>=f&&(f=Math.min(w.top,f),d=Math.max(w.bottom,d),S=0),(s<0||(S-u||O-c)<0)&&(s>=0&&u&&c<O&&l.top<=d-2&&l.bottom>=f+2?u=0:(s=y,c=O,u=S,l=w))}};if(e.isText()){for(let y=0;y<e.length;){let b=Tr(e.text,y);if(m(ju(e.dom,y,b).getClientRects(),y),!c&&!u)break;y=b}return n>(l.left+l.right)/2==(IA(r,s+t)==Yt.LTR)?new zi(t+Tr(e.text,s),-1):new zi(t+s,1)}else{if(!e.length)return new zi(t,1);for(let w=0;w<e.children.length;w++){let O=e.children[w];if(O.flags&48)continue;let S=(O.dom.nodeType==1?O.dom:ju(O.dom,0,O.length)).getClientRects();if(m(S,w),!c&&!u)break}let g=e.children[s],y=e.posBefore(g,t);return g.isComposite()||g.isText()?xR(r,g,y,Math.max(l.left,Math.min(l.right,n)),i):n>(l.left+l.right)/2==(IA(r,s+t)==Yt.LTR)?new zi(y+g.length,-1):new zi(y,1)}}function IA(r,e){let t=r.state.doc.lineAt(e);return r.bidiSpans(t)[vs.find(r.bidiSpans(t),e-t.from,-1,1)].dir}const du="";class Oz{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(kt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=du}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let s=this.text.length;this.readNode(i);let l=Or.get(i),c=i.nextSibling;if(c==t){l?.breakAfter&&!c&&this.lineBreak();break}let u=Or.get(c);(l&&u?l.breakAfter:(l?l.breakAfter:Id(i))||Id(c)&&(i.nodeName!="BR"||l?.isWidget())&&this.text.length>s)&&!Rz(c,t)&&this.lineBreak(),i=c}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,c;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),l=this.lineSeparator.length):(c=i.exec(t))&&(s=c.index,l=c[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=l-1);n=s+l}}readNode(e){let t=Or.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(_z(e,n.node,n.offset)?t:0))}}function _z(r,e,t){for(;;){if(!e||t<Ss(e))return!1;if(e==r)return!0;t=ga(e)+1,e=e.parentNode}}function Rz(r,e){let t;for(;!(r==e||!r);r=r.nextSibling){let n=Or.get(r);if(!n?.isWidget())return!1;n&&(t||(t=[])).push(n)}if(t)for(let n of t){let i=n.overrideDOMText;if(i?.length)return!1}return!0}class UA{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Nz{constructor(e,t,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=wR(e.docView.tile,t,n,0))){let c=s||l?[]:Dz(e),u=new Oz(c,e.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=Lz(c,this.bounds.from)}else{let c=e.observer.selectionRange,u=s&&s.node==c.focusNode&&s.offset==c.focusOffset||!p1(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),f=l&&l.node==c.anchorNode&&l.offset==c.anchorOffset||!p1(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),d=e.viewport;if((qe.ios||qe.chrome)&&e.state.selection.main.empty&&u!=f&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(u,f),g=Math.max(u,f),y=d.from-m,b=d.to-g;(y==0||y==1||m==0)&&(b==0||b==-1||g==e.state.doc.length)&&(u=0,f=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(Me.range(f,u)):this.newSel=Me.single(f,u)}}}function wR(r,e,t,n){if(r.isComposite()){let i=-1,s=-1,l=-1,c=-1;for(let u=0,f=n,d=n;u<r.children.length;u++){let m=r.children[u],g=f+m.length;if(f<e&&g>t)return wR(m,e,t,f);if(g>=e&&i==-1&&(i=u,s=f),f>t&&m.dom.parentNode==r.dom){l=u,c=d;break}d=g,f=g+m.breakAfter}return{from:s,to:c<0?n+r.length:c,startDOM:(i?r.children[i-1].dom.nextSibling:null)||r.dom.firstChild,endDOM:l<r.children.length&&l>=0?r.children[l].dom:null}}else return r.isText()?{from:n,to:n+r.length,startDOM:r.dom,endDOM:r.dom.nextSibling}:null}function SR(r,e){let t,{newSel:n}=e,i=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:c}=e.bounds,u=i.from,f=null;(s===8||qe.android&&e.text.length<c-l)&&(u=i.to,f="end");let d=kR(r.state.doc.sliceString(l,c,du),e.text,u-l,f);d&&(qe.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==du+du&&d.toB--,t={from:l+d.from,to:l+d.toA,insert:Dt.of(e.text.slice(d.from,d.toB).split(du))})}else n&&(!r.hasFocus&&r.state.facet(ys)||n.main.eq(i))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!i.empty&&n&&n.main.empty?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,i.to)}:(qe.mac||qe.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=Me.single(n.main.anchor-1,n.main.head-1)),t={from:t.from,to:t.to,insert:Dt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,i.to))}:r.state.doc.lineAt(i.from).to<i.to&&r.docView.lineHasWidget(i.to)&&r.inputState.insertingTextAt>Date.now()-50?t={from:i.from,to:i.to,insert:r.state.toText(r.inputState.insertingText)}:qe.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(n&&(n=Me.single(n.main.anchor-1,n.main.head-1)),t={from:i.from,to:i.to,insert:Dt.of([" "])}),t)return jb(r,t,n,s);if(n&&!n.main.eq(i)){let l=!1,c="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(l=!0),c=r.inputState.lastSelectionOrigin,c=="select.pointer"&&(n=bR(r.state.facet(lh).map(u=>u(r)),n))),r.dispatch({selection:n,scrollIntoView:l,userEvent:c}),!0}else return!1}function jb(r,e,t,n=-1){if(qe.ios&&r.inputState.flushIOSKey(e))return!0;let i=r.state.selection.main;if(qe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&r.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Ro(r.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Ro(r.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Ro(r.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let l,c=()=>l||(l=Mz(r,e,t));return r.state.facet(aR).some(u=>u(r,e.from,e.to,s,c))||r.dispatch(c()),!0}function Mz(r,e,t){let n,i=r.state,s=i.selection.main,l=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let u=e.from<s.from?-1:1,f=u<0?s.from:s.to,d=wu(i.facet(lh).map(m=>m(r)),f,u);e.from==d&&(l=d)}if(l>-1)n={changes:e,selection:Me.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let u=s.from<e.from?i.sliceDoc(s.from,e.from):"",f=s.to>e.to?i.sliceDoc(e.to,s.to):"";n=i.replaceSelection(r.state.toText(u+e.insert.sliceString(0,void 0,r.state.lineBreak)+f))}else{let u=i.changes(e),f=t&&t.main.to<=u.newLength?t.main:void 0;if(i.selection.ranges.length>1&&(r.inputState.composing>=0||r.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=r.state.sliceDoc(e.from,e.to),m,g=t&&vR(r,t.main.head);if(g){let b=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-b}}else m=r.state.doc.lineAt(s.head);let y=s.to-e.to;n=i.changeByRange(b=>{if(b.from==s.from&&b.to==s.to)return{changes:u,range:f||b.map(u)};let w=b.to-y,O=w-d.length;if(r.state.sliceDoc(O,w)!=d||w>=m.from&&O<=m.to)return{range:b};let S=i.changes({from:O,to:w,insert:e.insert}),k=b.to-s.to;return{changes:S,range:f?Me.range(Math.max(0,f.anchor+k),Math.max(0,f.head+k)):b.map(S)}})}else n={changes:u,selection:f&&i.selection.replaceRange(f)}}let c="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,c+=".compose",r.inputState.compositionFirstChange&&(c+=".start",r.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:c,scrollIntoView:!0})}function kR(r,e,t,n){let i=Math.min(r.length,e.length),s=0;for(;s<i&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&r.length==e.length)return null;let l=r.length,c=e.length;for(;l>0&&c>0&&r.charCodeAt(l-1)==e.charCodeAt(c-1);)l--,c--;if(n=="end"){let u=Math.max(0,s-Math.min(l,c));t-=l+u-s}if(l<s&&r.length<e.length){let u=t<=s&&t>=l?s-t:0;s-=u,c=s+(c-l),l=s}else if(c<s){let u=t<=s&&t>=c?s-t:0;s-=u,l=s+(l-c),c=s}return{from:s,toA:l,toB:c}}function Dz(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new UA(t,n)),(i!=t||s!=n)&&e.push(new UA(i,s))),e}function Lz(r,e){if(r.length==0)return null;let t=r[0].pos,n=r.length==2?r[1].pos:t;return t>-1&&n>-1?Me.single(t+e,n+e):null}class Bz{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,qe.safari&&e.contentDOM.addEventListener("input",()=>null),qe.gecko&&Xz(e.contentDOM.ownerDocument)}handleEvent(e){!qz(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,t);for(let i of n.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=zz(e),n=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let l=!t[s].handlers.length,c=n[s];c&&l!=!c.handlers.length&&(i.removeEventListener(s,this.handleEvent),c=null),c||i.addEventListener(s,this.handleEvent,{passive:l})}for(let s in n)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&ER.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),qe.android&&qe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return qe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=AR.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||jz.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Ro(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:qe.safari&&!qe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function HA(r,e){return(t,n)=>{try{return e.call(r,n,t)}catch(i){xn(t.state,i)}}}function zz(r){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of r){let i=n.spec,s=i&&i.plugin.domEventHandlers,l=i&&i.plugin.domEventObservers;if(s)for(let c in s){let u=s[c];u&&t(c).handlers.push(HA(n.value,u))}if(l)for(let c in l){let u=l[c];u&&t(c).observers.push(HA(n.value,u))}}for(let n in yi)t(n).handlers.push(yi[n]);for(let n in ni)t(n).observers.push(ni[n]);return e}const AR=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],jz="dthko",ER=[16,17,18,20,91,92,224,225],Pf=6;function Ff(r){return Math.max(0,r)*.7+8}function Pz(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class Fz{constructor(e,t,n,i){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=HB(e.contentDOM),this.atoms=e.state.facet(lh).map(l=>l(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(kt.allowMultipleSelections)&&Iz(e,t),this.dragging=Hz(e,t)&&OR(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Pz(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,i=0,s=0,l=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:c}=this.scrollParents.y.getBoundingClientRect());let u=zb(this.view);e.clientX-u.left<=i+Pf?t=-Ff(i-e.clientX):e.clientX+u.right>=l-Pf&&(t=Ff(e.clientX-l)),e.clientY-u.top<=s+Pf?n=-Ff(s-e.clientY):e.clientY+u.bottom>=c-Pf&&(n=Ff(e.clientY-c)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,n=bR(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Iz(r,e){let t=r.state.facet(rR);return t.length?t[0](e):qe.mac?e.metaKey:e.ctrlKey}function Uz(r,e){let t=r.state.facet(nR);return t.length?t[0](e):qe.mac?!e.altKey:!e.ctrlKey}function Hz(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let n=zu(r.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let l=i[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function qz(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=Or.get(t))&&n.isWidget()&&!n.isHidden&&n.widget.ignoreEvent(e))return!1;return!0}const yi=Object.create(null),ni=Object.create(null),TR=qe.ie&&qe.ie_version<15||qe.ios&&qe.webkit_version<604;function Wz(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),CR(r,t.value)},50)}function Dp(r,e,t){for(let n of r.facet(e))t=n(t,r);return t}function CR(r,e){e=Dp(r.state,Db,e);let{state:t}=r,n,i=1,s=t.toText(e),l=s.lines==t.selection.ranges.length;if(S1!=null&&t.selection.ranges.every(u=>u.empty)&&S1==s.toString()){let u=-1;n=t.changeByRange(f=>{let d=t.doc.lineAt(f.from);if(d.from==u)return{range:f};u=d.from;let m=t.toText((l?s.line(i++).text:e)+t.lineBreak);return{changes:{from:d.from,insert:m},range:Me.cursor(f.from+m.length)}})}else l?n=t.changeByRange(u=>{let f=s.line(i++);return{changes:{from:u.from,to:u.to,insert:f.text},range:Me.cursor(u.from+f.length)}}):n=t.replaceSelection(s);r.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}ni.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};yi.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);ni.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};ni.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};yi.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of r.state.facet(iR))if(t=n(r,e),t)break;if(!t&&e.button==0&&(t=$z(r,e)),t){let n=!r.hasFocus;r.inputState.startMouseSelection(new Fz(r,e,t,n)),n&&r.observer.ignore(()=>{G_(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let i=r.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else r.inputState.setSelectionOrigin("select.pointer");return!1};function qA(r,e,t,n){if(n==1)return Me.cursor(e,t);if(n==2)return kz(r.state,e,t);{let i=r.docView.lineAt(e,t),s=r.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:s.from,c=i?i.posAtEnd:s.to;return c<r.state.doc.length&&c==s.to&&c++,Me.range(l,c)}}const Vz=qe.ie&&qe.ie_version<=11;let WA=null,VA=0,$A=0;function OR(r){if(!Vz)return r.detail;let e=WA,t=$A;return WA=r,$A=Date.now(),VA=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(VA+1)%3:1}function $z(r,e){let t=r.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),n=OR(e),i=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,l,c){let u=r.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),f,d=qA(r,u.pos,u.assoc,n);if(t.pos!=u.pos&&!l){let m=qA(r,t.pos,t.assoc,n),g=Math.min(m.from,d.from),y=Math.max(m.to,d.to);d=g<d.from?Me.range(g,y):Me.range(y,g)}return l?i.replaceRange(i.main.extend(d.from,d.to)):c&&n==1&&i.ranges.length>1&&(f=Gz(i,u.pos))?f:c?i.addRange(d):Me.create([d])}}}function Gz(r,e){for(let t=0;t<r.ranges.length;t++){let{from:n,to:i}=r.ranges[t];if(n<=e&&i>=e)return Me.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}yi.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let i=r.docView.tile.nearest(e.target);if(i&&i.isWidget()){let s=i.posAtStart,l=s+i.length;(s>=t.to||l<=t.from)&&(t=Me.range(s,l))}}let{inputState:n}=r;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Dp(r.state,Lb,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};yi.dragend=r=>(r.inputState.draggedContent=null,!1);function GA(r,e,t,n){if(t=Dp(r.state,Db,t),!t)return;let i=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,l=n&&s&&Uz(r,e)?{from:s.from,to:s.to}:null,c={from:i,insert:t},u=r.state.changes(l?[l,c]:c);r.focus(),r.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),r.inputState.draggedContent=null}yi.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),i=0,s=()=>{++i==t.length&&GA(r,e,n.filter(l=>l!=null).join(r.state.lineBreak),!1)};for(let l=0;l<t.length;l++){let c=new FileReader;c.onerror=s,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(n[l]=c.result),s()},c.readAsText(t[l])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return GA(r,e,n,!0),!0}return!1};yi.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=TR?null:e.clipboardData;return t?(CR(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(Wz(r),!1)};function Qz(r,e){let t=r.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),r.focus()},50)}function Yz(r){let e=[],t=[],n=!1;for(let i of r.selection.ranges)i.empty||(e.push(r.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of r.selection.ranges){let l=r.doc.lineAt(s);l.number>i&&(e.push(l.text),t.push({from:l.from,to:Math.min(r.doc.length,l.to+1)})),i=l.number}n=!0}return{text:Dp(r,Lb,e.join(r.lineBreak)),ranges:t,linewise:n}}let S1=null;yi.copy=yi.cut=(r,e)=>{let{text:t,ranges:n,linewise:i}=Yz(r.state);if(!t&&!i)return!1;S1=i?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=TR?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(Qz(r,t),!1)};const _R=Cs.define();function RR(r,e){let t=[];for(let n of r.facet(lR)){let i=n(r,e);i&&t.push(i)}return t.length?r.update({effects:t,annotations:_R.of(!0)}):null}function NR(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=RR(r.state,e);t?r.dispatch(t):r.update([])}},10)}ni.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),NR(r)};ni.blur=r=>{r.observer.clearSelectionRange(),NR(r)};ni.compositionstart=ni.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};ni.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,qe.chrome&&qe.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};ni.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};yi.beforeinput=(r,e)=>{var t,n;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(r.inputState.insertingText=e.data,r.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&r.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),l=e.getTargetRanges();if(s&&l.length){let c=l[0],u=r.posAtDOM(c.startContainer,c.startOffset),f=r.posAtDOM(c.endContainer,c.endOffset);return jb(r,{from:u,to:f,insert:r.state.toText(s)},null),!0}}let i;if(qe.chrome&&qe.android&&(i=AR.find(s=>s.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return qe.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),qe.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>ni.compositionend(r,e),20),!1};const QA=new Set;function Xz(r){QA.has(r)||(QA.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const YA=["pre-wrap","normal","pre-line","break-spaces"];let qo=!1;function XA(){qo=!1}class Kz{constructor(e){this.lineWrapping=e,this.doc=Dt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return YA.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,n,i,s,l){let c=YA.indexOf(e)>-1,u=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=n,this.textHeight=i,this.lineLength=s,u){this.heightSamples={};for(let f=0;f<l.length;f++){let d=l[f];d<0?f++:this.heightSamples[Math.floor(d*10)]=!0}}return u}}class Zz{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class pi{constructor(e,t,n,i,s){this.from=e,this.length=t,this.top=n,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Hr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ml?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new pi(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Kt=(function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r})(Kt||(Kt={}));const Cd=.001;class sn{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Cd&&(qo=!0),this.height=e)}replace(e,t,n){return sn.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let s=this,l=n.doc;for(let c=i.length-1;c>=0;c--){let{fromA:u,toA:f,fromB:d,toB:m}=i[c],g=s.lineAt(u,Kt.ByPosNoHeight,n.setDoc(t),0,0),y=g.to>=f?g:s.lineAt(f,Kt.ByPosNoHeight,n,0,0);for(m+=y.to-f,f=y.to;c>0&&g.from<=i[c-1].toA;)u=i[c-1].fromA,d=i[c-1].fromB,c--,u<g.from&&(g=s.lineAt(u,Kt.ByPosNoHeight,n,0,0));d+=g.from-u,u=g.from;let b=Pb.build(n.setDoc(l),e,d,m);s=Vd(s,s.replace(u,f,b))}return s.updateHeight(n,0)}static empty(){return new jn(0,0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,i=0,s=0;for(;;)if(t==n)if(i>s*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),n+=1+c.break,i-=c.size}else if(s>i*2){let c=e[n];c.break?e.splice(n,1,c.left,null,c.right):e.splice(n,1,c.left,c.right),n+=2+c.break,s-=c.size}else break;else if(i<s){let c=e[t++];c&&(i+=c.size)}else{let c=e[--n];c&&(s+=c.size)}let l=0;return e[t-1]==null?(l=1,t--):e[t]==null&&(l=1,n++),new ej(sn.of(e.slice(0,t)),l,sn.of(e.slice(n)))}}function Vd(r,e){return r==e?r:(r.constructor!=e.constructor&&(qo=!0),e)}sn.prototype.size=1;const Jz=it.replace({});class MR extends sn{constructor(e,t,n){super(e,t),this.deco=n,this.spaceAbove=0}mainBlock(e,t){return new pi(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,t,n,i){return this.spaceAbove&&e<n+this.spaceAbove?new pi(i,0,n,this.spaceAbove,Jz):this.mainBlock(n,i)}lineAt(e,t,n,i,s){let l=this.mainBlock(i,s);return this.spaceAbove?this.blockAt(0,n,i,s).join(l):l}forEachLine(e,t,n,i,s,l){e<=s+this.length&&t>=s&&l(this.lineAt(0,Kt.ByPos,n,i,s))}setMeasuredHeight(e){let t=e.heights[e.index++];t<0?(this.spaceAbove=-t,t=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(t)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class jn extends MR{constructor(e,t,n){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=n}mainBlock(e,t){return new pi(t,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,t,n){let i=n[0];return n.length==1&&(i instanceof jn||i instanceof Fr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Fr?i=new jn(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):sn.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setMeasuredHeight(i):(n||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Fr extends sn{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-n+1,l,c=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*s);l=u/s,this.length>s+1&&(c=(this.height-u)/(this.length-s-1))}else l=this.height/s;return{firstLine:n,lastLine:i,perLine:l,perChar:c}}blockAt(e,t,n,i){let{firstLine:s,lastLine:l,perLine:c,perChar:u}=this.heightMetrics(t,i);if(t.lineWrapping){let f=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),d=t.doc.lineAt(f),m=c+d.length*u,g=Math.max(n,e-m/2);return new pi(d.from,d.length,g,m,0)}else{let f=Math.max(0,Math.min(l-s,Math.floor((e-n)/c))),{from:d,length:m}=t.doc.line(s+f);return new pi(d,m,n+c*f,c,0)}}lineAt(e,t,n,i,s){if(t==Kt.ByHeight)return this.blockAt(e,n,i,s);if(t==Kt.ByPosNoHeight){let{from:y,to:b}=n.doc.lineAt(e);return new pi(y,b-y,0,0,0)}let{firstLine:l,perLine:c,perChar:u}=this.heightMetrics(n,s),f=n.doc.lineAt(e),d=c+f.length*u,m=f.number-l,g=i+c*m+u*(f.from-s-m);return new pi(f.from,f.length,Math.max(i,Math.min(g,i+this.height-d)),d,0)}forEachLine(e,t,n,i,s,l){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:c,perLine:u,perChar:f}=this.heightMetrics(n,s);for(let d=e,m=i;d<=t;){let g=n.doc.lineAt(d);if(d==e){let b=g.number-c;m+=u*b+f*(e-s-b)}let y=u+f*g.length;l(new pi(g.from,g.length,m,y,0)),m+=y,d=g.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let s=n[n.length-1];s instanceof Fr?n[n.length-1]=new Fr(s.length+i):n.push(null,new Fr(i-1))}if(e>0){let s=n[0];s instanceof Fr?n[0]=new Fr(e+s.length):n.unshift(new Fr(e-1),null)}return sn.of(n)}decomposeLeft(e,t){t.push(new Fr(e-1),null)}decomposeRight(e,t){t.push(null,new Fr(this.length-e-1))}updateHeight(e,t=0,n=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let l=[],c=Math.max(t,i.from),u=-1;for(i.from>t&&l.push(new Fr(i.from-t-1).updateHeight(e,t));c<=s&&i.more;){let d=e.doc.lineAt(c).length;l.length&&l.push(null);let m=i.heights[i.index++],g=0;m<0&&(g=-m,m=i.heights[i.index++]),u==-1?u=m:Math.abs(m-u)>=Cd&&(u=-2);let y=new jn(d,m,g);y.outdated=!1,l.push(y),c+=d+1}c<=s&&l.push(null,new Fr(s-c).updateHeight(e,c));let f=sn.of(l);return(u<0||Math.abs(f.height-this.height)>=Cd||Math.abs(u-this.heightMetrics(e,t).perLine)>=Cd)&&(qo=!0),Vd(this,f)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class ej extends sn{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,i){let s=n+this.left.height;return e<s?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,n,i,s){let l=i+this.left.height,c=s+this.left.length+this.break,u=t==Kt.ByHeight?e<l:e<c,f=u?this.left.lineAt(e,t,n,i,s):this.right.lineAt(e,t,n,l,c);if(this.break||(u?f.to<c:f.from>c))return f;let d=t==Kt.ByPosNoHeight?Kt.ByPosNoHeight:Kt.ByPos;return u?f.join(this.right.lineAt(c,d,n,l,c)):this.left.lineAt(c,d,n,i,s).join(f)}forEachLine(e,t,n,i,s,l){let c=i+this.left.height,u=s+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,t,n,i,s,l),t>=u&&this.right.forEachLine(e,t,n,c,u,l);else{let f=this.lineAt(u,Kt.ByPos,n,i,s);e<f.from&&this.left.forEachLine(e,f.from-1,n,i,s,l),f.to>=e&&f.from<=t&&l(f),t>f.to&&this.right.forEachLine(f.to+1,t,n,c,u,l)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let c of n)s.push(c);if(e>0&&KA(s,l-1),t<this.length){let c=s.length;this.decomposeRight(t,s),KA(s,c)}return sn.of(s)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?sn.of(this.break?[e,null,t]:[e,t]):(this.left=Vd(this.left,e),this.right=Vd(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:s,right:l}=this,c=t+s.length+this.break,u=null;return i&&i.from<=t+s.length&&i.more?u=s=s.updateHeight(e,t,n,i):s.updateHeight(e,t,n),i&&i.from<=c+l.length&&i.more?u=l=l.updateHeight(e,c,n,i):l.updateHeight(e,c,n),u?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function KA(r,e){let t,n;r[e]==null&&(t=r[e-1])instanceof Fr&&(n=r[e+1])instanceof Fr&&r.splice(e-1,3,new Fr(t.length+1+n.length))}const tj=5;class Pb{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof jn?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new jn(n-this.pos,-1,0)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,s=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=t-e;n.block?this.addBlock(new MR(l,i,n)):(l||s||i>=tj)&&this.addLineDeco(i,s,l)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new jn(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,t){let n=new Fr(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof jn)return e;let t=new jn(0,-1,0);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof jn)&&!this.isCovered?this.nodes.push(new jn(0,-1,0)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof jn&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,t,n,i){let s=new Pb(n,e);return vt.spans(t,n,i,s,0),s.finish(n)}}function rj(r,e,t){let n=new nj;return vt.compare(r,e,t,n,0),n.changes}class nj{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&_o(e,t,this.changes,5)}}function ij(r,e){let t=r.getBoundingClientRect(),n=r.ownerDocument,i=n.defaultView||window,s=Math.max(0,t.left),l=Math.min(i.innerWidth,t.right),c=Math.max(0,t.top),u=Math.min(i.innerHeight,t.bottom);for(let f=r.parentNode;f&&f!=n.body;)if(f.nodeType==1){let d=f,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let g=d.getBoundingClientRect();s=Math.max(s,g.left),l=Math.min(l,g.right),c=Math.max(c,g.top),u=Math.min(f==r.parentNode?i.innerHeight:u,g.bottom)}f=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:s-t.left,right:Math.max(s,l)-t.left,top:c-(t.top+e),bottom:Math.max(c,u)-(t.top+e)}}function sj(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function aj(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class N0{constructor(e,t,n,i){this.from=e,this.to=t,this.size=n,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=t[n];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return it.replace({widget:new lj(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class lj extends Os{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ZA{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=JA,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Yt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Bb).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new Kz(t),this.stateDeco=e.facet(Pu).filter(n=>typeof n!="function"),this.heightMap=sn.empty().applyChanges(this.stateDeco,Dt.empty,this.heightOracle.setDoc(e.doc),[new Jn(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=it.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some(({from:s,to:l})=>i>=s&&i<=l)){let{from:s,to:l}=this.lineBlockAt(i);e.push(new If(s,l))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?JA:new Fb(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(pu(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Pu).filter(d=>typeof d!="function");let i=e.changedRanges,s=Jn.extendWithRanges(i,rj(n,this.stateDeco,e?e.changes:Ar.empty(this.state.doc.length))),l=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);XA(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||qo)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let u=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<u.from||t.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,t));let f=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(cR)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?Yt.RTL:Yt.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),c=t.getBoundingClientRect(),u=l||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let f=0,d=0;if(c.width&&c.height){let{scaleX:A,scaleY:_}=$_(t,c);(A>.005&&Math.abs(this.scaleX-A)>.005||_>.005&&Math.abs(this.scaleY-_)>.005)&&(this.scaleX=A,this.scaleY=_,f|=16,l=u=!0)}let m=(parseInt(n.paddingTop)||0)*this.scaleY,g=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=Q_(e.scrollDOM);let b=(this.printing?aj:ij)(t,this.paddingTop),w=b.top-this.pixelViewport.top,O=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let S=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(S!=this.inView&&(this.inView=S,S&&(u=!0)),!this.inView&&!this.scrollTarget&&!sj(e.dom))return 0;let k=c.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),u){let A=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(A)&&(l=!0),l||i.lineWrapping&&Math.abs(k-this.contentDOMWidth)>i.charWidth){let{lineHeight:_,charWidth:U,textHeight:M}=e.docView.measureTextSize();l=_>0&&i.refresh(s,_,U,M,Math.max(5,k/U),A),l&&(e.docView.minWidth=0,f|=16)}w>0&&O>0?d=Math.max(w,O):w<0&&O<0&&(d=Math.min(w,O)),XA();for(let _ of this.viewports){let U=_.from==this.viewport.from?A:e.docView.measureVisibleLineHeights(_);this.heightMap=(l?sn.empty().applyChanges(this.stateDeco,Dt.empty,this.heightOracle,[new Jn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new Zz(_.from,U))}qo&&(f|=2)}let E=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return E&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),f|=this.updateForViewport()),(f&2||E)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:c}=this,u=new If(i.lineAt(l-n*1e3,Kt.ByHeight,s,0,0).from,i.lineAt(c+(1-n)*1e3,Kt.ByHeight,s,0,0).to);if(t){let{head:f}=t.range;if(f<u.from||f>u.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=i.lineAt(f,Kt.ByPos,s,0,0),g;t.y=="center"?g=(m.top+m.bottom)/2-d/2:t.y=="start"||t.y=="nearest"&&f<u.from?g=m.top:g=m.bottom-d,u=new If(i.lineAt(g-1e3/2,Kt.ByHeight,s,0,0).from,i.lineAt(g+d+1e3/2,Kt.ByHeight,s,0,0).to)}}return u}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new If(this.heightMap.lineAt(n,Kt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Kt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Kt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Kt.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:c}=this;return(e==0||i<=l-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||s>=c+Math.max(10,Math.min(n,250)))&&i>l-2*1e3&&s<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let i of e)t.touchesRange(i.from,i.to)||n.push(new N0(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,s=i>>1,l=i<<1;if(this.defaultTextDirection!=Yt.LTR&&!n)return[];let c=[],u=(d,m,g,y)=>{if(m-d<s)return;let b=this.state.selection.main,w=[b.from];b.empty||w.push(b.to);for(let S of w)if(S>d&&S<m){u(d,S-10,g,y),u(S+10,m,g,y);return}let O=cj(e,S=>S.from>=g.from&&S.to<=g.to&&Math.abs(S.from-d)<s&&Math.abs(S.to-m)<s&&!w.some(k=>S.from<k&&S.to>k));if(!O){if(m<g.to&&t&&n&&t.visibleRanges.some(E=>E.from<=m&&E.to>=m)){let E=t.moveToLineBoundary(Me.cursor(m),!1,!0).head;E>d&&(m=E)}let S=this.gapSize(g,d,m,y),k=n||S<2e6?S:2e6;O=new N0(d,m,S,k)}c.push(O)},f=d=>{if(d.length<l||d.type!=Hr.Text)return;let m=oj(d.from,d.to,this.stateDeco);if(m.total<l)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,y,b;if(n){let w=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,O,S;if(g!=null){let k=Hf(m,g),E=((this.visibleBottom-this.visibleTop)/2+w)/d.height;O=k-E,S=k+E}else O=(this.visibleTop-d.top-w)/d.height,S=(this.visibleBottom-d.top+w)/d.height;y=Uf(m,O),b=Uf(m,S)}else{let w=m.total*this.heightOracle.charWidth,O=i*this.heightOracle.charWidth,S=0;if(w>2e6)for(let U of e)U.from>=d.from&&U.from<d.to&&U.size!=U.displaySize&&U.from*this.heightOracle.charWidth+S<this.pixelViewport.left&&(S=U.size-U.displaySize);let k=this.pixelViewport.left+S,E=this.pixelViewport.right+S,A,_;if(g!=null){let U=Hf(m,g),M=((E-k)/2+O)/w;A=U-M,_=U+M}else A=(k-O)/w,_=(E+O)/w;y=Uf(m,A),b=Uf(m,_)}y>d.from&&u(d.from,y,d,m),b<d.to&&u(b,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(f):f(d);return c}gapSize(e,t,n,i){let s=Hf(i,n)-Hf(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){N0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=it.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];vt.spans(t,this.viewport.from,this.viewport.to,{span(s,l){n.push({from:s,to:l})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let s=0;s<n.length&&!(i&8);s++){let l=this.visibleRanges[s],c=n[s];(l.from!=c.from||l.to!=c.to)&&(i|=4,e&&e.mapPos(l.from,-1)==c.from&&e.mapPos(l.to,1)==c.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||pu(this.heightMap.lineAt(e,Kt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||pu(this.heightMap.lineAt(this.scaler.fromDOM(e),Kt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return pu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class If{constructor(e,t){this.from=e,this.to=t}}function oj(r,e,t){let n=[],i=r,s=0;return vt.spans(t,r,e,{span(){},point(l,c){l>i&&(n.push({from:i,to:l}),s+=l-i),i=c}},20),i<e&&(n.push({from:i,to:e}),s+=e-i),{total:s,ranges:n}}function Uf({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(r*t);for(let i=0;;i++){let{from:s,to:l}=e[i],c=l-s;if(n<=c)return s+n;n-=c}}function Hf(r,e){let t=0;for(let{from:n,to:i}of r.ranges){if(e<=i){t+=e-n;break}t+=i-n}return t/r.total}function cj(r,e){for(let t of r)if(e(t))return t}const JA={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class Fb{constructor(e,t,n){let i=0,s=0,l=0;this.viewports=n.map(({from:c,to:u})=>{let f=t.lineAt(c,Kt.ByPos,e,0,0).top,d=t.lineAt(u,Kt.ByPos,e,0,0).bottom;return i+=d-f,{from:c,to:u,top:f,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let c of this.viewports)c.domTop=l+(c.top-s)*this.scale,l=c.domBottom=c.domTop+(c.bottom-c.top),s=c.bottom}toDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return n+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,i=s.domBottom}}eq(e){return e instanceof Fb?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function pu(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),n=e.toDOM(r.bottom);return new pi(r.from,r.length,t,n-t,Array.isArray(r._content)?r._content.map(i=>pu(i,e)):r._content)}const qf=We.define({combine:r=>r.join(" ")}),k1=We.define({combine:r=>r.indexOf(!0)>-1}),A1=pa.newName(),DR=pa.newName(),LR=pa.newName(),BR={"&light":"."+DR,"&dark":"."+LR};function E1(r,e,t){return new pa(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return r;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):r+" "+n}})}const uj=E1("."+A1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},BR),hj={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},M0=qe.ie&&qe.ie_version<=11;class fj{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new qB,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(qe.ie&&qe.ie_version<=11||qe.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&qe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(qe.chrome&&qe.chrome_version<126)&&(this.editContext=new pj(e),e.state.facet(ys)&&(e.contentDOM.editContext=this.editContext.editContext)),M0&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(ys)?n.root.activeElement!=this.dom:!Ed(this.dom,i))return;let s=i.anchorNode&&n.docView.tile.nearest(i.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(qe.ie&&qe.ie_version<=11||qe.android&&qe.chrome)&&!n.state.selection.main.empty&&i.focusNode&&xu(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=zu(e.root);if(!t)return!1;let n=qe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&dj(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let i=Ed(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&VB(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,hj),M0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),M0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Ro(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,i=!1;for(let s of e){let l=this.readMutation(s);l&&(l.typeOver&&(i=!0),t==-1?{from:t,to:n}=l:(t=Math.min(l.from,t),n=Math.max(l.to,n)))}return{from:t,to:n,typeOver:i}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),i=this.selectionChanged&&Ed(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new Nz(this.view,e,t,n);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,i=SR(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.tile.nearest(e.target);if(!t||t.isWidget())return null;if(t.markDirty(e.type=="attributes"),e.type=="childList"){let n=eE(t,e.previousSibling||e.target.previousSibling,-1),i=eE(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ys)!=e.state.facet(ys)&&(e.view.contentDOM.editContext=e.state.facet(ys)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function eE(r,e,t){for(;e;){let n=Or.get(e);if(n&&n.parent==r)return n;let i=e.parentNode;e=i!=r.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function tE(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,l=r.docView.domAtPos(r.state.selection.main.anchor,1);return xu(l.node,l.offset,i,s)&&([t,n,i,s]=[i,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}}function dj(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return tE(r,i)}let t=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",n,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",n,!0),t?tE(r,t):null}class pj{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let i=e.state.selection.main,{anchor:s,head:l}=i,c=this.toEditorPos(n.updateRangeStart),u=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:c,drifted:!1});let f=u-c>n.text.length;c==this.from&&s<this.from?c=s:u==this.to&&s>this.to&&(u=s);let d=kR(e.state.sliceDoc(c,u),n.text,(f?i.from:i.to)-c,f?"end":null);if(!d){let g=Me.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));g.main.eq(i)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:d.from+c,to:d.toA+c,insert:Dt.of(n.text.slice(d.from,d.toB).split(`
`))};if((qe.mac||qe.android)&&m.from==l-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:c,to:u,insert:Dt.of([n.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);jb(e,m,Me.single(this.toEditorPos(n.selectionStart,g),this.toEditorPos(n.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,n.updateRangeStart-1),Math.min(t.text.length,n.updateRangeStart+1)))&&this.handlers.compositionend(n)},this.handlers.characterboundsupdate=n=>{let i=[],s=null;for(let l=this.toEditorPos(n.rangeStart),c=this.toEditorPos(n.rangeEnd);l<c;l++){let u=e.coordsForChar(l);s=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let s of n.getTextFormats()){let l=s.underlineStyle,c=s.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(c)){let u=this.toEditorPos(s.rangeStart),f=this.toEditorPos(s.rangeEnd);if(u<f){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;i.push(it.mark({attributes:{style:d}}).range(u,f))}}}e.dispatch({effects:hR.of(it.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=zu(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,l,c,u,f)=>{if(n)return;let d=f.length-(l-s);if(i&&l>=i.to)if(i.from==s&&i.to==l&&i.insert.eq(f)){i=this.pendingContextChange=null,t+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(s+=t,l+=t,l<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+f.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),f.toString()),this.to+=d}t+=d}),i&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class He{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(s=>n(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||WB(e.parent)||document,this.viewState=new ZA(e.state||kt.create(e)),e.scrollTo&&e.scrollTo.is(jf)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(wo).map(i=>new T0(i));for(let i of this.plugins)i.update(this);this.observer=new fj(this),this.inputState=new Bz(this),this.inputState.ensureHandlers(this.plugins),this.docView=new PA(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Cr?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,i,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,c=0,u=null;e.some(g=>g.annotation(_R))?(this.inputState.notifiedFocused=l,c=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,u=RR(s,l),u||(c=1));let f=this.observer.delayedAndroidKey,d=null;if(f?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(kt.phrases)!=this.state.facet(kt.phrases))return this.setState(s);i=Hd.create(this,s,e),i.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:y}=g.state.selection;m=new No(y.empty?y:Me.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of g.effects)y.is(jf)&&(m=y.value.clip(this.state))}this.viewState.update(i,m),this.bidiCache=$d.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(fu)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(qf)!=i.state.facet(qf)&&(this.viewState.mustMeasureContent=!0),(t||n||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(v1))try{g(i)}catch(y){xn(this.state,y,"update listener")}(u||d)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),d&&!SR(this,d)&&f.force&&Ro(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new ZA(e),this.plugins=e.facet(wo).map(n=>new T0(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new PA(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(wo),n=e.state.facet(wo);if(t!=n){let i=[];for(let s of n){let l=t.indexOf(s);if(l<0)i.push(new T0(s));else{let c=this.plugins[l];c.mustUpdate=e,i.push(c)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){xn(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(l<0)if(Q_(n))s=-1,l=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(i);s=y.from,l=y.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let d=f.map(y=>{try{return y.read(this)}catch(b){return xn(this.state,b),rE}}),m=Hd.create(this,this.state,[]),g=!1;m.flags|=u,t?t.flags|=u:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let y=0;y<f.length;y++)if(d[y]!=rE)try{let b=f[y];b.write&&b.write(d[y],this)}catch(b){xn(this.state,b)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let b=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(b>1||b<-1){i=i+b,n.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(v1))c(t)}get themeClasses(){return A1+" "+(this.state.facet(k1)?LR:DR)+" "+this.state.facet(qf)}updateAttrs(){let e=nE(this,fR,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ys)?"true":"false",class:"cm-content",style:`${qe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),nE(this,Bb,t);let n=this.observer.ignore(()=>{let i=MA(this.contentDOM,this.contentAttrs,t),s=MA(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let i of n.effects)if(i.is(He.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(fu);let e=this.state.facet(He.cspNonce);pa.mount(this.root,this.styleModules.concat(uj).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return R0(this,e,FA(this,e,t,n))}moveByGroup(e,t){return R0(this,e,FA(this,e,t,n=>Tz(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=n[t?n.length-1:0];return Me.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,n=!0){return Ez(this,e,t,n)}moveVertically(e,t,n){return R0(this,e,Cz(this,e,t,n))}domAtPos(e,t=1){return this.docView.domAtPos(e,t)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){this.readMeasured();let n=w1(this,e,t);return n&&n.pos}posAndSideAtCoords(e,t=!0){return this.readMeasured(),w1(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),l=s[vs.find(s,e-i.from,-1,t)];return Ud(n,l.dir==Yt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(oR)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>mj)return eR(e.length);let t=this.textDirectionAt(e.from),n;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||J_(s.isolates,n=BA(this,e))))return s.order;n||(n=BA(this,e));let i=ZB(e.text,t,n);return this.bidiCache.push(new $d(e.from,e.to,t,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||qe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{G_(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return jf.of(new No(typeof e=="number"?Me.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return jf.of(new No(Me.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Sr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Sr.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=pa.newName(),i=[qf.of(n),fu.of(E1(`.${n}`,e))];return t&&t.dark&&i.push(k1.of(!0)),i}static baseTheme(e){return wl.lowest(fu.of(E1("."+A1,e,BR)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),i=n&&Or.get(n)||Or.get(e);return((t=i?.root)===null||t===void 0?void 0:t.view)||null}}He.styleModule=fu;He.inputHandler=aR;He.clipboardInputFilter=Db;He.clipboardOutputFilter=Lb;He.scrollHandler=uR;He.focusChangeEffect=lR;He.perLineTextDirection=oR;He.exceptionSink=sR;He.updateListener=v1;He.editable=ys;He.mouseSelectionStyle=iR;He.dragMovesSelection=nR;He.clickAddsSelectionRange=rR;He.decorations=Pu;He.blockWrappers=dR;He.outerDecorations=pR;He.atomicRanges=lh;He.bidiIsolatedRanges=mR;He.scrollMargins=gR;He.darkTheme=k1;He.cspNonce=We.define({combine:r=>r.length?r[0]:""});He.contentAttributes=Bb;He.editorAttributes=fR;He.lineWrapping=He.contentAttributes.of({class:"cm-lineWrapping"});He.announce=ot.define();const mj=4096,rE={};class $d{constructor(e,t,n,i,s,l){this.from=e,this.to=t,this.dir=n,this.isolates=i,this.fresh=s,this.order=l}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:Yt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==i&&!t.touchesRange(l.from,l.to)&&n.push(new $d(t.mapPos(l.from,1),t.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return n}}function nE(r,e,t){for(let n=r.state.facet(e),i=n.length-1;i>=0;i--){let s=n[i],l=typeof s=="function"?s(r):s;l&&Rb(l,t)}return t}const gj=qe.mac?"mac":qe.windows?"win":qe.linux?"linux":"key";function yj(r,e){const t=r.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let i,s,l,c;for(let u=0;u<t.length-1;++u){const f=t[u];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))e=="mac"?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),c&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function Wf(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const vj=wl.default(He.domEventHandlers({keydown(r,e){return jR(zR(e.state),r,e,"editor")}})),Ib=We.define({enables:vj}),iE=new WeakMap;function zR(r){let e=r.facet(Ib),t=iE.get(e);return t||iE.set(e,t=wj(e.reduce((n,i)=>n.concat(i),[]))),t}function bj(r,e,t){return jR(zR(r.state),e,r,t)}let aa=null;const xj=4e3;function wj(r,e=gj){let t=Object.create(null),n=Object.create(null),i=(l,c)=>{let u=n[l];if(u==null)n[l]=c;else if(u!=c)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,c,u,f,d)=>{var m,g;let y=t[l]||(t[l]=Object.create(null)),b=c.split(/ (?!$)/).map(S=>yj(S,e));for(let S=1;S<b.length;S++){let k=b.slice(0,S).join(" ");i(k,!0),y[k]||(y[k]={preventDefault:!0,stopPropagation:!1,run:[E=>{let A=aa={view:E,prefix:k,scope:l};return setTimeout(()=>{aa==A&&(aa=null)},xj),!0}]})}let w=b.join(" ");i(w,!1);let O=y[w]||(y[w]={preventDefault:!1,stopPropagation:!1,run:((g=(m=y._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});u&&O.run.push(u),f&&(O.preventDefault=!0),d&&(O.stopPropagation=!0)};for(let l of r){let c=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let f of c){let d=t[f]||(t[f]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=l;for(let g in d)d[g].run.push(y=>m(y,T1))}let u=l[e]||l.key;if(u)for(let f of c)s(f,u,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(f,"Shift-"+u,l.shift,l.preventDefault,l.stopPropagation)}return t}let T1=null;function jR(r,e,t,n){T1=e;let i=BB(e),s=yn(i,0),l=Bi(s)==i.length&&i!=" ",c="",u=!1,f=!1,d=!1;aa&&aa.view==t&&aa.scope==n&&(c=aa.prefix+" ",ER.indexOf(e.keyCode)<0&&(f=!0,aa=null));let m=new Set,g=O=>{if(O){for(let S of O.run)if(!m.has(S)&&(m.add(S),S(t)))return O.stopPropagation&&(d=!0),!0;O.preventDefault&&(O.stopPropagation&&(d=!0),f=!0)}return!1},y=r[n],b,w;return y&&(g(y[c+Wf(i,e,!l)])?u=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(qe.windows&&e.ctrlKey&&e.altKey)&&!(qe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=ma[e.keyCode])&&b!=i?(g(y[c+Wf(b,e,!0)])||e.shiftKey&&(w=Lu[e.keyCode])!=i&&w!=b&&g(y[c+Wf(w,e,!1)]))&&(u=!0):l&&e.shiftKey&&g(y[c+Wf(i,e,!0)])&&(u=!0),!u&&g(y._any)&&(u=!0)),f&&(u=!0),u&&d&&e.stopPropagation(),T1=null,u}class oh{constructor(e,t,n,i,s){this.className=e,this.left=t,this.top=n,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let s=PR(e);return[new oh(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Sj(e,t,n)}}function PR(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==Yt.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function sE(r,e,t,n){let i=r.coordsAtPos(e,t*2);if(!i)return n;let s=r.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,c=r.posAtCoords({x:s.left+1,y:l}),u=r.posAtCoords({x:s.right-1,y:l});return c==null||u==null?n:{from:Math.max(n.from,Math.min(c,u)),to:Math.min(n.to,Math.max(c,u))}}function Sj(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let n=Math.max(t.from,r.viewport.from),i=Math.min(t.to,r.viewport.to),s=r.textDirection==Yt.LTR,l=r.contentDOM,c=l.getBoundingClientRect(),u=PR(r),f=l.querySelector(".cm-line"),d=f&&window.getComputedStyle(f),m=c.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=c.right-(d?parseInt(d.paddingRight):0),y=x1(r,n,1),b=x1(r,i,-1),w=y.type==Hr.Text?y:null,O=b.type==Hr.Text?b:null;if(w&&(r.lineWrapping||y.widgetLineBreaks)&&(w=sE(r,n,1,w)),O&&(r.lineWrapping||b.widgetLineBreaks)&&(O=sE(r,i,-1,O)),w&&O&&w.from==O.from&&w.to==O.to)return k(E(t.from,t.to,w));{let _=w?E(t.from,null,w):A(y,!1),U=O?E(null,t.to,O):A(b,!0),M=[];return(w||y).to<(O||b).from-(w&&O?1:0)||y.widgetLineBreaks>1&&_.bottom+r.defaultLineHeight/2<U.top?M.push(S(m,_.bottom,g,U.top)):_.bottom<U.top&&r.elementAtHeight((_.bottom+U.top)/2).type==Hr.Text&&(_.bottom=U.top=(_.bottom+U.top)/2),k(_).concat(M).concat(k(U))}function S(_,U,M,Q){return new oh(e,_-u.left,U-u.top,M-_,Q-U)}function k({top:_,bottom:U,horizontal:M}){let Q=[];for(let P=0;P<M.length;P+=2)Q.push(S(M[P],_,M[P+1],U));return Q}function E(_,U,M){let Q=1e9,P=-1e9,re=[];function pe(R,ee,X,G,ue){let he=r.coordsAtPos(R,R==M.to?-2:2),ke=r.coordsAtPos(X,X==M.from?2:-2);!he||!ke||(Q=Math.min(he.top,ke.top,Q),P=Math.max(he.bottom,ke.bottom,P),ue==Yt.LTR?re.push(s&&ee?m:he.left,s&&G?g:ke.right):re.push(!s&&G?m:ke.left,!s&&ee?g:he.right))}let H=_??M.from,Y=U??M.to;for(let R of r.visibleRanges)if(R.to>H&&R.from<Y)for(let ee=Math.max(R.from,H),X=Math.min(R.to,Y);;){let G=r.state.doc.lineAt(ee);for(let ue of r.bidiSpans(G)){let he=ue.from+G.from,ke=ue.to+G.from;if(he>=X)break;ke>ee&&pe(Math.max(he,ee),_==null&&he<=H,Math.min(ke,X),U==null&&ke>=Y,ue.dir)}if(ee=G.to+1,ee>=X)break}return re.length==0&&pe(H,_==null,Y,U==null,r.textDirection),{top:Q,bottom:P,horizontal:re}}function A(_,U){let M=c.top+(U?_.top:_.bottom);return{top:M,bottom:M,horizontal:[]}}}function kj(r,e){return r.constructor==e.constructor&&r.eq(e)}class Aj{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Od)!=e.state.facet(Od)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(Od);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!kj(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[n].constructor&&i.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e,qe.safari&&qe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Od=We.define();function FR(r){return[Sr.define(e=>new Aj(e,r)),Od.of(r)]}const Fu=We.define({combine(r){return $i(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Ej(r={}){return[Fu.of(r),Tj,Cj,Oj,cR.of(!0)]}function IR(r){return r.startState.facet(Fu)!=r.state.facet(Fu)}const Tj=FR({above:!0,markers(r){let{state:e}=r,t=e.facet(Fu),n=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let l=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=i.empty?i:Me.cursor(i.head,i.head>i.anchor?-1:1);for(let u of oh.forRange(r,l,c))n.push(u)}}return n},update(r,e){r.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=IR(r);return t&&aE(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){aE(e.state,r)},class:"cm-cursorLayer"});function aE(r,e){e.style.animationDuration=r.facet(Fu).cursorBlinkRate+"ms"}const Cj=FR({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:oh.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||IR(r)},class:"cm-selectionLayer"}),Oj=wl.highest(He.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),UR=ot.define({map(r,e){return r==null?null:e.mapPos(r)}}),mu=Wr.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,n)=>n.is(UR)?n.value:t,r)}}),_j=Sr.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(mu);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(mu)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(mu),t=e!=null&&r.coordsAtPos(e);if(!t)return null;let n=r.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+r.scrollDOM.scrollLeft*r.scaleX,top:t.top-n.top+r.scrollDOM.scrollTop*r.scaleY,height:t.bottom-t.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/t+"px",this.cursor.style.height=r.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(mu)!=r&&this.view.dispatch({effects:UR.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Rj(){return[mu,_j]}function lE(r,e,t,n,i){e.lastIndex=0;for(let s=r.iterRange(t,n),l=t,c;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;c=e.exec(s.value);)i(l+c.index,c)}function Nj(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let n=[];for(let{from:i,to:s}of t)i=Math.max(r.state.doc.lineAt(i).from,i-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=s:n.push({from:i,to:s});return n}class Mj{constructor(e){const{regexp:t,decoration:n,decorate:i,boundary:s,maxLength:l=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(c,u,f,d)=>i(d,f,f+c[0].length,c,u);else if(typeof n=="function")this.addMatch=(c,u,f,d)=>{let m=n(c,u,f);m&&d(f,f+c[0].length,m)};else if(n)this.addMatch=(c,u,f,d)=>d(f,f+c[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=l}createDeco(e){let t=new ws,n=t.add.bind(t);for(let{from:i,to:s}of Nj(e,this.maxLength))lE(e.state.doc,this.regexp,i,s,(l,c)=>this.addMatch(c,e,l,n));return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,l,c,u)=>{u>=e.view.viewport.from&&c<=e.view.viewport.to&&(n=Math.min(c,n),i=Math.max(u,i))}),e.viewportMoved||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){for(let s of e.visibleRanges){let l=Math.max(s.from,n),c=Math.min(s.to,i);if(c>=l){let u=e.state.doc.lineAt(l),f=u.to<c?e.state.doc.lineAt(c):u,d=Math.max(s.from,u.from),m=Math.min(s.to,f.to);if(this.boundary){for(;l>u.from;l--)if(this.boundary.test(u.text[l-1-u.from])){d=l;break}for(;c<f.to;c++)if(this.boundary.test(f.text[c-f.from])){m=c;break}}let g=[],y,b=(w,O,S)=>g.push(S.range(w,O));if(u==f)for(this.regexp.lastIndex=d-u.from;(y=this.regexp.exec(u.text))&&y.index<m-u.from;)this.addMatch(y,e,y.index+u.from,b);else lE(e.state.doc,this.regexp,d,m,(w,O)=>this.addMatch(O,e,w,b));t=t.update({filterFrom:d,filterTo:m,filter:(w,O)=>w<d||O>m,add:g})}}return t}}const C1=/x/.unicode!=null?"gu":"g",Dj=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,C1),Lj={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let D0=null;function Bj(){var r;if(D0==null&&typeof document<"u"&&document.body){let e=document.body.style;D0=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return D0||!1}const _d=We.define({combine(r){let e=$i(r,{render:null,specialChars:Dj,addSpecialChars:null});return(e.replaceTabs=!Bj())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,C1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,C1)),e}});function zj(r={}){return[_d.of(r),jj()]}let oE=null;function jj(){return oE||(oE=Sr.fromClass(class{constructor(r){this.view=r,this.decorations=it.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(_d)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new Mj({regexp:r.specialChars,decoration:(e,t,n)=>{let{doc:i}=t.state,s=yn(e[0],0);if(s==9){let l=i.lineAt(n),c=t.state.tabSize,u=tc(l.text,c,n-l.from);return it.replace({widget:new Uj((c-u%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=it.replace({widget:new Ij(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(_d);r.startState.facet(_d)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const Pj="";function Fj(r){return r>=32?Pj:r==10?"":String.fromCharCode(9216+r)}class Ij extends Os{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Fj(this.code),n=e.state.phrase("Control character")+" "+(Lj[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=n,s.setAttribute("aria-label",n),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Uj extends Os{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Hj(){return Wj}const qj=it.line({class:"cm-activeLine"}),Wj=Sr.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let n of r.state.selection.ranges){let i=r.lineBlockAt(n.head);i.from>e&&(t.push(qj.range(i.from)),e=i.from)}return it.set(t)}},{decorations:r=>r.decorations}),O1=2e3;function Vj(r,e,t){let n=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>O1||t.off>O1||e.col<0||t.col<0){let l=Math.min(e.off,t.off),c=Math.max(e.off,t.off);for(let u=n;u<=i;u++){let f=r.doc.line(u);f.length<=c&&s.push(Me.range(f.from+l,f.to+c))}}else{let l=Math.min(e.col,t.col),c=Math.max(e.col,t.col);for(let u=n;u<=i;u++){let f=r.doc.line(u),d=l1(f.text,l,r.tabSize,!0);if(d<0)s.push(Me.cursor(f.to));else{let m=l1(f.text,c,r.tabSize);s.push(Me.range(f.from+d,f.from+m))}}}return s}function $j(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function cE(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),n=r.state.doc.lineAt(t),i=t-n.from,s=i>O1?-1:i==n.length?$j(r,e.clientX):tc(n.text,r.state.tabSize,t-n.from);return{line:n.number,col:s,off:i}}function Gj(r,e){let t=cE(r,e),n=r.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),l=i.state.doc.lineAt(s);t={line:l.number,col:t.col,off:Math.min(t.off,l.length)},n=n.map(i.changes)}},get(i,s,l){let c=cE(r,i);if(!c)return n;let u=Vj(r.state,t,c);return u.length?l?Me.create(u.concat(n.ranges)):Me.create(u):n}}:null}function Qj(r){let e=(t=>t.altKey&&t.button==0);return He.mouseSelectionStyle.of((t,n)=>e(n)?Gj(t,n):null)}const Yj={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},Xj={style:"cursor: crosshair"};function Kj(r={}){let[e,t]=Yj[r.key||"Alt"],n=Sr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[n,He.contentAttributes.of(i=>{var s;return!((s=i.plugin(n))===null||s===void 0)&&s.isDown?Xj:null})]}const Vf="-10000px";class HR{constructor(e,t,n,i){this.facet=t,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(l=>l);let s=null;this.tooltipViews=this.tooltips.map(l=>s=n(l,s))}update(e,t){var n;let i=e.state.facet(this.facet),s=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let l=[],c=t?[]:null;for(let u=0;u<s.length;u++){let f=s[u],d=-1;if(f){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==f.create&&(d=m)}if(d<0)l[u]=this.createTooltipView(f,u?l[u-1]:null),c&&(c[u]=!!f.above);else{let m=l[u]=this.tooltipViews[d];c&&(c[u]=t[d]),m.update&&m.update(e)}}}for(let u of this.tooltipViews)l.indexOf(u)<0&&(this.removeTooltipView(u),(n=u.destroy)===null||n===void 0||n.call(u));return t&&(c.forEach((u,f)=>t[f]=u),t.length=c.length),this.input=i,this.tooltips=s,this.tooltipViews=l,!0}}function Zj(r){let e=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const L0=We.define({combine:r=>{var e,t,n;return{position:qe.ios?"absolute":((e=r.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=r.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||Zj}}}),uE=new WeakMap,Ub=Sr.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(L0);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new HR(r,Hb,(t,n)=>this.createTooltip(t,n),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,n=r.state.facet(L0);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),n=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Vf,t.dom.style.left="0px",this.container.insertBefore(t.dom,n),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(r=n.destroy)===null||r===void 0||r.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(qe.safari){let l=s.getBoundingClientRect();t=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(r=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=zb(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,l)=>{let c=this.manager.tooltipViews[l];return c.getCoords?c.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(L0).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:t,space:n,scaleX:i,scaleY:s}=r,l=[];for(let c=0;c<this.manager.tooltips.length;c++){let u=this.manager.tooltips[c],f=this.manager.tooltipViews[c],{dom:d}=f,m=r.pos[c],g=r.size[c];if(!m||u.clip!==!1&&(m.bottom<=Math.max(t.top,n.top)||m.top>=Math.min(t.bottom,n.bottom)||m.right<Math.max(t.left,n.left)-.1||m.left>Math.min(t.right,n.right)+.1)){d.style.top=Vf;continue}let y=u.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,b=y?7:0,w=g.right-g.left,O=(e=uE.get(f))!==null&&e!==void 0?e:g.bottom-g.top,S=f.offset||e9,k=this.view.textDirection==Yt.LTR,E=g.width>n.right-n.left?k?n.left:n.right-g.width:k?Math.max(n.left,Math.min(m.left-(y?14:0)+S.x,n.right-w)):Math.min(Math.max(n.left,m.left-w+(y?14:0)-S.x),n.right-w),A=this.above[c];!u.strictSide&&(A?m.top-O-b-S.y<n.top:m.bottom+O+b+S.y>n.bottom)&&A==n.bottom-m.bottom>m.top-n.top&&(A=this.above[c]=!A);let _=(A?m.top-n.top:n.bottom-m.bottom)-b;if(_<O&&f.resize!==!1){if(_<this.view.defaultLineHeight){d.style.top=Vf;continue}uE.set(f,O),d.style.height=(O=_)/s+"px"}else d.style.height&&(d.style.height="");let U=A?m.top-O-b-S.y:m.bottom+b+S.y,M=E+w;if(f.overlap!==!0)for(let Q of l)Q.left<M&&Q.right>E&&Q.top<U+O&&Q.bottom>U&&(U=A?Q.top-O-2-b:Q.bottom+b+2);if(this.position=="absolute"?(d.style.top=(U-r.parent.top)/s+"px",hE(d,(E-r.parent.left)/i)):(d.style.top=U/s+"px",hE(d,E/i)),y){let Q=m.left+(k?S.x:-S.x)-(E+14-7);y.style.left=Q/i+"px"}f.overlap!==!0&&l.push({left:E,top:U,right:M,bottom:U+O}),d.classList.toggle("cm-tooltip-above",A),d.classList.toggle("cm-tooltip-below",!A),f.positioned&&f.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Vf}},{eventObservers:{scroll(){this.maybeMeasure()}}});function hE(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const Jj=He.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),e9={x:0,y:0},Hb=We.define({enables:[Ub,Jj]}),Gd=We.define({combine:r=>r.reduce((e,t)=>e.concat(t),[])});class Lp{static create(e){return new Lp(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new HR(e,Gd,(t,n)=>this.createHostedView(t,n),t=>t.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const t9=Hb.compute([Gd],r=>{let e=r.facet(Gd);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:Lp.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class r9{constructor(e,t,n,i,s){this.view=e,this.source=t,this.field=n,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.tile.nearest(t.target);if(!n)return;let i,s=1;if(n.isWidget())i=n.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let c=e.coordsAtPos(i);if(!c||t.y<c.top||t.y>c.bottom||t.x<c.left-e.defaultCharacterWidth||t.x>c.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),f=u&&u.dir==Yt.RTL?-1:1;s=t.x<c.left?-f:f}let l=this.source(e,i,s);if(l?.then){let c=this.pending={pos:i};l.then(u=>{this.pending==c&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>xn(e.state,u,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(Ub),t=e?e.manager.tooltips.findIndex(n=>n.create==Lp.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!n9(s.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,c=(n=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:l;(l==c?this.view.posAtCoords(this.lastMove)!=l:!i9(this.view,l,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const $f=4;function n9(r,e){let{left:t,right:n,top:i,bottom:s}=r.getBoundingClientRect(),l;if(l=r.querySelector(".cm-tooltip-arrow")){let c=l.getBoundingClientRect();i=Math.min(c.top,i),s=Math.max(c.bottom,s)}return e.clientX>=t-$f&&e.clientX<=n+$f&&e.clientY>=i-$f&&e.clientY<=s+$f}function i9(r,e,t,n,i,s){let l=r.scrollDOM.getBoundingClientRect(),c=r.documentTop+r.documentPadding.top+r.contentHeight;if(l.left>n||l.right<n||l.top>i||Math.min(l.bottom,c)<i)return!1;let u=r.posAtCoords({x:n,y:i},!1);return u>=e&&u<=t}function s9(r,e={}){let t=ot.define(),n=Wr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(s,l))),s.docChanged)){let l=[];for(let c of i){let u=s.changes.mapPos(c.pos,-1,tn.TrackDel);if(u!=null){let f=Object.assign(Object.create(null),c);f.pos=u,f.end!=null&&(f.end=s.changes.mapPos(f.end)),l.push(f)}}i=l}for(let l of s.effects)l.is(t)&&(i=l.value),l.is(a9)&&(i=[]);return i},provide:i=>Gd.from(i)});return{active:n,extension:[n,Sr.define(i=>new r9(i,r,n,t,e.hoverTime||300)),t9]}}function qR(r,e){let t=r.plugin(Ub);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const a9=ot.define(),fE=We.define({combine(r){let e,t;for(let n of r)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Iu(r,e){let t=r.plugin(WR),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const WR=Sr.fromClass(class{constructor(r){this.input=r.state.facet(Uu),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(fE);this.top=new Gf(r,!0,e.topContainer),this.bottom=new Gf(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(fE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Gf(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Gf(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(Uu);if(t!=this.input){let n=t.filter(u=>u),i=[],s=[],l=[],c=[];for(let u of n){let f=this.specs.indexOf(u),d;f<0?(d=u(r.view),c.push(d)):(d=this.panels[f],d.update&&d.update(r)),i.push(d),(d.top?s:l).push(d)}this.specs=n,this.panels=i,this.top.sync(s),this.bottom.sync(l);for(let u of c)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let n of this.panels)n.update&&n.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>He.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Gf{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=dE(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=dE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function dE(r){let e=r.nextSibling;return r.remove(),e}const Uu=We.define({enables:WR});class ks extends da{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ks.prototype.elementClass="";ks.prototype.toDOM=void 0;ks.prototype.mapMode=tn.TrackBefore;ks.prototype.startSide=ks.prototype.endSide=-1;ks.prototype.point=!0;const Rd=We.define(),l9=We.define(),o9={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>vt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Su=We.define();function c9(r){return[VR(),Su.of({...o9,...r})]}const pE=We.define({combine:r=>r.some(e=>e)});function VR(r){return[u9]}const u9=Sr.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(Su).map(e=>new gE(r,e)),this.fixed=!r.state.facet(pE);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}if(r.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(pE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=vt.iter(this.view.state.facet(Rd),this.view.viewport.from),n=[],i=this.gutters.map(s=>new h9(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(s.type)){let l=!0;for(let c of s.type)if(c.type==Hr.Text&&l){_1(t,n,c.from);for(let u of i)u.line(this.view,c,n);l=!1}else if(c.widget)for(let u of i)u.widget(this.view,c)}else if(s.type==Hr.Text){_1(t,n,s.from);for(let l of i)l.line(this.view,s,n)}else if(s.widget)for(let l of i)l.widget(this.view,s);for(let s of i)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let e=r.startState.facet(Su),t=r.state.facet(Su),n=r.docChanged||r.heightChanged||r.viewportChanged||!vt.eq(r.startState.facet(Rd),r.state.facet(Rd),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(r)&&(n=!0);else{n=!0;let i=[];for(let s of t){let l=e.indexOf(s);l<0?i.push(new gE(this.view,s)):(this.gutters[l].update(r),i.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return n}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>He.scrollMargins.of(e=>{let t=e.plugin(r);if(!t||t.gutters.length==0||!t.fixed)return null;let n=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Yt.LTR?{left:n,right:i}:{right:n,left:i}})});function mE(r){return Array.isArray(r)?r:[r]}function _1(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class h9{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=vt.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,l=t.height/e.scaleY;if(this.i==i.elements.length){let c=new $R(e,l,s,n);i.elements.push(c),i.dom.appendChild(c.dom)}else i.elements[this.i].update(e,l,s,n);this.height=t.bottom,this.i++}line(e,t,n){let i=[];_1(this.cursor,i,t.from),n.length&&(i=i.concat(n));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),i=n?[n]:null;for(let s of e.state.facet(l9)){let l=s(e,t.widget,t);l&&(i||(i=[])).push(l)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class gE{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,i=>{let s=i.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let u=s.getBoundingClientRect();l=(u.top+u.bottom)/2}else l=i.clientY;let c=e.lineBlockAtHeight(l-e.documentTop);t.domEventHandlers[n](e,c,i)&&i.preventDefault()});this.markers=mE(t.markers(e)),t.initialSpacer&&(this.spacer=new $R(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=mE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!vt.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class $R{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),f9(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let n="cm-gutterElement",i=this.dom.firstChild;for(let s=0,l=0;;){let c=l,u=s<t.length?t[s++]:null,f=!1;if(u){let d=u.elementClass;d&&(n+=" "+d);for(let m=l;m<this.markers.length;m++)if(this.markers[m].compare(u)){c=m,f=!0;break}}else c=this.markers.length;for(;l<c;){let d=this.markers[l++];if(d.toDOM){d.destroy(i);let m=i.nextSibling;i.remove(),i=m}}if(!u)break;u.toDOM&&(f?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),f&&l++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function f9(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const d9=We.define(),p9=We.define(),So=We.define({combine(r){return $i(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let i in t){let s=n[i],l=t[i];n[i]=s?(c,u,f)=>s(c,u,f)||l(c,u,f):l}return n}})}});class B0 extends ks{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function z0(r,e){return r.state.facet(So).formatNumber(e,r.state)}const m9=Su.compute([So],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(d9)},lineMarker(e,t,n){return n.some(i=>i.toDOM)?null:new B0(z0(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let i of e.state.facet(p9)){let s=i(e,t,n);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(So)!=e.state.facet(So),initialSpacer(e){return new B0(z0(e,yE(e.state.doc.lines)))},updateSpacer(e,t){let n=z0(t.view,yE(t.view.state.doc.lines));return n==e.number?e:new B0(n)},domEventHandlers:r.facet(So).domEventHandlers,side:"before"}));function g9(r={}){return[So.of(r),VR(),m9]}function yE(r){let e=9;for(;e<r;)e=e*10+9;return e}const y9=new class extends ks{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},v9=Rd.compute(["selection"],r=>{let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.head).from;i>t&&(t=i,e.push(y9.range(i)))}return vt.of(e)});function b9(){return v9}const GR=1024;let x9=0;class j0{constructor(e,t){this.from=e,this.to=t}}class ht{constructor(e={}){this.id=x9++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=An.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}ht.closedBy=new ht({deserialize:r=>r.split(" ")});ht.openedBy=new ht({deserialize:r=>r.split(" ")});ht.group=new ht({deserialize:r=>r.split(" ")});ht.isolate=new ht({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});ht.contextHash=new ht({perNode:!0});ht.lookAhead=new ht({perNode:!0});ht.mounted=new ht({perNode:!0});class Qd{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[ht.mounted.id]}}const w9=Object.create(null);class An{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):w9,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new An(e.name||"",t,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(ht.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return n=>{for(let i=n.prop(ht.group),s=-1;s<(i?i.length:0);s++){let l=t[s<0?n.name:i[s]];if(l)return l}}}}An.none=new An("",Object.create(null),0,8);class qb{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let i=null;for(let s of e){let l=s(n);if(l){i||(i=Object.assign({},n.props));let c=l[1],u=l[0];u.combine&&u.id in i&&(c=u.combine(i[u.id],c)),i[u.id]=c}}t.push(i?new An(n.name,i,n.id,n.flags):n)}return new qb(t)}}const Qf=new WeakMap,vE=new WeakMap;var Nr;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Nr||(Nr={}));class wr{constructor(e,t,n,i,s){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,c]of s)this.props[typeof l=="number"?l:l.id]=c}}toString(){let e=Qd.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let i=n.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new N1(this.topNode,e)}cursorAt(e,t=0,n=0){let i=Qf.get(this)||this.topNode,s=new N1(i);return s.moveTo(e,t),Qf.set(this,s._tree),s}get topNode(){return new ri(this,0,0,null)}resolve(e,t=0){let n=Hu(Qf.get(this)||this.topNode,e,t,!1);return Qf.set(this,n),n}resolveInner(e,t=0){let n=Hu(vE.get(this)||this.topNode,e,t,!0);return vE.set(this,n),n}resolveStack(e,t=0){return A9(this,e,t)}iterate(e){let{enter:t,leave:n,from:i=0,to:s=this.length}=e,l=e.mode||0,c=(l&Nr.IncludeAnonymous)>0;for(let u=this.cursor(l|Nr.IncludeAnonymous);;){let f=!1;if(u.from<=s&&u.to>=i&&(!c&&u.type.isAnonymous||t(u)!==!1)){if(u.firstChild())continue;f=!0}for(;f&&n&&(c||!u.type.isAnonymous)&&n(u),!u.nextSibling();){if(!u.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:$b(An.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,i)=>new wr(this.type,t,n,i,this.propValues),e.makeTree||((t,n,i)=>new wr(An.none,t,n,i)))}static build(e){return E9(e)}}wr.empty=new wr(An.none,[],[],0);class Wb{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Wb(this.buffer,this.index)}}class ya{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return An.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let l=[];for(;e<n;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,t,n,i,s){let{buffer:l}=this,c=-1;for(let u=e;u!=t&&!(QR(s,i,l[u+1],l[u+2])&&(c=u,n>0));u=l[u+3]);return c}slice(e,t,n){let i=this.buffer,s=new Uint16Array(t-e),l=0;for(let c=e,u=0;c<t;){s[u++]=i[c++],s[u++]=i[c++]-n;let f=s[u++]=i[c++]-n;s[u++]=i[c++]-e,l=Math.max(l,f)}return new ya(s,l,this.set)}}function QR(r,e,t,n){switch(r){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function Hu(r,e,t,n){for(var i;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let l=!n&&r instanceof ri&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=n?0:Nr.IgnoreOverlays;if(n)for(let l=r,c=l.parent;c;l=c,c=l.parent)l instanceof ri&&l.index<0&&((i=c.enter(e,t,s))===null||i===void 0?void 0:i.from)!=l.from&&(r=c);for(;;){let l=r.enter(e,t,s);if(!l)return r;r=l}}class YR{cursor(e=0){return new N1(this,e)}getChild(e,t=null,n=null){let i=bE(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return bE(this,e,t,n)}resolve(e,t=0){return Hu(this,e,t,!1)}resolveInner(e,t=0){return Hu(this,e,t,!0)}matchContext(e){return R1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}get node(){return this}get next(){return this.parent}}class ri extends YR{constructor(e,t,n,i){super(),this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,i,s=0){for(let l=this;;){for(let{children:c,positions:u}=l._tree,f=t>0?c.length:-1;e!=f;e+=t){let d=c[e],m=u[e]+l.from;if(QR(i,n,m,m+d.length)){if(d instanceof ya){if(s&Nr.ExcludeBuffers)continue;let g=d.findChild(0,d.buffer.length,t,n-m,i);if(g>-1)return new ca(new S9(l,d,e,m),null,g)}else if(s&Nr.IncludeAnonymous||!d.type.isAnonymous||Vb(d)){let g;if(!(s&Nr.IgnoreMounts)&&(g=Qd.get(d))&&!g.overlay)return new ri(g.tree,m,e,l);let y=new ri(d,m,e,l);return s&Nr.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(t<0?d.children.length-1:0,t,n,i)}}}if(s&Nr.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+t:e=t<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,n=0){let i;if(!(n&Nr.IgnoreOverlays)&&(i=Qd.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:l,to:c}of i.overlay)if((t>0?l<=s:l<s)&&(t<0?c>=s:c>s))return new ri(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function bE(r,e,t,n){let i=r.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let l=!1;!l;)if(l=i.type.is(t),!i.nextSibling())return s}for(;;){if(n!=null&&i.type.is(n))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return n==null?s:[]}}function R1(r,e,t=e.length-1){for(let n=r;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class S9{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class ca extends YR{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return s<0?null:new ca(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,n=0){if(n&Nr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new ca(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ca(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ca(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,s=n.buffer[this.index+3];if(s>i){let l=n.buffer[this.index+1];e.push(n.slice(i,s,l)),t.push(0)}return new wr(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function XR(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>t.from||l.to<t.to)&&(t=l,e=s)}let n=t instanceof ri&&t.index<0?null:t.parent,i=r.slice();return n?i[e]=n:i.splice(e,1),new k9(i,t)}class k9{constructor(e,t){this.heads=e,this.node=t}get next(){return XR(this.heads)}}function A9(r,e,t){let n=r.resolveInner(e,t),i=null;for(let s=n instanceof ri?n:n.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(i||(i=[n])).push(l.resolve(e,t)),s=l}else{let l=Qd.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let c=new ri(l.tree,l.overlay[0].from+s.from,-1,s);(i||(i=[n])).push(Hu(c,e,t,!1))}}return i?XR(i):n}class N1{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ri)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof ri?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&Nr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Nr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Nr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let s=t+e,l=e<0?-1:n._tree.children.length;s!=l;s+=e){let c=n._tree.children[s];if(this.mode&Nr.IncludeAnonymous||c instanceof ya||!c.type.isAnonymous||Vb(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;t=l,n=s+1;break e}i=this.stack[--s]}for(let i=n;i<this.stack.length;i++)t=new ca(this.buffer,t,this.stack[i]);return this.bufferNode=new ca(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return R1(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return R1(this._tree,e,i);let l=n[t.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function Vb(r){return r.children.some(e=>e instanceof ya||!e.type.isAnonymous||Vb(e))}function E9(r){var e;let{buffer:t,nodeSet:n,maxBufferLength:i=GR,reused:s=[],minRepeatType:l=n.types.length}=r,c=Array.isArray(t)?new Wb(t,t.length):t,u=n.types,f=0,d=0;function m(_,U,M,Q,P,re){let{id:pe,start:H,end:Y,size:R}=c,ee=d,X=f;if(R<0)if(c.next(),R==-1){let q=s[pe];M.push(q),Q.push(H-_);return}else if(R==-3){f=pe;return}else if(R==-4){d=pe;return}else throw new RangeError(`Unrecognized record size: ${R}`);let G=u[pe],ue,he,ke=H-_;if(Y-H<=i&&(he=O(c.pos-U,P))){let q=new Uint16Array(he.size-he.skip),I=c.pos-he.size,K=q.length;for(;c.pos>I;)K=S(he.start,q,K);ue=new ya(q,Y-he.start,n),ke=he.start-_}else{let q=c.pos-R;c.next();let I=[],K=[],se=pe>=l?pe:-1,fe=0,ie=Y;for(;c.pos>q;)se>=0&&c.id==se&&c.size>=0?(c.end<=ie-i&&(b(I,K,H,fe,c.end,ie,se,ee,X),fe=I.length,ie=c.end),c.next()):re>2500?g(H,q,I,K):m(H,q,I,K,se,re+1);if(se>=0&&fe>0&&fe<I.length&&b(I,K,H,fe,H,ie,se,ee,X),I.reverse(),K.reverse(),se>-1&&fe>0){let z=y(G,X);ue=$b(G,I,K,0,I.length,0,Y-H,z,z)}else ue=w(G,I,K,Y-H,ee-Y,X)}M.push(ue),Q.push(ke)}function g(_,U,M,Q){let P=[],re=0,pe=-1;for(;c.pos>U;){let{id:H,start:Y,end:R,size:ee}=c;if(ee>4)c.next();else{if(pe>-1&&Y<pe)break;pe<0&&(pe=R-i),P.push(H,Y,R),re++,c.next()}}if(re){let H=new Uint16Array(re*4),Y=P[P.length-2];for(let R=P.length-3,ee=0;R>=0;R-=3)H[ee++]=P[R],H[ee++]=P[R+1]-Y,H[ee++]=P[R+2]-Y,H[ee++]=ee;M.push(new ya(H,P[2]-Y,n)),Q.push(Y-_)}}function y(_,U){return(M,Q,P)=>{let re=0,pe=M.length-1,H,Y;if(pe>=0&&(H=M[pe])instanceof wr){if(!pe&&H.type==_&&H.length==P)return H;(Y=H.prop(ht.lookAhead))&&(re=Q[pe]+H.length+Y)}return w(_,M,Q,P,re,U)}}function b(_,U,M,Q,P,re,pe,H,Y){let R=[],ee=[];for(;_.length>Q;)R.push(_.pop()),ee.push(U.pop()+M-P);_.push(w(n.types[pe],R,ee,re-P,H-re,Y)),U.push(P-M)}function w(_,U,M,Q,P,re,pe){if(re){let H=[ht.contextHash,re];pe=pe?[H].concat(pe):[H]}if(P>25){let H=[ht.lookAhead,P];pe=pe?[H].concat(pe):[H]}return new wr(_,U,M,Q,pe)}function O(_,U){let M=c.fork(),Q=0,P=0,re=0,pe=M.end-i,H={size:0,start:0,skip:0};e:for(let Y=M.pos-_;M.pos>Y;){let R=M.size;if(M.id==U&&R>=0){H.size=Q,H.start=P,H.skip=re,re+=4,Q+=4,M.next();continue}let ee=M.pos-R;if(R<0||ee<Y||M.start<pe)break;let X=M.id>=l?4:0,G=M.start;for(M.next();M.pos>ee;){if(M.size<0)if(M.size==-3||M.size==-4)X+=4;else break e;else M.id>=l&&(X+=4);M.next()}P=G,Q+=R,re+=X}return(U<0||Q==_)&&(H.size=Q,H.start=P,H.skip=re),H.size>4?H:void 0}function S(_,U,M){let{id:Q,start:P,end:re,size:pe}=c;if(c.next(),pe>=0&&Q<l){let H=M;if(pe>4){let Y=c.pos-(pe-4);for(;c.pos>Y;)M=S(_,U,M)}U[--M]=H,U[--M]=re-_,U[--M]=P-_,U[--M]=Q}else pe==-3?f=Q:pe==-4&&(d=Q);return M}let k=[],E=[];for(;c.pos>0;)m(r.start||0,r.bufferStart||0,k,E,-1,0);let A=(e=r.length)!==null&&e!==void 0?e:k.length?E[0]+k[0].length:0;return new wr(u[r.topID],k.reverse(),E.reverse(),A)}const xE=new WeakMap;function Nd(r,e){if(!r.isAnonymous||e instanceof ya||e.type!=r)return 1;let t=xE.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=r||!(n instanceof wr)){t=1;break}t+=Nd(r,n)}xE.set(e,t)}return t}function $b(r,e,t,n,i,s,l,c,u){let f=0;for(let b=n;b<i;b++)f+=Nd(r,e[b]);let d=Math.ceil(f*1.5/8),m=[],g=[];function y(b,w,O,S,k){for(let E=O;E<S;){let A=E,_=w[E],U=Nd(r,b[E]);for(E++;E<S;E++){let M=Nd(r,b[E]);if(U+M>=d)break;U+=M}if(E==A+1){if(U>d){let M=b[A];y(M.children,M.positions,0,M.children.length,w[A]+k);continue}m.push(b[A])}else{let M=w[E-1]+b[E-1].length-_;m.push($b(r,b,w,A,E,_,M,null,u))}g.push(_+k-s)}}return y(e,t,n,i,0),(c||u)(m,g,l)}class ul{constructor(e,t,n,i,s=!1,l=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let i=[new ul(0,e.length,e,0,!1,n)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,n=128){if(!t.length)return e;let i=[],s=1,l=e.length?e[0]:null;for(let c=0,u=0,f=0;;c++){let d=c<t.length?t[c]:null,m=d?d.fromA:1e9;if(m-u>=n)for(;l&&l.from<m;){let g=l;if(u>=g.from||m<=g.to||f){let y=Math.max(g.from,u)-f,b=Math.min(g.to,m)-f;g=y>=b?null:new ul(y,b,g.tree,g.offset+f,c>0,!!d)}if(g&&i.push(g),l.to>m)break;l=s<e.length?e[s++]:null}if(!d)break;u=d.toA,f=d.toA-d.toB}return i}}class KR{startParse(e,t,n){return typeof e=="string"&&(e=new T9(e)),n=n?n.length?n.map(i=>new j0(i.from,i.to)):[new j0(0,0)]:[new j0(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let s=i.advance();if(s)return s}}}class T9{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new ht({perNode:!0});let C9=0,ms=class M1{constructor(e,t,n,i){this.name=e,this.set=t,this.base=n,this.modified=i,this.id=C9++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof M1&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new M1(n,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new Yd(e);return n=>n.modified.indexOf(t)>-1?n:Yd.get(n.base||n,n.modified.concat(t).sort((i,s)=>i.id-s.id))}},O9=0;class Yd{constructor(e){this.name=e,this.instances=[],this.id=O9++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(c=>c.base==e&&_9(t,c.modified));if(n)return n;let i=[],s=new ms(e.name,i,e,t);for(let c of t)c.instances.push(s);let l=R9(t);for(let c of e.set)if(!c.modified.length)for(let u of l)i.push(Yd.get(c,u));return s}}function _9(r,e){return r.length==e.length&&r.every((t,n)=>t==e[n])}function R9(r){let e=[[]];for(let t=0;t<r.length;t++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(r[t]));return e.sort((t,n)=>n.length-t.length)}function ZR(r){let e=Object.create(null);for(let t in r){let n=r[t];Array.isArray(n)||(n=[n]);for(let i of t.split(" "))if(i){let s=[],l=2,c=i;for(let m=0;;){if(c=="..."&&m>0&&m+3==i.length){l=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!g)throw new RangeError("Invalid path: "+i);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==i.length)break;let y=i[m++];if(m==i.length&&y=="!"){l=0;break}if(y!="/")throw new RangeError("Invalid path: "+i);c=i.slice(m)}let u=s.length-1,f=s[u];if(!f)throw new RangeError("Invalid path: "+i);let d=new qu(n,l,u>0?s.slice(0,u):null);e[f]=d.sort(e[f])}}return JR.add(e)}const JR=new ht({combine(r,e){let t,n,i;for(;r||e;){if(!r||e&&r.depth>=e.depth?(i=e,e=e.next):(i=r,r=r.next),t&&t.mode==i.mode&&!i.context&&!t.context)continue;let s=new qu(i.tags,i.mode,i.context);t?t.next=s:n=s,t=s}return n}});class qu{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}qu.empty=new qu([],2,null);function e3(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let l of s.tag)t[l.id]=s.class;let{scope:n,all:i=null}=e||{};return{style:s=>{let l=i;for(let c of s)for(let u of c.set){let f=t[u.id];if(f){l=l?l+" "+f:f;break}}return l},scope:n}}function N9(r,e){let t=null;for(let n of r){let i=n.style(e);i&&(t=t?t+" "+i:i)}return t}function M9(r,e,t,n=0,i=r.length){let s=new D9(n,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),n,i,"",s.highlighters),s.flush(i)}class D9{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,s){let{type:l,from:c,to:u}=e;if(c>=n||u<=t)return;l.isTop&&(s=this.highlighters.filter(y=>!y.scope||y.scope(l)));let f=i,d=L9(e)||qu.empty,m=N9(s,d.tags);if(m&&(f&&(f+=" "),f+=m,d.mode==1&&(i+=(i?" ":"")+m)),this.startSpan(Math.max(t,c),f),d.opaque)return;let g=e.tree&&e.tree.prop(ht.mounted);if(g&&g.overlay){let y=e.node.enter(g.overlay[0].from+c,1),b=this.highlighters.filter(O=>!O.scope||O.scope(g.tree.type)),w=e.firstChild();for(let O=0,S=c;;O++){let k=O<g.overlay.length?g.overlay[O]:null,E=k?k.from+c:u,A=Math.max(t,S),_=Math.min(n,E);if(A<_&&w)for(;e.from<_&&(this.highlightRange(e,A,_,i,s),this.startSpan(Math.min(_,e.to),f),!(e.to>=E||!e.nextSibling())););if(!k||E>n)break;S=k.to+c,S>t&&(this.highlightRange(y.cursor(),Math.max(t,k.from+c),Math.min(n,S),"",b),this.startSpan(Math.min(n,S),f))}w&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,s),this.startSpan(Math.min(n,e.to),f)}while(e.nextSibling());e.parent()}}}function L9(r){let e=r.type.prop(JR);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const Fe=ms.define,Yf=Fe(),ra=Fe(),wE=Fe(ra),SE=Fe(ra),na=Fe(),Xf=Fe(na),P0=Fe(na),Ni=Fe(),$a=Fe(Ni),Ci=Fe(),Oi=Fe(),D1=Fe(),eu=Fe(D1),Kf=Fe(),ze={comment:Yf,lineComment:Fe(Yf),blockComment:Fe(Yf),docComment:Fe(Yf),name:ra,variableName:Fe(ra),typeName:wE,tagName:Fe(wE),propertyName:SE,attributeName:Fe(SE),className:Fe(ra),labelName:Fe(ra),namespace:Fe(ra),macroName:Fe(ra),literal:na,string:Xf,docString:Fe(Xf),character:Fe(Xf),attributeValue:Fe(Xf),number:P0,integer:Fe(P0),float:Fe(P0),bool:Fe(na),regexp:Fe(na),escape:Fe(na),color:Fe(na),url:Fe(na),keyword:Ci,self:Fe(Ci),null:Fe(Ci),atom:Fe(Ci),unit:Fe(Ci),modifier:Fe(Ci),operatorKeyword:Fe(Ci),controlKeyword:Fe(Ci),definitionKeyword:Fe(Ci),moduleKeyword:Fe(Ci),operator:Oi,derefOperator:Fe(Oi),arithmeticOperator:Fe(Oi),logicOperator:Fe(Oi),bitwiseOperator:Fe(Oi),compareOperator:Fe(Oi),updateOperator:Fe(Oi),definitionOperator:Fe(Oi),typeOperator:Fe(Oi),controlOperator:Fe(Oi),punctuation:D1,separator:Fe(D1),bracket:eu,angleBracket:Fe(eu),squareBracket:Fe(eu),paren:Fe(eu),brace:Fe(eu),content:Ni,heading:$a,heading1:Fe($a),heading2:Fe($a),heading3:Fe($a),heading4:Fe($a),heading5:Fe($a),heading6:Fe($a),contentSeparator:Fe(Ni),list:Fe(Ni),quote:Fe(Ni),emphasis:Fe(Ni),strong:Fe(Ni),link:Fe(Ni),monospace:Fe(Ni),strikethrough:Fe(Ni),inserted:Fe(),deleted:Fe(),changed:Fe(),invalid:Fe(),meta:Kf,documentMeta:Fe(Kf),annotation:Fe(Kf),processingInstruction:Fe(Kf),definition:ms.defineModifier("definition"),constant:ms.defineModifier("constant"),function:ms.defineModifier("function"),standard:ms.defineModifier("standard"),local:ms.defineModifier("local"),special:ms.defineModifier("special")};for(let r in ze){let e=ze[r];e instanceof ms&&(e.name=r)}e3([{tag:ze.link,class:"tok-link"},{tag:ze.heading,class:"tok-heading"},{tag:ze.emphasis,class:"tok-emphasis"},{tag:ze.strong,class:"tok-strong"},{tag:ze.keyword,class:"tok-keyword"},{tag:ze.atom,class:"tok-atom"},{tag:ze.bool,class:"tok-bool"},{tag:ze.url,class:"tok-url"},{tag:ze.labelName,class:"tok-labelName"},{tag:ze.inserted,class:"tok-inserted"},{tag:ze.deleted,class:"tok-deleted"},{tag:ze.literal,class:"tok-literal"},{tag:ze.string,class:"tok-string"},{tag:ze.number,class:"tok-number"},{tag:[ze.regexp,ze.escape,ze.special(ze.string)],class:"tok-string2"},{tag:ze.variableName,class:"tok-variableName"},{tag:ze.local(ze.variableName),class:"tok-variableName tok-local"},{tag:ze.definition(ze.variableName),class:"tok-variableName tok-definition"},{tag:ze.special(ze.variableName),class:"tok-variableName2"},{tag:ze.definition(ze.propertyName),class:"tok-propertyName tok-definition"},{tag:ze.typeName,class:"tok-typeName"},{tag:ze.namespace,class:"tok-namespace"},{tag:ze.className,class:"tok-className"},{tag:ze.macroName,class:"tok-macroName"},{tag:ze.propertyName,class:"tok-propertyName"},{tag:ze.operator,class:"tok-operator"},{tag:ze.comment,class:"tok-comment"},{tag:ze.meta,class:"tok-meta"},{tag:ze.invalid,class:"tok-invalid"},{tag:ze.punctuation,class:"tok-punctuation"}]);var F0;const ko=new ht;function B9(r){return We.define({combine:r?e=>e.concat(r):void 0})}const z9=new ht;class gi{constructor(e,t,n=[],i=""){this.data=e,this.name=i,kt.prototype.hasOwnProperty("tree")||Object.defineProperty(kt.prototype,"tree",{get(){return Gr(this)}}),this.parser=t,this.extension=[va.of(this),kt.languageData.of((s,l,c)=>{let u=kE(s,l,c),f=u.type.prop(ko);if(!f)return[];let d=s.facet(f),m=u.type.prop(z9);if(m){let g=u.resolve(l-u.from,c);for(let y of m)if(y.test(g,s)){let b=s.facet(y.facet);return y.type=="replace"?b:b.concat(d)}}return d})].concat(n)}isActiveAt(e,t,n=-1){return kE(e,t,n).type.prop(ko)==this.data}findRegions(e){let t=e.facet(va);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],i=(s,l)=>{if(s.prop(ko)==this.data){n.push({from:l,to:l+s.length});return}let c=s.prop(ht.mounted);if(c){if(c.tree.prop(ko)==this.data){if(c.overlay)for(let u of c.overlay)n.push({from:u.from+l,to:u.to+l});else n.push({from:l,to:l+s.length});return}else if(c.overlay){let u=n.length;if(i(c.tree,c.overlay[0].from+l),n.length>u)return}}for(let u=0;u<s.children.length;u++){let f=s.children[u];f instanceof wr&&i(f,s.positions[u]+l)}};return i(Gr(e),0),n}get allowsNesting(){return!0}}gi.setState=ot.define();function kE(r,e,t){let n=r.facet(va),i=Gr(r).topNode;if(!n||n.allowsNesting)for(let s=i;s;s=s.enter(e,t,Nr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Xd extends gi{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=B9(e.languageData);return new Xd(t,e.parser.configure({props:[ko.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new Xd(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Gr(r){let e=r.field(gi.state,!1);return e?e.tree:wr.empty}class j9{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let tu=null;class Kd{constructor(e,t,n=[],i,s,l,c,u){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=s,this.viewport=l,this.skipped=c,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Kd(e,t,[],wr.empty,0,n,[],null)}startParse(){return this.parser.startParse(new j9(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=wr.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(ul.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ul.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=tu;tu=this;try{return e()}finally{tu=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=AE(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:s,viewport:l,skipped:c}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((f,d,m,g)=>u.push({fromA:f,toA:d,fromB:m,toB:g})),n=ul.applyChanges(n,u),i=wr.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){c=[];for(let f of this.skipped){let d=e.mapPos(f.from,1),m=e.mapPos(f.to,-1);d<m&&c.push({from:d,to:m})}}}return new Kd(this.parser,t,n,i,s,l,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:s}=this.skipped[n];i<e.to&&s>e.from&&(this.fragments=AE(this.fragments,i,s),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends KR{createParse(t,n,i){let s=i[0].from,l=i[i.length-1].to;return{parsedPos:s,advance(){let u=tu;if(u){for(let f of i)u.tempSkipped.push(f);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=l,new wr(An.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return tu}}function AE(r,e,t){return ul.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class Wo{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Wo(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Kd.create(e.facet(va).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Wo(n)}}gi.state=Wr.define({create:Wo.init,update(r,e){for(let t of e.effects)if(t.is(gi.setState))return t.value;return e.startState.facet(va)!=e.state.facet(va)?Wo.init(e.state):r.apply(e)}});let t3=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(t3=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const I0=typeof navigator<"u"&&(!((F0=navigator.scheduling)===null||F0===void 0)&&F0.isInputPending)?()=>navigator.scheduling.isInputPending():null,P9=Sr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(gi.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(gi.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=t3(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,s=n.field(gi.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!I0?Math.max(25,e.timeRemaining()-5):1e9),c=s.context.treeLen<i&&n.doc.length>i+1e3,u=s.context.work(()=>I0&&I0()||Date.now()>l,i+(c?0:1e5));this.chunkBudget-=Date.now()-t,(u||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:gi.setState.of(new Wo(s.context))})),this.chunkBudget>0&&!(u&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>xn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),va=We.define({combine(r){return r.length?r[0]:null},enables:r=>[gi.state,P9,He.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class F9{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const I9=We.define(),Gb=We.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function Zd(r){let e=r.facet(Gb);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function Wu(r,e){let t="",n=r.tabSize,i=r.facet(Gb)[0];if(i=="	"){for(;e>=n;)t+="	",e-=n;i=" "}for(let s=0;s<e;s++)t+=i;return t}function Qb(r,e){r instanceof kt&&(r=new Bp(r));for(let n of r.state.facet(I9)){let i=n(r,e);if(i!==void 0)return i}let t=Gr(r.state);return t.length>=e?U9(r,t,e):null}class Bp{constructor(e,t={}){this.state=e,this.options=t,this.unit=Zd(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=n.from&&i<=n.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,t);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.countColumn(n,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(s+=l-this.countColumn(n,n.search(/\S|$/))),s}countColumn(e,t=e.length){return tc(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let l=s(i);if(l>-1)return l}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const r3=new ht;function U9(r,e,t){let n=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=n.node){let s=[];for(let l=i;l&&!(l.from<n.node.from||l.to>n.node.to||l.from==n.node.from&&l.type==n.node.type);l=l.parent)s.push(l);for(let l=s.length-1;l>=0;l--)n={node:s[l],next:n}}return n3(n,r,t)}function n3(r,e,t){for(let n=r;n;n=n.next){let i=q9(n.node);if(i)return i(Yb.create(e,t,n))}return 0}function H9(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function q9(r){let e=r.type.prop(r3);if(e)return e;let t=r.firstChild,n;if(t&&(n=t.type.prop(ht.closedBy))){let i=r.lastChild,s=i&&n.indexOf(i.name)>-1;return l=>i3(l,!0,1,void 0,s&&!H9(l)?i.from:void 0)}return r.parent==null?W9:null}function W9(){return 0}class Yb extends Bp{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new Yb(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(V9(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return n3(this.context.next,this.base,this.pos)}}function V9(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function $9(r){let e=r.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let i=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),l=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let c=t.to;;){let u=e.childAfter(c);if(!u||u==n)return null;if(!u.type.isSkipped){if(u.from>=l)return null;let f=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+f}}c=u.to}}function EE({closing:r,align:e=!0,units:t=1}){return n=>i3(n,e,t,r)}function i3(r,e,t,n,i){let s=r.textAfter,l=s.match(/^\s*/)[0].length,c=n&&s.slice(l,l+n.length)==n||i==r.pos+l,u=e?$9(r):null;return u?c?r.column(u.from):r.column(u.to):r.baseIndent+(c?0:r.unit*t)}const G9=200;function Q9(){return kt.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:n}=r.newSelection.main,i=t.lineAt(n);if(n>i.from+G9)return r;let s=t.sliceString(i.from,n);if(!e.some(f=>f.test(s)))return r;let{state:l}=r,c=-1,u=[];for(let{head:f}of l.selection.ranges){let d=l.doc.lineAt(f);if(d.from==c)continue;c=d.from;let m=Qb(l,d.from);if(m==null)continue;let g=/^\s*/.exec(d.text)[0],y=Wu(l,m);g!=y&&u.push({from:d.from,to:d.from+g.length,insert:y})}return u.length?[r,{changes:u,sequential:!0}]:r})}const Y9=We.define(),s3=new ht;function X9(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}function K9(r,e,t){let n=Gr(r);if(n.length<t)return null;let i=n.resolveStack(t,1),s=null;for(let l=i;l;l=l.next){let c=l.node;if(c.to<=t||c.from>t)continue;if(s&&c.from<e)break;let u=c.type.prop(s3);if(u&&(c.to<n.length-50||n.length==r.doc.length||!Z9(c))){let f=u(c,r);f&&f.from<=t&&f.from>=e&&f.to>t&&(s=f)}}return s}function Z9(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function Jd(r,e,t){for(let n of r.facet(Y9)){let i=n(r,e,t);if(i)return i}return K9(r,e,t)}function a3(r,e){let t=e.mapPos(r.from,1),n=e.mapPos(r.to,-1);return t>=n?void 0:{from:t,to:n}}const zp=ot.define({map:a3}),ch=ot.define({map:a3});function l3(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(r.lineBlockAt(t));return e}const yl=Wr.define({create(){return it.none},update(r,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,n)=>r=TE(r,t,n)),r=r.map(e.changes);for(let t of e.effects)if(t.is(zp)&&!J9(r,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(u3),i=n?it.replace({widget:new aP(n(e.state,t.value))}):CE;r=r.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(ch)&&(r=r.update({filter:(n,i)=>t.value.from!=n||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(r=TE(r,e.selection.main.head)),r},provide:r=>He.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(n,i)=>{t.push(n,i)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let n=r[t++],i=r[t++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(CE.range(n,i))}return it.set(e,!0)}});function TE(r,e,t=e){let n=!1;return r.between(e,t,(i,s)=>{i<t&&s>e&&(n=!0)}),n?r.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):r}function ep(r,e,t){var n;let i=null;return(n=r.field(yl,!1))===null||n===void 0||n.between(e,t,(s,l)=>{(!i||i.from>s)&&(i={from:s,to:l})}),i}function J9(r,e,t){let n=!1;return r.between(e,e,(i,s)=>{i==e&&s==t&&(n=!0)}),n}function o3(r,e){return r.field(yl,!1)?e:e.concat(ot.appendConfig.of(h3()))}const eP=r=>{for(let e of l3(r)){let t=Jd(r.state,e.from,e.to);if(t)return r.dispatch({effects:o3(r.state,[zp.of(t),c3(r,t)])}),!0}return!1},tP=r=>{if(!r.state.field(yl,!1))return!1;let e=[];for(let t of l3(r)){let n=ep(r.state,t.from,t.to);n&&e.push(ch.of(n),c3(r,n,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function c3(r,e,t=!0){let n=r.state.doc.lineAt(e.from).number,i=r.state.doc.lineAt(e.to).number;return He.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${r.state.phrase("to")} ${i}.`)}const rP=r=>{let{state:e}=r,t=[];for(let n=0;n<e.doc.length;){let i=r.lineBlockAt(n),s=Jd(e,i.from,i.to);s&&t.push(zp.of(s)),n=(s?r.lineBlockAt(s.to):i).to+1}return t.length&&r.dispatch({effects:o3(r.state,t)}),!!t.length},nP=r=>{let e=r.state.field(yl,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(n,i)=>{t.push(ch.of({from:n,to:i}))}),r.dispatch({effects:t}),!0},iP=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:eP},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:tP},{key:"Ctrl-Alt-[",run:rP},{key:"Ctrl-Alt-]",run:nP}],sP={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},u3=We.define({combine(r){return $i(r,sP)}});function h3(r){return[yl,cP]}function f3(r,e){let{state:t}=r,n=t.facet(u3),i=l=>{let c=r.lineBlockAt(r.posAtDOM(l.target)),u=ep(r.state,c.from,c.to);u&&r.dispatch({effects:ch.of(u)}),l.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(r,i,e);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const CE=it.replace({widget:new class extends Os{toDOM(r){return f3(r,null)}}});class aP extends Os{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return f3(e,this.value)}}const lP={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class U0 extends ks{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function oP(r={}){let e={...lP,...r},t=new U0(e,!0),n=new U0(e,!1),i=Sr.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(va)!=l.state.facet(va)||l.startState.field(yl,!1)!=l.state.field(yl,!1)||Gr(l.startState)!=Gr(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let c=new ws;for(let u of l.viewportLineBlocks){let f=ep(l.state,u.from,u.to)?n:Jd(l.state,u.from,u.to)?t:null;f&&c.add(u.from,u.from,f)}return c.finish()}}),{domEventHandlers:s}=e;return[i,c9({class:"cm-foldGutter",markers(l){var c;return((c=l.plugin(i))===null||c===void 0?void 0:c.markers)||vt.empty},initialSpacer(){return new U0(e,!1)},domEventHandlers:{...s,click:(l,c,u)=>{if(s.click&&s.click(l,c,u))return!0;let f=ep(l.state,c.from,c.to);if(f)return l.dispatch({effects:ch.of(f)}),!0;let d=Jd(l.state,c.from,c.to);return d?(l.dispatch({effects:zp.of(d)}),!0):!1}}}),h3()]}const cP=He.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class jp{constructor(e,t){this.specs=e;let n;function i(c){let u=pa.newName();return(n||(n=Object.create(null)))["."+u]=c,u}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,l=t.scope;this.scope=l instanceof gi?c=>c.prop(ko)==l.data:l?c=>c==l:void 0,this.style=e3(e.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:s}).style,this.module=n?new pa(n):null,this.themeType=t.themeType}static define(e,t){return new jp(e,t||{})}}const L1=We.define(),d3=We.define({combine(r){return r.length?[r[0]]:null}});function H0(r){let e=r.facet(L1);return e.length?e:r.facet(d3)}function uP(r,e){let t=[fP],n;return r instanceof jp&&(r.module&&t.push(He.styleModule.of(r.module)),n=r.themeType),e?.fallback?t.push(d3.of(r)):n?t.push(L1.computeN([He.darkTheme],i=>i.facet(He.darkTheme)==(n=="dark")?[r]:[])):t.push(L1.of(r)),t}class hP{constructor(e){this.markCache=Object.create(null),this.tree=Gr(e.state),this.decorations=this.buildDeco(e,H0(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Gr(e.state),n=H0(e.state),i=n!=H0(e.startState),{viewport:s}=e.view,l=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return it.none;let n=new ws;for(let{from:i,to:s}of e.visibleRanges)M9(this.tree,t,(l,c,u)=>{n.add(l,c,this.markCache[u]||(this.markCache[u]=it.mark({class:u})))},i,s);return n.finish()}}const fP=wl.high(Sr.fromClass(hP,{decorations:r=>r.decorations})),dP=jp.define([{tag:ze.meta,color:"#404740"},{tag:ze.link,textDecoration:"underline"},{tag:ze.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ze.emphasis,fontStyle:"italic"},{tag:ze.strong,fontWeight:"bold"},{tag:ze.strikethrough,textDecoration:"line-through"},{tag:ze.keyword,color:"#708"},{tag:[ze.atom,ze.bool,ze.url,ze.contentSeparator,ze.labelName],color:"#219"},{tag:[ze.literal,ze.inserted],color:"#164"},{tag:[ze.string,ze.deleted],color:"#a11"},{tag:[ze.regexp,ze.escape,ze.special(ze.string)],color:"#e40"},{tag:ze.definition(ze.variableName),color:"#00f"},{tag:ze.local(ze.variableName),color:"#30a"},{tag:[ze.typeName,ze.namespace],color:"#085"},{tag:ze.className,color:"#167"},{tag:[ze.special(ze.variableName),ze.macroName],color:"#256"},{tag:ze.definition(ze.propertyName),color:"#00c"},{tag:ze.comment,color:"#940"},{tag:ze.invalid,color:"#f00"}]),pP=He.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),p3=1e4,m3="()[]{}",g3=We.define({combine(r){return $i(r,{afterCursor:!0,brackets:m3,maxScanDistance:p3,renderMatch:yP})}}),mP=it.mark({class:"cm-matchingBracket"}),gP=it.mark({class:"cm-nonmatchingBracket"});function yP(r){let e=[],t=r.matched?mP:gP;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const vP=Wr.define({create(){return it.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],n=e.state.facet(g3);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=ji(e.state,i.head,-1,n)||i.head>0&&ji(e.state,i.head-1,1,n)||n.afterCursor&&(ji(e.state,i.head,1,n)||i.head<e.state.doc.length&&ji(e.state,i.head+1,-1,n));s&&(t=t.concat(n.renderMatch(s,e.state)))}return it.set(t,!0)},provide:r=>He.decorations.from(r)}),bP=[vP,pP];function xP(r={}){return[g3.of(r),bP]}const wP=new ht;function B1(r,e,t){let n=r.prop(e<0?ht.openedBy:ht.closedBy);if(n)return n;if(r.name.length==1){let i=t.indexOf(r.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function z1(r){let e=r.type.prop(wP);return e?e(r.node):r}function ji(r,e,t,n={}){let i=n.maxScanDistance||p3,s=n.brackets||m3,l=Gr(r),c=l.resolveInner(e,t);for(let u=c;u;u=u.parent){let f=B1(u.type,t,s);if(f&&u.from<u.to){let d=z1(u);if(d&&(t>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return SP(r,e,t,u,d,f,s)}}return kP(r,e,t,l,c.type,i,s)}function SP(r,e,t,n,i,s,l){let c=n.parent,u={from:i.from,to:i.to},f=0,d=c?.cursor();if(d&&(t<0?d.childBefore(n.from):d.childAfter(n.to)))do if(t<0?d.to<=n.from:d.from>=n.to){if(f==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let m=z1(d);return{start:u,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(B1(d.type,t,l))f++;else if(B1(d.type,-t,l)){if(f==0){let m=z1(d);return{start:u,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}f--}}while(t<0?d.prevSibling():d.nextSibling());return{start:u,matched:!1}}function kP(r,e,t,n,i,s,l){let c=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),u=l.indexOf(c);if(u<0||u%2==0!=t>0)return null;let f={from:t<0?e-1:e,to:t>0?e+1:e},d=r.doc.iterRange(e,t>0?r.doc.length:0),m=0;for(let g=0;!d.next().done&&g<=s;){let y=d.value;t<0&&(g+=y.length);let b=e+g*t;for(let w=t>0?0:y.length-1,O=t>0?y.length:-1;w!=O;w+=t){let S=l.indexOf(y[w]);if(!(S<0||n.resolveInner(b+w,1).type!=i))if(S%2==0==t>0)m++;else{if(m==1)return{start:f,end:{from:b+w,to:b+w+1},matched:S>>1==u>>1};m--}}t>0&&(g+=y.length)}return d.done?{start:f,matched:!1}:null}const AP=Object.create(null),OE=[An.none],_E=[],RE=Object.create(null),EP=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])EP[r]=TP(AP,e);function q0(r,e){_E.indexOf(r)>-1||(_E.push(r),console.warn(e))}function TP(r,e){let t=[];for(let c of e.split(" ")){let u=[];for(let f of c.split(".")){let d=r[f]||ze[f];d?typeof d=="function"?u.length?u=u.map(d):q0(f,`Modifier ${f} used at start of tag`):u.length?q0(f,`Tag ${f} used as modifier`):u=Array.isArray(d)?d:[d]:q0(f,`Unknown highlighting tag ${f}`)}for(let f of u)t.push(f)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+t.map(c=>c.id),s=RE[i];if(s)return s.id;let l=RE[i]=An.define({id:OE.length,name:n,props:[ZR({[n]:t})]});return OE.push(l),l.id}Yt.RTL,Yt.LTR;const CP=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),n=Kb(r.state,t.from);return n.line?OP(r):n.block?RP(r):!1};function Xb(r,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=r(e,t);return i?(n(t.update(i)),!0):!1}}const OP=Xb(DP,0),_P=Xb(y3,0),RP=Xb((r,e)=>y3(r,e,MP(e)),0);function Kb(r,e){let t=r.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const ru=50;function NP(r,{open:e,close:t},n,i){let s=r.sliceDoc(n-ru,n),l=r.sliceDoc(i,i+ru),c=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(l)[0].length,f=s.length-c;if(s.slice(f-e.length,f)==e&&l.slice(u,u+t.length)==t)return{open:{pos:n-c,margin:c&&1},close:{pos:i+u,margin:u&&1}};let d,m;i-n<=2*ru?d=m=r.sliceDoc(n,i):(d=r.sliceDoc(n,n+ru),m=r.sliceDoc(i-ru,i));let g=/^\s*/.exec(d)[0].length,y=/\s*$/.exec(m)[0].length,b=m.length-y-t.length;return d.slice(g,g+e.length)==e&&m.slice(b,b+t.length)==t?{open:{pos:n+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:i-y-t.length,margin:/\s/.test(m.charAt(b-1))?1:0}}:null}function MP(r){let e=[];for(let t of r.selection.ranges){let n=r.doc.lineAt(t.from),i=t.to<=n.to?n:r.doc.lineAt(t.to);i.from>n.from&&i.from==t.to&&(i=t.to==n.to+1?n:r.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function y3(r,e,t=e.selection.ranges){let n=t.map(s=>Kb(e,s.from).block);if(!n.every(s=>s))return null;let i=t.map((s,l)=>NP(e,n[l],s.from,s.to));if(r!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,l)=>i[l]?[]:[{from:s.from,insert:n[l].open+" "},{from:s.to,insert:" "+n[l].close}]))};if(r!=1&&i.some(s=>s)){let s=[];for(let l=0,c;l<i.length;l++)if(c=i[l]){let u=n[l],{open:f,close:d}=c;s.push({from:f.pos-u.open.length,to:f.pos+f.margin},{from:d.pos-d.margin,to:d.pos+u.close.length})}return{changes:s}}return null}function DP(r,e,t=e.selection.ranges){let n=[],i=-1;for(let{from:s,to:l}of t){let c=n.length,u=1e9,f=Kb(e,s).line;if(f){for(let d=s;d<=l;){let m=e.doc.lineAt(d);if(m.from>i&&(s==l||l>m.from)){i=m.from;let g=/^\s*/.exec(m.text)[0].length,y=g==m.length,b=m.text.slice(g,g+f.length)==f?g:-1;g<m.text.length&&g<u&&(u=g),n.push({line:m,comment:b,token:f,indent:g,empty:y,single:!1})}d=m.to+1}if(u<1e9)for(let d=c;d<n.length;d++)n[d].indent<n[d].line.text.length&&(n[d].indent=u);n.length==c+1&&(n[c].single=!0)}}if(r!=2&&n.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:c,token:u,indent:f,empty:d,single:m}of n)(m||!d)&&s.push({from:c.from+f,insert:u+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(r!=1&&n.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:c,token:u}of n)if(c>=0){let f=l.from+c,d=f+u.length;l.text[d-l.from]==" "&&d++,s.push({from:f,to:d})}return{changes:s}}return null}const j1=Cs.define(),LP=Cs.define(),BP=We.define(),v3=We.define({combine(r){return $i(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,i)=>e(n,i)||t(n,i)})}}),b3=Wr.define({create(){return Pi.empty},update(r,e){let t=e.state.facet(v3),n=e.annotation(j1);if(n){let u=wn.fromTransaction(e,n.selection),f=n.side,d=f==0?r.undone:r.done;return u?d=tp(d,d.length,t.minDepth,u):d=S3(d,e.startState.selection),new Pi(f==0?n.rest:d,f==0?d:n.rest)}let i=e.annotation(LP);if((i=="full"||i=="before")&&(r=r.isolate()),e.annotation(Cr.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=wn.fromTransaction(e),l=e.annotation(Cr.time),c=e.annotation(Cr.userEvent);return s?r=r.addChanges(s,l,c,t,e):e.selection&&(r=r.addSelection(e.startState.selection,l,c,t.newGroupDelay)),(i=="full"||i=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new Pi(r.done.map(wn.fromJSON),r.undone.map(wn.fromJSON))}});function zP(r={}){return[b3,v3.of(r),He.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?x3:e.inputType=="historyRedo"?P1:null;return n?(e.preventDefault(),n(t)):!1}})]}function Pp(r,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let i=t.field(b3,!1);if(!i)return!1;let s=i.pop(r,t,e);return s?(n(s),!0):!1}}const x3=Pp(0,!1),P1=Pp(1,!1),jP=Pp(0,!0),PP=Pp(1,!0);class wn{constructor(e,t,n,i,s){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new wn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new wn(e.changes&&Ar.fromJSON(e.changes),[],e.mapped&&Ui.fromJSON(e.mapped),e.startSelection&&Me.fromJSON(e.startSelection),e.selectionsAfter.map(Me.fromJSON))}static fromTransaction(e,t){let n=ei;for(let i of e.startState.facet(BP)){let s=i(e);s.length&&(n=n.concat(s))}return!n.length&&e.changes.empty?null:new wn(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,ei)}static selection(e){return new wn(void 0,ei,void 0,void 0,e)}}function tp(r,e,t,n){let i=e+1>t+20?e-t-1:0,s=r.slice(i,e);return s.push(n),s}function FP(r,e){let t=[],n=!1;return r.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,l,c)=>{for(let u=0;u<t.length;){let f=t[u++],d=t[u++];c>=f&&l<=d&&(n=!0)}}),n}function IP(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function w3(r,e){return r.length?e.length?r.concat(e):r:e}const ei=[],UP=200;function S3(r,e){if(r.length){let t=r[r.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-UP));return n.length&&n[n.length-1].eq(e)?r:(n.push(e),tp(r,r.length-1,1e9,t.setSelAfter(n)))}else return[wn.selection([e])]}function HP(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function W0(r,e){if(!r.length)return r;let t=r.length,n=ei;for(;t;){let i=qP(r[t-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let s=r.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,n=i.selectionsAfter}return n.length?[wn.selection(n)]:ei}function qP(r,e,t){let n=w3(r.selectionsAfter.length?r.selectionsAfter.map(c=>c.map(e)):ei,t);if(!r.changes)return wn.selection(n);let i=r.changes.map(e),s=e.mapDesc(r.changes,!0),l=r.mapped?r.mapped.composeDesc(s):s;return new wn(i,ot.mapEffects(r.effects,e),l,r.startSelection.map(s),n)}const WP=/^(input\.type|delete)($|\.)/;class Pi{constructor(e,t,n=0,i=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new Pi(this.done,this.undone):this}addChanges(e,t,n,i,s){let l=this.done,c=l[l.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!n||WP.test(n))&&(!c.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,FP(c.changes,e.changes))||n=="input.type.compose")?l=tp(l,l.length-1,i.minDepth,new wn(e.changes.compose(c.changes),w3(ot.mapEffects(e.effects,c.changes),c.effects),c.mapped,c.startSelection,ei)):l=tp(l,l.length,i.minDepth,e),new Pi(l,ei,t,n)}addSelection(e,t,n,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:ei;return s.length>0&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&IP(s[s.length-1],e)?this:new Pi(S3(this.done,e),this.undone,t,n)}addMapping(e){return new Pi(W0(this.done,e),W0(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],l=s.selectionsAfter[0]||t.selection;if(n&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:j1.of({side:e,rest:HP(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let c=i.length==1?ei:i.slice(0,i.length-1);return s.mapped&&(c=W0(c,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:j1.of({side:e,rest:c,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Pi.empty=new Pi(ei,ei);const VP=[{key:"Mod-z",run:x3,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:P1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:P1,preventDefault:!0},{key:"Mod-u",run:jP,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:PP,preventDefault:!0}];function rc(r,e){return Me.create(r.ranges.map(e),r.mainIndex)}function bi(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function xi({state:r,dispatch:e},t){let n=rc(r.selection,t);return n.eq(r.selection,!0)?!1:(e(bi(r,n)),!0)}function Fp(r,e){return Me.cursor(e?r.to:r.from)}function k3(r,e){return xi(r,t=>t.empty?r.moveByChar(t,e):Fp(t,e))}function Yr(r){return r.textDirectionAt(r.state.selection.main.head)==Yt.LTR}const A3=r=>k3(r,!Yr(r)),E3=r=>k3(r,Yr(r));function T3(r,e){return xi(r,t=>t.empty?r.moveByGroup(t,e):Fp(t,e))}const $P=r=>T3(r,!Yr(r)),GP=r=>T3(r,Yr(r));function QP(r,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function Ip(r,e,t){let n=Gr(r).resolveInner(e.head),i=t?ht.closedBy:ht.openedBy;for(let u=e.head;;){let f=t?n.childAfter(u):n.childBefore(u);if(!f)break;QP(r,f,i)?n=f:u=t?f.to:f.from}let s=n.type.prop(i),l,c;return s&&(l=t?ji(r,n.from,1):ji(r,n.to,-1))&&l.matched?c=t?l.end.to:l.end.from:c=t?n.to:n.from,Me.cursor(c,t?-1:1)}const YP=r=>xi(r,e=>Ip(r.state,e,!Yr(r))),XP=r=>xi(r,e=>Ip(r.state,e,Yr(r)));function C3(r,e){return xi(r,t=>{if(!t.empty)return Fp(t,e);let n=r.moveVertically(t,e);return n.head!=t.head?n:r.moveToLineBoundary(t,e)})}const O3=r=>C3(r,!1),_3=r=>C3(r,!0);function R3(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,n=0,i;if(e){for(let s of r.state.facet(He.scrollMargins)){let l=s(r);l?.top&&(t=Math.max(l?.top,t)),l?.bottom&&(n=Math.max(l?.bottom,n))}i=r.scrollDOM.clientHeight-t-n}else i=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(r.defaultLineHeight,i-5)}}function N3(r,e){let t=R3(r),{state:n}=r,i=rc(n.selection,l=>l.empty?r.moveVertically(l,e,t.height):Fp(l,e));if(i.eq(n.selection))return!1;let s;if(t.selfScroll){let l=r.coordsAtPos(n.selection.main.head),c=r.scrollDOM.getBoundingClientRect(),u=c.top+t.marginTop,f=c.bottom-t.marginBottom;l&&l.top>u&&l.bottom<f&&(s=He.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-u}))}return r.dispatch(bi(n,i),{effects:s}),!0}const NE=r=>N3(r,!1),F1=r=>N3(r,!0);function wa(r,e,t){let n=r.lineBlockAt(e.head),i=r.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?n.to:n.from)&&(i=r.moveToLineBoundary(e,t,!1)),!t&&i.head==n.from&&n.length){let s=/^\s*/.exec(r.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;s&&e.head!=n.from+s&&(i=Me.cursor(n.from+s))}return i}const KP=r=>xi(r,e=>wa(r,e,!0)),ZP=r=>xi(r,e=>wa(r,e,!1)),JP=r=>xi(r,e=>wa(r,e,!Yr(r))),e7=r=>xi(r,e=>wa(r,e,Yr(r))),t7=r=>xi(r,e=>Me.cursor(r.lineBlockAt(e.head).from,1)),r7=r=>xi(r,e=>Me.cursor(r.lineBlockAt(e.head).to,-1));function n7(r,e,t){let n=!1,i=rc(r.selection,s=>{let l=ji(r,s.head,-1)||ji(r,s.head,1)||s.head>0&&ji(r,s.head-1,1)||s.head<r.doc.length&&ji(r,s.head+1,-1);if(!l||!l.end)return s;n=!0;let c=l.start.from==s.head?l.end.to:l.end.from;return Me.cursor(c)});return n?(e(bi(r,i)),!0):!1}const i7=({state:r,dispatch:e})=>n7(r,e);function ii(r,e){let t=rc(r.state.selection,n=>{let i=e(n);return Me.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(bi(r.state,t)),!0)}function M3(r,e){return ii(r,t=>r.moveByChar(t,e))}const D3=r=>M3(r,!Yr(r)),L3=r=>M3(r,Yr(r));function B3(r,e){return ii(r,t=>r.moveByGroup(t,e))}const s7=r=>B3(r,!Yr(r)),a7=r=>B3(r,Yr(r)),l7=r=>ii(r,e=>Ip(r.state,e,!Yr(r))),o7=r=>ii(r,e=>Ip(r.state,e,Yr(r)));function z3(r,e){return ii(r,t=>r.moveVertically(t,e))}const j3=r=>z3(r,!1),P3=r=>z3(r,!0);function F3(r,e){return ii(r,t=>r.moveVertically(t,e,R3(r).height))}const ME=r=>F3(r,!1),DE=r=>F3(r,!0),c7=r=>ii(r,e=>wa(r,e,!0)),u7=r=>ii(r,e=>wa(r,e,!1)),h7=r=>ii(r,e=>wa(r,e,!Yr(r))),f7=r=>ii(r,e=>wa(r,e,Yr(r))),d7=r=>ii(r,e=>Me.cursor(r.lineBlockAt(e.head).from)),p7=r=>ii(r,e=>Me.cursor(r.lineBlockAt(e.head).to)),LE=({state:r,dispatch:e})=>(e(bi(r,{anchor:0})),!0),BE=({state:r,dispatch:e})=>(e(bi(r,{anchor:r.doc.length})),!0),zE=({state:r,dispatch:e})=>(e(bi(r,{anchor:r.selection.main.anchor,head:0})),!0),jE=({state:r,dispatch:e})=>(e(bi(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),m7=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),g7=({state:r,dispatch:e})=>{let t=Up(r).map(({from:n,to:i})=>Me.range(n,Math.min(i+1,r.doc.length)));return e(r.update({selection:Me.create(t),userEvent:"select"})),!0},y7=({state:r,dispatch:e})=>{let t=rc(r.selection,n=>{let i=Gr(r),s=i.resolveStack(n.from,1);if(n.empty){let l=i.resolveStack(n.from,-1);l.node.from>=s.node.from&&l.node.to<=s.node.to&&(s=l)}for(let l=s;l;l=l.next){let{node:c}=l;if((c.from<n.from&&c.to>=n.to||c.to>n.to&&c.from<=n.from)&&l.next)return Me.range(c.to,c.from)}return n});return t.eq(r.selection)?!1:(e(bi(r,t)),!0)};function I3(r,e){let{state:t}=r,n=t.selection,i=t.selection.ranges.slice();for(let s of t.selection.ranges){let l=t.doc.lineAt(s.head);if(e?l.to<r.state.doc.length:l.from>0)for(let c=s;;){let u=r.moveVertically(c,e);if(u.head<l.from||u.head>l.to){i.some(f=>f.head==u.head)||i.push(u);break}else{if(u.head==c.head)break;c=u}}}return i.length==n.ranges.length?!1:(r.dispatch(bi(t,Me.create(i,i.length-1))),!0)}const v7=r=>I3(r,!1),b7=r=>I3(r,!0),x7=({state:r,dispatch:e})=>{let t=r.selection,n=null;return t.ranges.length>1?n=Me.create([t.main]):t.main.empty||(n=Me.create([Me.cursor(t.main.head)])),n?(e(bi(r,n)),!0):!1};function uh(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:n}=r,i=n.changeByRange(s=>{let{from:l,to:c}=s;if(l==c){let u=e(s);u<l?(t="delete.backward",u=Zf(r,u,!1)):u>l&&(t="delete.forward",u=Zf(r,u,!0)),l=Math.min(l,u),c=Math.max(c,u)}else l=Zf(r,l,!1),c=Zf(r,c,!0);return l==c?{range:s}:{changes:{from:l,to:c},range:Me.cursor(l,l<s.head?-1:1)}});return i.changes.empty?!1:(r.dispatch(n.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?He.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Zf(r,e,t){if(r instanceof He)for(let n of r.state.facet(He.atomicRanges).map(i=>i(r)))n.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const U3=(r,e,t)=>uh(r,n=>{let i=n.from,{state:s}=r,l=s.doc.lineAt(i),c,u;if(t&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,i-l.from))){if(c[c.length-1]=="	")return i-1;let f=tc(c,s.tabSize),d=f%Zd(s)||Zd(s);for(let m=0;m<d&&c[c.length-1-m]==" ";m++)i--;u=i}else u=Tr(l.text,i-l.from,e,e)+l.from,u==i&&l.number!=(e?s.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,i-l.from))&&(u=Tr(l.text,u-l.from,!1,!1)+l.from);return u}),I1=r=>U3(r,!1,!0),H3=r=>U3(r,!0,!1),q3=(r,e)=>uh(r,t=>{let n=t.head,{state:i}=r,s=i.doc.lineAt(n),l=i.charCategorizer(n);for(let c=null;;){if(n==(e?s.to:s.from)){n==t.head&&s.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let u=Tr(s.text,n-s.from,e)+s.from,f=s.text.slice(Math.min(n,u)-s.from,Math.max(n,u)-s.from),d=l(f);if(c!=null&&d!=c)break;(f!=" "||n!=t.head)&&(c=d),n=u}return n}),W3=r=>q3(r,!1),w7=r=>q3(r,!0),S7=r=>uh(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),k7=r=>uh(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),A7=r=>uh(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),E7=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Dt.of(["",""])},range:Me.cursor(n.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},T7=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>{if(!n.empty||n.from==0||n.from==r.doc.length)return{range:n};let i=n.from,s=r.doc.lineAt(i),l=i==s.from?i-1:Tr(s.text,i-s.from,!1)+s.from,c=i==s.to?i+1:Tr(s.text,i-s.from,!0)+s.from;return{changes:{from:l,to:c,insert:r.doc.slice(i,c).append(r.doc.slice(l,i))},range:Me.cursor(c)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Up(r){let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.from),s=r.doc.lineAt(n.to);if(!n.empty&&n.to==s.from&&(s=r.doc.lineAt(n.to-1)),t>=i.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(n)}else e.push({from:i.from,to:s.to,ranges:[n]});t=s.number+1}return e}function V3(r,e,t){if(r.readOnly)return!1;let n=[],i=[];for(let s of Up(r)){if(t?s.to==r.doc.length:s.from==0)continue;let l=r.doc.lineAt(t?s.to+1:s.from-1),c=l.length+1;if(t){n.push({from:s.to,to:l.to},{from:s.from,insert:l.text+r.lineBreak});for(let u of s.ranges)i.push(Me.range(Math.min(r.doc.length,u.anchor+c),Math.min(r.doc.length,u.head+c)))}else{n.push({from:l.from,to:s.from},{from:s.to,insert:r.lineBreak+l.text});for(let u of s.ranges)i.push(Me.range(u.anchor-c,u.head-c))}}return n.length?(e(r.update({changes:n,scrollIntoView:!0,selection:Me.create(i,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const C7=({state:r,dispatch:e})=>V3(r,e,!1),O7=({state:r,dispatch:e})=>V3(r,e,!0);function $3(r,e,t){if(r.readOnly)return!1;let n=[];for(let i of Up(r))t?n.push({from:i.from,insert:r.doc.slice(i.from,i.to)+r.lineBreak}):n.push({from:i.to,insert:r.lineBreak+r.doc.slice(i.from,i.to)});return e(r.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const _7=({state:r,dispatch:e})=>$3(r,e,!1),R7=({state:r,dispatch:e})=>$3(r,e,!0),N7=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(Up(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),n=rc(e.selection,i=>{let s;if(r.lineWrapping){let l=r.lineBlockAt(i.head),c=r.coordsAtPos(i.head,i.assoc||1);c&&(s=l.bottom+r.documentTop-c.bottom+r.defaultLineHeight/2)}return r.moveVertically(i,!0,s)}).map(t);return r.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function M7(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Gr(r).resolveInner(e),n=t.childBefore(e),i=t.childAfter(e),s;return n&&i&&n.to<=e&&i.from>=e&&(s=n.type.prop(ht.closedBy))&&s.indexOf(i.name)>-1&&r.doc.lineAt(n.to).from==r.doc.lineAt(i.from).from&&!/\S/.test(r.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}const PE=G3(!1),D7=G3(!0);function G3(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:s,to:l}=i,c=e.doc.lineAt(s),u=!r&&s==l&&M7(e,s);r&&(s=l=(l<=c.to?c:e.doc.lineAt(l)).to);let f=new Bp(e,{simulateBreak:s,simulateDoubleBreak:!!u}),d=Qb(f,s);for(d==null&&(d=tc(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));l<c.to&&/\s/.test(c.text[l-c.from]);)l++;u?{from:s,to:l}=u:s>c.from&&s<c.from+100&&!/\S/.test(c.text.slice(0,s))&&(s=c.from);let m=["",Wu(e,d)];return u&&m.push(Wu(e,f.lineIndent(c.from,-1))),{changes:{from:s,to:l,insert:Dt.of(m)},range:Me.cursor(s+1+m[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function Zb(r,e){let t=-1;return r.changeByRange(n=>{let i=[];for(let l=n.from;l<=n.to;){let c=r.doc.lineAt(l);c.number>t&&(n.empty||n.to>c.from)&&(e(c,i,n),t=c.number),l=c.to+1}let s=r.changes(i);return{changes:i,range:Me.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const L7=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),n=new Bp(r,{overrideIndentation:s=>{let l=t[s];return l??-1}}),i=Zb(r,(s,l,c)=>{let u=Qb(n,s.from);if(u==null)return;/\S/.test(s.text)||(u=0);let f=/^\s*/.exec(s.text)[0],d=Wu(r,u);(f!=d||c.from<s.from+f.length)&&(t[s.from]=u,l.push({from:s.from,to:s.from+f.length,insert:d}))});return i.changes.empty||e(r.update(i,{userEvent:"indent"})),!0},B7=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Zb(r,(t,n)=>{n.push({from:t.from,insert:r.facet(Gb)})}),{userEvent:"input.indent"})),!0),z7=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Zb(r,(t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=tc(i,r.tabSize),l=0,c=Wu(r,Math.max(0,s-Zd(r)));for(;l<i.length&&l<c.length&&i.charCodeAt(l)==c.charCodeAt(l);)l++;n.push({from:t.from+l,to:t.from+i.length,insert:c.slice(l)})}),{userEvent:"delete.dedent"})),!0),j7=r=>(r.setTabFocusMode(),!0),P7=[{key:"Ctrl-b",run:A3,shift:D3,preventDefault:!0},{key:"Ctrl-f",run:E3,shift:L3},{key:"Ctrl-p",run:O3,shift:j3},{key:"Ctrl-n",run:_3,shift:P3},{key:"Ctrl-a",run:t7,shift:d7},{key:"Ctrl-e",run:r7,shift:p7},{key:"Ctrl-d",run:H3},{key:"Ctrl-h",run:I1},{key:"Ctrl-k",run:S7},{key:"Ctrl-Alt-h",run:W3},{key:"Ctrl-o",run:E7},{key:"Ctrl-t",run:T7},{key:"Ctrl-v",run:F1}],F7=[{key:"ArrowLeft",run:A3,shift:D3,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:$P,shift:s7,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:JP,shift:h7,preventDefault:!0},{key:"ArrowRight",run:E3,shift:L3,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:GP,shift:a7,preventDefault:!0},{mac:"Cmd-ArrowRight",run:e7,shift:f7,preventDefault:!0},{key:"ArrowUp",run:O3,shift:j3,preventDefault:!0},{mac:"Cmd-ArrowUp",run:LE,shift:zE},{mac:"Ctrl-ArrowUp",run:NE,shift:ME},{key:"ArrowDown",run:_3,shift:P3,preventDefault:!0},{mac:"Cmd-ArrowDown",run:BE,shift:jE},{mac:"Ctrl-ArrowDown",run:F1,shift:DE},{key:"PageUp",run:NE,shift:ME},{key:"PageDown",run:F1,shift:DE},{key:"Home",run:ZP,shift:u7,preventDefault:!0},{key:"Mod-Home",run:LE,shift:zE},{key:"End",run:KP,shift:c7,preventDefault:!0},{key:"Mod-End",run:BE,shift:jE},{key:"Enter",run:PE,shift:PE},{key:"Mod-a",run:m7},{key:"Backspace",run:I1,shift:I1,preventDefault:!0},{key:"Delete",run:H3,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:W3,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:w7,preventDefault:!0},{mac:"Mod-Backspace",run:k7,preventDefault:!0},{mac:"Mod-Delete",run:A7,preventDefault:!0}].concat(P7.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),I7=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:YP,shift:l7},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:XP,shift:o7},{key:"Alt-ArrowUp",run:C7},{key:"Shift-Alt-ArrowUp",run:_7},{key:"Alt-ArrowDown",run:O7},{key:"Shift-Alt-ArrowDown",run:R7},{key:"Mod-Alt-ArrowUp",run:v7},{key:"Mod-Alt-ArrowDown",run:b7},{key:"Escape",run:x7},{key:"Mod-Enter",run:D7},{key:"Alt-l",mac:"Ctrl-l",run:g7},{key:"Mod-i",run:y7,preventDefault:!0},{key:"Mod-[",run:z7},{key:"Mod-]",run:B7},{key:"Mod-Alt-\\",run:L7},{key:"Shift-Mod-k",run:N7},{key:"Shift-Mod-\\",run:i7},{key:"Mod-/",run:CP},{key:"Alt-A",run:_P},{key:"Ctrl-m",mac:"Shift-Alt-m",run:j7}].concat(F7),FE=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class Vo{constructor(e,t,n=0,i=e.length,s,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=s?c=>s(FE(c)):FE,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return yn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Tb(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Bi(e);let i=this.normalize(t);if(i.length)for(let s=0,l=n;;s++){let c=i.charCodeAt(s),u=this.match(c,l,this.bufferPos+this.bufferStart);if(s==i.length-1){if(u)return this.value=u,this;break}l==n&&s<t.length&&t.charCodeAt(s)==c&&l++}}}match(e,t,n){let i=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],c=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[s+1],to:n}:(this.matches[s]++,c=!0)),c||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:n}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Vo.prototype[Symbol.iterator]=function(){return this});const Q3={from:-1,to:-1,match:/.*/.exec("")},Jb="gm"+(/x/.unicode==null?"":"u");class Y3{constructor(e,t,n,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=Q3,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new X3(e,t,n,i,s);this.re=new RegExp(t,Jb+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=rp(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,i=n+t[0].length;if(this.matchPos=rp(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const V0=new WeakMap;class Mo{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let i=V0.get(e);if(!i||i.from>=n||i.to<=t){let c=new Mo(t,e.sliceString(t,n));return V0.set(e,c),c}if(i.from==t&&i.to==n)return i;let{text:s,from:l}=i;return l>t&&(s=e.sliceString(t,l)+s,l=t),i.to<n&&(s+=e.sliceString(i.to,n)),V0.set(e,new Mo(l,s)),new Mo(t,s.slice(t-l,n-l))}}class X3{constructor(e,t,n,i,s){this.text=e,this.to=s,this.done=!1,this.value=Q3,this.matchPos=rp(e,i),this.re=new RegExp(t,Jb+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=Mo.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,i=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this.matchPos=rp(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Mo.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Y3.prototype[Symbol.iterator]=X3.prototype[Symbol.iterator]=function(){return this});function U7(r){try{return new RegExp(r,Jb),!0}catch{return!1}}function rp(r,e){if(e>=r.length)return e;let t=r.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function U1(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),t=Gt("input",{class:"cm-textfield",name:"line",value:e}),n=Gt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),r.dispatch({effects:ku.of(!1)}),r.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Gt("label",r.state.phrase("Go to line"),": ",t)," ",Gt("button",{class:"cm-button",type:"submit"},r.state.phrase("go")),Gt("button",{name:"close",onclick:()=>{r.dispatch({effects:ku.of(!1)}),r.focus()},"aria-label":r.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:l}=r,c=l.doc.lineAt(l.selection.main.head),[,u,f,d,m]=s,g=d?+d.slice(1):0,y=f?+f:c.number;if(f&&m){let O=y/100;u&&(O=O*(u=="-"?-1:1)+c.number/l.doc.lines),y=Math.round(l.doc.lines*O)}else f&&u&&(y=y*(u=="-"?-1:1)+c.number);let b=l.doc.line(Math.max(1,Math.min(l.doc.lines,y))),w=Me.cursor(b.from+Math.max(0,Math.min(g,b.length)));r.dispatch({effects:[ku.of(!1),He.scrollIntoView(w.from,{y:"center"})],selection:w}),r.focus()}return{dom:n}}const ku=ot.define(),IE=Wr.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(ku)&&(r=t.value);return r},provide:r=>Uu.from(r,e=>e?U1:null)}),H7=r=>{let e=Iu(r,U1);if(!e){let t=[ku.of(!0)];r.state.field(IE,!1)==null&&t.push(ot.appendConfig.of([IE,q7])),r.dispatch({effects:t}),e=Iu(r,U1)}return e&&e.dom.querySelector("input").select(),!0},q7=He.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),W7={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},V7=We.define({combine(r){return $i(r,W7,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function $7(r){return[K7,X7]}const G7=it.mark({class:"cm-selectionMatch"}),Q7=it.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function UE(r,e,t,n){return(t==0||r(e.sliceDoc(t-1,t))!=rr.Word)&&(n==e.doc.length||r(e.sliceDoc(n,n+1))!=rr.Word)}function Y7(r,e,t,n){return r(e.sliceDoc(t,t+1))==rr.Word&&r(e.sliceDoc(n-1,n))==rr.Word}const X7=Sr.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(V7),{state:t}=r,n=t.selection;if(n.ranges.length>1)return it.none;let i=n.main,s,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return it.none;let u=t.wordAt(i.head);if(!u)return it.none;l=t.charCategorizer(i.head),s=t.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return it.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),l=t.charCategorizer(i.head),!(UE(l,t,i.from,i.to)&&Y7(l,t,i.from,i.to)))return it.none}else if(s=t.sliceDoc(i.from,i.to),!s)return it.none}let c=[];for(let u of r.visibleRanges){let f=new Vo(t.doc,s,u.from,u.to);for(;!f.next().done;){let{from:d,to:m}=f.value;if((!l||UE(l,t,d,m))&&(i.empty&&d<=i.from&&m>=i.to?c.push(Q7.range(d,m)):(d>=i.to||m<=i.from)&&c.push(G7.range(d,m)),c.length>e.maxMatches))return it.none}}return it.set(c)}},{decorations:r=>r.decorations}),K7=He.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Z7=({state:r,dispatch:e})=>{let{selection:t}=r,n=Me.create(t.ranges.map(i=>r.wordAt(i.head)||Me.cursor(i.head)),t.mainIndex);return n.eq(t)?!1:(e(r.update({selection:n})),!0)};function J7(r,e){let{main:t,ranges:n}=r.selection,i=r.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let l=!1,c=new Vo(r.doc,e,n[n.length-1].to);;)if(c.next(),c.done){if(l)return null;c=new Vo(r.doc,e,0,Math.max(0,n[n.length-1].from-1)),l=!0}else{if(l&&n.some(u=>u.from==c.value.from))continue;if(s){let u=r.wordAt(c.value.from);if(!u||u.from!=c.value.from||u.to!=c.value.to)continue}return c.value}}const eF=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(s=>s.from===s.to))return Z7({state:r,dispatch:e});let n=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(s=>r.sliceDoc(s.from,s.to)!=n))return!1;let i=J7(r,n);return i?(e(r.update({selection:r.selection.addRange(Me.range(i.from,i.to),!1),effects:He.scrollIntoView(i.to)})),!0):!1},nc=We.define({combine(r){return $i(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new fF(e),scrollToMatch:e=>He.scrollIntoView(e)})}});class K3{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||U7(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new iF(this):new rF(this)}getCursor(e,t=0,n){let i=e.doc?e:kt.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?go(this,i,t,n):mo(this,i,t,n)}}class Z3{constructor(e){this.spec=e}}function mo(r,e,t,n){return new Vo(e.doc,r.unquoted,t,n,r.caseSensitive?void 0:i=>i.toLowerCase(),r.wholeWord?tF(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function tF(r,e){return(t,n,i,s)=>((s>t||s+i.length<n)&&(s=Math.max(0,t-2),i=r.sliceString(s,Math.min(r.length,n+2))),(e(np(i,t-s))!=rr.Word||e(ip(i,t-s))!=rr.Word)&&(e(ip(i,n-s))!=rr.Word||e(np(i,n-s))!=rr.Word))}class rF extends Z3{constructor(e){super(e)}nextMatch(e,t,n){let i=mo(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=mo(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==n?null:i.value}prevMatchInRange(e,t,n){for(let i=n;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),l=mo(this.spec,e,s,i),c=null;for(;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(s==t)return null;i-=1e4}}prevMatch(e,t,n){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=n)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=mo(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=mo(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function go(r,e,t,n){return new Y3(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?nF(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function np(r,e){return r.slice(Tr(r,e,!1),e)}function ip(r,e){return r.slice(e,Tr(r,e))}function nF(r){return(e,t,n)=>!n[0].length||(r(np(n.input,n.index))!=rr.Word||r(ip(n.input,n.index))!=rr.Word)&&(r(ip(n.input,n.index+n[0].length))!=rr.Word||r(np(n.input,n.index+n[0].length))!=rr.Word)}class iF extends Z3{nextMatch(e,t,n){let i=go(this.spec,e,n,e.doc.length).next();return i.done&&(i=go(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=1;;i++){let s=Math.max(t,n-i*1e4),l=go(this.spec,e,s,n),c=null;for(;!l.next().done;)c=l.value;if(c&&(s==t||c.from>s+10))return c;if(s==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let i=n.length;i>0;i--){let s=+n.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+n.slice(i)}return t})}matchAll(e,t){let n=go(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=go(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Vu=ot.define(),ex=ot.define(),ha=Wr.define({create(r){return new $0(H1(r).create(),null)},update(r,e){for(let t of e.effects)t.is(Vu)?r=new $0(t.value.create(),r.panel):t.is(ex)&&(r=new $0(r.query,t.value?tx:null));return r},provide:r=>Uu.from(r,e=>e.panel)});class $0{constructor(e,t){this.query=e,this.panel=t}}const sF=it.mark({class:"cm-searchMatch"}),aF=it.mark({class:"cm-searchMatch cm-searchMatch-selected"}),lF=Sr.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(ha))}update(r){let e=r.state.field(ha);(e!=r.startState.field(ha)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return it.none;let{view:t}=this,n=new ws;for(let i=0,s=t.visibleRanges,l=s.length;i<l;i++){let{from:c,to:u}=s[i];for(;i<l-1&&u>s[i+1].from-500;)u=s[++i].to;r.highlight(t.state,c,u,(f,d)=>{let m=t.state.selection.ranges.some(g=>g.from==f&&g.to==d);n.add(f,d,m?aF:sF)})}return n.finish()}},{decorations:r=>r.decorations});function hh(r){return e=>{let t=e.state.field(ha,!1);return t&&t.query.spec.valid?r(e,t):t4(e)}}const sp=hh((r,{query:e})=>{let{to:t}=r.state.selection.main,n=e.nextMatch(r.state,t,t);if(!n)return!1;let i=Me.single(n.from,n.to),s=r.state.facet(nc);return r.dispatch({selection:i,effects:[rx(r,n),s.scrollToMatch(i.main,r)],userEvent:"select.search"}),e4(r),!0}),ap=hh((r,{query:e})=>{let{state:t}=r,{from:n}=t.selection.main,i=e.prevMatch(t,n,n);if(!i)return!1;let s=Me.single(i.from,i.to),l=r.state.facet(nc);return r.dispatch({selection:s,effects:[rx(r,i),l.scrollToMatch(s.main,r)],userEvent:"select.search"}),e4(r),!0}),oF=hh((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:Me.create(t.map(n=>Me.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),cF=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:i}=t.main,s=[],l=0;for(let c=new Vo(r.doc,r.sliceDoc(n,i));!c.next().done;){if(s.length>1e3)return!1;c.value.from==n&&(l=s.length),s.push(Me.range(c.value.from,c.value.to))}return e(r.update({selection:Me.create(s,l),userEvent:"select.search.matches"})),!0},HE=hh((r,{query:e})=>{let{state:t}=r,{from:n,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,n,n);if(!s)return!1;let l=s,c=[],u,f,d=[];l.from==n&&l.to==i&&(f=t.toText(e.getReplacement(l)),c.push({from:l.from,to:l.to,insert:f}),l=e.nextMatch(t,l.from,l.to),d.push(He.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+".")));let m=r.state.changes(c);return l&&(u=Me.single(l.from,l.to).map(m),d.push(rx(r,l)),d.push(t.facet(nc).scrollToMatch(u.main,r))),r.dispatch({changes:m,selection:u,effects:d,userEvent:"input.replace"}),!0}),uF=hh((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(i=>{let{from:s,to:l}=i;return{from:s,to:l,insert:e.getReplacement(i)}});if(!t.length)return!1;let n=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:He.announce.of(n),userEvent:"input.replace.all"}),!0});function tx(r){return r.state.facet(nc).createPanel(r)}function H1(r,e){var t,n,i,s,l;let c=r.selection.main,u=c.empty||c.to>c.from+100?"":r.sliceDoc(c.from,c.to);if(e&&!u)return e;let f=r.facet(nc);return new K3({search:((t=e?.literal)!==null&&t!==void 0?t:f.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:f.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:f.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:f.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:f.wholeWord})}function J3(r){let e=Iu(r,tx);return e&&e.dom.querySelector("[main-field]")}function e4(r){let e=J3(r);e&&e==r.root.activeElement&&e.select()}const t4=r=>{let e=r.state.field(ha,!1);if(e&&e.panel){let t=J3(r);if(t&&t!=r.root.activeElement){let n=H1(r.state,e.query.spec);n.valid&&r.dispatch({effects:Vu.of(n)}),t.focus(),t.select()}}else r.dispatch({effects:[ex.of(!0),e?Vu.of(H1(r.state,e.query.spec)):ot.appendConfig.of(pF)]});return!0},r4=r=>{let e=r.state.field(ha,!1);if(!e||!e.panel)return!1;let t=Iu(r,tx);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:ex.of(!1)}),!0},hF=[{key:"Mod-f",run:t4,scope:"editor search-panel"},{key:"F3",run:sp,shift:ap,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:sp,shift:ap,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:r4,scope:"editor search-panel"},{key:"Mod-Shift-l",run:cF},{key:"Mod-Alt-g",run:H7},{key:"Mod-d",run:eF,preventDefault:!0}];class fF{constructor(e){this.view=e;let t=this.query=e.state.field(ha).query.spec;this.commit=this.commit.bind(this),this.searchField=Gt("input",{value:t.search,placeholder:Bn(e,"Find"),"aria-label":Bn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Gt("input",{value:t.replace,placeholder:Bn(e,"Replace"),"aria-label":Bn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Gt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Gt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Gt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(i,s,l){return Gt("button",{class:"cm-button",name:i,onclick:s,type:"button"},l)}this.dom=Gt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>sp(e),[Bn(e,"next")]),n("prev",()=>ap(e),[Bn(e,"previous")]),n("select",()=>oF(e),[Bn(e,"all")]),Gt("label",null,[this.caseField,Bn(e,"match case")]),Gt("label",null,[this.reField,Bn(e,"regexp")]),Gt("label",null,[this.wordField,Bn(e,"by word")]),...e.state.readOnly?[]:[Gt("br"),this.replaceField,n("replace",()=>HE(e),[Bn(e,"replace")]),n("replaceAll",()=>uF(e),[Bn(e,"replace all")])],Gt("button",{name:"close",onclick:()=>r4(e),"aria-label":Bn(e,"close"),type:"button"},[""])])}commit(){let e=new K3({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Vu.of(e)}))}keydown(e){bj(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?ap:sp)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),HE(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(Vu)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(nc).top}}function Bn(r,e){return r.state.phrase(e)}const Jf=30,ed=/[\s\.,:;?!]/;function rx(r,{from:e,to:t}){let n=r.state.doc.lineAt(e),i=r.state.doc.lineAt(t).to,s=Math.max(n.from,e-Jf),l=Math.min(i,t+Jf),c=r.state.sliceDoc(s,l);if(s!=n.from){for(let u=0;u<Jf;u++)if(!ed.test(c[u+1])&&ed.test(c[u])){c=c.slice(u);break}}if(l!=i){for(let u=c.length-1;u>c.length-Jf;u--)if(!ed.test(c[u-1])&&ed.test(c[u])){c=c.slice(0,u);break}}return He.announce.of(`${r.state.phrase("current match")}. ${c} ${r.state.phrase("on line")} ${n.number}.`)}const dF=He.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),pF=[ha,wl.low(lF),dF];class n4{constructor(e,t,n,i){this.state=e,this.pos=t,this.explicit=n,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Gr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),s=i.search(i4(e,!1));return s<0?null:{from:n+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function qE(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function mF(r){let e=Object.create(null),t=Object.create(null);for(let{label:i}of r){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let n=qE(e)+qE(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function gF(r){let e=r.map(i=>typeof i=="string"?{label:i}:i),[t,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:mF(e);return i=>{let s=i.matchBefore(n);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}class WE{constructor(e,t,n,i){this.completion=e,this.source=t,this.match=n,this.score=i}}function hl(r){return r.selection.main.from}function i4(r,e){var t;let{source:n}=r,i=e&&n[0]!="^",s=n[n.length-1]!="$";return!i&&!s?r:new RegExp(`${i?"^":""}(?:${n})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const s4=Cs.define();function yF(r,e,t,n){let{main:i}=r.selection,s=t-i.from,l=n-i.from;return{...r.changeByRange(c=>{if(c!=i&&t!=n&&r.sliceDoc(c.from+s,c.from+l)!=r.sliceDoc(t,n))return{range:c};let u=r.toText(e);return{changes:{from:c.from+s,to:n==i.from?c.to:c.from+l,insert:u},range:Me.cursor(c.from+s+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const VE=new WeakMap;function vF(r){if(!Array.isArray(r))return r;let e=VE.get(r);return e||VE.set(r,e=gF(r)),e}const lp=ot.define(),$u=ot.define();class bF{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=yn(e,t),i=Bi(n);this.chars.push(n);let s=e.slice(t,t+i),l=s.toUpperCase();this.folded.push(yn(l==s?s.toLowerCase():l,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:i,precise:s,byWord:l}=this;if(t.length==1){let k=yn(e,0),E=Bi(k),A=E==e.length?0:-100;if(k!=t[0])if(k==n[0])A+=-200;else return null;return this.ret(A,[0,E])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=t.length,f=0;if(c<0){for(let k=0,E=Math.min(e.length,200);k<E&&f<u;){let A=yn(e,k);(A==t[f]||A==n[f])&&(i[f++]=k),k+=Bi(A)}if(f<u)return null}let d=0,m=0,g=!1,y=0,b=-1,w=-1,O=/[a-z]/.test(e),S=!0;for(let k=0,E=Math.min(e.length,200),A=0;k<E&&m<u;){let _=yn(e,k);c<0&&(d<u&&_==t[d]&&(s[d++]=k),y<u&&(_==t[y]||_==n[y]?(y==0&&(b=k),w=k+1,y++):y=0));let U,M=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(U=Tb(_))!=U.toLowerCase()?1:U!=U.toUpperCase()?2:0;(!k||M==1&&O||A==0&&M!=0)&&(t[m]==_||n[m]==_&&(g=!0)?l[m++]=k:l.length&&(S=!1)),A=M,k+=Bi(_)}return m==u&&l[0]==0&&S?this.result(-100+(g?-200:0),l,e):y==u&&b==0?this.ret(-200-e.length+(w==e.length?0:-100),[0,w]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):y==u?this.ret(-900-e.length,[b,w]):m==u?this.result(-100+(g?-200:0)+-700+(S?0:-1100),l,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,n){let i=[],s=0;for(let l of t){let c=l+(this.astral?Bi(yn(n,l)):1);s&&i[s-1]==l?i[s-1]=c:(i[s++]=l,i[s++]=c)}return this.ret(e-n.length,i)}}class xF{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const Mr=We.define({combine(r){return $i(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:wF,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>$E(e(n),t(n)),optionClass:(e,t)=>n=>$E(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function $E(r,e){return r?e?r+" "+e:r:e}function wF(r,e,t,n,i,s){let l=r.textDirection==Yt.RTL,c=l,u=!1,f="top",d,m,g=e.left-i.left,y=i.right-e.right,b=n.right-n.left,w=n.bottom-n.top;if(c&&g<Math.min(b,y)?c=!1:!c&&y<Math.min(b,g)&&(c=!0),b<=(c?g:y))d=Math.max(i.top,Math.min(t.top,i.bottom-w))-e.top,m=Math.min(400,c?g:y);else{u=!0,m=Math.min(400,(l?e.right:i.right-e.left)-30);let k=i.bottom-e.bottom;k>=w||k>e.top?d=t.bottom-e.top:(f="bottom",d=e.bottom-t.top)}let O=(e.bottom-e.top)/s.offsetHeight,S=(e.right-e.left)/s.offsetWidth;return{style:`${f}: ${d/O}px; max-width: ${m/S}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function SF(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,i,s){let l=document.createElement("span");l.className="cm-completionLabel";let c=t.displayLabel||t.label,u=0;for(let f=0;f<s.length;){let d=s[f++],m=s[f++];d>u&&l.appendChild(document.createTextNode(c.slice(u,d)));let g=l.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(c.slice(d,m))),g.className="cm-completionMatchedText",u=m}return u<c.length&&l.appendChild(document.createTextNode(c.slice(u))),l},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function G0(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let n=Math.floor((r-e)/t);return{from:r-(n+1)*t,to:r-n*t}}class kF{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:l}=i.open,c=e.state.facet(Mr);this.optionContent=SF(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=G0(s.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:f}=e.state.field(t).open;for(let d=u.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<f.length){this.applyCompletion(e,f[+m[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(Mr).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:$u.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:s,selected:l,disabled:c}=n.open;(!i.open||i.open.options!=s)&&(this.range=G0(s.length,l,e.state.facet(Mr).maxRenderedOptions),this.showOptions(s,n.id)),this.updateSel(),c!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=G0(t.options.length,t.selected,this.view.state.facet(Mr).maxRenderedOptions),this.showOptions(t.options,e.id));let n=this.updateSelectedOption(t.selected);if(n){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(i);if(!l)return;"then"in l?l.then(c=>{c&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(c,i)}).catch(c=>xn(this.view.state,c,"completion info")):(this.addInfoPane(l,i),n.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",n.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;n.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&(n.removeAttribute("aria-selected"),n.removeAttribute("aria-describedby"));return t&&EF(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let l=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Mr).positionInfo(this.view,t,i,n,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",l=>{l.target==i&&l.preventDefault()});let s=null;for(let l=n.from;l<n.to;l++){let{completion:c,match:u}=e[l],{section:f}=c;if(f){let g=typeof f=="string"?f:f.name;if(g!=s&&(l>n.from||n.from==0))if(s=g,typeof f!="string"&&f.header)i.appendChild(f.header(f));else{let y=i.appendChild(document.createElement("completion-section"));y.textContent=g}}const d=i.appendChild(document.createElement("li"));d.id=t+"-"+l,d.setAttribute("role","option");let m=this.optionClass(c);m&&(d.className=m);for(let g of this.optionContent){let y=g(c,this.view.state,this.view,u);y&&d.appendChild(y)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function AF(r,e){return t=>new kF(t,r,e)}function EF(r,e){let t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.height/r.offsetHeight;n.top<t.top?r.scrollTop-=(t.top-n.top)/i:n.bottom>t.bottom&&(r.scrollTop+=(n.bottom-t.bottom)/i)}function GE(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function TF(r,e){let t=[],n=null,i=null,s=d=>{t.push(d);let{section:m}=d.completion;if(m){n||(n=[]);let g=typeof m=="string"?m:m.name;n.some(y=>y.name==g)||n.push(typeof m=="string"?{name:g}:m)}},l=e.facet(Mr);for(let d of r)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)s(new WE(g,d.source,m?m(g):[],1e9-t.length));else{let g=e.sliceDoc(d.from,d.to),y,b=l.filterStrict?new xF(g):new bF(g);for(let w of d.result.options)if(y=b.match(w.label)){let O=w.displayLabel?m?m(w,y.matched):[]:y.matched,S=y.score+(w.boost||0);if(s(new WE(w,d.source,O,S)),typeof w.section=="object"&&w.section.rank==="dynamic"){let{name:k}=w.section;i||(i=Object.create(null)),i[k]=Math.max(S,i[k]||-1e9)}}}}if(n){let d=Object.create(null),m=0,g=(y,b)=>(y.rank==="dynamic"&&b.rank==="dynamic"?i[b.name]-i[y.name]:0)||(typeof y.rank=="number"?y.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(y.name<b.name?-1:1);for(let y of n.sort(g))m-=1e5,d[y.name]=m;for(let y of t){let{section:b}=y.completion;b&&(y.score+=d[typeof b=="string"?b:b.name])}}let c=[],u=null,f=l.compareCompletions;for(let d of t.sort((m,g)=>g.score-m.score||f(m.completion,g.completion))){let m=d.completion;!u||u.label!=m.label||u.detail!=m.detail||u.type!=null&&m.type!=null&&u.type!=m.type||u.apply!=m.apply||u.boost!=m.boost?c.push(d):GE(d.completion)>GE(u)&&(c[c.length-1]=d),u=d.completion}return c}class Ao{constructor(e,t,n,i,s,l){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=i,this.selected=s,this.disabled=l}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Ao(this.options,QE(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,i,s,l){if(i&&!l&&e.some(f=>f.isPending))return i.setDisabled();let c=TF(e,t);if(!c.length)return i&&e.some(f=>f.isPending)?i.setDisabled():null;let u=t.facet(Mr).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let f=i.options[i.selected].completion;for(let d=0;d<c.length;d++)if(c[d].completion==f){u=d;break}}return new Ao(c,QE(n,u),{pos:e.reduce((f,d)=>d.hasResult()?Math.min(f,d.from):f,1e8),create:MF,above:s.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new Ao(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Ao(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class op{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new op(RF,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(Mr),s=(n.override||t.languageDataAt("autocomplete",hl(t)).map(vF)).map(u=>(this.active.find(d=>d.source==u)||new ti(u,this.active.some(d=>d.state!=0)?1:0)).update(e,n));s.length==this.active.length&&s.every((u,f)=>u==this.active[f])&&(s=this.active);let l=this.open,c=e.effects.some(u=>u.is(nx));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||s.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!CF(s,this.active)||c?l=Ao.build(s,t,this.id,l,n,c):l&&l.disabled&&!s.some(u=>u.isPending)&&(l=null),!l&&s.every(u=>!u.isPending)&&s.some(u=>u.hasResult())&&(s=s.map(u=>u.hasResult()?new ti(u.source,0):u));for(let u of e.effects)u.is(l4)&&(l=l&&l.setSelected(u.value,this.id));return s==this.active&&l==this.open?this:new op(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?OF:_F}}function CF(r,e){if(r==e)return!0;for(let t=0,n=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;n<e.length&&!e[n].hasResult();)n++;let i=t==r.length,s=n==e.length;if(i||s)return i==s;if(r[t++].result!=e[n++].result)return!1}}const OF={"aria-autocomplete":"list"},_F={};function QE(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const RF=[];function a4(r,e){if(r.isUserEvent("input.complete")){let n=r.annotation(s4);if(n&&e.activateOnCompletion(n))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class ti{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let n=a4(e,t),i=this;(n&8||n&16&&this.touches(e))&&(i=new ti(i.source,0)),n&4&&i.state==0&&(i=new ti(this.source,1)),i=i.updateFor(e,n);for(let s of e.effects)if(s.is(lp))i=new ti(i.source,1,s.value);else if(s.is($u))i=new ti(i.source,0);else if(s.is(nx))for(let l of s.value)l.source==i.source&&(i=l);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(hl(e.state))}}class Do extends ti{constructor(e,t,n,i,s,l){super(e,3,t),this.limit=n,this.result=i,this.from=s,this.to=l}hasResult(){return!0}updateFor(e,t){var n;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),c=hl(e.state);if(c>l||!i||t&2&&(hl(e.startState)==this.from||c<this.limit))return new ti(this.source,t&4?1:0);let u=e.changes.mapPos(this.limit);return NF(i.validFor,e.state,s,l)?new Do(this.source,this.explicit,u,i,s,l):i.update&&(i=i.update(i,s,l,new n4(e.state,c,!1)))?new Do(this.source,this.explicit,u,i,i.from,(n=i.to)!==null&&n!==void 0?n:hl(e.state)):new ti(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Do(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ti(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function NF(r,e,t,n){if(!r)return!1;let i=e.sliceDoc(t,n);return typeof r=="function"?r(i,t,n,e):i4(r,!0).test(i)}const nx=ot.define({map(r,e){return r.map(t=>t.map(e))}}),l4=ot.define(),vn=Wr.define({create(){return op.start()},update(r,e){return r.update(e)},provide:r=>[Hb.from(r,e=>e.tooltip),He.contentAttributes.from(r,e=>e.attrs)]});function ix(r,e){const t=e.completion.apply||e.completion.label;let n=r.state.field(vn).active.find(i=>i.source==e.source);return n instanceof Do?(typeof t=="string"?r.dispatch({...yF(r.state,t,n.from,n.to),annotations:s4.of(e.completion)}):t(r,e.completion,n.from,n.to),!0):!1}const MF=AF(vn,ix);function td(r,e="option"){return t=>{let n=t.state.field(vn,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(Mr).interactionDelay)return!1;let i=1,s;e=="page"&&(s=qR(t,n.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:l}=n.open.options,c=n.open.selected>-1?n.open.selected+i*(r?1:-1):r?0:l-1;return c<0?c=e=="page"?0:l-1:c>=l&&(c=e=="page"?l-1:0),t.dispatch({effects:l4.of(c)}),!0}}const DF=r=>{let e=r.state.field(vn,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(Mr).interactionDelay?!1:ix(r,e.open.options[e.open.selected])},Q0=r=>r.state.field(vn,!1)?(r.dispatch({effects:lp.of(!0)}),!0):!1,LF=r=>{let e=r.state.field(vn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:$u.of(null)}),!0)};class BF{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const zF=50,jF=1e3,PF=Sr.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(vn).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(vn),t=r.state.facet(Mr);if(!r.selectionSet&&!r.docChanged&&r.startState.field(vn)==e)return;let n=r.transactions.some(s=>{let l=a4(s,t);return l&8||(s.selection||s.docChanged)&&!(l&3)});for(let s=0;s<this.running.length;s++){let l=this.running[s];if(n||l.context.abortOnDocChange&&r.docChanged||l.updates.length+r.transactions.length>zF&&Date.now()-l.time>jF){for(let c of l.context.abortListeners)try{c()}catch(u){xn(this.view.state,u)}l.context.abortListeners=null,this.running.splice(s--,1)}else l.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(s=>s.effects.some(l=>l.is(lp)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(l=>l.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of r.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(vn);for(let t of e.active)t.isPending&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Mr).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=hl(e),n=new n4(e,t,r.explicit,this.view),i=new BF(r,n);this.running.push(i),Promise.resolve(r.source(n)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:$u.of(null)}),xn(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Mr).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Mr),n=this.view.state.field(vn);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let c=hl(s.updates.length?s.updates[0].startState:this.view.state),u=Math.min(c,s.done.from+(s.active.explicit?0:1)),f=new Do(s.active.source,s.active.explicit,u,s.done,s.done.from,(r=s.done.to)!==null&&r!==void 0?r:c);for(let d of s.updates)f=f.update(d,t);if(f.hasResult()){e.push(f);continue}}let l=n.active.find(c=>c.source==s.active.source);if(l&&l.isPending)if(s.done==null){let c=new ti(s.active.source,0);for(let u of s.updates)c=c.update(u,t);c.isPending||e.push(c)}else this.startQuery(l)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:nx.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(vn,!1);if(e&&e.tooltip&&this.view.state.facet(Mr).closeOnBlur){let t=e.open&&qR(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:$u.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:lp.of(!1)}),20),this.composing=0}}}),FF=typeof navigator=="object"&&/Win/.test(navigator.platform),IF=wl.highest(He.domEventHandlers({keydown(r,e){let t=e.state.field(vn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(FF&&r.altKey)||r.metaKey)return!1;let n=t.open.options[t.open.selected],i=t.active.find(l=>l.source==n.source),s=n.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(r.key)>-1&&ix(e,n),!1}})),UF=He.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Gu={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},il=ot.define({map(r,e){let t=e.mapPos(r,-1,tn.TrackAfter);return t??void 0}}),sx=new class extends da{};sx.startSide=1;sx.endSide=-1;const o4=Wr.define({create(){return vt.empty},update(r,e){if(r=r.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);r=r.update({filter:n=>n>=t.from&&n<=t.to})}for(let t of e.effects)t.is(il)&&(r=r.update({add:[sx.range(t.value,t.value+1)]}));return r}});function HF(){return[WF,o4]}const Y0="()[]{}<>";function c4(r){for(let e=0;e<Y0.length;e+=2)if(Y0.charCodeAt(e)==r)return Y0.charAt(e+1);return Tb(r<128?r:r+1)}function u4(r,e){return r.languageDataAt("closeBrackets",e)[0]||Gu}const qF=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),WF=He.inputHandler.of((r,e,t,n)=>{if((qF?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let i=r.state.selection.main;if(n.length>2||n.length==2&&Bi(yn(n,0))==1||e!=i.from||t!=i.to)return!1;let s=GF(r.state,n);return s?(r.dispatch(s),!0):!1}),VF=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=u4(r,r.selection.main.head).brackets||Gu.brackets,i=null,s=r.changeByRange(l=>{if(l.empty){let c=QF(r.doc,l.head);for(let u of n)if(u==c&&Hp(r.doc,l.head)==c4(yn(u,0)))return{changes:{from:l.head-u.length,to:l.head+u.length},range:Me.cursor(l.head-u.length)}}return{range:i=l}});return i||e(r.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},$F=[{key:"Backspace",run:VF}];function GF(r,e){let t=u4(r,r.selection.main.head),n=t.brackets||Gu.brackets;for(let i of n){let s=c4(yn(i,0));if(e==i)return s==i?KF(r,i,n.indexOf(i+i+i)>-1,t):YF(r,i,s,t.before||Gu.before);if(e==s&&h4(r,r.selection.main.from))return XF(r,i,s)}return null}function h4(r,e){let t=!1;return r.field(o4).between(0,r.doc.length,n=>{n==e&&(t=!0)}),t}function Hp(r,e){let t=r.sliceString(e,e+2);return t.slice(0,Bi(yn(t,0)))}function QF(r,e){let t=r.sliceString(e-2,e);return Bi(yn(t,0))==t.length?t:t.slice(1)}function YF(r,e,t,n){let i=null,s=r.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:t,from:l.to}],effects:il.of(l.to+e.length),range:Me.range(l.anchor+e.length,l.head+e.length)};let c=Hp(r.doc,l.head);return!c||/\s/.test(c)||n.indexOf(c)>-1?{changes:{insert:e+t,from:l.head},effects:il.of(l.head+e.length),range:Me.cursor(l.head+e.length)}:{range:i=l}});return i?null:r.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function XF(r,e,t){let n=null,i=r.changeByRange(s=>s.empty&&Hp(r.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:Me.cursor(s.head+t.length)}:n={range:s});return n?null:r.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function KF(r,e,t,n){let i=n.stringPrefixes||Gu.stringPrefixes,s=null,l=r.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:il.of(c.to+e.length),range:Me.range(c.anchor+e.length,c.head+e.length)};let u=c.head,f=Hp(r.doc,u),d;if(f==e){if(YE(r,u))return{changes:{insert:e+e,from:u},effects:il.of(u+e.length),range:Me.cursor(u+e.length)};if(h4(r,u)){let g=t&&r.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+g.length,insert:g},range:Me.cursor(u+g.length)}}}else{if(t&&r.sliceDoc(u-2*e.length,u)==e+e&&(d=XE(r,u-2*e.length,i))>-1&&YE(r,d))return{changes:{insert:e+e+e+e,from:u},effects:il.of(u+e.length),range:Me.cursor(u+e.length)};if(r.charCategorizer(u)(f)!=rr.Word&&XE(r,u,i)>-1&&!ZF(r,u,e,i))return{changes:{insert:e+e,from:u},effects:il.of(u+e.length),range:Me.cursor(u+e.length)}}return{range:s=c}});return s?null:r.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function YE(r,e){let t=Gr(r).resolveInner(e+1);return t.parent&&t.from==e}function ZF(r,e,t,n){let i=Gr(r).resolveInner(e,-1),s=n.reduce((l,c)=>Math.max(l,c.length),0);for(let l=0;l<5;l++){let c=r.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),u=c.indexOf(t);if(!u||u>-1&&n.indexOf(c.slice(0,u))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>t.length+u;){if(r.sliceDoc(d.to-t.length,d.to)==t)return!1;d=d.firstChild}return!0}let f=i.to==e&&i.parent;if(!f)break;i=f}return!1}function XE(r,e,t){let n=r.charCategorizer(e);if(n(r.sliceDoc(e-1,e))!=rr.Word)return e;for(let i of t){let s=e-i.length;if(r.sliceDoc(s,e)==i&&n(r.sliceDoc(s-1,s))!=rr.Word)return s}return-1}function JF(r={}){return[IF,vn,Mr.of(r),PF,eI,UF]}const f4=[{key:"Ctrl-Space",run:Q0},{mac:"Alt-`",run:Q0},{mac:"Alt-i",run:Q0},{key:"Escape",run:LF},{key:"ArrowDown",run:td(!0)},{key:"ArrowUp",run:td(!1)},{key:"PageDown",run:td(!0,"page")},{key:"PageUp",run:td(!1,"page")},{key:"Enter",run:DF}],eI=wl.highest(Ib.computeN([Mr],r=>r.facet(Mr).defaultKeymap?[f4]:[]));class KE{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class Ja{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=n.facet(Qu).markerFilter;i&&(e=i(e,n));let s=e.slice().sort((y,b)=>y.from-b.from||y.to-b.to),l=new ws,c=[],u=0,f=n.doc.iter(),d=0,m=n.doc.length;for(let y=0;;){let b=y==s.length?null:s[y];if(!b&&!c.length)break;let w,O;if(c.length)w=u,O=c.reduce((E,A)=>Math.min(E,A.to),b&&b.from>w?b.from:1e8);else{if(w=b.from,w>m)break;O=b.to,c.push(b),y++}for(;y<s.length;){let E=s[y];if(E.from==w&&(E.to>E.from||E.to==w))c.push(E),y++,O=Math.min(E.to,O);else{O=Math.min(E.from,O);break}}O=Math.min(O,m);let S=!1;if(c.some(E=>E.from==w&&(E.to==O||O==m))&&(S=w==O,!S&&O-w<10)){let E=w-(d+f.value.length);E>0&&(f.next(E),d=w);for(let A=w;;){if(A>=O){S=!0;break}if(!f.lineBreak&&d+f.value.length>A)break;A=d+f.value.length,d+=f.value.length,f.next()}}let k=dI(c);if(S)l.add(w,w,it.widget({widget:new cI(k),diagnostics:c.slice()}));else{let E=c.reduce((A,_)=>_.markClass?A+" "+_.markClass:A,"");l.add(w,O,it.mark({class:"cm-lintRange cm-lintRange-"+k+E,diagnostics:c.slice(),inclusiveEnd:c.some(A=>A.to>O)}))}if(u=O,u==m)break;for(let E=0;E<c.length;E++)c[E].to<=u&&c.splice(E--,1)}let g=l.finish();return new Ja(g,t,$o(g))}}function $o(r,e=null,t=0){let n=null;return r.between(t,1e9,(i,s,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!n)n=new KE(i,s,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new KE(n.from,s,n.diagnostic)}}),n}function tI(r,e){let t=e.pos,n=e.end||t,i=r.state.facet(Qu).hideOn(r,t,n);if(i!=null)return i;let s=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(l=>l.is(d4))||r.changes.touchesRange(s.from,Math.max(s.to,n)))}function rI(r,e){return r.field(Fn,!1)?e:e.concat(ot.appendConfig.of(pI))}const d4=ot.define(),ax=ot.define(),p4=ot.define(),Fn=Wr.define({create(){return new Ja(it.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let t=r.diagnostics.map(e.changes),n=null,i=r.panel;if(r.selected){let s=e.changes.mapPos(r.selected.from,1);n=$o(t,r.selected.diagnostic,s)||$o(t,null,s)}!t.size&&i&&e.state.facet(Qu).autoPanel&&(i=null),r=new Ja(t,i,n)}for(let t of e.effects)if(t.is(d4)){let n=e.state.facet(Qu).autoPanel?t.value.length?Yu.open:null:r.panel;r=Ja.init(t.value,n,e.state)}else t.is(ax)?r=new Ja(r.diagnostics,t.value?Yu.open:null,r.selected):t.is(p4)&&(r=new Ja(r.diagnostics,r.panel,t.value));return r},provide:r=>[Uu.from(r,e=>e.panel),He.decorations.from(r,e=>e.diagnostics)]}),nI=it.mark({class:"cm-lintRange cm-lintRange-active"});function iI(r,e,t){let{diagnostics:n}=r.state.field(Fn),i,s=-1,l=-1;n.between(e-(t<0?1:0),e+(t>0?1:0),(u,f,{spec:d})=>{if(e>=u&&e<=f&&(u==f||(e>u||t>0)&&(e<f||t<0)))return i=d.diagnostics,s=u,l=f,!1});let c=r.state.facet(Qu).tooltipFilter;return i&&c&&(i=c(i,r.state)),i?{pos:s,end:l,above:r.state.doc.lineAt(s).to<l,create(){return{dom:sI(r,i)}}}:null}function sI(r,e){return Gt("ul",{class:"cm-tooltip-lint"},e.map(t=>g4(r,t,!1)))}const aI=r=>{let e=r.state.field(Fn,!1);(!e||!e.panel)&&r.dispatch({effects:rI(r.state,[ax.of(!0)])});let t=Iu(r,Yu.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},ZE=r=>{let e=r.state.field(Fn,!1);return!e||!e.panel?!1:(r.dispatch({effects:ax.of(!1)}),!0)},lI=r=>{let e=r.state.field(Fn,!1);if(!e)return!1;let t=r.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(r.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},oI=[{key:"Mod-Shift-m",run:aI,preventDefault:!0},{key:"F8",run:lI}],Qu=We.define({combine(r){return{sources:r.map(e=>e.source).filter(e=>e!=null),...$i(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:JE,tooltipFilter:JE,needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t,hideOn:(e,t)=>e?t?(n,i,s)=>e(n,i,s)||t(n,i,s):e:t,autoPanel:(e,t)=>e||t})}}});function JE(r,e){return r?e?(t,n)=>e(r(t,n),n):r:e}function m4(r){let e=[];if(r)e:for(let{name:t}of r){for(let n=0;n<t.length;n++){let i=t[n];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function g4(r,e,t){var n;let i=t?m4(e.actions):[];return Gt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Gt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,l)=>{let c=!1,u=y=>{if(y.preventDefault(),c)return;c=!0;let b=$o(r.state.field(Fn).diagnostics,e);b&&s.apply(r,b.from,b.to)},{name:f}=s,d=i[l]?f.indexOf(i[l]):-1,m=d<0?f:[f.slice(0,d),Gt("u",f.slice(d,d+1)),f.slice(d+1)],g=s.markClass?" "+s.markClass:"";return Gt("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:u,onmousedown:u,"aria-label":` Action: ${f}${d<0?"":` (access key "${i[l]})"`}.`},m)}),e.source&&Gt("div",{class:"cm-diagnosticSource"},e.source))}class cI extends Os{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Gt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class eT{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=g4(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Yu{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)ZE(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],l=m4(s.actions);for(let c=0;c<l.length;c++)if(l[c].toUpperCase().charCodeAt(0)==i.keyCode){let u=$o(this.view.state.field(Fn).diagnostics,s);u&&s.actions[c].apply(e,u.from,u.to)}}else return;i.preventDefault()},n=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Gt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=Gt("div",{class:"cm-panel-lint"},this.list,Gt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>ZE(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Fn).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Fn),n=0,i=!1,s=null,l=new Set;for(e.between(0,this.view.state.doc.length,(c,u,{spec:f})=>{for(let d of f.diagnostics){if(l.has(d))continue;l.add(d);let m=-1,g;for(let y=n;y<this.items.length;y++)if(this.items[y].diagnostic==d){m=y;break}m<0?(g=new eT(this.view,d),this.items.splice(n,0,g),i=!0):(g=this.items[m],m>n&&(this.items.splice(n,m-n),i=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new eT(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:u})=>{let f=u.height/this.list.offsetHeight;c.top<u.top?this.list.scrollTop-=(u.top-c.top)/f:c.bottom>u.bottom&&(this.list.scrollTop+=(c.bottom-u.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Fn),n=$o(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:p4.of(n)})}static open(e){return new Yu(e)}}function uI(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function rd(r){return uI(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const hI=He.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:rd("#d11")},".cm-lintRange-warning":{backgroundImage:rd("orange")},".cm-lintRange-info":{backgroundImage:rd("#999")},".cm-lintRange-hint":{backgroundImage:rd("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function fI(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function dI(r){let e="hint",t=1;for(let n of r){let i=fI(n.severity);i>t&&(t=i,e=n.severity)}return e}const pI=[Fn,He.decorations.compute([Fn],r=>{let{selected:e,panel:t}=r.field(Fn);return!e||!t||e.from==e.to?it.none:it.set([nI.range(e.from,e.to)])}),s9(iI,{hideOn:tI}),hI],mI=[g9(),b9(),zj(),zP(),oP(),Ej(),Rj(),kt.allowMultipleSelections.of(!0),Q9(),uP(dP,{fallback:!0}),xP(),HF(),JF(),Qj(),Kj(),Hj(),$7(),Ib.of([...$F,...I7,...hF,...VP,...iP,...f4,...oI])];var tT={};class cp{constructor(e,t,n,i,s,l,c,u,f,d=0,m){this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=s,this.score=l,this.buffer=c,this.bufferBase=u,this.curContext=f,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let i=e.parser.context;return new cp(e,[],t,n,n,0,[],0,i?new rT(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,i=e&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),c=s.dynamicPrecedence(i);if(c&&(this.score+=c),n==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(n-1)*3-(e&262144?6:0),f=u?this.stack[u-2]:this.p.ranges[0].from,d=this.reducePos-f;d>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=d));let m=u?this.stack[u-1]:0,g=this.bufferBase+this.buffer.length-m;if(i<s.minRepeatTerm||e&131072){let y=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,f,y,g+4,!0)}if(e&262144)this.state=this.stack[u];else{let y=this.stack[u-3];this.state=s.getGoto(y,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,f)}storeNode(e,t,n,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,c=this.buffer.length;if(c==0&&l.parent&&(c=l.bufferBase-l.parent.bufferBase,l=l.parent),c>0&&l.buffer[c-4]==0&&l.buffer[c-1]>-1){if(t==n)return;if(l.buffer[c-2]>=t){l.buffer[c-2]=n;return}}}if(!s||this.pos==n)this.buffer.push(e,t,n,i);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let c=!1;for(let u=l;u>0&&this.buffer[u-2]>n;u-=4)if(this.buffer[u-1]>=0){c=!0;break}if(c)for(;l>0&&this.buffer[l-2]>n;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4)}this.buffer[l]=e,this.buffer[l+1]=t,this.buffer[l+2]=n,this.buffer[l+3]=i}}shift(e,t,n,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:l}=this.p;(i>this.pos||t<=l.maxNode)&&(this.pos=i,l.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,n),this.shiftContext(t,n),t<=l.maxNode&&this.buffer.push(t,n,i,4)}else this.pos=i,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,i,4)}apply(e,t,n,i){e&65536?this.reduce(e):this.shift(e,t,n,i)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new cp(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new gI(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if((n&65536)==0)return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,l;s<t.length;s+=2)(l=t[s+1])!=this.state&&this.p.parser.hasAction(l,e)&&i.push(t[s],l);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let l=t[s+1];i.some((c,u)=>u&1&&c==l)||i.push(t[s],l)}t=i}let n=[];for(let i=0;i<t.length&&n.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(t[i],this.pos),l.reducePos=this.pos,l.score-=200,n.push(l)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let n=t>>19,i=t&65535,s=this.stack.length-n*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;t=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,l=>{if(!(l&393216))if(l&65536){let c=(l>>19)-s;if(c>1){let u=l&65535,f=this.stack.length-c*3;if(f>=0&&e.getGoto(this.stack[f],u,!1)>=0)return c<<19|65536|u}}else{let c=n(l,s+1);if(c!=null)return c}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new rT(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class rT{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class gI{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class up{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new up(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new up(this.stack,this.pos,this.index)}}function nd(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let n=0,i=0;n<r.length;){let s=0;for(;;){let l=r.charCodeAt(n++),c=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let u=l-32;if(u>=46&&(u-=46,c=!0),s+=u,c)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class Md{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nT=new Md;class yI{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nT,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<n.from;){if(!i)return null;let l=this.ranges[--i];s-=n.from-l.to,n=l}for(;t<0?s>n.to:s>=n.to;){if(i==this.ranges.length-1)return null;let l=this.ranges[++i];s+=l.from-n.to,n=l}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,i;if(t>=0&&t<this.chunk.length)n=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(n=s,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let l=this.rangeIndex,c=this.range;for(;c.to<=n;)c=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=nT,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return n}}class Lo{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;vI(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}Lo.prototype.contextual=Lo.prototype.fallback=Lo.prototype.extend=!1;Lo.prototype.fallback=Lo.prototype.extend=!1;class qp{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function vI(r,e,t,n,i,s){let l=0,c=1<<n,{dialect:u}=t.p.parser;e:for(;(c&r[l])!=0;){let f=r[l+1];for(let y=l+3;y<f;y+=2)if((r[y+1]&c)>0){let b=r[y];if(u.allows(b)&&(e.token.value==-1||e.token.value==b||bI(b,e.token.value,i,s))){e.acceptToken(b);break}}let d=e.next,m=0,g=r[l+2];if(e.next<0&&g>m&&r[f+g*3-3]==65535){l=r[f+g*3-1];continue e}for(;m<g;){let y=m+g>>1,b=f+y+(y<<1),w=r[b],O=r[b+1]||65536;if(d<w)g=y;else if(d>=O)m=y+1;else{l=r[b+2],e.advance();continue e}}break}}function iT(r,e,t){for(let n=e,i;(i=r[n])!=65535;n++)if(i==t)return n-e;return-1}function bI(r,e,t,n){let i=iT(t,n,e);return i<0||iT(t,n,r)<i}const zn=typeof process<"u"&&tT&&/\bparse\b/.test(tT.LOG);let X0=null;function sT(r,e,t){let n=r.cursor(Nr.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(r.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:r.length}}class xI{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?sT(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?sT(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=n.children[i],l=this.start[t]+n.positions[i];if(l>e)return this.nextStart=l,null;if(s instanceof wr){if(l==e){if(l<this.safeFrom)return null;let c=l+s.length;if(c<=this.safeTo){let u=s.prop(ht.lookAhead);if(!u||c+u<this.fragment.to)return s}}this.index[t]++,l+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[t]++,this.nextStart=l+s.length}}}class wI{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new Md)}getActions(e){let t=0,n=null,{parser:i}=e.p,{tokenizers:s}=i,l=i.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,u=0;for(let f=0;f<s.length;f++){if((1<<f&l)==0)continue;let d=s[f],m=this.tokens[f];if(!(n&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=l||m.context!=c)&&(this.updateCachedToken(m,d,e),m.mask=l,m.context=c),m.lookAhead>m.end+25&&(u=Math.max(m.lookAhead,u)),m.value!=0)){let g=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!d.extend&&(n=m,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return u&&e.setLookAhead(u),!n&&e.pos==this.stream.end&&(n=new Md,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Md,{pos:n,p:i}=e;return t.start=n,t.end=Math.min(n+1,i.stream.end),t.value=n==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,n){let i=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(i,e),n),e.value>-1){let{parser:s}=n.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let c=s.specializers[l](this.stream.read(e.start,e.end),n);if(c>=0&&n.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,n,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let{state:s}=e,{parser:l}=e.p,{data:c}=l;for(let u=0;u<2;u++)for(let f=l.stateSlot(s,u?2:1);;f+=3){if(c[f]==65535)if(c[f+1]==1)f=gs(c,f+2);else{i==0&&c[f+1]==2&&(i=this.putAction(gs(c,f+2),t,n,i));break}c[f]==t&&(i=this.putAction(gs(c,f+1),t,n,i))}return i}}class SI{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new yI(t,i),this.tokens=new wI(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[cp.start(this,e.top[0],s)],this.fragments=n.length&&this.stream.end-s>e.bufferLength*4?new xI(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let c=e[l];for(;;){if(this.tokens.mainToken=null,c.pos>t)n.push(c);else{if(this.advanceStack(c,n,e))continue;{i||(i=[],s=[]),i.push(c);let u=this.tokens.getMainToken(c);s.push(u.value,u.end)}}break}}if(!n.length){let l=i&&EI(i);if(l)return zn&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw zn&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let l=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,n);if(l)return zn&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(n.length>l)for(n.sort((c,u)=>u.score-c.score);n.length>l;)n.pop();n.some(c=>c.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let l=0;l<n.length-1;l++){let c=n[l];for(let u=l+1;u<n.length;u++){let f=n[u];if(c.sameState(f)||c.buffer.length>500&&f.buffer.length>500)if((c.score-f.score||c.buffer.length-f.buffer.length)>0)n.splice(u--,1);else{n.splice(l--,1);continue e}}}n.length>12&&(n.sort((l,c)=>c.score-l.score),n.splice(12,n.length-12))}this.minStackPos=n[0].pos;for(let l=1;l<n.length;l++)n[l].pos<this.minStackPos&&(this.minStackPos=n[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:s}=this,l=zn?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,d=f?e.curContext.hash:0;for(let m=this.fragments.nodeAt(i);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!f||(m.prop(ht.contextHash)||0)==d))return e.useNode(m,g),zn&&console.log(l+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof wr)||m.children.length==0||m.positions[0]>0)break;let y=m.children[0];if(y instanceof wr&&m.positions[0]==0)m=y;else break}}let c=s.stateSlot(e.state,4);if(c>0)return e.reduce(c),zn&&console.log(l+this.stackID(e)+` (via always-reduce ${s.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let f=0;f<u.length;){let d=u[f++],m=u[f++],g=u[f++],y=f==u.length||!n,b=y?e:e.split(),w=this.tokens.mainToken;if(b.apply(d,m,w?w.start:b.pos,g),zn&&console.log(l+this.stackID(b)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(m)} @ ${i}${b==e?"":", split"})`),y)return!0;b.pos>i?t.push(b):n.push(b)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return aT(e,t),!0}}runRecovery(e,t,n){let i=null,s=!1;for(let l=0;l<e.length;l++){let c=e[l],u=t[l<<1],f=t[(l<<1)+1],d=zn?this.stackID(c)+" -> ":"";if(c.deadEnd&&(s||(s=!0,c.restart(),zn&&console.log(d+this.stackID(c)+" (restarted)"),this.advanceFully(c,n))))continue;let m=c.split(),g=d;for(let y=0;y<10&&m.forceReduce()&&(zn&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,n));y++)zn&&(g=this.stackID(m)+" -> ");for(let y of c.recoverByInsert(u))zn&&console.log(d+this.stackID(y)+" (via recover-insert)"),this.advanceFully(y,n);this.stream.end>c.pos?(f==c.pos&&(f++,u=0),c.recoverByDelete(u,f),zn&&console.log(d+this.stackID(c)+` (via recover-delete ${this.parser.getName(u)})`),aT(c,n)):(!i||i.score<c.score)&&(i=c)}return i}stackToTree(e){return e.close(),wr.build({buffer:up.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(X0||(X0=new WeakMap)).get(e);return t||X0.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function aT(r,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==r.pos&&n.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class kI{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const K0=r=>r;class AI{constructor(e){this.start=e.start,this.shift=e.shift||K0,this.reduce=e.reduce||K0,this.reuse=e.reuse||K0,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class hp extends KR{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let n=Object.keys(e.topRules).map(c=>e.topRules[c][1]),i=[];for(let c=0;c<t.length;c++)i.push([]);function s(c,u,f){i[c].push([u,u.deserialize(String(f))])}if(e.nodeProps)for(let c of e.nodeProps){let u=c[0];typeof u=="string"&&(u=ht[u]);for(let f=1;f<c.length;){let d=c[f++];if(d>=0)s(d,u,c[f++]);else{let m=c[f+-d];for(let g=-d;g>0;g--)s(c[f++],u,m);f++}}}this.nodeSet=new qb(t.map((c,u)=>An.define({name:u>=this.minRepeatTerm?void 0:c,id:u,props:i[u],top:n.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=GR;let l=nd(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(lT),this.states=nd(e.states,Uint32Array),this.data=nd(e.stateData),this.goto=nd(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new Lo(l,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let i=new SI(this,e,t,n);for(let s of this.wrappers)i=s(i,e,t,n);return i}getGoto(e,t,n=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let l=i[s++],c=l&1,u=i[s++];if(c&&n)return u;for(let f=s+(l>>1);s<f;s++)if(i[s]==e)return u;if(c)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),l;;s+=3){if((l=n[s])==65535)if(n[s+1]==1)l=n[s=gs(n,s+2)];else{if(n[s+1]==2)return gs(n,s+2);break}if(l==t||l==0)return gs(n,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,n=>n==t?!0:null)}allActions(e,t){let n=this.stateSlot(e,4),i=n?t(n):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=gs(this.data,s+2);else break;i=t(gs(this.data,s+1))}return i}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=gs(this.data,n+2);else break;if((this.data[n+2]&1)==0){let i=this.data[n+1];t.some((s,l)=>l&1&&s==i)||t.push(this.data[n],i)}}return t}configure(e){let t=Object.assign(Object.create(hp.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let i=e.tokenizers.find(s=>s.from==n);return i?i.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,i)=>{let s=e.specializers.find(c=>c.from==n.external);if(!s)return n;let l=Object.assign(Object.assign({},n),{external:s.to});return t.specializers[i]=lT(l),l})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let s of e.split(" ")){let l=t.indexOf(s);l>=0&&(n[l]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!n[s])for(let l=this.dialects[t[s]],c;(c=this.data[l++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[c]=1;return new kI(e,n,i)}static deserialize(e){return new hp(e)}}function gs(r,e){return r[e]|r[e+1]<<16}function EI(r){let e=null;for(let t of r){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function lT(r){if(r.external){let e=r.extend?1:0;return(t,n)=>r.external(t,n)<<1|e}return r.get}const yo=63,oT=64,TI=1,CI=2,y4=3,OI=4,v4=5,_I=6,RI=7,b4=65,NI=66,MI=8,DI=9,LI=10,BI=11,zI=12,x4=13,jI=19,PI=20,FI=29,II=33,UI=34,HI=47,qI=0,lx=1,q1=2,Xu=3,W1=4;class el{constructor(e,t,n){this.parent=e,this.depth=t,this.type=n,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)+n}}el.top=new el(null,-1,qI);function Au(r,e){for(let t=0,n=e-r.pos-1;;n--,t++){let i=r.peek(n);if(As(i)||i==-1)return t}}function V1(r){return r==32||r==9}function As(r){return r==10||r==13}function w4(r){return V1(r)||As(r)}function sl(r){return r<0||w4(r)}const WI=new AI({start:el.top,reduce(r,e){return r.type==Xu&&(e==PI||e==UI)?r.parent:r},shift(r,e,t,n){if(e==y4)return new el(r,Au(n,n.pos),lx);if(e==b4||e==v4)return new el(r,Au(n,n.pos),q1);if(e==yo)return r.parent;if(e==jI||e==II)return new el(r,0,Xu);if(e==x4&&r.type==W1)return r.parent;if(e==HI){let i=/[1-9]/.exec(n.read(n.pos,t.pos));if(i)return new el(r,r.depth+ +i[0],W1)}return r},hash(r){return r.hash}});function Go(r,e,t=0){return r.peek(t)==e&&r.peek(t+1)==e&&r.peek(t+2)==e&&sl(r.peek(t+3))}const VI=new qp((r,e)=>{if(r.next==-1&&e.canShift(oT))return r.acceptToken(oT);let t=r.peek(-1);if((As(t)||t<0)&&e.context.type!=Xu){if(Go(r,45))if(e.canShift(yo))r.acceptToken(yo);else return r.acceptToken(TI,3);if(Go(r,46))if(e.canShift(yo))r.acceptToken(yo);else return r.acceptToken(CI,3);let n=0;for(;r.next==32;)n++,r.advance();(n<e.context.depth||n==e.context.depth&&e.context.type==lx&&(r.next!=45||!sl(r.peek(1))))&&r.next!=-1&&!As(r.next)&&r.next!=35&&r.acceptToken(yo,-n)}},{contextual:!0}),$I=new qp((r,e)=>{if(e.context.type==Xu){r.next==63&&(r.advance(),sl(r.next)&&r.acceptToken(RI));return}if(r.next==45)r.advance(),sl(r.next)&&r.acceptToken(e.context.type==lx&&e.context.depth==Au(r,r.pos-1)?OI:y4);else if(r.next==63)r.advance(),sl(r.next)&&r.acceptToken(e.context.type==q1&&e.context.depth==Au(r,r.pos-1)?_I:v4);else{let t=r.pos;for(;;)if(V1(r.next)){if(r.pos==t)return;r.advance()}else if(r.next==33)S4(r);else if(r.next==38)$1(r);else if(r.next==42){$1(r);break}else if(r.next==39||r.next==34){if(ox(r,!0))break;return}else if(r.next==91||r.next==123){if(!QI(r))return;break}else{k4(r,!0,!1,0);break}for(;V1(r.next);)r.advance();if(r.next==58){if(r.pos==t&&e.canShift(FI))return;let n=r.peek(1);sl(n)&&r.acceptTokenTo(e.context.type==q1&&e.context.depth==Au(r,t)?NI:b4,t)}}},{contextual:!0});function GI(r){return r>32&&r<127&&r!=34&&r!=37&&r!=44&&r!=60&&r!=62&&r!=92&&r!=94&&r!=96&&r!=123&&r!=124&&r!=125}function cT(r){return r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70}function uT(r,e){return r.next==37?(r.advance(),cT(r.next)&&r.advance(),cT(r.next)&&r.advance(),!0):GI(r.next)||e&&r.next==44?(r.advance(),!0):!1}function S4(r){if(r.advance(),r.next==60){for(r.advance();;)if(!uT(r,!0)){r.next==62&&r.advance();break}}else for(;uT(r,!1););}function $1(r){for(r.advance();!sl(r.next)&&fp(r.tag)!="f";)r.advance()}function ox(r,e){let t=r.next,n=!1,i=r.pos;for(r.advance();;){let s=r.next;if(s<0)break;if(r.advance(),s==t)if(s==39)if(r.next==39)r.advance();else break;else break;else if(s==92&&t==34)r.next>=0&&r.advance();else if(As(s)){if(e)return!1;n=!0}else if(e&&r.pos>=i+1024)return!1}return!n}function QI(r){for(let e=[],t=r.pos+1024;;)if(r.next==91||r.next==123)e.push(r.next),r.advance();else if(r.next==39||r.next==34){if(!ox(r,!0))return!1}else if(r.next==93||r.next==125){if(e[e.length-1]!=r.next-2)return!1;if(e.pop(),r.advance(),!e.length)return!0}else{if(r.next<0||r.pos>t||As(r.next))return!1;r.advance()}}const YI="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function fp(r){return r<33?"u":r>125?"s":YI[r-33]}function Z0(r,e){let t=fp(r);return t!="u"&&!(e&&t=="f")}function k4(r,e,t,n){if(fp(r.next)=="s"||(r.next==63||r.next==58||r.next==45)&&Z0(r.peek(1),t))r.advance();else return!1;let i=r.pos;for(;;){let s=r.next,l=0,c=n+1;for(;w4(s);){if(As(s)){if(e)return!1;c=0}else c++;s=r.peek(++l)}if(!(s>=0&&(s==58?Z0(r.peek(l+1),t):s==35?r.peek(l-1)!=32:Z0(s,t)))||!t&&c<=n||c==0&&!t&&(Go(r,45,l)||Go(r,46,l)))break;if(e&&fp(s)=="f")return!1;for(let f=l;f>=0;f--)r.advance();if(e&&r.pos>i+1024)return!1}return!0}const XI=new qp((r,e)=>{if(r.next==33)S4(r),r.acceptToken(zI);else if(r.next==38||r.next==42){let t=r.next==38?LI:BI;$1(r),r.acceptToken(t)}else r.next==39||r.next==34?(ox(r,!1),r.acceptToken(DI)):k4(r,!1,e.context.type==Xu,e.context.depth)&&r.acceptToken(MI)}),KI=new qp((r,e)=>{let t=e.context.type==W1?e.context.depth:-1,n=r.pos;e:for(;;){let i=0,s=r.next;for(;s==32;)s=r.peek(++i);if(!i&&(Go(r,45,i)||Go(r,46,i))||!As(s)&&(t<0&&(t=Math.max(e.context.depth+1,i)),i<t))break;for(;;){if(r.next<0)break e;let l=As(r.next);if(r.advance(),l)continue e;n=r.pos}}r.acceptTokenTo(x4,n)}),ZI=ZR({DirectiveName:ze.keyword,DirectiveContent:ze.attributeValue,"DirectiveEnd DocEnd":ze.meta,QuotedLiteral:ze.string,BlockLiteralHeader:ze.special(ze.string),BlockLiteralContent:ze.content,Literal:ze.content,"Key/Literal Key/QuotedLiteral":ze.definition(ze.propertyName),"Anchor Alias":ze.labelName,Tag:ze.typeName,Comment:ze.lineComment,": , -":ze.separator,"?":ze.punctuation,"[ ]":ze.squareBracket,"{ }":ze.brace}),JI=hp.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:WI,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[ZI],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[VI,$I,XI,KI,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),eU=Xd.define({name:"yaml",parser:JI.configure({props:[r3.add({Stream:r=>{for(let e=r.node.resolve(r.pos,-1);e&&e.to>=r.pos;e=e.parent){if(e.name=="BlockLiteralContent"&&e.from<e.to)return r.baseIndentFor(e);if(e.name=="BlockLiteral")return r.baseIndentFor(e)+r.unit;if(e.name=="BlockSequence"||e.name=="BlockMapping")return r.column(e.from,1);if(e.name=="QuotedLiteral")return null;if(e.name=="Literal"){let t=r.column(e.from,1);if(t==r.lineIndent(e.from,1))return t;if(e.to>r.pos)return null}}return null},FlowMapping:EE({closing:"}"}),FlowSequence:EE({closing:"]"})}),s3.add({"FlowMapping FlowSequence":X9,"Item Pair BlockLiteral":(r,e)=>({from:e.doc.lineAt(r.from).to,to:r.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function tU(){return new F9(eU)}function A4(r){return typeof r>"u"||r===null}function rU(r){return typeof r=="object"&&r!==null}function nU(r){return Array.isArray(r)?r:A4(r)?[]:[r]}function iU(r,e){var t,n,i,s;if(e)for(s=Object.keys(e),t=0,n=s.length;t<n;t+=1)i=s[t],r[i]=e[i];return r}function sU(r,e){var t="",n;for(n=0;n<e;n+=1)t+=r;return t}function aU(r){return r===0&&Number.NEGATIVE_INFINITY===1/r}var lU=A4,oU=rU,cU=nU,uU=sU,hU=aU,fU=iU,Er={isNothing:lU,isObject:oU,toArray:cU,repeat:uU,isNegativeZero:hU,extend:fU};function E4(r,e){var t="",n=r.reason||"(unknown reason)";return r.mark?(r.mark.name&&(t+='in "'+r.mark.name+'" '),t+="("+(r.mark.line+1)+":"+(r.mark.column+1)+")",!e&&r.mark.snippet&&(t+=`

`+r.mark.snippet),n+" "+t):n}function Ku(r,e){Error.call(this),this.name="YAMLException",this.reason=r,this.mark=e,this.message=E4(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ku.prototype=Object.create(Error.prototype);Ku.prototype.constructor=Ku;Ku.prototype.toString=function(e){return this.name+": "+E4(this,e)};var rn=Ku;function J0(r,e,t,n,i){var s="",l="",c=Math.floor(i/2)-1;return n-e>c&&(s=" ... ",e=n-c+s.length),t-n>c&&(l=" ...",t=n+c-l.length),{str:s+r.slice(e,t).replace(/\t/g,"")+l,pos:n-e+s.length}}function ey(r,e){return Er.repeat(" ",e-r.length)+r}function dU(r,e){if(e=Object.create(e||null),!r.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var t=/\r?\n|\r|\0/g,n=[0],i=[],s,l=-1;s=t.exec(r.buffer);)i.push(s.index),n.push(s.index+s[0].length),r.position<=s.index&&l<0&&(l=n.length-2);l<0&&(l=n.length-1);var c="",u,f,d=Math.min(r.line+e.linesAfter,i.length).toString().length,m=e.maxLength-(e.indent+d+3);for(u=1;u<=e.linesBefore&&!(l-u<0);u++)f=J0(r.buffer,n[l-u],i[l-u],r.position-(n[l]-n[l-u]),m),c=Er.repeat(" ",e.indent)+ey((r.line-u+1).toString(),d)+" | "+f.str+`
`+c;for(f=J0(r.buffer,n[l],i[l],r.position,m),c+=Er.repeat(" ",e.indent)+ey((r.line+1).toString(),d)+" | "+f.str+`
`,c+=Er.repeat("-",e.indent+d+3+f.pos)+`^
`,u=1;u<=e.linesAfter&&!(l+u>=i.length);u++)f=J0(r.buffer,n[l+u],i[l+u],r.position-(n[l]-n[l+u]),m),c+=Er.repeat(" ",e.indent)+ey((r.line+u+1).toString(),d)+" | "+f.str+`
`;return c.replace(/\n$/,"")}var pU=dU,mU=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],gU=["scalar","sequence","mapping"];function yU(r){var e={};return r!==null&&Object.keys(r).forEach(function(t){r[t].forEach(function(n){e[String(n)]=t})}),e}function vU(r,e){if(e=e||{},Object.keys(e).forEach(function(t){if(mU.indexOf(t)===-1)throw new rn('Unknown option "'+t+'" is met in definition of "'+r+'" YAML type.')}),this.options=e,this.tag=r,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=yU(e.styleAliases||null),gU.indexOf(this.kind)===-1)throw new rn('Unknown kind "'+this.kind+'" is specified for "'+r+'" YAML type.')}var qr=vU;function hT(r,e){var t=[];return r[e].forEach(function(n){var i=t.length;t.forEach(function(s,l){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=l)}),t[i]=n}),t}function bU(){var r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function n(i){i.multi?(r.multi[i.kind].push(i),r.multi.fallback.push(i)):r[i.kind][i.tag]=r.fallback[i.tag]=i}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}function G1(r){return this.extend(r)}G1.prototype.extend=function(e){var t=[],n=[];if(e instanceof qr)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new rn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(s){if(!(s instanceof qr))throw new rn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new rn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new rn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof qr))throw new rn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(G1.prototype);return i.implicit=(this.implicit||[]).concat(t),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=hT(i,"implicit"),i.compiledExplicit=hT(i,"explicit"),i.compiledTypeMap=bU(i.compiledImplicit,i.compiledExplicit),i};var T4=G1,C4=new qr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(r){return r!==null?r:""}}),O4=new qr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(r){return r!==null?r:[]}}),_4=new qr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(r){return r!==null?r:{}}}),R4=new T4({explicit:[C4,O4,_4]});function xU(r){if(r===null)return!0;var e=r.length;return e===1&&r==="~"||e===4&&(r==="null"||r==="Null"||r==="NULL")}function wU(){return null}function SU(r){return r===null}var N4=new qr("tag:yaml.org,2002:null",{kind:"scalar",resolve:xU,construct:wU,predicate:SU,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function kU(r){if(r===null)return!1;var e=r.length;return e===4&&(r==="true"||r==="True"||r==="TRUE")||e===5&&(r==="false"||r==="False"||r==="FALSE")}function AU(r){return r==="true"||r==="True"||r==="TRUE"}function EU(r){return Object.prototype.toString.call(r)==="[object Boolean]"}var M4=new qr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:kU,construct:AU,predicate:EU,represent:{lowercase:function(r){return r?"true":"false"},uppercase:function(r){return r?"TRUE":"FALSE"},camelcase:function(r){return r?"True":"False"}},defaultStyle:"lowercase"});function TU(r){return 48<=r&&r<=57||65<=r&&r<=70||97<=r&&r<=102}function CU(r){return 48<=r&&r<=55}function OU(r){return 48<=r&&r<=57}function _U(r){if(r===null)return!1;var e=r.length,t=0,n=!1,i;if(!e)return!1;if(i=r[t],(i==="-"||i==="+")&&(i=r[++t]),i==="0"){if(t+1===e)return!0;if(i=r[++t],i==="b"){for(t++;t<e;t++)if(i=r[t],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(t++;t<e;t++)if(i=r[t],i!=="_"){if(!TU(r.charCodeAt(t)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(t++;t<e;t++)if(i=r[t],i!=="_"){if(!CU(r.charCodeAt(t)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;t<e;t++)if(i=r[t],i!=="_"){if(!OU(r.charCodeAt(t)))return!1;n=!0}return!(!n||i==="_")}function RU(r){var e=r,t=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(t=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}function NU(r){return Object.prototype.toString.call(r)==="[object Number]"&&r%1===0&&!Er.isNegativeZero(r)}var D4=new qr("tag:yaml.org,2002:int",{kind:"scalar",resolve:_U,construct:RU,predicate:NU,represent:{binary:function(r){return r>=0?"0b"+r.toString(2):"-0b"+r.toString(2).slice(1)},octal:function(r){return r>=0?"0o"+r.toString(8):"-0o"+r.toString(8).slice(1)},decimal:function(r){return r.toString(10)},hexadecimal:function(r){return r>=0?"0x"+r.toString(16).toUpperCase():"-0x"+r.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),MU=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function DU(r){return!(r===null||!MU.test(r)||r[r.length-1]==="_")}function LU(r){var e,t;return e=r.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}var BU=/^[-+]?[0-9]+e/;function zU(r,e){var t;if(isNaN(r))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===r)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===r)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Er.isNegativeZero(r))return"-0.0";return t=r.toString(10),BU.test(t)?t.replace("e",".e"):t}function jU(r){return Object.prototype.toString.call(r)==="[object Number]"&&(r%1!==0||Er.isNegativeZero(r))}var L4=new qr("tag:yaml.org,2002:float",{kind:"scalar",resolve:DU,construct:LU,predicate:jU,represent:zU,defaultStyle:"lowercase"}),B4=R4.extend({implicit:[N4,M4,D4,L4]}),z4=B4,j4=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),P4=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function PU(r){return r===null?!1:j4.exec(r)!==null||P4.exec(r)!==null}function FU(r){var e,t,n,i,s,l,c,u=0,f=null,d,m,g;if(e=j4.exec(r),e===null&&(e=P4.exec(r)),e===null)throw new Error("Date resolve error");if(t=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(t,n,i));if(s=+e[4],l=+e[5],c=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(d=+e[10],m=+(e[11]||0),f=(d*60+m)*6e4,e[9]==="-"&&(f=-f)),g=new Date(Date.UTC(t,n,i,s,l,c,u)),f&&g.setTime(g.getTime()-f),g}function IU(r){return r.toISOString()}var F4=new qr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:PU,construct:FU,instanceOf:Date,represent:IU});function UU(r){return r==="<<"||r===null}var I4=new qr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:UU}),cx=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function HU(r){if(r===null)return!1;var e,t,n=0,i=r.length,s=cx;for(t=0;t<i;t++)if(e=s.indexOf(r.charAt(t)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}function qU(r){var e,t,n=r.replace(/[\r\n=]/g,""),i=n.length,s=cx,l=0,c=[];for(e=0;e<i;e++)e%4===0&&e&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|s.indexOf(n.charAt(e));return t=i%4*6,t===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):t===18?(c.push(l>>10&255),c.push(l>>2&255)):t===12&&c.push(l>>4&255),new Uint8Array(c)}function WU(r){var e="",t=0,n,i,s=r.length,l=cx;for(n=0;n<s;n++)n%3===0&&n&&(e+=l[t>>18&63],e+=l[t>>12&63],e+=l[t>>6&63],e+=l[t&63]),t=(t<<8)+r[n];return i=s%3,i===0?(e+=l[t>>18&63],e+=l[t>>12&63],e+=l[t>>6&63],e+=l[t&63]):i===2?(e+=l[t>>10&63],e+=l[t>>4&63],e+=l[t<<2&63],e+=l[64]):i===1&&(e+=l[t>>2&63],e+=l[t<<4&63],e+=l[64],e+=l[64]),e}function VU(r){return Object.prototype.toString.call(r)==="[object Uint8Array]"}var U4=new qr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:HU,construct:qU,predicate:VU,represent:WU}),$U=Object.prototype.hasOwnProperty,GU=Object.prototype.toString;function QU(r){if(r===null)return!0;var e=[],t,n,i,s,l,c=r;for(t=0,n=c.length;t<n;t+=1){if(i=c[t],l=!1,GU.call(i)!=="[object Object]")return!1;for(s in i)if($U.call(i,s))if(!l)l=!0;else return!1;if(!l)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function YU(r){return r!==null?r:[]}var H4=new qr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:QU,construct:YU}),XU=Object.prototype.toString;function KU(r){if(r===null)return!0;var e,t,n,i,s,l=r;for(s=new Array(l.length),e=0,t=l.length;e<t;e+=1){if(n=l[e],XU.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[e]=[i[0],n[i[0]]]}return!0}function ZU(r){if(r===null)return[];var e,t,n,i,s,l=r;for(s=new Array(l.length),e=0,t=l.length;e<t;e+=1)n=l[e],i=Object.keys(n),s[e]=[i[0],n[i[0]]];return s}var q4=new qr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:KU,construct:ZU}),JU=Object.prototype.hasOwnProperty;function eH(r){if(r===null)return!0;var e,t=r;for(e in t)if(JU.call(t,e)&&t[e]!==null)return!1;return!0}function tH(r){return r!==null?r:{}}var W4=new qr("tag:yaml.org,2002:set",{kind:"mapping",resolve:eH,construct:tH}),ux=z4.extend({implicit:[F4,I4],explicit:[U4,H4,q4,W4]}),ba=Object.prototype.hasOwnProperty,dp=1,V4=2,$4=3,pp=4,ty=1,rH=2,fT=3,nH=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,iH=/[\x85\u2028\u2029]/,sH=/[,\[\]\{\}]/,G4=/^(?:!|!!|![a-z\-]+!)$/i,Q4=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function dT(r){return Object.prototype.toString.call(r)}function Hi(r){return r===10||r===13}function fl(r){return r===9||r===32}function Sn(r){return r===9||r===32||r===10||r===13}function Eo(r){return r===44||r===91||r===93||r===123||r===125}function aH(r){var e;return 48<=r&&r<=57?r-48:(e=r|32,97<=e&&e<=102?e-97+10:-1)}function lH(r){return r===120?2:r===117?4:r===85?8:0}function oH(r){return 48<=r&&r<=57?r-48:-1}function pT(r){return r===48?"\0":r===97?"\x07":r===98?"\b":r===116||r===9?"	":r===110?`
`:r===118?"\v":r===102?"\f":r===114?"\r":r===101?"\x1B":r===32?" ":r===34?'"':r===47?"/":r===92?"\\":r===78?"":r===95?"":r===76?"\u2028":r===80?"\u2029":""}function cH(r){return r<=65535?String.fromCharCode(r):String.fromCharCode((r-65536>>10)+55296,(r-65536&1023)+56320)}function Y4(r,e,t){e==="__proto__"?Object.defineProperty(r,e,{configurable:!0,enumerable:!0,writable:!0,value:t}):r[e]=t}var X4=new Array(256),K4=new Array(256);for(var oo=0;oo<256;oo++)X4[oo]=pT(oo)?1:0,K4[oo]=pT(oo);function uH(r,e){this.input=r,this.filename=e.filename||null,this.schema=e.schema||ux,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=r.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Z4(r,e){var t={name:r.filename,buffer:r.input.slice(0,-1),position:r.position,line:r.line,column:r.position-r.lineStart};return t.snippet=pU(t),new rn(e,t)}function et(r,e){throw Z4(r,e)}function mp(r,e){r.onWarning&&r.onWarning.call(null,Z4(r,e))}var mT={YAML:function(e,t,n){var i,s,l;e.version!==null&&et(e,"duplication of %YAML directive"),n.length!==1&&et(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&et(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),l=parseInt(i[2],10),s!==1&&et(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=l<2,l!==1&&l!==2&&mp(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var i,s;n.length!==2&&et(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],G4.test(i)||et(e,"ill-formed tag handle (first argument) of the TAG directive"),ba.call(e.tagMap,i)&&et(e,'there is a previously declared suffix for "'+i+'" tag handle'),Q4.test(s)||et(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{et(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function fa(r,e,t,n){var i,s,l,c;if(e<t){if(c=r.input.slice(e,t),n)for(i=0,s=c.length;i<s;i+=1)l=c.charCodeAt(i),l===9||32<=l&&l<=1114111||et(r,"expected valid JSON character");else nH.test(c)&&et(r,"the stream contains non-printable characters");r.result+=c}}function gT(r,e,t,n){var i,s,l,c;for(Er.isObject(t)||et(r,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(t),l=0,c=i.length;l<c;l+=1)s=i[l],ba.call(e,s)||(Y4(e,s,t[s]),n[s]=!0)}function To(r,e,t,n,i,s,l,c,u){var f,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),f=0,d=i.length;f<d;f+=1)Array.isArray(i[f])&&et(r,"nested arrays are not supported inside keys"),typeof i=="object"&&dT(i[f])==="[object Object]"&&(i[f]="[object Object]");if(typeof i=="object"&&dT(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(f=0,d=s.length;f<d;f+=1)gT(r,e,s[f],t);else gT(r,e,s,t);else!r.json&&!ba.call(t,i)&&ba.call(e,i)&&(r.line=l||r.line,r.lineStart=c||r.lineStart,r.position=u||r.position,et(r,"duplicated mapping key")),Y4(e,i,s),delete t[i];return e}function hx(r){var e;e=r.input.charCodeAt(r.position),e===10?r.position++:e===13?(r.position++,r.input.charCodeAt(r.position)===10&&r.position++):et(r,"a line break is expected"),r.line+=1,r.lineStart=r.position,r.firstTabInLine=-1}function xr(r,e,t){for(var n=0,i=r.input.charCodeAt(r.position);i!==0;){for(;fl(i);)i===9&&r.firstTabInLine===-1&&(r.firstTabInLine=r.position),i=r.input.charCodeAt(++r.position);if(e&&i===35)do i=r.input.charCodeAt(++r.position);while(i!==10&&i!==13&&i!==0);if(Hi(i))for(hx(r),i=r.input.charCodeAt(r.position),n++,r.lineIndent=0;i===32;)r.lineIndent++,i=r.input.charCodeAt(++r.position);else break}return t!==-1&&n!==0&&r.lineIndent<t&&mp(r,"deficient indentation"),n}function Wp(r){var e=r.position,t;return t=r.input.charCodeAt(e),!!((t===45||t===46)&&t===r.input.charCodeAt(e+1)&&t===r.input.charCodeAt(e+2)&&(e+=3,t=r.input.charCodeAt(e),t===0||Sn(t)))}function fx(r,e){e===1?r.result+=" ":e>1&&(r.result+=Er.repeat(`
`,e-1))}function hH(r,e,t){var n,i,s,l,c,u,f,d,m=r.kind,g=r.result,y;if(y=r.input.charCodeAt(r.position),Sn(y)||Eo(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(i=r.input.charCodeAt(r.position+1),Sn(i)||t&&Eo(i)))return!1;for(r.kind="scalar",r.result="",s=l=r.position,c=!1;y!==0;){if(y===58){if(i=r.input.charCodeAt(r.position+1),Sn(i)||t&&Eo(i))break}else if(y===35){if(n=r.input.charCodeAt(r.position-1),Sn(n))break}else{if(r.position===r.lineStart&&Wp(r)||t&&Eo(y))break;if(Hi(y))if(u=r.line,f=r.lineStart,d=r.lineIndent,xr(r,!1,-1),r.lineIndent>=e){c=!0,y=r.input.charCodeAt(r.position);continue}else{r.position=l,r.line=u,r.lineStart=f,r.lineIndent=d;break}}c&&(fa(r,s,l,!1),fx(r,r.line-u),s=l=r.position,c=!1),fl(y)||(l=r.position+1),y=r.input.charCodeAt(++r.position)}return fa(r,s,l,!1),r.result?!0:(r.kind=m,r.result=g,!1)}function fH(r,e){var t,n,i;if(t=r.input.charCodeAt(r.position),t!==39)return!1;for(r.kind="scalar",r.result="",r.position++,n=i=r.position;(t=r.input.charCodeAt(r.position))!==0;)if(t===39)if(fa(r,n,r.position,!0),t=r.input.charCodeAt(++r.position),t===39)n=r.position,r.position++,i=r.position;else return!0;else Hi(t)?(fa(r,n,i,!0),fx(r,xr(r,!1,e)),n=i=r.position):r.position===r.lineStart&&Wp(r)?et(r,"unexpected end of the document within a single quoted scalar"):(r.position++,i=r.position);et(r,"unexpected end of the stream within a single quoted scalar")}function dH(r,e){var t,n,i,s,l,c;if(c=r.input.charCodeAt(r.position),c!==34)return!1;for(r.kind="scalar",r.result="",r.position++,t=n=r.position;(c=r.input.charCodeAt(r.position))!==0;){if(c===34)return fa(r,t,r.position,!0),r.position++,!0;if(c===92){if(fa(r,t,r.position,!0),c=r.input.charCodeAt(++r.position),Hi(c))xr(r,!1,e);else if(c<256&&X4[c])r.result+=K4[c],r.position++;else if((l=lH(c))>0){for(i=l,s=0;i>0;i--)c=r.input.charCodeAt(++r.position),(l=aH(c))>=0?s=(s<<4)+l:et(r,"expected hexadecimal character");r.result+=cH(s),r.position++}else et(r,"unknown escape sequence");t=n=r.position}else Hi(c)?(fa(r,t,n,!0),fx(r,xr(r,!1,e)),t=n=r.position):r.position===r.lineStart&&Wp(r)?et(r,"unexpected end of the document within a double quoted scalar"):(r.position++,n=r.position)}et(r,"unexpected end of the stream within a double quoted scalar")}function pH(r,e){var t=!0,n,i,s,l=r.tag,c,u=r.anchor,f,d,m,g,y,b=Object.create(null),w,O,S,k;if(k=r.input.charCodeAt(r.position),k===91)d=93,y=!1,c=[];else if(k===123)d=125,y=!0,c={};else return!1;for(r.anchor!==null&&(r.anchorMap[r.anchor]=c),k=r.input.charCodeAt(++r.position);k!==0;){if(xr(r,!0,e),k=r.input.charCodeAt(r.position),k===d)return r.position++,r.tag=l,r.anchor=u,r.kind=y?"mapping":"sequence",r.result=c,!0;t?k===44&&et(r,"expected the node content, but found ','"):et(r,"missed comma between flow collection entries"),O=w=S=null,m=g=!1,k===63&&(f=r.input.charCodeAt(r.position+1),Sn(f)&&(m=g=!0,r.position++,xr(r,!0,e))),n=r.line,i=r.lineStart,s=r.position,Qo(r,e,dp,!1,!0),O=r.tag,w=r.result,xr(r,!0,e),k=r.input.charCodeAt(r.position),(g||r.line===n)&&k===58&&(m=!0,k=r.input.charCodeAt(++r.position),xr(r,!0,e),Qo(r,e,dp,!1,!0),S=r.result),y?To(r,c,b,O,w,S,n,i,s):m?c.push(To(r,null,b,O,w,S,n,i,s)):c.push(w),xr(r,!0,e),k=r.input.charCodeAt(r.position),k===44?(t=!0,k=r.input.charCodeAt(++r.position)):t=!1}et(r,"unexpected end of the stream within a flow collection")}function mH(r,e){var t,n,i=ty,s=!1,l=!1,c=e,u=0,f=!1,d,m;if(m=r.input.charCodeAt(r.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(r.kind="scalar",r.result="";m!==0;)if(m=r.input.charCodeAt(++r.position),m===43||m===45)ty===i?i=m===43?fT:rH:et(r,"repeat of a chomping mode identifier");else if((d=oH(m))>=0)d===0?et(r,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?et(r,"repeat of an indentation width identifier"):(c=e+d-1,l=!0);else break;if(fl(m)){do m=r.input.charCodeAt(++r.position);while(fl(m));if(m===35)do m=r.input.charCodeAt(++r.position);while(!Hi(m)&&m!==0)}for(;m!==0;){for(hx(r),r.lineIndent=0,m=r.input.charCodeAt(r.position);(!l||r.lineIndent<c)&&m===32;)r.lineIndent++,m=r.input.charCodeAt(++r.position);if(!l&&r.lineIndent>c&&(c=r.lineIndent),Hi(m)){u++;continue}if(r.lineIndent<c){i===fT?r.result+=Er.repeat(`
`,s?1+u:u):i===ty&&s&&(r.result+=`
`);break}for(n?fl(m)?(f=!0,r.result+=Er.repeat(`
`,s?1+u:u)):f?(f=!1,r.result+=Er.repeat(`
`,u+1)):u===0?s&&(r.result+=" "):r.result+=Er.repeat(`
`,u):r.result+=Er.repeat(`
`,s?1+u:u),s=!0,l=!0,u=0,t=r.position;!Hi(m)&&m!==0;)m=r.input.charCodeAt(++r.position);fa(r,t,r.position,!1)}return!0}function yT(r,e){var t,n=r.tag,i=r.anchor,s=[],l,c=!1,u;if(r.firstTabInLine!==-1)return!1;for(r.anchor!==null&&(r.anchorMap[r.anchor]=s),u=r.input.charCodeAt(r.position);u!==0&&(r.firstTabInLine!==-1&&(r.position=r.firstTabInLine,et(r,"tab characters must not be used in indentation")),!(u!==45||(l=r.input.charCodeAt(r.position+1),!Sn(l))));){if(c=!0,r.position++,xr(r,!0,-1)&&r.lineIndent<=e){s.push(null),u=r.input.charCodeAt(r.position);continue}if(t=r.line,Qo(r,e,$4,!1,!0),s.push(r.result),xr(r,!0,-1),u=r.input.charCodeAt(r.position),(r.line===t||r.lineIndent>e)&&u!==0)et(r,"bad indentation of a sequence entry");else if(r.lineIndent<e)break}return c?(r.tag=n,r.anchor=i,r.kind="sequence",r.result=s,!0):!1}function gH(r,e,t){var n,i,s,l,c,u,f=r.tag,d=r.anchor,m={},g=Object.create(null),y=null,b=null,w=null,O=!1,S=!1,k;if(r.firstTabInLine!==-1)return!1;for(r.anchor!==null&&(r.anchorMap[r.anchor]=m),k=r.input.charCodeAt(r.position);k!==0;){if(!O&&r.firstTabInLine!==-1&&(r.position=r.firstTabInLine,et(r,"tab characters must not be used in indentation")),n=r.input.charCodeAt(r.position+1),s=r.line,(k===63||k===58)&&Sn(n))k===63?(O&&(To(r,m,g,y,b,null,l,c,u),y=b=w=null),S=!0,O=!0,i=!0):O?(O=!1,i=!0):et(r,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),r.position+=1,k=n;else{if(l=r.line,c=r.lineStart,u=r.position,!Qo(r,t,V4,!1,!0))break;if(r.line===s){for(k=r.input.charCodeAt(r.position);fl(k);)k=r.input.charCodeAt(++r.position);if(k===58)k=r.input.charCodeAt(++r.position),Sn(k)||et(r,"a whitespace character is expected after the key-value separator within a block mapping"),O&&(To(r,m,g,y,b,null,l,c,u),y=b=w=null),S=!0,O=!1,i=!1,y=r.tag,b=r.result;else if(S)et(r,"can not read an implicit mapping pair; a colon is missed");else return r.tag=f,r.anchor=d,!0}else if(S)et(r,"can not read a block mapping entry; a multiline key may not be an implicit key");else return r.tag=f,r.anchor=d,!0}if((r.line===s||r.lineIndent>e)&&(O&&(l=r.line,c=r.lineStart,u=r.position),Qo(r,e,pp,!0,i)&&(O?b=r.result:w=r.result),O||(To(r,m,g,y,b,w,l,c,u),y=b=w=null),xr(r,!0,-1),k=r.input.charCodeAt(r.position)),(r.line===s||r.lineIndent>e)&&k!==0)et(r,"bad indentation of a mapping entry");else if(r.lineIndent<e)break}return O&&To(r,m,g,y,b,null,l,c,u),S&&(r.tag=f,r.anchor=d,r.kind="mapping",r.result=m),S}function yH(r){var e,t=!1,n=!1,i,s,l;if(l=r.input.charCodeAt(r.position),l!==33)return!1;if(r.tag!==null&&et(r,"duplication of a tag property"),l=r.input.charCodeAt(++r.position),l===60?(t=!0,l=r.input.charCodeAt(++r.position)):l===33?(n=!0,i="!!",l=r.input.charCodeAt(++r.position)):i="!",e=r.position,t){do l=r.input.charCodeAt(++r.position);while(l!==0&&l!==62);r.position<r.length?(s=r.input.slice(e,r.position),l=r.input.charCodeAt(++r.position)):et(r,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!Sn(l);)l===33&&(n?et(r,"tag suffix cannot contain exclamation marks"):(i=r.input.slice(e-1,r.position+1),G4.test(i)||et(r,"named tag handle cannot contain such characters"),n=!0,e=r.position+1)),l=r.input.charCodeAt(++r.position);s=r.input.slice(e,r.position),sH.test(s)&&et(r,"tag suffix cannot contain flow indicator characters")}s&&!Q4.test(s)&&et(r,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{et(r,"tag name is malformed: "+s)}return t?r.tag=s:ba.call(r.tagMap,i)?r.tag=r.tagMap[i]+s:i==="!"?r.tag="!"+s:i==="!!"?r.tag="tag:yaml.org,2002:"+s:et(r,'undeclared tag handle "'+i+'"'),!0}function vH(r){var e,t;if(t=r.input.charCodeAt(r.position),t!==38)return!1;for(r.anchor!==null&&et(r,"duplication of an anchor property"),t=r.input.charCodeAt(++r.position),e=r.position;t!==0&&!Sn(t)&&!Eo(t);)t=r.input.charCodeAt(++r.position);return r.position===e&&et(r,"name of an anchor node must contain at least one character"),r.anchor=r.input.slice(e,r.position),!0}function bH(r){var e,t,n;if(n=r.input.charCodeAt(r.position),n!==42)return!1;for(n=r.input.charCodeAt(++r.position),e=r.position;n!==0&&!Sn(n)&&!Eo(n);)n=r.input.charCodeAt(++r.position);return r.position===e&&et(r,"name of an alias node must contain at least one character"),t=r.input.slice(e,r.position),ba.call(r.anchorMap,t)||et(r,'unidentified alias "'+t+'"'),r.result=r.anchorMap[t],xr(r,!0,-1),!0}function Qo(r,e,t,n,i){var s,l,c,u=1,f=!1,d=!1,m,g,y,b,w,O;if(r.listener!==null&&r.listener("open",r),r.tag=null,r.anchor=null,r.kind=null,r.result=null,s=l=c=pp===t||$4===t,n&&xr(r,!0,-1)&&(f=!0,r.lineIndent>e?u=1:r.lineIndent===e?u=0:r.lineIndent<e&&(u=-1)),u===1)for(;yH(r)||vH(r);)xr(r,!0,-1)?(f=!0,c=s,r.lineIndent>e?u=1:r.lineIndent===e?u=0:r.lineIndent<e&&(u=-1)):c=!1;if(c&&(c=f||i),(u===1||pp===t)&&(dp===t||V4===t?w=e:w=e+1,O=r.position-r.lineStart,u===1?c&&(yT(r,O)||gH(r,O,w))||pH(r,w)?d=!0:(l&&mH(r,w)||fH(r,w)||dH(r,w)?d=!0:bH(r)?(d=!0,(r.tag!==null||r.anchor!==null)&&et(r,"alias node should not have any properties")):hH(r,w,dp===t)&&(d=!0,r.tag===null&&(r.tag="?")),r.anchor!==null&&(r.anchorMap[r.anchor]=r.result)):u===0&&(d=c&&yT(r,O))),r.tag===null)r.anchor!==null&&(r.anchorMap[r.anchor]=r.result);else if(r.tag==="?"){for(r.result!==null&&r.kind!=="scalar"&&et(r,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+r.kind+'"'),m=0,g=r.implicitTypes.length;m<g;m+=1)if(b=r.implicitTypes[m],b.resolve(r.result)){r.result=b.construct(r.result),r.tag=b.tag,r.anchor!==null&&(r.anchorMap[r.anchor]=r.result);break}}else if(r.tag!=="!"){if(ba.call(r.typeMap[r.kind||"fallback"],r.tag))b=r.typeMap[r.kind||"fallback"][r.tag];else for(b=null,y=r.typeMap.multi[r.kind||"fallback"],m=0,g=y.length;m<g;m+=1)if(r.tag.slice(0,y[m].tag.length)===y[m].tag){b=y[m];break}b||et(r,"unknown tag !<"+r.tag+">"),r.result!==null&&b.kind!==r.kind&&et(r,"unacceptable node kind for !<"+r.tag+'> tag; it should be "'+b.kind+'", not "'+r.kind+'"'),b.resolve(r.result,r.tag)?(r.result=b.construct(r.result,r.tag),r.anchor!==null&&(r.anchorMap[r.anchor]=r.result)):et(r,"cannot resolve a node with !<"+r.tag+"> explicit tag")}return r.listener!==null&&r.listener("close",r),r.tag!==null||r.anchor!==null||d}function xH(r){var e=r.position,t,n,i,s=!1,l;for(r.version=null,r.checkLineBreaks=r.legacy,r.tagMap=Object.create(null),r.anchorMap=Object.create(null);(l=r.input.charCodeAt(r.position))!==0&&(xr(r,!0,-1),l=r.input.charCodeAt(r.position),!(r.lineIndent>0||l!==37));){for(s=!0,l=r.input.charCodeAt(++r.position),t=r.position;l!==0&&!Sn(l);)l=r.input.charCodeAt(++r.position);for(n=r.input.slice(t,r.position),i=[],n.length<1&&et(r,"directive name must not be less than one character in length");l!==0;){for(;fl(l);)l=r.input.charCodeAt(++r.position);if(l===35){do l=r.input.charCodeAt(++r.position);while(l!==0&&!Hi(l));break}if(Hi(l))break;for(t=r.position;l!==0&&!Sn(l);)l=r.input.charCodeAt(++r.position);i.push(r.input.slice(t,r.position))}l!==0&&hx(r),ba.call(mT,n)?mT[n](r,n,i):mp(r,'unknown document directive "'+n+'"')}if(xr(r,!0,-1),r.lineIndent===0&&r.input.charCodeAt(r.position)===45&&r.input.charCodeAt(r.position+1)===45&&r.input.charCodeAt(r.position+2)===45?(r.position+=3,xr(r,!0,-1)):s&&et(r,"directives end mark is expected"),Qo(r,r.lineIndent-1,pp,!1,!0),xr(r,!0,-1),r.checkLineBreaks&&iH.test(r.input.slice(e,r.position))&&mp(r,"non-ASCII line breaks are interpreted as content"),r.documents.push(r.result),r.position===r.lineStart&&Wp(r)){r.input.charCodeAt(r.position)===46&&(r.position+=3,xr(r,!0,-1));return}if(r.position<r.length-1)et(r,"end of the stream or a document separator is expected");else return}function J4(r,e){r=String(r),e=e||{},r.length!==0&&(r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r.charCodeAt(0)===65279&&(r=r.slice(1)));var t=new uH(r,e),n=r.indexOf("\0");for(n!==-1&&(t.position=n,et(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)xH(t);return t.documents}function wH(r,e,t){e!==null&&typeof e=="object"&&typeof t>"u"&&(t=e,e=null);var n=J4(r,t);if(typeof e!="function")return n;for(var i=0,s=n.length;i<s;i+=1)e(n[i])}function SH(r,e){var t=J4(r,e);if(t.length!==0){if(t.length===1)return t[0];throw new rn("expected a single document in the stream, but found more")}}var kH=wH,AH=SH,e5={loadAll:kH,load:AH},t5=Object.prototype.toString,r5=Object.prototype.hasOwnProperty,dx=65279,EH=9,Zu=10,TH=13,CH=32,OH=33,_H=34,Q1=35,RH=37,NH=38,MH=39,DH=42,n5=44,LH=45,gp=58,BH=61,zH=62,jH=63,PH=64,i5=91,s5=93,FH=96,a5=123,IH=124,l5=125,Xr={};Xr[0]="\\0";Xr[7]="\\a";Xr[8]="\\b";Xr[9]="\\t";Xr[10]="\\n";Xr[11]="\\v";Xr[12]="\\f";Xr[13]="\\r";Xr[27]="\\e";Xr[34]='\\"';Xr[92]="\\\\";Xr[133]="\\N";Xr[160]="\\_";Xr[8232]="\\L";Xr[8233]="\\P";var UH=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],HH=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function qH(r,e){var t,n,i,s,l,c,u;if(e===null)return{};for(t={},n=Object.keys(e),i=0,s=n.length;i<s;i+=1)l=n[i],c=String(e[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),u=r.compiledTypeMap.fallback[l],u&&r5.call(u.styleAliases,c)&&(c=u.styleAliases[c]),t[l]=c;return t}function WH(r){var e,t,n;if(e=r.toString(16).toUpperCase(),r<=255)t="x",n=2;else if(r<=65535)t="u",n=4;else if(r<=4294967295)t="U",n=8;else throw new rn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+Er.repeat("0",n-e.length)+e}var VH=1,Ju=2;function $H(r){this.schema=r.schema||ux,this.indent=Math.max(1,r.indent||2),this.noArrayIndent=r.noArrayIndent||!1,this.skipInvalid=r.skipInvalid||!1,this.flowLevel=Er.isNothing(r.flowLevel)?-1:r.flowLevel,this.styleMap=qH(this.schema,r.styles||null),this.sortKeys=r.sortKeys||!1,this.lineWidth=r.lineWidth||80,this.noRefs=r.noRefs||!1,this.noCompatMode=r.noCompatMode||!1,this.condenseFlow=r.condenseFlow||!1,this.quotingType=r.quotingType==='"'?Ju:VH,this.forceQuotes=r.forceQuotes||!1,this.replacer=typeof r.replacer=="function"?r.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function vT(r,e){for(var t=Er.repeat(" ",e),n=0,i=-1,s="",l,c=r.length;n<c;)i=r.indexOf(`
`,n),i===-1?(l=r.slice(n),n=c):(l=r.slice(n,i+1),n=i+1),l.length&&l!==`
`&&(s+=t),s+=l;return s}function Y1(r,e){return`
`+Er.repeat(" ",r.indent*e)}function GH(r,e){var t,n,i;for(t=0,n=r.implicitTypes.length;t<n;t+=1)if(i=r.implicitTypes[t],i.resolve(e))return!0;return!1}function yp(r){return r===CH||r===EH}function eh(r){return 32<=r&&r<=126||161<=r&&r<=55295&&r!==8232&&r!==8233||57344<=r&&r<=65533&&r!==dx||65536<=r&&r<=1114111}function bT(r){return eh(r)&&r!==dx&&r!==TH&&r!==Zu}function xT(r,e,t){var n=bT(r),i=n&&!yp(r);return(t?n:n&&r!==n5&&r!==i5&&r!==s5&&r!==a5&&r!==l5)&&r!==Q1&&!(e===gp&&!i)||bT(e)&&!yp(e)&&r===Q1||e===gp&&i}function QH(r){return eh(r)&&r!==dx&&!yp(r)&&r!==LH&&r!==jH&&r!==gp&&r!==n5&&r!==i5&&r!==s5&&r!==a5&&r!==l5&&r!==Q1&&r!==NH&&r!==DH&&r!==OH&&r!==IH&&r!==BH&&r!==zH&&r!==MH&&r!==_H&&r!==RH&&r!==PH&&r!==FH}function YH(r){return!yp(r)&&r!==gp}function gu(r,e){var t=r.charCodeAt(e),n;return t>=55296&&t<=56319&&e+1<r.length&&(n=r.charCodeAt(e+1),n>=56320&&n<=57343)?(t-55296)*1024+n-56320+65536:t}function o5(r){var e=/^\n* /;return e.test(r)}var c5=1,X1=2,u5=3,h5=4,vo=5;function XH(r,e,t,n,i,s,l,c){var u,f=0,d=null,m=!1,g=!1,y=n!==-1,b=-1,w=QH(gu(r,0))&&YH(gu(r,r.length-1));if(e||l)for(u=0;u<r.length;f>=65536?u+=2:u++){if(f=gu(r,u),!eh(f))return vo;w=w&&xT(f,d,c),d=f}else{for(u=0;u<r.length;f>=65536?u+=2:u++){if(f=gu(r,u),f===Zu)m=!0,y&&(g=g||u-b-1>n&&r[b+1]!==" ",b=u);else if(!eh(f))return vo;w=w&&xT(f,d,c),d=f}g=g||y&&u-b-1>n&&r[b+1]!==" "}return!m&&!g?w&&!l&&!i(r)?c5:s===Ju?vo:X1:t>9&&o5(r)?vo:l?s===Ju?vo:X1:g?h5:u5}function KH(r,e,t,n,i){r.dump=(function(){if(e.length===0)return r.quotingType===Ju?'""':"''";if(!r.noCompatMode&&(UH.indexOf(e)!==-1||HH.test(e)))return r.quotingType===Ju?'"'+e+'"':"'"+e+"'";var s=r.indent*Math.max(1,t),l=r.lineWidth===-1?-1:Math.max(Math.min(r.lineWidth,40),r.lineWidth-s),c=n||r.flowLevel>-1&&t>=r.flowLevel;function u(f){return GH(r,f)}switch(XH(e,c,r.indent,l,u,r.quotingType,r.forceQuotes&&!n,i)){case c5:return e;case X1:return"'"+e.replace(/'/g,"''")+"'";case u5:return"|"+wT(e,r.indent)+ST(vT(e,s));case h5:return">"+wT(e,r.indent)+ST(vT(ZH(e,l),s));case vo:return'"'+JH(e)+'"';default:throw new rn("impossible error: invalid scalar style")}})()}function wT(r,e){var t=o5(r)?String(e):"",n=r[r.length-1]===`
`,i=n&&(r[r.length-2]===`
`||r===`
`),s=i?"+":n?"":"-";return t+s+`
`}function ST(r){return r[r.length-1]===`
`?r.slice(0,-1):r}function ZH(r,e){for(var t=/(\n+)([^\n]*)/g,n=(function(){var f=r.indexOf(`
`);return f=f!==-1?f:r.length,t.lastIndex=f,kT(r.slice(0,f),e)})(),i=r[0]===`
`||r[0]===" ",s,l;l=t.exec(r);){var c=l[1],u=l[2];s=u[0]===" ",n+=c+(!i&&!s&&u!==""?`
`:"")+kT(u,e),i=s}return n}function kT(r,e){if(r===""||r[0]===" ")return r;for(var t=/ [^ ]/g,n,i=0,s,l=0,c=0,u="";n=t.exec(r);)c=n.index,c-i>e&&(s=l>i?l:c,u+=`
`+r.slice(i,s),i=s+1),l=c;return u+=`
`,r.length-i>e&&l>i?u+=r.slice(i,l)+`
`+r.slice(l+1):u+=r.slice(i),u.slice(1)}function JH(r){for(var e="",t=0,n,i=0;i<r.length;t>=65536?i+=2:i++)t=gu(r,i),n=Xr[t],!n&&eh(t)?(e+=r[i],t>=65536&&(e+=r[i+1])):e+=n||WH(t);return e}function eq(r,e,t){var n="",i=r.tag,s,l,c;for(s=0,l=t.length;s<l;s+=1)c=t[s],r.replacer&&(c=r.replacer.call(t,String(s),c)),(Es(r,e,c,!1,!1)||typeof c>"u"&&Es(r,e,null,!1,!1))&&(n!==""&&(n+=","+(r.condenseFlow?"":" ")),n+=r.dump);r.tag=i,r.dump="["+n+"]"}function AT(r,e,t,n){var i="",s=r.tag,l,c,u;for(l=0,c=t.length;l<c;l+=1)u=t[l],r.replacer&&(u=r.replacer.call(t,String(l),u)),(Es(r,e+1,u,!0,!0,!1,!0)||typeof u>"u"&&Es(r,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Y1(r,e)),r.dump&&Zu===r.dump.charCodeAt(0)?i+="-":i+="- ",i+=r.dump);r.tag=s,r.dump=i||"[]"}function tq(r,e,t){var n="",i=r.tag,s=Object.keys(t),l,c,u,f,d;for(l=0,c=s.length;l<c;l+=1)d="",n!==""&&(d+=", "),r.condenseFlow&&(d+='"'),u=s[l],f=t[u],r.replacer&&(f=r.replacer.call(t,u,f)),Es(r,e,u,!1,!1)&&(r.dump.length>1024&&(d+="? "),d+=r.dump+(r.condenseFlow?'"':"")+":"+(r.condenseFlow?"":" "),Es(r,e,f,!1,!1)&&(d+=r.dump,n+=d));r.tag=i,r.dump="{"+n+"}"}function rq(r,e,t,n){var i="",s=r.tag,l=Object.keys(t),c,u,f,d,m,g;if(r.sortKeys===!0)l.sort();else if(typeof r.sortKeys=="function")l.sort(r.sortKeys);else if(r.sortKeys)throw new rn("sortKeys must be a boolean or a function");for(c=0,u=l.length;c<u;c+=1)g="",(!n||i!=="")&&(g+=Y1(r,e)),f=l[c],d=t[f],r.replacer&&(d=r.replacer.call(t,f,d)),Es(r,e+1,f,!0,!0,!0)&&(m=r.tag!==null&&r.tag!=="?"||r.dump&&r.dump.length>1024,m&&(r.dump&&Zu===r.dump.charCodeAt(0)?g+="?":g+="? "),g+=r.dump,m&&(g+=Y1(r,e)),Es(r,e+1,d,!0,m)&&(r.dump&&Zu===r.dump.charCodeAt(0)?g+=":":g+=": ",g+=r.dump,i+=g));r.tag=s,r.dump=i||"{}"}function ET(r,e,t){var n,i,s,l,c,u;for(i=t?r.explicitTypes:r.implicitTypes,s=0,l=i.length;s<l;s+=1)if(c=i[s],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof e=="object"&&e instanceof c.instanceOf)&&(!c.predicate||c.predicate(e))){if(t?c.multi&&c.representName?r.tag=c.representName(e):r.tag=c.tag:r.tag="?",c.represent){if(u=r.styleMap[c.tag]||c.defaultStyle,t5.call(c.represent)==="[object Function]")n=c.represent(e,u);else if(r5.call(c.represent,u))n=c.represent[u](e,u);else throw new rn("!<"+c.tag+'> tag resolver accepts not "'+u+'" style');r.dump=n}return!0}return!1}function Es(r,e,t,n,i,s,l){r.tag=null,r.dump=t,ET(r,t,!1)||ET(r,t,!0);var c=t5.call(r.dump),u=n,f;n&&(n=r.flowLevel<0||r.flowLevel>e);var d=c==="[object Object]"||c==="[object Array]",m,g;if(d&&(m=r.duplicates.indexOf(t),g=m!==-1),(r.tag!==null&&r.tag!=="?"||g||r.indent!==2&&e>0)&&(i=!1),g&&r.usedDuplicates[m])r.dump="*ref_"+m;else{if(d&&g&&!r.usedDuplicates[m]&&(r.usedDuplicates[m]=!0),c==="[object Object]")n&&Object.keys(r.dump).length!==0?(rq(r,e,r.dump,i),g&&(r.dump="&ref_"+m+r.dump)):(tq(r,e,r.dump),g&&(r.dump="&ref_"+m+" "+r.dump));else if(c==="[object Array]")n&&r.dump.length!==0?(r.noArrayIndent&&!l&&e>0?AT(r,e-1,r.dump,i):AT(r,e,r.dump,i),g&&(r.dump="&ref_"+m+r.dump)):(eq(r,e,r.dump),g&&(r.dump="&ref_"+m+" "+r.dump));else if(c==="[object String]")r.tag!=="?"&&KH(r,r.dump,e,s,u);else{if(c==="[object Undefined]")return!1;if(r.skipInvalid)return!1;throw new rn("unacceptable kind of an object to dump "+c)}r.tag!==null&&r.tag!=="?"&&(f=encodeURI(r.tag[0]==="!"?r.tag.slice(1):r.tag).replace(/!/g,"%21"),r.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",r.dump=f+" "+r.dump)}return!0}function nq(r,e){var t=[],n=[],i,s;for(K1(r,t,n),i=0,s=n.length;i<s;i+=1)e.duplicates.push(t[n[i]]);e.usedDuplicates=new Array(s)}function K1(r,e,t){var n,i,s;if(r!==null&&typeof r=="object")if(i=e.indexOf(r),i!==-1)t.indexOf(i)===-1&&t.push(i);else if(e.push(r),Array.isArray(r))for(i=0,s=r.length;i<s;i+=1)K1(r[i],e,t);else for(n=Object.keys(r),i=0,s=n.length;i<s;i+=1)K1(r[n[i]],e,t)}function iq(r,e){e=e||{};var t=new $H(e);t.noRefs||nq(r,t);var n=r;return t.replacer&&(n=t.replacer.call({"":n},"",n)),Es(t,0,n,!0,!0)?t.dump+`
`:""}var sq=iq,aq={dump:sq};function px(r,e){return function(){throw new Error("Function yaml."+r+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var lq=qr,oq=T4,cq=R4,uq=B4,hq=z4,fq=ux,dq=e5.load,pq=e5.loadAll,mq=aq.dump,gq=rn,yq={binary:U4,float:L4,map:_4,null:N4,pairs:q4,set:W4,timestamp:F4,bool:M4,int:D4,merge:I4,omap:H4,seq:O4,str:C4},vq=px("safeLoad","load"),bq=px("safeLoadAll","loadAll"),xq=px("safeDump","dump"),Sl={Type:lq,Schema:oq,FAILSAFE_SCHEMA:cq,JSON_SCHEMA:uq,CORE_SCHEMA:hq,DEFAULT_SCHEMA:fq,load:dq,loadAll:pq,dump:mq,YAMLException:gq,types:yq,safeLoad:vq,safeLoadAll:bq,safeDump:xq};function mx({value:r,onChange:e,placeholder:t}){const n=ce.useRef(null),i=ce.useRef(null),[s,l]=ce.useState(null);return ce.useEffect(()=>{try{r.trim()&&(Sl.load(r),l(null))}catch(c){c instanceof Error&&l(c.message)}},[r]),ce.useEffect(()=>{if(!n.current)return;const c=He.theme({"&":{height:"100%",fontSize:"14px"},".cm-content":{fontFamily:"Monaco, Menlo, monospace",padding:"16px"},".cm-gutters":{backgroundColor:"var(--color-surface)",color:"var(--color-text-muted)",border:"none"},".cm-activeLineGutter":{backgroundColor:"var(--color-surface-hover)"},".cm-activeLine":{backgroundColor:"rgba(59, 130, 246, 0.1)"},"&.cm-focused":{outline:"none"}}),u=kt.create({doc:r,extensions:[mI,tU(),c,He.updateListener.of(d=>{d.docChanged&&e(d.state.doc.toString())}),He.theme({"&":{backgroundColor:"var(--color-surface)"}})]}),f=new He({state:u,parent:n.current});return i.current=f,()=>{f.destroy(),i.current=null}},[]),ce.useEffect(()=>{if(i.current){const c=i.current.state.doc.toString();c!==r&&i.current.dispatch({changes:{from:0,to:c.length,insert:r}})}},[r]),N.jsxs("div",{className:"flex flex-col h-full bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] overflow-hidden",children:[s&&N.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-500/10 border-b border-red-500/20 text-red-400 text-sm",children:[N.jsx(pl,{size:16}),N.jsxs("span",{children:["YAML: ",s.split(`
`)[0]]})]}),N.jsx("div",{className:"flex-1 overflow-hidden",children:N.jsx("div",{ref:n,className:"h-full"})}),!r&&t&&N.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:N.jsx("p",{className:"text-[var(--color-text-muted)]",children:t})})]})}function gx({value:r,onChange:e,label:t}){const[n,i]=ce.useState(!1),[s,l]=ce.useState(r),c=ce.useRef(null);ce.useEffect(()=>{l(r)},[r]),ce.useEffect(()=>{n&&c.current&&(c.current.focus(),c.current.select())},[n]);const u=()=>{if(s.trim()){let m=s.trim();!m.endsWith(".yaml")&&!m.endsWith(".yml")&&(m+=".yaml"),e(m)}i(!1)},f=()=>{l(r),i(!1)},d=m=>{m.key==="Enter"?u():m.key==="Escape"&&f()};return n?N.jsxs("div",{children:[N.jsx("h1",{className:"font-semibold",children:t}),N.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[N.jsx("input",{ref:c,type:"text",value:s,onChange:m=>l(m.target.value),onKeyDown:d,onBlur:u,className:"px-2 py-1 text-sm rounded bg-[var(--color-bg)] border border-[var(--color-primary)] focus:outline-none"}),N.jsx("button",{onClick:u,className:"p-1 rounded hover:bg-green-500/20 text-green-400",children:N.jsx(v_,{size:14})}),N.jsx("button",{onClick:f,className:"p-1 rounded hover:bg-red-500/20 text-red-400",children:N.jsx(Ab,{size:14})})]})]}):N.jsxs("div",{children:[N.jsx("h1",{className:"font-semibold",children:t}),N.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1 text-sm text-[var(--color-text-muted)] hover:text-[var(--color-text)] transition-colors group",children:[N.jsx("span",{children:r}),N.jsx(VL,{size:12,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]})}function Z1({onInsert:r}){const[e,t]=ce.useState(!1),[n,i]=ce.useState(""),s=()=>{n.trim()&&(r("$"+n+"$"),i(""),t(!1))};return e?N.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>t(!1),children:N.jsxs("div",{onClick:l=>l.stopPropagation(),className:"bg-[var(--color-surface)] rounded-xl p-4 w-[500px] shadow-2xl",children:[N.jsxs("div",{className:"flex items-center justify-between mb-3",children:[N.jsx("h3",{className:"font-medium",children:""}),N.jsx("button",{onClick:()=>t(!1),className:"p-1 hover:bg-[var(--color-surface-hover)] rounded",children:N.jsx(Ab,{size:16})})]}),N.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:[{display:"a/b",latex:"\\frac{}{}"},{display:"x",latex:"^{2}"},{display:"x",latex:"_{n}"},{display:"",latex:"\\sqrt{}"},{display:"vec",latex:"\\vec{}"},{display:"bar",latex:"\\overline{}"},{display:"hat",latex:"\\hat{}"},{display:"",latex:"\\cdot "},{display:"",latex:"\\partial "},{display:"",latex:"\\pi"},{display:"",latex:"\\theta"},{display:"",latex:"\\sum"},{display:"",latex:"\\int"},{display:"sin",latex:"\\sin "},{display:"cos",latex:"\\cos "},{display:"tan",latex:"\\tan "},{display:"log",latex:"\\log "},{display:"",latex:"\\alpha"},{display:"",latex:"\\beta"},{display:"",latex:"\\times "},{display:"",latex:"\\div "},{display:"",latex:"\\pm "},{display:"",latex:"\\leqq "},{display:"",latex:"\\geqq "},{display:"",latex:"\\leq "},{display:"",latex:"\\geq "},{display:"",latex:"\\neq "},{display:"",latex:"\\not\\equiv "},{display:"",latex:"\\backsim "},{display:"",latex:"\\sim "},{display:"",latex:"\\simeq "},{display:"",latex:"\\cong "},{display:"",latex:"\\infty"},{display:"",latex:"\\to "},{display:"",latex:"\\in "},{display:"",latex:"\\notin "},{display:"",latex:"\\subset "},{display:"",latex:"\\supset "},{display:"",latex:"\\cup "},{display:"",latex:"\\cap "},{display:"",latex:"\\emptyset"},{display:"",latex:"\\mathbb{N}"},{display:"",latex:"\\mathbb{Z}"},{display:"",latex:"\\mathbb{R}"}].map((l,c)=>N.jsx("button",{onClick:()=>i(n+l.latex),className:"px-2 py-1 text-sm rounded bg-[var(--color-bg)] hover:bg-[var(--color-primary)] hover:text-white transition-colors",children:l.display},c))}),N.jsx("input",{type:"text",value:n,onChange:l=>i(l.target.value),onKeyDown:l=>l.key==="Enter"&&s(),placeholder:"x^2 + y^2 = r^2",className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none font-mono text-sm mb-3",autoFocus:!0}),N.jsxs("div",{className:"flex justify-end gap-2",children:[N.jsx("button",{onClick:()=>t(!1),className:"px-3 py-1.5 text-sm rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]",children:""}),N.jsx("button",{onClick:s,className:"px-3 py-1.5 text-sm rounded-lg bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary-dark)]",children:""})]})]})}):N.jsx("button",{onClick:()=>t(!0),className:"px-2 py-1 text-xs rounded bg-purple-500/20 text-purple-400 hover:bg-purple-500/30 transition-colors",title:"",children:"(x)"})}function wq({onYamlChange:r,yamlValue:e}){const[t,n]=ce.useState({:"1",:"",:"",:50,:100,:"",:["4",""],:[{:1,:"",:!0,:25,:[{:"(1)",:"",:10,:"",:""}]}]}),[i,s]=ce.useState(!1);ce.useEffect(()=>{if(e&&!i)try{const k=Sl.load(e);k&&typeof k=="object"&&(n({:k.||"1",:k.||"",:k.||"",:k.||50,:k.||100,:k.||"",:k.||[],:(k.||[]).map((E,A)=>{const _=E;return{:_.||A+1,:_.||"",:_.??!0,:_.||25,:_.||!1,:(_.||[]).map((U,M)=>{if(typeof U=="object"&&U!==null){const Q=U;return{:Q.||`(${M+1})`,:Q.||"",:Q.||10,:Q.||"",:Q.||"",:Q.||!1}}return{:`(${M+1})`,:String(U),:10,:"",:""}})}})}),s(!0))}catch(k){console.error("YAML parse error:",k)}},[e,i]);const l=(k,E)=>{n(A=>{const _={...A,[k]:E};return O(_),_})},c=()=>{l("",[...t.,""])},u=(k,E)=>{const A=[...t.];A[k]=E,l("",A)},f=k=>{l("",t..filter((E,A)=>A!==k))},d=()=>{l("",[...t.,{:t..length+1,:"",:!0,:25,:[{:"(1)",:"",:10,:"",:""}]}])},m=(k,E,A)=>{const _=[...t.];_[k]={..._[k],[E]:A},l("",_)},g=k=>{l("",t..filter((E,A)=>A!==k))},y=k=>{const E=[...t.],A=E[k]..length;E[k]..push({:`(${A+1})`,:"",:10,:"",:""}),l("",E)},b=(k,E,A,_)=>{const U=[...t.];U[k].[E]={...U[k].[E],[A]:_},l("",U)},w=(k,E)=>{const A=[...t.];A[k].=A[k]..filter((_,U)=>U!==E),l("",A)},O=k=>{const E=S(k);r(E)},S=k=>{const E=_=>_.replace(/\\/g,"\\\\").replace(/"/g,'\\"');let A=`: "${E(k.)}"
`;return A+=`: "${E(k.)}"
`,A+=`: "${E(k.)}"
`,A+=`: ${k.}
`,A+=`: ${k.}
`,A+=`: "${E(k.)}"

`,A+=`:
`,k..forEach(_=>{A+=`  - "${E(_)}"
`}),A+=`
:
`,k..forEach(_=>{A+=`  - : ${_.}
`,A+=`    : "${E(_.)}"
`,A+=`    : ${_.}
`,A+=`    : ${_.}
`,_.&&(A+=`    : true
`),A+=`    :
`,_..forEach(U=>{A+=`      - : "${E(U.)}"
`,A+=`        : "${E(U.)}"
`,A+=`        : ${U.}
`,U.&&(A+=`        : true
`),U.&&(A+=`        : "${E(U.)}"
`),U.&&(A+=`        : "${E(U.)}"
`)})}),A};return N.jsxs("div",{className:"h-full overflow-y-auto p-4 space-y-6",children:[N.jsxs("section",{className:"space-y-3",children:[N.jsx("h3",{className:"font-semibold text-sm text-[var(--color-text-muted)] uppercase tracking-wide",children:""}),N.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:t.,onChange:k=>l("",k.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:t.,onChange:k=>l("",k.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:": 4 "})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:t.,onChange:k=>l("",k.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:": C"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:t.,onChange:k=>l("",k.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"number",value:t.,onChange:k=>l("",Number(k.target.value)),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"number",value:t.,onChange:k=>l("",Number(k.target.value)),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]})]})]}),N.jsxs("section",{className:"space-y-3",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("h3",{className:"font-semibold text-sm text-[var(--color-text-muted)] uppercase tracking-wide",children:""}),N.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-xs text-[var(--color-primary)] hover:underline",children:[N.jsx(ol,{size:14})," "]})]}),N.jsx("div",{className:"space-y-2",children:t..map((k,E)=>N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(_L,{size:16,className:"text-[var(--color-text-muted)] cursor-grab"}),N.jsx("input",{type:"text",value:k,onChange:A=>u(E,A.target.value),className:"flex-1 px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"}),N.jsx("button",{onClick:()=>f(E),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:N.jsx(cl,{size:16})})]},E))})]}),N.jsxs("section",{className:"space-y-4",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("h3",{className:"font-semibold text-sm text-[var(--color-text-muted)] uppercase tracking-wide",children:""}),N.jsxs("button",{onClick:d,className:"flex items-center gap-1 text-xs text-[var(--color-primary)] hover:underline",children:[N.jsx(ol,{size:14})," "]})]}),t..map((k,E)=>N.jsxs("div",{className:"bg-[var(--color-surface-hover)] rounded-xl p-4 space-y-3",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("h4",{className:"font-medium",children:[" ",k.]}),N.jsx("button",{onClick:()=>g(E),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:N.jsx(cl,{size:16})})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:k.,onChange:A=>m(E,"",A.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:": "})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"number",value:k.,onChange:A=>m(E,"",Number(A.target.value)),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),N.jsxs("div",{className:"flex items-end pb-1 gap-4",children:[N.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[N.jsx("input",{type:"checkbox",checked:k.,onChange:A=>m(E,"",A.target.checked),className:"w-4 h-4"}),N.jsx("span",{className:"text-sm",children:""})]}),N.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[N.jsx("input",{type:"checkbox",checked:k.||!1,onChange:A=>m(E,"",A.target.checked),className:"w-4 h-4 accent-orange-500"}),N.jsx("span",{className:"text-sm text-orange-400",children:""})]})]})]}),N.jsxs("div",{className:"mt-4 ml-4 space-y-3",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:""}),N.jsxs("button",{onClick:()=>y(E),className:"flex items-center gap-1 text-xs text-[var(--color-primary)] hover:underline",children:[N.jsx(ol,{size:12})," "]})]}),k..map((A,_)=>N.jsxs("div",{className:"bg-[var(--color-bg)] rounded-lg p-3 space-y-2",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"text-sm font-medium",children:A.}),N.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[N.jsx("input",{type:"checkbox",checked:A.||!1,onChange:U=>b(E,_,"",U.target.checked),className:"w-3 h-3 accent-orange-500"}),N.jsx("span",{className:"text-xs text-orange-400",children:""})]})]}),N.jsx("button",{onClick:()=>w(E,_),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:N.jsx(cl,{size:14})})]}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex items-center justify-between mb-1",children:[N.jsx("label",{className:"text-xs text-[var(--color-text-muted)]",children:""}),N.jsx(Z1,{onInsert:U=>b(E,_,"",A.+U)})]}),N.jsx("textarea",{value:A.,onChange:U=>b(E,_,"",U.target.value),rows:2,className:"w-full px-3 py-2 rounded-lg bg-[var(--color-surface)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm resize-none",placeholder:"... ( $...$ )"})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"number",value:A.,onChange:U=>b(E,_,"",Number(U.target.value)),className:"w-full px-2 py-1 rounded bg-[var(--color-surface)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:A.,onChange:U=>b(E,_,"",U.target.value),className:"w-full px-2 py-1 rounded bg-[var(--color-surface)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:A.,onChange:U=>b(E,_,"",U.target.value),className:"w-full px-2 py-1 rounded bg-[var(--color-surface)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]})]})]},_))]})]},E))]})]})}function Sq({yaml:r,onYamlChange:e,initialData:t}){const[n,i]=ce.useState({:t?.||"C ",:t?.||"",:t?.??!0,:t?.||[{type:"header",text:""},{:1,:"",:10,:6,:"",:""}]}),s=ce.useRef(!1),l=ce.useRef(r);ce.useEffect(()=>{if(!r||s.current||r===l.current){s.current=!1;return}l.current=r;try{const k=Sl.load(r);k&&i({:k.||"",:k.||"",:k.??!0,:(k.||[]).map(E=>({...E,:Array.isArray(E.)?E..map(A=>typeof A=="string"?A:String(A)):void 0}))})}catch{}},[r]);const c=(k,E)=>{i(A=>{const _={...A,[k]:E};return O(_),_})},u=()=>{c("",[...n.,{type:"header",text:""}])},f=()=>{const E=n..filter(A=>A.).length+1;c("",[...n.,{:E,:"",:10,:6,:"",:""}])},d=(k,E)=>{const A=[...n.];A[k]={...A[k],...E},c("",A)},m=k=>{c("",n..filter((E,A)=>A!==k))},g=(k,E)=>{const A=[...n.],_=E==="up"?k-1:k+1;_<0||_>=A.length||([A[k],A[_]]=[A[_],A[k]],c("",A))},y=k=>{const E=[...n.],A=E[k].||[];E[k].=[...A,""],c("",E)},b=(k,E,A)=>{const _=[...n.];_[k].&&(_[k].[E]=A,c("",_))},w=(k,E)=>{const A=[...n.];A[k].&&(A[k].=A[k]..filter((_,U)=>U!==E),c("",A))},O=k=>{const E=S(k);s.current=!0,l.current=E,e(E)},S=k=>{const E=_=>_.replace(/\\/g,"\\\\").replace(/"/g,'\\"');let A=`: "${E(k.)}"
`;return A+=`: "${E(k.)}"
`,A+=`: ${k.}

`,A+=`:
`,k..forEach(_=>{_.type==="header"?(A+=`  - type: header
`,A+=`    text: "${E(_.text||"")}"
`,_.&&(A+=`    : true
`)):(A+=`  - : ${_.}
`,A+=`    : "${E(_.||"")}"
`,_.&&(A+=`    : ${_.}
`),_.&&(A+=`    : ${_.}
`),_.&&_..length>0&&(A+=`    :
`,_..forEach(U=>{A+=`      - "${E(U)}"
`})),_.&&(Array.isArray(_.)?(A+=`    :
`,_..forEach(U=>{A+=`      - "${E(U)}"
`})):A+=`    : "${E(_.)}"
`),_.&&(A+=`    : "${E(_.)}"
`),_.&&(A+=`    : true
`))}),A};return N.jsxs("div",{className:"h-full overflow-y-auto p-4 space-y-6",children:[N.jsxs("section",{className:"space-y-3",children:[N.jsx("h3",{className:"font-semibold text-sm text-[var(--color-text-muted)] uppercase tracking-wide",children:""}),N.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:n.,onChange:k=>c("",k.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:n.,onChange:k=>c("",k.target.value),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:": 4-4 "})]})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("input",{type:"checkbox",id:"createAnswer",checked:n.,onChange:k=>c("",k.target.checked),className:"w-4 h-4"}),N.jsx("label",{htmlFor:"createAnswer",className:"text-sm cursor-pointer",children:""})]})]}),N.jsxs("section",{className:"space-y-4",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("h3",{className:"font-semibold text-sm text-[var(--color-text-muted)] uppercase tracking-wide",children:""}),N.jsxs("div",{className:"flex gap-2",children:[N.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-xs text-[var(--color-text-muted)] hover:text-[var(--color-text)] px-2 py-1 rounded bg-[var(--color-surface-hover)]",children:[N.jsx(ol,{size:12})," "]}),N.jsxs("button",{onClick:f,className:"flex items-center gap-1 text-xs text-[var(--color-primary)] hover:underline",children:[N.jsx(ol,{size:14})," "]})]})]}),n..map((k,E)=>N.jsx("div",{className:"bg-[var(--color-surface-hover)] rounded-xl p-4 space-y-3",children:k.type==="header"?N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("div",{className:"flex flex-col",children:[N.jsx("button",{onClick:()=>g(E,"up"),disabled:E===0,className:"p-0.5 rounded hover:bg-[var(--color-border)] text-[var(--color-text-muted)] disabled:opacity-30",children:N.jsx(vA,{size:14})}),N.jsx("button",{onClick:()=>g(E,"down"),disabled:E===n..length-1,className:"p-0.5 rounded hover:bg-[var(--color-border)] text-[var(--color-text-muted)] disabled:opacity-30",children:N.jsx(yA,{size:14})})]}),N.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:""}),N.jsx("input",{type:"text",value:k.text||"",onChange:A=>d(E,{text:A.target.value}),className:"flex-1 px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm font-medium",placeholder:": "}),N.jsxs("label",{className:"flex items-center gap-1 text-xs text-orange-400 cursor-pointer",children:[N.jsx("input",{type:"checkbox",checked:k.||!1,onChange:A=>d(E,{:A.target.checked}),className:"rounded"}),""]}),N.jsx("button",{onClick:()=>m(E),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:N.jsx(cl,{size:16})})]}):N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("div",{className:"flex flex-col",children:[N.jsx("button",{onClick:()=>g(E,"up"),disabled:E===0,className:"p-0.5 rounded hover:bg-[var(--color-border)] text-[var(--color-text-muted)] disabled:opacity-30",children:N.jsx(vA,{size:14})}),N.jsx("button",{onClick:()=>g(E,"down"),disabled:E===n..length-1,className:"p-0.5 rounded hover:bg-[var(--color-border)] text-[var(--color-text-muted)] disabled:opacity-30",children:N.jsx(yA,{size:14})})]}),N.jsxs("h4",{className:"font-medium",children:[" ",k.]}),N.jsxs("label",{className:"flex items-center gap-1 text-xs text-orange-400 cursor-pointer",children:[N.jsx("input",{type:"checkbox",checked:k.||!1,onChange:A=>d(E,{:A.target.checked}),className:"rounded"}),""]})]}),N.jsx("button",{onClick:()=>m(E),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:N.jsx(cl,{size:16})})]}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex items-center justify-between mb-1",children:[N.jsx("label",{className:"text-xs text-[var(--color-text-muted)]",children:""}),N.jsx(Z1,{onInsert:A=>d(E,{:(k.||"")+A})})]}),N.jsx("textarea",{value:k.||"",onChange:A=>d(E,{:A.target.value}),rows:2,className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm resize-none",placeholder:"... ( $...$ )"})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"number",value:k.||10,onChange:A=>d(E,{:Number(A.target.value)}),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"number",value:k.||6,onChange:A=>d(E,{:Number(A.target.value)}),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:typeof k.=="string"?k.:"",onChange:A=>d(E,{:A.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]})]}),N.jsxs("div",{className:"ml-4 space-y-2",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:""}),N.jsxs("button",{onClick:()=>y(E),className:"flex items-center gap-1 text-xs text-[var(--color-primary)] hover:underline",children:[N.jsx(ol,{size:12})," "]})]}),(k.||[]).map((A,_)=>N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("span",{className:"text-xs text-[var(--color-text-muted)]",children:["(",_+1,")"]}),N.jsx("input",{type:"text",value:A,onChange:U=>b(E,_,U.target.value),className:"flex-1 px-2 py-1 rounded bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:"..."}),N.jsx(Z1,{onInsert:U=>b(E,_,A+U)}),N.jsx("button",{onClick:()=>w(E,_),className:"p-1 rounded hover:bg-red-500/10 text-[var(--color-text-muted)] hover:text-red-400",children:N.jsx(cl,{size:14})})]},_))]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:""}),N.jsx("input",{type:"text",value:k.||"",onChange:A=>d(E,{:A.target.value}),className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm",placeholder:"..."})]})]})},E))]})]})}function yx({html:r,loading:e}){const t=ce.useRef(null);return ce.useEffect(()=>{if(t.current&&r){const n=t.current.contentDocument;n&&(n.open(),n.write(r),n.close())}},[r]),N.jsxs("div",{className:"h-full bg-white rounded-xl overflow-hidden shadow-lg relative",children:[N.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-b from-gray-100 to-transparent h-8 z-10 flex items-center px-4",children:[N.jsxs("div",{className:"flex gap-1.5",children:[N.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),N.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),N.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),N.jsx("span",{className:"ml-4 text-xs text-gray-500",children:""})]}),e?N.jsxs("div",{className:"h-full flex items-center justify-center text-gray-400",children:[N.jsx(jL,{className:"animate-spin mr-2",size:24}),N.jsx("span",{children:"..."})]}):r?N.jsx("iframe",{ref:t,className:"w-full h-full border-0 pt-8",title:"Preview",sandbox:"allow-same-origin"}):N.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 pt-8",children:N.jsxs("div",{className:"text-center",children:[N.jsx("p",{className:"text-4xl mb-4",children:""}),N.jsx("p",{children:"YAML"})]})})]})}const kq={exam:{:"",:"",:"442",:"50",:"",:""},worksheet:{:"",:"",:"3",:"",:"",:"A412"},"lesson-plan":{:"",:"",:"",:"50",:"",:""}},Aq=r=>{switch(r){case"exam":return`# 

##  
**YAML**

 
- Markdown#
- 
- 
- YAML

 
- \`\`\`yaml  \`\`\` 
- 

##  
LaTeX
- $x^2 + y^2 = r^2$
- $\\leqq$$\\geqq$
- $\\frac{a}{b}$
- $0 \\leqq x \\leqq 1$

## Step 1: 


## Step 2: YAML

\`\`\`yaml
: ""
: "{{}}"
: ""
: {{}}
: 100
: "{{}}"

:
  - ""
  - ""
  - ""

:
  - : 1
    : "[1]"
    : true
    : 30
    :
      - : "(1)"
        : "[]"
        : 10
        : "[]"
        : "[]"
      - : "(2)"
        : "[]"
        : 10
        : "[]"
        : "[]"
      - : "(3)"
        : "[]"
        : 10
        : "[]"
        : "[]"

  - : 2
    : "[2]"
    : true
    : 30
    :
      - : "(1)"
        : "[]"
        : 15
        : "[]"
        : "[]"
      - : "(2)"
        : "[]"
        : 15
        : "[]"
        : "[]"

  - : 3
    : "[3]"
    : true
    : 40
    :
      - : "(1)"
        : "[]"
        : 20
        : "[]"
        : "[]"
      - : "(2)"
        : "[]"
        : 20
        : "[]"
        : "[]"
\`\`\`

**YAML**
** YAML**

****
{{}}`;case"worksheet":return`# 

##  
**YAML**

 
- Markdown#
- 
- 
- YAML

 
- \`\`\`yaml  \`\`\` 
- 

##  
LaTeX
- $x^2 + y^2 = r^2$
- $\\leqq$$\\geqq$
- $\\frac{a}{b}$
- $0 \\leqq x \\leqq 1$

## YAML

\`\`\`yaml
: "{{}} {{}}"
: ""
: true

:
  - type: header
    text: ""

  - : 1
    : "[]"
    : 10
    : 5
    : "[]"
    : "[]"

  - : 2
    : "[]"
    : 10
    : 5
    : "[]"
    : "[]"

  - type: header
    text: ""

  - : 3
    : "[]"
    : 15
    : 8
    : "[]"
    : "[]"

  - : 4
    : "[]"
    : 15
    : 8
    : "[]"
    : "[]"

  - type: header
    text: ""

  - : 5
    : "[]"
    : 20
    : 10
    : "[]"
    : "[]"
\`\`\`

**YAML**
** YAML**

****
{{}}`;case"lesson-plan":return`# 

##  
**YAML**

 
- Markdown#
- 
- 
- YAML

 
- \`\`\`yaml  \`\`\` 
- 

## YAML

\`\`\`yaml
: "{{}}"
: "[]"
: "[]"
: "[]"
: "[]"
: "[]"
: "{{}}"
: "[]"

:
  - "[1]"
  - "[2]"

:
  - "[1]"
  - "[2]"
  - "[3]"

:
  :
    - "[1]"
    - "[2]"
  :
    - "[1]"
    - "[2]"

:
  :
    : 10
    :
      - "[1]"
    :
      - "[1]"
    :
      - "[1]"
  
  1:
    : 20
    :
      - "[1]"
      - "[2]"
    :
      - "[1]"
      - "[2]"
    :
      - "[1]"
  
  2:
    : 15
    :
      - "[]"
    :
      - "[]"
    :
      - "[]"
  
  :
    : 5
    :
      - "[]"
    :
      - "[]"
    :
      - "[]"

:
  : "[]"
  : "[]"
  : "[]"

:
  : "[]"
  : "[]"
  : "[]"

:
  - "[1]"
  - "[2]"

:
  - "[]"
\`\`\`

** YAML**

****
- {{}}
{{}}`}},Eq=(r,e)=>{let t=Aq(r);const n=[];e.&&n.push(`- ${e.}`),e.&&n.push(`- ${e.}`),e.&&n.push(`- ${e.}`),e.&&n.push(`- ${e.}`),e.&&n.push(`- ${e.}`),e.&&n.push(`- ${e.}`);const i=n.length>0?n.join(`
`):"- ",s=e..match(/(\d+)/),l=s?s[1]:"50";return t=t.replace(/\{\{\}\}/g,e.||"[]").replace(/\{\{\}\}/g,e.||"[]").replace(/\{\{\}\}/g,e.||"50").replace(/\{\{\}\}/g,l).replace(/\{\{\}\}/g,i),t};function vx({type:r}){const[e,t]=ce.useState(!1),[n,i]=ce.useState(kq[r]),s=(f,d)=>{i(m=>({...m,[f]:d}))},l=async()=>{const f=Eq(r,n);await navigator.clipboard.writeText(f),t(!0),setTimeout(()=>t(!1),2e3)},c={:"",:"",:"",:r==="lesson-plan"?"":"",:"",:""},u=f=>!(r==="lesson-plan"&&f===""||r==="worksheet"&&f===""||f===""&&r!=="lesson-plan");return N.jsxs("div",{className:"bg-gradient-to-br from-[var(--color-surface)] to-[#1a2744] rounded-xl border border-[var(--color-border)] overflow-hidden",children:[N.jsxs("div",{className:"px-4 py-3 border-b border-[var(--color-border)] flex items-center justify-between bg-[var(--color-surface)]",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(BL,{size:18,className:"text-yellow-400"}),N.jsx("span",{className:"font-medium",children:"Copilot"})]}),N.jsx("button",{onClick:l,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 ${e?"bg-green-500/20 text-green-400":"bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary-dark)]"}`,children:e?N.jsxs(N.Fragment,{children:[N.jsx(v_,{size:16}),""]}):N.jsxs(N.Fragment,{children:[N.jsx(w_,{size:16}),""]})})]}),N.jsxs("div",{className:"p-4 space-y-3",children:[N.jsx("p",{className:"text-sm text-[var(--color-text-muted)] mb-3",children:" "}),N.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(n).map(f=>u(f)&&N.jsxs("div",{className:f===""?"col-span-2":"",children:[N.jsx("label",{className:"block text-xs text-[var(--color-text-muted)] mb-1",children:c[f]}),N.jsx("input",{type:"text",value:n[f],onChange:d=>s(f,d.target.value),placeholder:`${c[f]}...`,className:"w-full px-3 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:border-[var(--color-primary)] focus:outline-none text-sm"})]},f))}),N.jsx("div",{className:"mt-4 pt-3 border-t border-[var(--color-border)]",children:N.jsx("p",{className:"text-xs text-[var(--color-text-muted)]",children:" Copilot"})})]})]})}function bx(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var kl=bx();function f5(r){kl=r}var Eu={exec:()=>null};function Rt(r,e=""){let t=typeof r=="string"?r:r.source,n={replace:(i,s)=>{let l=typeof s=="string"?s:s.source;return l=l.replace(nn.caret,"$1"),t=t.replace(i,l),n},getRegex:()=>new RegExp(t,e)};return n}var Tq=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),nn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},Cq=/^(?:[ \t]*(?:\n|$))+/,Oq=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,_q=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,fh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Rq=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,xx=/(?:[*+-]|\d{1,9}[.)])/,d5=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,p5=Rt(d5).replace(/bull/g,xx).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Nq=Rt(d5).replace(/bull/g,xx).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),wx=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Mq=/^[^\n]+/,Sx=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Dq=Rt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Sx).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Lq=Rt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,xx).getRegex(),Vp="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",kx=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Bq=Rt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",kx).replace("tag",Vp).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),m5=Rt(wx).replace("hr",fh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vp).getRegex(),zq=Rt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",m5).getRegex(),Ax={blockquote:zq,code:Oq,def:Dq,fences:_q,heading:Rq,hr:fh,html:Bq,lheading:p5,list:Lq,newline:Cq,paragraph:m5,table:Eu,text:Mq},TT=Rt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",fh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vp).getRegex(),jq={...Ax,lheading:Nq,table:TT,paragraph:Rt(wx).replace("hr",fh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",TT).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vp).getRegex()},Pq={...Ax,html:Rt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",kx).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Eu,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Rt(wx).replace("hr",fh).replace("heading",` *#{1,6} *[^
]`).replace("lheading",p5).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Fq=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Iq=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,g5=/^( {2,}|\\)\n(?!\s*$)/,Uq=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,$p=/[\p{P}\p{S}]/u,Ex=/[\s\p{P}\p{S}]/u,y5=/[^\s\p{P}\p{S}]/u,Hq=Rt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ex).getRegex(),v5=/(?!~)[\p{P}\p{S}]/u,qq=/(?!~)[\s\p{P}\p{S}]/u,Wq=/(?:[^\s\p{P}\p{S}]|~)/u,Vq=Rt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Tq?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),b5=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,$q=Rt(b5,"u").replace(/punct/g,$p).getRegex(),Gq=Rt(b5,"u").replace(/punct/g,v5).getRegex(),x5="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Qq=Rt(x5,"gu").replace(/notPunctSpace/g,y5).replace(/punctSpace/g,Ex).replace(/punct/g,$p).getRegex(),Yq=Rt(x5,"gu").replace(/notPunctSpace/g,Wq).replace(/punctSpace/g,qq).replace(/punct/g,v5).getRegex(),Xq=Rt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,y5).replace(/punctSpace/g,Ex).replace(/punct/g,$p).getRegex(),Kq=Rt(/\\(punct)/,"gu").replace(/punct/g,$p).getRegex(),Zq=Rt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Jq=Rt(kx).replace("(?:-->|$)","-->").getRegex(),eW=Rt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Jq).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),vp=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,tW=Rt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",vp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),w5=Rt(/^!?\[(label)\]\[(ref)\]/).replace("label",vp).replace("ref",Sx).getRegex(),S5=Rt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Sx).getRegex(),rW=Rt("reflink|nolink(?!\\()","g").replace("reflink",w5).replace("nolink",S5).getRegex(),CT=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Tx={_backpedal:Eu,anyPunctuation:Kq,autolink:Zq,blockSkip:Vq,br:g5,code:Iq,del:Eu,emStrongLDelim:$q,emStrongRDelimAst:Qq,emStrongRDelimUnd:Xq,escape:Fq,link:tW,nolink:S5,punctuation:Hq,reflink:w5,reflinkSearch:rW,tag:eW,text:Uq,url:Eu},nW={...Tx,link:Rt(/^!?\[(label)\]\((.*?)\)/).replace("label",vp).getRegex(),reflink:Rt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vp).getRegex()},J1={...Tx,emStrongRDelimAst:Yq,emStrongLDelim:Gq,url:Rt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",CT).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Rt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",CT).getRegex()},iW={...J1,br:Rt(g5).replace("{2,}","*").getRegex(),text:Rt(J1.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},id={normal:Ax,gfm:jq,pedantic:Pq},nu={normal:Tx,gfm:J1,breaks:iW,pedantic:nW},sW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},OT=r=>sW[r];function ps(r,e){if(e){if(nn.escapeTest.test(r))return r.replace(nn.escapeReplace,OT)}else if(nn.escapeTestNoEncode.test(r))return r.replace(nn.escapeReplaceNoEncode,OT);return r}function _T(r){try{r=encodeURI(r).replace(nn.percentDecode,"%")}catch{return null}return r}function RT(r,e){let t=r.replace(nn.findPipe,(s,l,c)=>{let u=!1,f=l;for(;--f>=0&&c[f]==="\\";)u=!u;return u?"|":" |"}),n=t.split(nn.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(nn.slashPipe,"|");return n}function iu(r,e,t){let n=r.length;if(n===0)return"";let i=0;for(;i<n&&r.charAt(n-i-1)===e;)i++;return r.slice(0,n-i)}function aW(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<r.length;n++)if(r[n]==="\\")n++;else if(r[n]===e[0])t++;else if(r[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function NT(r,e,t,n,i){let s=e.href,l=e.title||null,c=r[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let u={type:r[0].charAt(0)==="!"?"image":"link",raw:t,href:s,title:l,text:c,tokens:n.inlineTokens(c)};return n.state.inLink=!1,u}function lW(r,e,t){let n=r.match(t.other.indentCodeCompensation);if(n===null)return e;let i=n[1];return e.split(`
`).map(s=>{let l=s.match(t.other.beginningSpace);if(l===null)return s;let[c]=l;return c.length>=i.length?s.slice(i.length):s}).join(`
`)}var bp=class{options;rules;lexer;constructor(r){this.options=r||kl}space(r){let e=this.rules.block.newline.exec(r);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(r){let e=this.rules.block.code.exec(r);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:iu(t,`
`)}}}fences(r){let e=this.rules.block.fences.exec(r);if(e){let t=e[0],n=lW(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(r){let e=this.rules.block.heading.exec(r);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let n=iu(t,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(t=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(r){let e=this.rules.block.hr.exec(r);if(e)return{type:"hr",raw:iu(e[0],`
`)}}blockquote(r){let e=this.rules.block.blockquote.exec(r);if(e){let t=iu(e[0],`
`).split(`
`),n="",i="",s=[];for(;t.length>0;){let l=!1,c=[],u;for(u=0;u<t.length;u++)if(this.rules.other.blockquoteStart.test(t[u]))c.push(t[u]),l=!0;else if(!l)c.push(t[u]);else break;t=t.slice(u);let f=c.join(`
`),d=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${f}`:f,i=i?`${i}
${d}`:d;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=m,t.length===0)break;let g=s.at(-1);if(g?.type==="code")break;if(g?.type==="blockquote"){let y=g,b=y.raw+`
`+t.join(`
`),w=this.blockquote(b);s[s.length-1]=w,n=n.substring(0,n.length-y.raw.length)+w.raw,i=i.substring(0,i.length-y.text.length)+w.text;break}else if(g?.type==="list"){let y=g,b=y.raw+`
`+t.join(`
`),w=this.list(b);s[s.length-1]=w,n=n.substring(0,n.length-g.raw.length)+w.raw,i=i.substring(0,i.length-y.raw.length)+w.raw,t=b.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:i}}}list(r){let e=this.rules.block.list.exec(r);if(e){let t=e[1].trim(),n=t.length>1,i={type:"list",raw:"",ordered:n,start:n?+t.slice(0,-1):"",loose:!1,items:[]};t=n?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=n?t:"[*+-]");let s=this.rules.other.listItemRegex(t),l=!1;for(;r;){let u=!1,f="",d="";if(!(e=s.exec(r))||this.rules.block.hr.test(r))break;f=e[0],r=r.substring(f.length);let m=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),g=r.split(`
`,1)[0],y=!m.trim(),b=0;if(this.options.pedantic?(b=2,d=m.trimStart()):y?b=e[1].length+1:(b=e[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,d=m.slice(b),b+=e[1].length),y&&this.rules.other.blankLine.test(g)&&(f+=g+`
`,r=r.substring(g.length+1),u=!0),!u){let w=this.rules.other.nextBulletRegex(b),O=this.rules.other.hrRegex(b),S=this.rules.other.fencesBeginRegex(b),k=this.rules.other.headingBeginRegex(b),E=this.rules.other.htmlBeginRegex(b);for(;r;){let A=r.split(`
`,1)[0],_;if(g=A,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),_=g):_=g.replace(this.rules.other.tabCharGlobal,"    "),S.test(g)||k.test(g)||E.test(g)||w.test(g)||O.test(g))break;if(_.search(this.rules.other.nonSpaceChar)>=b||!g.trim())d+=`
`+_.slice(b);else{if(y||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||S.test(m)||k.test(m)||O.test(m))break;d+=`
`+g}!y&&!g.trim()&&(y=!0),f+=A+`
`,r=r.substring(A.length+1),m=_.slice(b)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(l=!0)),i.items.push({type:"list_item",raw:f,task:!!this.options.gfm&&this.rules.other.listIsTask.test(d),loose:!1,text:d,tokens:[]}),i.raw+=f}let c=i.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let u of i.items){if(this.lexer.state.top=!1,u.tokens=this.lexer.blockTokens(u.text,[]),u.task){if(u.text=u.text.replace(this.rules.other.listReplaceTask,""),u.tokens[0]?.type==="text"||u.tokens[0]?.type==="paragraph"){u.tokens[0].raw=u.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),u.tokens[0].text=u.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let d=this.lexer.inlineQueue.length-1;d>=0;d--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[d].src)){this.lexer.inlineQueue[d].src=this.lexer.inlineQueue[d].src.replace(this.rules.other.listReplaceTask,"");break}}let f=this.rules.other.listTaskCheckbox.exec(u.raw);if(f){let d={type:"checkbox",raw:f[0]+" ",checked:f[0]!=="[ ]"};u.checked=d.checked,i.loose?u.tokens[0]&&["paragraph","text"].includes(u.tokens[0].type)&&"tokens"in u.tokens[0]&&u.tokens[0].tokens?(u.tokens[0].raw=d.raw+u.tokens[0].raw,u.tokens[0].text=d.raw+u.tokens[0].text,u.tokens[0].tokens.unshift(d)):u.tokens.unshift({type:"paragraph",raw:d.raw,text:d.raw,tokens:[d]}):u.tokens.unshift(d)}}if(!i.loose){let f=u.tokens.filter(m=>m.type==="space"),d=f.length>0&&f.some(m=>this.rules.other.anyLine.test(m.raw));i.loose=d}}if(i.loose)for(let u of i.items){u.loose=!0;for(let f of u.tokens)f.type==="text"&&(f.type="paragraph")}return i}}html(r){let e=this.rules.block.html.exec(r);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(r){let e=this.rules.block.def.exec(r);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:i}}}table(r){let e=this.rules.block.table.exec(r);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=RT(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===n.length){for(let l of n)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<t.length;l++)s.header.push({text:t[l],tokens:this.lexer.inline(t[l]),header:!0,align:s.align[l]});for(let l of i)s.rows.push(RT(l,s.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:s.align[u]})));return s}}lheading(r){let e=this.rules.block.lheading.exec(r);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(r){let e=this.rules.block.paragraph.exec(r);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(r){let e=this.rules.block.text.exec(r);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(r){let e=this.rules.inline.escape.exec(r);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(r){let e=this.rules.inline.tag.exec(r);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(r){let e=this.rules.inline.link.exec(r);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let s=iu(t.slice(0,-1),"\\");if((t.length-s.length)%2===0)return}else{let s=aW(e[2],"()");if(s===-2)return;if(s>-1){let l=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let n=e[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n=n.slice(1):n=n.slice(1,-1)),NT(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(r,e){let t;if((t=this.rules.inline.reflink.exec(r))||(t=this.rules.inline.nolink.exec(r))){let n=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[n.toLowerCase()];if(!i){let s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return NT(t,i,t[0],this.lexer,this.rules)}}emStrong(r,e,t=""){let n=this.rules.inline.emStrongLDelim.exec(r);if(!(!n||n[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!t||this.rules.inline.punctuation.exec(t))){let i=[...n[0]].length-1,s,l,c=i,u=0,f=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,e=e.slice(-1*r.length+i);(n=f.exec(e))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(l=[...s].length,n[3]||n[4]){c+=l;continue}else if((n[5]||n[6])&&i%3&&!((i+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);let d=[...n[0]][0].length,m=r.slice(0,i+n.index+d+l);if(Math.min(i,l)%2){let y=m.slice(1,-1);return{type:"em",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}let g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(r){let e=this.rules.inline.code.exec(r);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(t),i=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&i&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(r){let e=this.rules.inline.br.exec(r);if(e)return{type:"br",raw:e[0]}}del(r){let e=this.rules.inline.del.exec(r);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(r){let e=this.rules.inline.autolink.exec(r);if(e){let t,n;return e[2]==="@"?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(r){let e;if(e=this.rules.inline.url.exec(r)){let t,n;if(e[2]==="@")t=e[0],n="mailto:"+t;else{let i;do i=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(i!==e[0]);t=e[0],e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(r){let e=this.rules.inline.text.exec(r);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},hi=class eb{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||kl,this.options.tokenizer=this.options.tokenizer||new bp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:nn,block:id.normal,inline:nu.normal};this.options.pedantic?(t.block=id.pedantic,t.inline=nu.pedantic):this.options.gfm&&(t.block=id.gfm,this.options.breaks?t.inline=nu.breaks:t.inline=nu.gfm),this.tokenizer.rules=t}static get rules(){return{block:id,inline:nu}}static lex(e,t){return new eb(t).lex(e)}static lexInline(e,t){return new eb(t).inlineTokens(e)}lex(e){e=e.replace(nn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(nn.tabCharGlobal,"    ").replace(nn.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(l=>(i=l.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let l=t.at(-1);i.raw.length===1&&l!==void 0?l.raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let l=t.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.text,this.inlineQueue.at(-1).src=l.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let l=t.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},t.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let l=1/0,c=e.slice(1),u;this.options.extensions.startBlock.forEach(f=>{u=f.call({lexer:this},c),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let l=t.at(-1);n&&l?.type==="paragraph"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):t.push(i),n=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let l=t.at(-1);l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):t.push(i);continue}if(e){let l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,i=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let l=!1,c="";for(;e;){l||(c=""),l=!1;let u;if(this.options.extensions?.inline?.some(d=>(u=d.call({lexer:this},e,t))?(e=e.substring(u.raw.length),t.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);let d=t.at(-1);u.type==="text"&&d?.type==="text"?(d.raw+=u.raw,d.text+=u.text):t.push(u);continue}if(u=this.tokenizer.emStrong(e,n,c)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),t.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),t.push(u);continue}let f=e;if(this.options.extensions?.startInline){let d=1/0,m=e.slice(1),g;this.options.extensions.startInline.forEach(y=>{g=y.call({lexer:this},m),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(f=e.substring(0,d+1))}if(u=this.tokenizer.inlineText(f)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(c=u.raw.slice(-1)),l=!0;let d=t.at(-1);d?.type==="text"?(d.raw+=u.raw,d.text+=u.text):t.push(u);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}},xp=class{options;parser;constructor(r){this.options=r||kl}space(r){return""}code({text:r,lang:e,escaped:t}){let n=(e||"").match(nn.notSpaceStart)?.[0],i=r.replace(nn.endingNewline,"")+`
`;return n?'<pre><code class="language-'+ps(n)+'">'+(t?i:ps(i,!0))+`</code></pre>
`:"<pre><code>"+(t?i:ps(i,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}def(r){return""}heading({tokens:r,depth:e}){return`<h${e}>${this.parser.parseInline(r)}</h${e}>
`}hr(r){return`<hr>
`}list(r){let e=r.ordered,t=r.start,n="";for(let l=0;l<r.items.length;l++){let c=r.items[l];n+=this.listitem(c)}let i=e?"ol":"ul",s=e&&t!==1?' start="'+t+'"':"";return"<"+i+s+`>
`+n+"</"+i+`>
`}listitem(r){return`<li>${this.parser.parse(r.tokens)}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let e="",t="";for(let i=0;i<r.header.length;i++)t+=this.tablecell(r.header[i]);e+=this.tablerow({text:t});let n="";for(let i=0;i<r.rows.length;i++){let s=r.rows[i];t="";for(let l=0;l<s.length;l++)t+=this.tablecell(s[l]);n+=this.tablerow({text:t})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){let e=this.parser.parseInline(r.tokens),t=r.header?"th":"td";return(r.align?`<${t} align="${r.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${ps(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:e,tokens:t}){let n=this.parser.parseInline(t),i=_T(r);if(i===null)return n;r=i;let s='<a href="'+r+'"';return e&&(s+=' title="'+ps(e)+'"'),s+=">"+n+"</a>",s}image({href:r,title:e,text:t,tokens:n}){n&&(t=this.parser.parseInline(n,this.parser.textRenderer));let i=_T(r);if(i===null)return ps(t);r=i;let s=`<img src="${r}" alt="${t}"`;return e&&(s+=` title="${ps(e)}"`),s+=">",s}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:ps(r.text)}},Cx=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}checkbox({raw:r}){return r}},fi=class tb{options;renderer;textRenderer;constructor(e){this.options=e||kl,this.options.renderer=this.options.renderer||new xp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Cx}static parse(e,t){return new tb(t).parse(e)}static parseInline(e,t){return new tb(t).parseInline(e)}parse(e){let t="";for(let n=0;n<e.length;n++){let i=e[n];if(this.options.extensions?.renderers?.[i.type]){let l=i,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){t+=c||"";continue}}let s=i;switch(s.type){case"space":{t+=this.renderer.space(s);break}case"hr":{t+=this.renderer.hr(s);break}case"heading":{t+=this.renderer.heading(s);break}case"code":{t+=this.renderer.code(s);break}case"table":{t+=this.renderer.table(s);break}case"blockquote":{t+=this.renderer.blockquote(s);break}case"list":{t+=this.renderer.list(s);break}case"checkbox":{t+=this.renderer.checkbox(s);break}case"html":{t+=this.renderer.html(s);break}case"def":{t+=this.renderer.def(s);break}case"paragraph":{t+=this.renderer.paragraph(s);break}case"text":{t+=this.renderer.text(s);break}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return t}parseInline(e,t=this.renderer){let n="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let c=this.options.extensions.renderers[s.type].call({parser:this},s);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=c||"";continue}}let l=s;switch(l.type){case"escape":{n+=t.text(l);break}case"html":{n+=t.html(l);break}case"link":{n+=t.link(l);break}case"image":{n+=t.image(l);break}case"checkbox":{n+=t.checkbox(l);break}case"strong":{n+=t.strong(l);break}case"em":{n+=t.em(l);break}case"codespan":{n+=t.codespan(l);break}case"br":{n+=t.br(l);break}case"del":{n+=t.del(l);break}case"text":{n+=t.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}},yu=class{options;block;constructor(r){this.options=r||kl}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}emStrongMask(r){return r}provideLexer(){return this.block?hi.lex:hi.lexInline}provideParser(){return this.block?fi.parse:fi.parseInline}},oW=class{defaults=bx();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=fi;Renderer=xp;TextRenderer=Cx;Lexer=hi;Tokenizer=bp;Hooks=yu;constructor(...r){this.use(...r)}walkTokens(r,e){let t=[];for(let n of r)switch(t=t.concat(e.call(this,n)),n.type){case"table":{let i=n;for(let s of i.header)t=t.concat(this.walkTokens(s.tokens,e));for(let s of i.rows)for(let l of s)t=t.concat(this.walkTokens(l.tokens,e));break}case"list":{let i=n;t=t.concat(this.walkTokens(i.items,e));break}default:{let i=n;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let l=i[s].flat(1/0);t=t.concat(this.walkTokens(l,e))}):i.tokens&&(t=t.concat(this.walkTokens(i.tokens,e)))}}return t}use(...r){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(t=>{let n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=e.renderers[i.name];s?e.renderers[i.name]=function(...l){let c=i.renderer.apply(this,l);return c===!1&&(c=s.apply(this,l)),c}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[i.level];s?s.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),n.extensions=e),t.renderer){let i=this.defaults.renderer||new xp(this.defaults);for(let s in t.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let l=s,c=t.renderer[l],u=i[l];i[l]=(...f)=>{let d=c.apply(i,f);return d===!1&&(d=u.apply(i,f)),d||""}}n.renderer=i}if(t.tokenizer){let i=this.defaults.tokenizer||new bp(this.defaults);for(let s in t.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let l=s,c=t.tokenizer[l],u=i[l];i[l]=(...f)=>{let d=c.apply(i,f);return d===!1&&(d=u.apply(i,f)),d}}n.tokenizer=i}if(t.hooks){let i=this.defaults.hooks||new yu;for(let s in t.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let l=s,c=t.hooks[l],u=i[l];yu.passThroughHooks.has(s)?i[l]=f=>{if(this.defaults.async&&yu.passThroughHooksRespectAsync.has(s))return(async()=>{let m=await c.call(i,f);return u.call(i,m)})();let d=c.call(i,f);return u.call(i,d)}:i[l]=(...f)=>{if(this.defaults.async)return(async()=>{let m=await c.apply(i,f);return m===!1&&(m=await u.apply(i,f)),m})();let d=c.apply(i,f);return d===!1&&(d=u.apply(i,f)),d}}n.hooks=i}if(t.walkTokens){let i=this.defaults.walkTokens,s=t.walkTokens;n.walkTokens=function(l){let c=[];return c.push(s.call(this,l)),i&&(c=c.concat(i.call(this,l))),c}}this.defaults={...this.defaults,...n}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,e){return hi.lex(r,e??this.defaults)}parser(r,e){return fi.parse(r,e??this.defaults)}parseMarkdown(r){return(e,t)=>{let n={...t},i={...this.defaults,...n},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&n.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=r),i.async)return(async()=>{let l=i.hooks?await i.hooks.preprocess(e):e,c=await(i.hooks?await i.hooks.provideLexer():r?hi.lex:hi.lexInline)(l,i),u=i.hooks?await i.hooks.processAllTokens(c):c;i.walkTokens&&await Promise.all(this.walkTokens(u,i.walkTokens));let f=await(i.hooks?await i.hooks.provideParser():r?fi.parse:fi.parseInline)(u,i);return i.hooks?await i.hooks.postprocess(f):f})().catch(s);try{i.hooks&&(e=i.hooks.preprocess(e));let l=(i.hooks?i.hooks.provideLexer():r?hi.lex:hi.lexInline)(e,i);i.hooks&&(l=i.hooks.processAllTokens(l)),i.walkTokens&&this.walkTokens(l,i.walkTokens);let c=(i.hooks?i.hooks.provideParser():r?fi.parse:fi.parseInline)(l,i);return i.hooks&&(c=i.hooks.postprocess(c)),c}catch(l){return s(l)}}}onError(r,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,r){let n="<p>An error occurred:</p><pre>"+ps(t.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(t);throw t}}},vl=new oW;function _t(r,e){return vl.parse(r,e)}_t.options=_t.setOptions=function(r){return vl.setOptions(r),_t.defaults=vl.defaults,f5(_t.defaults),_t};_t.getDefaults=bx;_t.defaults=kl;_t.use=function(...r){return vl.use(...r),_t.defaults=vl.defaults,f5(_t.defaults),_t};_t.walkTokens=function(r,e){return vl.walkTokens(r,e)};_t.parseInline=vl.parseInline;_t.Parser=fi;_t.parser=fi.parse;_t.Renderer=xp;_t.TextRenderer=Cx;_t.Lexer=hi;_t.lexer=hi.lex;_t.Tokenizer=bp;_t.Hooks=yu;_t.parse=_t;_t.options;_t.setOptions;_t.use;_t.walkTokens;_t.parseInline;fi.parse;hi.lex;class cW{data;constructor(e){this.data=Sl.load(e)}generateHtml(){return this.buildHtml()}buildHtml(){return`<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${this.data.||this.data.||""}</title>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: true,
                packages: {'[+]': ['ams']},
                macros: {
                    leqq: '\\\\text{}',
                    geqq: '\\\\text{}',
                    frac: ['\\\\dfrac{#1}{#2}', 2],
                    int: '\\\\displaystyle\\\\intop',
                    lim: '\\\\displaystyle\\\\mathop{\\\\rm lim}'
                }
            },
            loader: {load: ['[tex]/ams']},
            chtml: {
                scale: 1.0,
                matchFontHeight: true
            }
        };
    <\/script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"><\/script>
    <style>
        @media print {
            .page-break { 
                display: block;
                height: 0;
                page-break-before: always; 
                break-before: page;
                clear: both;
            }
            body {
                width: 100% !important;
                max-width: none !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            @page { size: A4; margin: 15mm; }
        }
        
        /*  */
        @media screen {
            [style*="break-before: page"] {
                border-top: 4px dashed #ddd !important;
                margin-top: 40px !important;
                padding-top: 40px !important;
                position: relative;
            }
            [style*="break-before: page"]::before {
                content: "---  ---";
                display: block;
                position: absolute;
                top: -24px;
                left: 50%;
                transform: translateX(-50%);
                color: #aaa;
                font-size: 12px;
                font-weight: bold;
                background: #fff;
                padding: 0 10px;
            }
        }

        body { font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif; line-height: 1.6; max-width: 210mm; margin: 0 auto; padding: 20px; }
        
        /*  */
        .cover-wrapper { min-height: 270mm; display: flex; align-items: flex-start; justify-content: center; padding-top: 20mm; }
        .cover-page { width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 40px; box-sizing: border-box; }
        .exam-title { font-size: 28pt; font-weight: bold; margin: 20px 0; }
        .exam-subtitle { font-size: 18pt; margin-bottom: 40px; }
        
        /*  */
        .exam-info { width: 100%; margin: 30px 0; text-align: center; }
        .exam-info p { margin: 10px 0; font-size: 14pt; }
        
        /*  */
        .exam-notes { border: 2px solid #000; padding: 20px; width: 80%; margin: 30px auto; text-align: left; font-size: 11pt; background-color: #fafafa; }
        .exam-notes h3 { margin-top: 0; text-align: center; text-decoration: underline; }
        .exam-notes ul { padding-left: 20px; }
        .exam-notes li { margin-bottom: 10px; }

        /*  */
        .student-box { width: 90%; margin: 60px auto 0; border: 2px solid #000; padding: 20px; }
        .input-row { display: flex; justify-content: space-between; align-items: baseline; font-size: 14pt; }
        .input-group { display: flex; gap: 20px; }
        .input-label { font-weight: bold; }
        .input-line { border-bottom: 1px solid #000; min-width: 300px; display: inline-block; }
        
        /*  */
        .problem-page { padding: 10px; }
        .problem-header { border-bottom: 2px solid #000; margin-bottom: 25px; padding-bottom: 10px; display: flex; justify-content: space-between; align-items: baseline; }
        .problem-title { font-size: 16pt; font-weight: bold; }
        .problem-type { font-size: 12pt; border: 1px solid #000; padding: 2px 10px; border-radius: 4px; margin-left: 10px; }
        .problem-score { font-weight: bold; }
        
        .problem-content { font-size: 11pt; }
        .problem-item { margin-bottom: 30px; }
        .problem-item-num { float: left; font-weight: bold; margin-right: 10px; font-size: 12pt; }
        .problem-item-body { overflow: hidden; }

        /*  */
        .answer-page h2 { border-bottom: 3px double #000; padding-bottom: 10px; }
        .answer-item { margin-bottom: 20px; border-bottom: 1px dashed #ccc; padding-bottom: 10px; }
        .answer-correct { font-weight: bold; font-size: 12pt; color: #d00; }
        .answer-explanation { margin-top: 10px; font-size: 10pt; color: #555; background: #f9f9f9; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    ${this.createCover()}
    <div class="page-break"></div>
    ${this.createProblems()}
    <div class="page-break"></div>
    ${this.createAnswers()}
</body>
</html>`}createCover(){const e=this.data.||[],t=e.map(f=>`<li>${f}</li>`).join(`
`),n=e.length;let i,s;n>=10?(i="font-size: 9pt; line-height: 1.2;",s="margin-bottom: 2px;"):n>=8?(i="font-size: 9.5pt; line-height: 1.3;",s="margin-bottom: 3px;"):n>=6?(i="font-size: 10pt; line-height: 1.4;",s="margin-bottom: 5px;"):(i="font-size: 11pt; line-height: 1.6;",s="margin-bottom: 10px;");const l=this.data.||this.data.||"",c=this.data.||"",u=t.replace(/<li>/g,`<li style="${s}">`);return`
    <div class="cover-wrapper">
    <div class="cover-page">
        <h1 class="exam-title">${l}</h1>
        <div class="exam-subtitle">${c}</div>
        
        <div class="exam-info">
            <p><strong></strong> ${this.data.||""}</p>
            <p><strong></strong> ${this.data.||""}</p>
            <p><strong></strong> ${this.data.||""}</p>
        </div>

        <div class="exam-notes" style="${i}">
            <h3></h3>
            <ul style="margin: 0;">${u}</ul>
            <div style="text-align:center; margin-top:10px; font-weight:bold;">
                 
            </div>
        </div>

        <div class="student-box">
            <div class="input-row">
                <div class="input-group">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="input-group" style="flex-grow: 1; justify-content: flex-end;">
                    <span class="input-label"></span>
                    <span class="input-line"></span>
                </div>
            </div>
        </div>
    </div>
    </div>`}createProblems(){let e="";const t=this.data.||[];for(const n of t){const i=n.?' style="page-break-before: always; break-before: page;"':"";let s="";n.?s="":n.&&(s=n.);const l=s&&s!==""?`<span class="problem-type">${s}</span>`:"",c=n.?`<span class="problem-score"> ${n.}</span>`:"",u=n.||n.||"",f=n.||"";e+=`
    <div class="problem-page"${i}>
        <div class="problem-header">
            <div>
                <span class="problem-title">${f}. ${u}</span>
                ${l}
            </div>
            ${c}
        </div>
        <div class="problem-content">`;const d=n.||n.||[];for(const m of d){let g="",y="",b="";typeof m=="object"&&m!==null?(m.&&(g=' style="page-break-before: always; break-before: page;"'),y=m.||"",b=m.||""):y=String(m),y=y.replace(/\\n/g,`
`);const w=_t.parse(y);e+=`
            <div class="problem-item"${g}>
                <div class="problem-item-num">${b}</div>
                <div class="problem-item-body">${w}</div>
            </div>`}e+=`
        </div>
    </div>`}return e}createAnswers(){let e=`
    <div class="answer-page">
        <h2></h2>`;const t=this.data.||[];for(const n of t){const i=n.||n.||"",s=n.||"";e+=`<h3>${s}. ${i}</h3>`;const l=n.||n.||[];for(const c of l){if(typeof c!="object"||c===null)continue;const u=c.||"",f=(c.||"").replace(/\\n/g,`
`),d=(c.||"").replace(/\\n/g,`
`),m=d?`<div class="answer-explanation"><strong></strong><br>${_t.parse(d)}</div>`:"";e+=`
            <div class="answer-item">
                <div><strong>${u}</strong> <span class="answer-correct">${f}</span></div>
                ${m}
            </div>`}}return e+="</div>",e}}function uW(r){return new cW(r).generateHtml()}class hW{data;constructor(e){this.data=Sl.load(e)}generateHtml(){return this.buildHtml()}buildHtml(){const e=this.data.||"",t=this.data.!==!1;return`<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e}</title>
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: true,
                packages: {'[+]': ['ams']},
                macros: {
                    leqq: '\\\\text{}',
                    geqq: '\\\\text{}',
                    frac: ['\\\\dfrac{#1}{#2}', 2],
                    int: '\\\\displaystyle\\\\intop',
                    lim: '\\\\displaystyle\\\\mathop{\\\\rm lim}'
                }
            },
            loader: {load: ['[tex]/ams']},
            chtml: {
                scale: 1.0,
                matchFontHeight: true
            }
        };
    <\/script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"><\/script>
    <style>
        @media print {
            @page { size: A4; margin: 20mm; }
            .page-break { page-break-after: always; }
            body {
                width: 100% !important;
                max-width: none !important;
                margin: 0 !important;
                padding: 0 !important;
            }
        }

        /*  */
        @media screen {
            .page-break, [style*="break-before: page"], [style*="break-after: page"] {
                border-top: 4px dashed #ddd !important;
                margin-top: 40px !important;
                padding-top: 40px !important;
                position: relative;
                display: block;
            }
            .page-break::before, [style*="break-before: page"]::before, [style*="break-after: page"]::before {
                content: "---  ---";
                display: block;
                position: absolute;
                top: -24px;
                left: 50%;
                transform: translateX(-50%);
                color: #aaa;
                font-size: 12px;
                font-weight: bold;
                background: #fff;
                padding: 0 10px;
            }
        }
        body { 
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif; 
            line-height: 1.8; 
            max-width: 210mm; 
            margin: 0 auto; 
            padding: 20px;
            color: #333;
        }
        
        /*  */
        .header {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 20px;
            font-size: 12pt;
        }
        .header-field {
            margin-left: 20px;
        }
        .header-field .label {
            margin-right: 5px;
        }
        .header-field .underline {
            display: inline-block;
            border-bottom: 1px solid #333;
            min-width: 80px;
        }
        .header-field.name .underline {
            min-width: 200px;
        }
        
        /*  */
        .title {
            text-align: center;
            font-size: 20pt;
            font-weight: bold;
            margin: 30px 0 10px;
        }
        .subtitle {
            text-align: center;
            font-size: 14pt;
            color: #555;
            margin-bottom: 30px;
        }
        
        /*  */
        .section-header {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            margin: 30px 0 20px;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 5px;
        }
        
        /*  */
        .problem {
            margin: 25px 0;
        }
        .problem-header {
            display: flex;
            align-items: baseline;
            margin-bottom: 10px;
        }
        .problem-number {
            font-weight: bold;
            font-size: 14pt;
            margin-right: 15px;
        }
        .problem-text {
            font-size: 11pt;
            flex: 1;
        }
        .problem-score {
            font-size: 10pt;
            color: #666;
            margin-left: 10px;
        }
        .sub-problems {
            margin-left: 30px;
            margin-top: 10px;
        }
        .sub-problem {
            margin: 8px 0;
        }
        .answer-space {
            height: 100px;
            margin: 15px 0;
        }
        
        /*  */
        .answer-page {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 3px double #333;
        }
        .answer-page h2 {
            text-align: center;
            margin-bottom: 30px;
        }
        .answer-item {
            margin: 15px 0;
            padding: 10px;
            background: #fafafa;
            border-radius: 5px;
        }
        .answer-correct {
            font-weight: bold;
            color: #d00;
        }
        .answer-explanation {
            margin-top: 10px;
            font-size: 10pt;
            color: #555;
            padding: 10px;
            background: #fff;
            border-left: 3px solid #3b82f6;
        }
    </style>
</head>
<body>
    ${this.createHeader()}
    ${this.createTitle()}
    ${this.createProblems()}
    ${t?this.createAnswers():""}
</body>
</html>`}createHeader(){return`
    <div class="header">
        <span class="header-field"><span class="label"></span><span class="underline"></span></span>
        <span class="header-field"><span class="label"></span><span class="underline"></span></span>
        <span class="header-field"><span class="label"></span><span class="underline"></span></span>
        <span class="header-field name"><span class="label"></span><span class="underline"></span></span>
    </div>`}createTitle(){const e=this.data.||"",t=this.data.||"";let n=`<h1 class="title">${e}</h1>`;return t&&(n+=`<div class="subtitle"> ${t} </div>`),n}createProblems(){const e=this.data.||[];let t="";for(let n=0;n<e.length;n++){const i=e[n];if(i.type==="header"){const b=i.?' style="page-break-before: always; break-before: page;"':"";t+=`<div class="section-header"${b}>${i.text||""}</div>`;continue}const s=i.?' style="page-break-before: always; break-before: page;"':"",l=i.??n+1,c=i.||"",u=i.,f=i.||[],d=i.??5,m=u?`<span class="problem-score">[${u}]</span>`:"",g=c?_t.parse(c):"";if(t+=`
    <div class="problem"${s}>
        <div class="problem-header">
            <span class="problem-number">${l}</span>
            <span class="problem-text">${g}</span>
            ${m}
        </div>`,f.length>0){t+='<div class="sub-problems">';for(const b of f)if(typeof b=="string")t+=`<div class="sub-problem">${b}</div>`;else{const w=b.||"",O=b.||"";t+=`<div class="sub-problem">${O} ${w}</div>`}t+="</div>"}const y=d*20;t+=`<div class="answer-space" style="height: ${y}px;"></div>`,t+="</div>"}return t}createAnswers(){const e=this.data.||[];let t=`
    <div class="page-break"></div>
    <div class="answer-page">
        <h2></h2>`;for(let n=0;n<e.length;n++){const i=e[n];if(i.type==="header")continue;const s=i.??n+1,l=i.,c=i.||"";if(!(!l&&!c)){if(t+=`<div class="answer-item"><strong>${s}</strong>`,l)if(Array.isArray(l))for(const u of l)t+=` <span class="answer-correct">: ${u}</span>`;else t+=` <span class="answer-correct">: ${l}</span>`;if(c){const u=_t.parse(String(c));t+=`<div class="answer-explanation">${u}</div>`}t+="</div>"}}return t+="</div>",t}}function fW(r){return new hW(r).generateHtml()}class dW{data;constructor(e){this.data=Sl.load(e)}generateHtml(){return this.buildHtml()}buildHtml(){const t=this.data.||"";return`<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t} </title>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>
    <style>
        @media print {
            @page { size: A4; margin: 15mm; }
            .page-break { page-break-after: always; }
        }
        body { 
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', serif; 
            line-height: 1.6; 
            max-width: 210mm; 
            margin: 0 auto; 
            padding: 20px;
            color: #333;
            font-size: 10.5pt;
        }
        
        h1 { text-align: center; font-size: 18pt; margin-bottom: 20px; border-bottom: 3px double #000; padding-bottom: 10px; }
        h2 { font-size: 12pt; margin-top: 20px; margin-bottom: 10px; border-left: 4px solid #3b82f6; padding-left: 10px; background: #f0f8ff; padding: 6px 10px; }
        h3 { font-size: 11pt; margin-top: 15px; }
        
        .header-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
        .header-table td, .header-table th { border: 1px solid #333; padding: 6px 10px; }
        .header-table th { background: #f5f5f5; width: 80px; text-align: left; }
        
        .section { margin: 15px 0; }
        .section ul { margin: 8px 0; padding-left: 20px; }
        .section li { margin: 3px 0; }
        
        .flow-table { width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 10pt; }
        .flow-table th, .flow-table td { border: 1px solid #333; padding: 8px; vertical-align: top; }
        .flow-table th { background: #e8e8e8; text-align: center; }
        .flow-table td:first-child { width: 70px; text-align: center; font-weight: bold; }
        
        .activity { margin: 3px 0; }
        .activity-content { color: #000; }
        .activity-action { color: #555; margin-left: 10px; }
        
        .goals { background: #fffde7; padding: 12px; border-radius: 5px; border-left: 4px solid #ffc107; }
        .evaluation { background: #e8f5e9; padding: 12px; border-radius: 5px; border-left: 4px solid #4caf50; }
        .materials { background: #e3f2fd; padding: 12px; border-radius: 5px; border-left: 4px solid #2196f3; }
        .board-plan { background: #f5f5f5; padding: 12px; border-radius: 5px; border: 1px solid #ddd; white-space: pre-wrap; font-family: monospace; }
        .board-table { width: 100%; border-collapse: collapse; margin: 10px 0; }
        .board-table th, .board-table td { border: 1px solid #333; padding: 10px; vertical-align: top; width: 33.3%; }
        .board-table th { background: #f5f5dc; text-align: center; font-weight: bold; }
        .digital { background: #fff3e0; padding: 12px; border-radius: 5px; border-left: 4px solid #ff9800; }
        .considerations { background: #fce4ec; padding: 12px; border-radius: 5px; border-left: 4px solid #e91e63; }
        .students { background: #f3e5f5; padding: 12px; border-radius: 5px; border-left: 4px solid #9c27b0; }
        
        .two-column { display: flex; gap: 20px; }
        .two-column > div { flex: 1; }
    </style>
</head>
<body>
    <h1>${t} </h1>
    
    ${this.createHeader()}
    ${this.createUnitInfo()}
    ${this.createStudentCharacteristics()}
    ${this.createGoals()}
    ${this.createMaterials()}
    ${this.createFlow()}
    ${this.createEvaluation()}
    ${this.createBoardPlan()}
    ${this.createDigitalUsage()}
    ${this.createConsiderations()}
</body>
</html>`}createHeader(){const e=this.data;return`
    <table class="header-table">
        <tr><th></th><td>${e.||""}</td></tr>
        <tr><th></th><td>${e.||""}</td></tr>
        <tr><th></th><td>${e.||""}</td></tr>
        <tr><th></th><td>${e.||""}</td></tr>
        <tr><th></th><td>${e.||""}</td></tr>
    </table>`}createUnitInfo(){const e=this.data;return`
    <h2></h2>
    <div class="section">
        <strong>${e.||""}</strong>
        ${e.?`${e.}`:""}
    </div>`}createStudentCharacteristics(){let t=this.data.||[];return!t||Array.isArray(t)&&t.length===0?"":(Array.isArray(t)||(t=Object.values(t)),`
    <h2></h2>
    <div class="section students">
        <ul>${t.filter(i=>i).map(i=>`<li>${i}</li>`).join(`
`)}</ul>
    </div>`)}createGoals(){const e=this.data;let t=e.||e.||[];return t&&!Array.isArray(t)&&(t=Object.values(t)),`
    <h2></h2>
    <div class="section goals">
        <ul>${(Array.isArray(t)?t:[]).filter(s=>s).map(s=>`<li>${s}</li>`).join(`
`)}</ul>
    </div>`}createMaterials(){const t=this.data.;if(!t)return"";const n=Array.isArray(t.)?t..filter(s=>s).map(s=>`<li>${s}</li>`).join(`
`):"",i=Array.isArray(t.)?t..filter(s=>s).map(s=>`<li>${s}</li>`).join(`
`):"";return!n&&!i?"":`
    <h2></h2>
    <div class="section materials two-column">
        <div>
            <strong></strong>
            <ul>${n}</ul>
        </div>
        <div>
            <strong></strong>
            <ul>${i}</ul>
        </div>
    </div>`}createFlow(){const e=this.data,t=e.||e.||{};if(Object.keys(t).length===0)return"";let n="";for(const[i,s]of Object.entries(t)){if(!s)continue;const l=s.||"",c=[],u=Array.isArray(s.)?s.:[];for(const y of u)y&&c.push(`<div class="activity"><span class="activity-content"> ${y}</span></div>`);const f=Array.isArray(s.)?s.:[];for(const y of f)y&&c.push(`<div class="activity"><span class="activity-action"> ${y}</span></div>`);const d=c.join(`
`),g=(Array.isArray(s.)?s.:[]).filter(y=>y).map(y=>`${y}`).join("<br>");n+=`
        <tr>
            <td>${i}<br>(${l})</td>
            <td>${d}</td>
            <td>${g}</td>
        </tr>`}return`
    <h2></h2>
    <table class="flow-table">
        <tr>
            <th></th>
            <th></th>
            <th></th>
        </tr>
        ${n}
    </table>`}createEvaluation(){const e=this.data,t=e.||e.;if(!t)return"";let n="";return t&&typeof t=="object"&&!Array.isArray(t)?n=Object.entries(t).map(([s,l])=>`<li><strong>${s}</strong>${l}</li>`).join(`
`):Array.isArray(t)&&(n=t.filter(i=>i).map(i=>`<li>${typeof i=="object"&&i!==null&&""in i?String(i.):String(i)}</li>`).join(`
`)),n?`
    <h2></h2>
    <div class="section evaluation">
        <ul>${n}</ul>
    </div>`:""}createBoardPlan(){const t=this.data.;if(!t)return"";if(typeof t=="object"&&!Array.isArray(t)){const n=t;return`
    <h2></h2>
    <table class="board-table">
        <tr>
            <th></th>
            <th></th>
            <th></th>
        </tr>
        <tr>
            <td>${n.||""}</td>
            <td>${n.||""}</td>
            <td>${n.||""}</td>
        </tr>
    </table>`}return`
    <h2></h2>
    <div class="section board-plan">${String(t)}</div>`}createDigitalUsage(){let t=this.data.;return!t||Array.isArray(t)&&t.length===0?"":(Array.isArray(t)||(t=Object.values(t)),`
    <h2></h2>
    <div class="section digital">
        <ul>${t.filter(i=>i).map(i=>`<li>${i}</li>`).join(`
`)}</ul>
    </div>`)}createConsiderations(){let t=this.data.;return!t||Array.isArray(t)&&t.length===0?"":(Array.isArray(t)||(t=Object.values(t)),`
    <h2></h2>
    <div class="section considerations">
        <ul>${t.filter(i=>i).map(i=>`<li>${i}</li>`).join(`
`)}</ul>
    </div>`)}}function pW(r){return new dW(r).generateHtml()}var mW=Object.defineProperty,gW=Object.defineProperties,yW=Object.getOwnPropertyDescriptors,MT=Object.getOwnPropertySymbols,vW=Object.prototype.hasOwnProperty,bW=Object.prototype.propertyIsEnumerable,rb=(r,e,t)=>e in r?mW(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,St=(r,e)=>{for(var t in e||(e={}))vW.call(e,t)&&rb(r,t,e[t]);if(MT)for(var t of MT(e))bW.call(e,t)&&rb(r,t,e[t]);return r},Yo=(r,e)=>gW(r,yW(e)),Re=(r,e,t)=>rb(r,typeof e!="symbol"?e+"":e,t),xW=(r,e,t)=>new Promise((n,i)=>{var s=u=>{try{c(t.next(u))}catch(f){i(f)}},l=u=>{try{c(t.throw(u))}catch(f){i(f)}},c=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,l);c((t=t.apply(r,e)).next())});class wp{constructor(e){Re(this,"rootKey"),this.rootKey=e}}const wW=Object.seal({});class De extends wp{constructor(e){super(e),Re(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const n=this.root.map(i=>i instanceof wp?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((t=n[0])!=null&&t._attr)?n[0]:n:wW}}addChildElement(e){return this.root.push(e),this}}class _s extends De{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class rt extends wp{constructor(e){super("_attr"),Re(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;t[s]=i}}),{_attr:t}}}class Sa extends wp{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>Yo(St({},n),{[i]:s}),{})}}}class cr extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k5(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ry={},sd={exports:{}},DT;function Ox(){if(DT)return sd.exports;DT=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(_,U,M){return Function.prototype.apply.call(_,U,M)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:t=function(_){return Object.getOwnPropertyNames(_)};function n(A){console&&console.warn&&console.warn(A)}var i=Number.isNaN||function(_){return _!==_};function s(){s.init.call(this)}sd.exports=s,sd.exports.once=S,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");l=A}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||i(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this};function u(A){return A._maxListeners===void 0?s.defaultMaxListeners:A._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(_){for(var U=[],M=1;M<arguments.length;M++)U.push(arguments[M]);var Q=_==="error",P=this._events;if(P!==void 0)Q=Q&&P.error===void 0;else if(!Q)return!1;if(Q){var re;if(U.length>0&&(re=U[0]),re instanceof Error)throw re;var pe=new Error("Unhandled error."+(re?" ("+re.message+")":""));throw pe.context=re,pe}var H=P[_];if(H===void 0)return!1;if(typeof H=="function")e(H,this,U);else for(var Y=H.length,R=b(H,Y),M=0;M<Y;++M)e(R[M],this,U);return!0};function f(A,_,U,M){var Q,P,re;if(c(U),P=A._events,P===void 0?(P=A._events=Object.create(null),A._eventsCount=0):(P.newListener!==void 0&&(A.emit("newListener",_,U.listener?U.listener:U),P=A._events),re=P[_]),re===void 0)re=P[_]=U,++A._eventsCount;else if(typeof re=="function"?re=P[_]=M?[U,re]:[re,U]:M?re.unshift(U):re.push(U),Q=u(A),Q>0&&re.length>Q&&!re.warned){re.warned=!0;var pe=new Error("Possible EventEmitter memory leak detected. "+re.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");pe.name="MaxListenersExceededWarning",pe.emitter=A,pe.type=_,pe.count=re.length,n(pe)}return A}s.prototype.addListener=function(_,U){return f(this,_,U,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(_,U){return f(this,_,U,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(A,_,U){var M={fired:!1,wrapFn:void 0,target:A,type:_,listener:U},Q=d.bind(M);return Q.listener=U,M.wrapFn=Q,Q}s.prototype.once=function(_,U){return c(U),this.on(_,m(this,_,U)),this},s.prototype.prependOnceListener=function(_,U){return c(U),this.prependListener(_,m(this,_,U)),this},s.prototype.removeListener=function(_,U){var M,Q,P,re,pe;if(c(U),Q=this._events,Q===void 0)return this;if(M=Q[_],M===void 0)return this;if(M===U||M.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete Q[_],Q.removeListener&&this.emit("removeListener",_,M.listener||U));else if(typeof M!="function"){for(P=-1,re=M.length-1;re>=0;re--)if(M[re]===U||M[re].listener===U){pe=M[re].listener,P=re;break}if(P<0)return this;P===0?M.shift():w(M,P),M.length===1&&(Q[_]=M[0]),Q.removeListener!==void 0&&this.emit("removeListener",_,pe||U)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(_){var U,M,Q;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[_]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[_]),this;if(arguments.length===0){var P=Object.keys(M),re;for(Q=0;Q<P.length;++Q)re=P[Q],re!=="removeListener"&&this.removeAllListeners(re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=M[_],typeof U=="function")this.removeListener(_,U);else if(U!==void 0)for(Q=U.length-1;Q>=0;Q--)this.removeListener(_,U[Q]);return this};function g(A,_,U){var M=A._events;if(M===void 0)return[];var Q=M[_];return Q===void 0?[]:typeof Q=="function"?U?[Q.listener||Q]:[Q]:U?O(Q):b(Q,Q.length)}s.prototype.listeners=function(_){return g(this,_,!0)},s.prototype.rawListeners=function(_){return g(this,_,!1)},s.listenerCount=function(A,_){return typeof A.listenerCount=="function"?A.listenerCount(_):y.call(A,_)},s.prototype.listenerCount=y;function y(A){var _=this._events;if(_!==void 0){var U=_[A];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function b(A,_){for(var U=new Array(_),M=0;M<_;++M)U[M]=A[M];return U}function w(A,_){for(;_+1<A.length;_++)A[_]=A[_+1];A.pop()}function O(A){for(var _=new Array(A.length),U=0;U<_.length;++U)_[U]=A[U].listener||A[U];return _}function S(A,_){return new Promise(function(U,M){function Q(re){A.removeListener(_,P),M(re)}function P(){typeof A.removeListener=="function"&&A.removeListener("error",Q),U([].slice.call(arguments))}E(A,_,P,{once:!0}),_!=="error"&&k(A,Q,{once:!0})})}function k(A,_,U){typeof A.on=="function"&&E(A,"error",_,U)}function E(A,_,U,M){if(typeof A.on=="function")M.once?A.once(_,U):A.on(_,U);else if(typeof A.addEventListener=="function")A.addEventListener(_,function Q(P){M.once&&A.removeEventListener(_,Q),U(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return sd.exports}var ad={exports:{}},LT;function ka(){return LT||(LT=1,typeof Object.create=="function"?ad.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ad.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),ad.exports}function SW(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var A5={exports:{}},pr=A5.exports={},Mi,Di;function nb(){throw new Error("setTimeout has not been defined")}function ib(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Mi=setTimeout:Mi=nb}catch{Mi=nb}try{typeof clearTimeout=="function"?Di=clearTimeout:Di=ib}catch{Di=ib}})();function E5(r){if(Mi===setTimeout)return setTimeout(r,0);if((Mi===nb||!Mi)&&setTimeout)return Mi=setTimeout,setTimeout(r,0);try{return Mi(r,0)}catch{try{return Mi.call(null,r,0)}catch{return Mi.call(this,r,0)}}}function kW(r){if(Di===clearTimeout)return clearTimeout(r);if((Di===ib||!Di)&&clearTimeout)return Di=clearTimeout,clearTimeout(r);try{return Di(r)}catch{try{return Di.call(null,r)}catch{return Di.call(this,r)}}}var bs=[],Bo=!1,al,Dd=-1;function AW(){!Bo||!al||(Bo=!1,al.length?bs=al.concat(bs):Dd=-1,bs.length&&T5())}function T5(){if(!Bo){var r=E5(AW);Bo=!0;for(var e=bs.length;e;){for(al=bs,bs=[];++Dd<e;)al&&al[Dd].run();Dd=-1,e=bs.length}al=null,Bo=!1,kW(r)}}pr.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];bs.push(new C5(r,e)),bs.length===1&&!Bo&&E5(T5)};function C5(r,e){this.fun=r,this.array=e}C5.prototype.run=function(){this.fun.apply(null,this.array)};pr.title="browser";pr.browser=!0;pr.env={};pr.argv=[];pr.version="";pr.versions={};function Rs(){}pr.on=Rs;pr.addListener=Rs;pr.once=Rs;pr.off=Rs;pr.removeListener=Rs;pr.removeAllListeners=Rs;pr.emit=Rs;pr.prependListener=Rs;pr.prependOnceListener=Rs;pr.listeners=function(r){return[]};pr.binding=function(r){throw new Error("process.binding is not supported")};pr.cwd=function(){return"/"};pr.chdir=function(r){throw new Error("process.chdir is not supported")};pr.umask=function(){return 0};var EW=A5.exports;const ct=SW(EW);var ny,BT;function O5(){return BT||(BT=1,ny=Ox().EventEmitter),ny}var iy={},su={},zT;function TW(){if(zT)return su;zT=1,su.byteLength=c,su.toByteArray=f,su.fromByteArray=g;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function l(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");w===-1&&(w=b);var O=w===b?0:4-w%4;return[w,O]}function c(y){var b=l(y),w=b[0],O=b[1];return(w+O)*3/4-O}function u(y,b,w){return(b+w)*3/4-w}function f(y){var b,w=l(y),O=w[0],S=w[1],k=new t(u(y,O,S)),E=0,A=S>0?O-4:O,_;for(_=0;_<A;_+=4)b=e[y.charCodeAt(_)]<<18|e[y.charCodeAt(_+1)]<<12|e[y.charCodeAt(_+2)]<<6|e[y.charCodeAt(_+3)],k[E++]=b>>16&255,k[E++]=b>>8&255,k[E++]=b&255;return S===2&&(b=e[y.charCodeAt(_)]<<2|e[y.charCodeAt(_+1)]>>4,k[E++]=b&255),S===1&&(b=e[y.charCodeAt(_)]<<10|e[y.charCodeAt(_+1)]<<4|e[y.charCodeAt(_+2)]>>2,k[E++]=b>>8&255,k[E++]=b&255),k}function d(y){return r[y>>18&63]+r[y>>12&63]+r[y>>6&63]+r[y&63]}function m(y,b,w){for(var O,S=[],k=b;k<w;k+=3)O=(y[k]<<16&16711680)+(y[k+1]<<8&65280)+(y[k+2]&255),S.push(d(O));return S.join("")}function g(y){for(var b,w=y.length,O=w%3,S=[],k=16383,E=0,A=w-O;E<A;E+=k)S.push(m(y,E,E+k>A?A:E+k));return O===1?(b=y[w-1],S.push(r[b>>2]+r[b<<4&63]+"==")):O===2&&(b=(y[w-2]<<8)+y[w-1],S.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"=")),S.join("")}return su}var ld={};var jT;function CW(){return jT||(jT=1,ld.read=function(r,e,t,n,i){var s,l,c=i*8-n-1,u=(1<<c)-1,f=u>>1,d=-7,m=t?i-1:0,g=t?-1:1,y=r[e+m];for(m+=g,s=y&(1<<-d)-1,y>>=-d,d+=c;d>0;s=s*256+r[e+m],m+=g,d-=8);for(l=s&(1<<-d)-1,s>>=-d,d+=n;d>0;l=l*256+r[e+m],m+=g,d-=8);if(s===0)s=1-f;else{if(s===u)return l?NaN:(y?-1:1)*(1/0);l=l+Math.pow(2,n),s=s-f}return(y?-1:1)*l*Math.pow(2,s-n)},ld.write=function(r,e,t,n,i,s){var l,c,u,f=s*8-i-1,d=(1<<f)-1,m=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,b=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=d):(l=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-l))<1&&(l--,u*=2),l+m>=1?e+=g/u:e+=g*Math.pow(2,1-m),e*u>=2&&(l++,u/=2),l+m>=d?(c=0,l=d):l+m>=1?(c=(e*u-1)*Math.pow(2,i),l=l+m):(c=e*Math.pow(2,m-1)*Math.pow(2,i),l=0));i>=8;r[t+y]=c&255,y+=b,c/=256,i-=8);for(l=l<<i|c,f+=i;f>0;r[t+y]=l&255,y+=b,l/=256,f-=8);r[t+y-b]|=w*128}),ld}var PT;function Gp(){return PT||(PT=1,(function(r){var e=TW(),t=CW(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=k,r.INSPECT_MAX_BYTES=50;var i=2147483647;r.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var F=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(F,T),F.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(F){if(F>i)throw new RangeError('The value "'+F+'" is invalid for option "size"');var T=new Uint8Array(F);return Object.setPrototypeOf(T,c.prototype),T}function c(F,T,C){if(typeof F=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(F)}return u(F,T,C)}c.poolSize=8192;function u(F,T,C){if(typeof F=="string")return g(F,T);if(ArrayBuffer.isView(F))return b(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(ge(F,ArrayBuffer)||F&&ge(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ge(F,SharedArrayBuffer)||F&&ge(F.buffer,SharedArrayBuffer)))return w(F,T,C);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var L=F.valueOf&&F.valueOf();if(L!=null&&L!==F)return c.from(L,T,C);var Z=O(F);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return c.from(F[Symbol.toPrimitive]("string"),T,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}c.from=function(F,T,C){return u(F,T,C)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function f(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function d(F,T,C){return f(F),F<=0?l(F):T!==void 0?typeof C=="string"?l(F).fill(T,C):l(F).fill(T):l(F)}c.alloc=function(F,T,C){return d(F,T,C)};function m(F){return f(F),l(F<0?0:S(F)|0)}c.allocUnsafe=function(F){return m(F)},c.allocUnsafeSlow=function(F){return m(F)};function g(F,T){if((typeof T!="string"||T==="")&&(T="utf8"),!c.isEncoding(T))throw new TypeError("Unknown encoding: "+T);var C=E(F,T)|0,L=l(C),Z=L.write(F,T);return Z!==C&&(L=L.slice(0,Z)),L}function y(F){for(var T=F.length<0?0:S(F.length)|0,C=l(T),L=0;L<T;L+=1)C[L]=F[L]&255;return C}function b(F){if(ge(F,Uint8Array)){var T=new Uint8Array(F);return w(T.buffer,T.byteOffset,T.byteLength)}return y(F)}function w(F,T,C){if(T<0||F.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<T+(C||0))throw new RangeError('"length" is outside of buffer bounds');var L;return T===void 0&&C===void 0?L=new Uint8Array(F):C===void 0?L=new Uint8Array(F,T):L=new Uint8Array(F,T,C),Object.setPrototypeOf(L,c.prototype),L}function O(F){if(c.isBuffer(F)){var T=S(F.length)|0,C=l(T);return C.length===0||F.copy(C,0,0,T),C}if(F.length!==void 0)return typeof F.length!="number"||D(F.length)?l(0):y(F);if(F.type==="Buffer"&&Array.isArray(F.data))return y(F.data)}function S(F){if(F>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return F|0}function k(F){return+F!=F&&(F=0),c.alloc(+F)}c.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==c.prototype},c.compare=function(T,C){if(ge(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),ge(C,Uint8Array)&&(C=c.from(C,C.offset,C.byteLength)),!c.isBuffer(T)||!c.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===C)return 0;for(var L=T.length,Z=C.length,oe=0,ne=Math.min(L,Z);oe<ne;++oe)if(T[oe]!==C[oe]){L=T[oe],Z=C[oe];break}return L<Z?-1:Z<L?1:0},c.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(T,C){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return c.alloc(0);var L;if(C===void 0)for(C=0,L=0;L<T.length;++L)C+=T[L].length;var Z=c.allocUnsafe(C),oe=0;for(L=0;L<T.length;++L){var ne=T[L];if(ge(ne,Uint8Array))oe+ne.length>Z.length?c.from(ne).copy(Z,oe):Uint8Array.prototype.set.call(Z,ne,oe);else if(c.isBuffer(ne))ne.copy(Z,oe);else throw new TypeError('"list" argument must be an Array of Buffers');oe+=ne.length}return Z};function E(F,T){if(c.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||ge(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);var C=F.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&C===0)return 0;for(var Z=!1;;)switch(T){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return B(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return W(F).length;default:if(Z)return L?-1:B(F).length;T=(""+T).toLowerCase(),Z=!0}}c.byteLength=E;function A(F,T,C){var L=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,T>>>=0,C<=T))return"";for(F||(F="utf8");;)switch(F){case"hex":return he(this,T,C);case"utf8":case"utf-8":return R(this,T,C);case"ascii":return G(this,T,C);case"latin1":case"binary":return ue(this,T,C);case"base64":return Y(this,T,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ke(this,T,C);default:if(L)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),L=!0}}c.prototype._isBuffer=!0;function _(F,T,C){var L=F[T];F[T]=F[C],F[C]=L}c.prototype.swap16=function(){var T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<T;C+=2)_(this,C,C+1);return this},c.prototype.swap32=function(){var T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<T;C+=4)_(this,C,C+3),_(this,C+1,C+2);return this},c.prototype.swap64=function(){var T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<T;C+=8)_(this,C,C+7),_(this,C+1,C+6),_(this,C+2,C+5),_(this,C+3,C+4);return this},c.prototype.toString=function(){var T=this.length;return T===0?"":arguments.length===0?R(this,0,T):A.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(T){if(!c.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:c.compare(this,T)===0},c.prototype.inspect=function(){var T="",C=r.INSPECT_MAX_BYTES;return T=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(T+=" ... "),"<Buffer "+T+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(T,C,L,Z,oe){if(ge(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),!c.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(C===void 0&&(C=0),L===void 0&&(L=T?T.length:0),Z===void 0&&(Z=0),oe===void 0&&(oe=this.length),C<0||L>T.length||Z<0||oe>this.length)throw new RangeError("out of range index");if(Z>=oe&&C>=L)return 0;if(Z>=oe)return-1;if(C>=L)return 1;if(C>>>=0,L>>>=0,Z>>>=0,oe>>>=0,this===T)return 0;for(var ne=oe-Z,Ee=L-C,Te=Math.min(ne,Ee),Oe=this.slice(Z,oe),je=T.slice(C,L),Ve=0;Ve<Te;++Ve)if(Oe[Ve]!==je[Ve]){ne=Oe[Ve],Ee=je[Ve];break}return ne<Ee?-1:Ee<ne?1:0};function U(F,T,C,L,Z){if(F.length===0)return-1;if(typeof C=="string"?(L=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,D(C)&&(C=Z?0:F.length-1),C<0&&(C=F.length+C),C>=F.length){if(Z)return-1;C=F.length-1}else if(C<0)if(Z)C=0;else return-1;if(typeof T=="string"&&(T=c.from(T,L)),c.isBuffer(T))return T.length===0?-1:M(F,T,C,L,Z);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(F,T,C):Uint8Array.prototype.lastIndexOf.call(F,T,C):M(F,[T],C,L,Z);throw new TypeError("val must be string, number or Buffer")}function M(F,T,C,L,Z){var oe=1,ne=F.length,Ee=T.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(F.length<2||T.length<2)return-1;oe=2,ne/=2,Ee/=2,C/=2}function Te(Wt,an){return oe===1?Wt[an]:Wt.readUInt16BE(an*oe)}var Oe;if(Z){var je=-1;for(Oe=C;Oe<ne;Oe++)if(Te(F,Oe)===Te(T,je===-1?0:Oe-je)){if(je===-1&&(je=Oe),Oe-je+1===Ee)return je*oe}else je!==-1&&(Oe-=Oe-je),je=-1}else for(C+Ee>ne&&(C=ne-Ee),Oe=C;Oe>=0;Oe--){for(var Ve=!0,Qe=0;Qe<Ee;Qe++)if(Te(F,Oe+Qe)!==Te(T,Qe)){Ve=!1;break}if(Ve)return Oe}return-1}c.prototype.includes=function(T,C,L){return this.indexOf(T,C,L)!==-1},c.prototype.indexOf=function(T,C,L){return U(this,T,C,L,!0)},c.prototype.lastIndexOf=function(T,C,L){return U(this,T,C,L,!1)};function Q(F,T,C,L){C=Number(C)||0;var Z=F.length-C;L?(L=Number(L),L>Z&&(L=Z)):L=Z;var oe=T.length;L>oe/2&&(L=oe/2);for(var ne=0;ne<L;++ne){var Ee=parseInt(T.substr(ne*2,2),16);if(D(Ee))return ne;F[C+ne]=Ee}return ne}function P(F,T,C,L){return $(B(T,F.length-C),F,C,L)}function re(F,T,C,L){return $(te(T),F,C,L)}function pe(F,T,C,L){return $(W(T),F,C,L)}function H(F,T,C,L){return $(J(T,F.length-C),F,C,L)}c.prototype.write=function(T,C,L,Z){if(C===void 0)Z="utf8",L=this.length,C=0;else if(L===void 0&&typeof C=="string")Z=C,L=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(L)?(L=L>>>0,Z===void 0&&(Z="utf8")):(Z=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var oe=this.length-C;if((L===void 0||L>oe)&&(L=oe),T.length>0&&(L<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var ne=!1;;)switch(Z){case"hex":return Q(this,T,C,L);case"utf8":case"utf-8":return P(this,T,C,L);case"ascii":case"latin1":case"binary":return re(this,T,C,L);case"base64":return pe(this,T,C,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,T,C,L);default:if(ne)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ne=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(F,T,C){return T===0&&C===F.length?e.fromByteArray(F):e.fromByteArray(F.slice(T,C))}function R(F,T,C){C=Math.min(F.length,C);for(var L=[],Z=T;Z<C;){var oe=F[Z],ne=null,Ee=oe>239?4:oe>223?3:oe>191?2:1;if(Z+Ee<=C){var Te,Oe,je,Ve;switch(Ee){case 1:oe<128&&(ne=oe);break;case 2:Te=F[Z+1],(Te&192)===128&&(Ve=(oe&31)<<6|Te&63,Ve>127&&(ne=Ve));break;case 3:Te=F[Z+1],Oe=F[Z+2],(Te&192)===128&&(Oe&192)===128&&(Ve=(oe&15)<<12|(Te&63)<<6|Oe&63,Ve>2047&&(Ve<55296||Ve>57343)&&(ne=Ve));break;case 4:Te=F[Z+1],Oe=F[Z+2],je=F[Z+3],(Te&192)===128&&(Oe&192)===128&&(je&192)===128&&(Ve=(oe&15)<<18|(Te&63)<<12|(Oe&63)<<6|je&63,Ve>65535&&Ve<1114112&&(ne=Ve))}}ne===null?(ne=65533,Ee=1):ne>65535&&(ne-=65536,L.push(ne>>>10&1023|55296),ne=56320|ne&1023),L.push(ne),Z+=Ee}return X(L)}var ee=4096;function X(F){var T=F.length;if(T<=ee)return String.fromCharCode.apply(String,F);for(var C="",L=0;L<T;)C+=String.fromCharCode.apply(String,F.slice(L,L+=ee));return C}function G(F,T,C){var L="";C=Math.min(F.length,C);for(var Z=T;Z<C;++Z)L+=String.fromCharCode(F[Z]&127);return L}function ue(F,T,C){var L="";C=Math.min(F.length,C);for(var Z=T;Z<C;++Z)L+=String.fromCharCode(F[Z]);return L}function he(F,T,C){var L=F.length;(!T||T<0)&&(T=0),(!C||C<0||C>L)&&(C=L);for(var Z="",oe=T;oe<C;++oe)Z+=ve[F[oe]];return Z}function ke(F,T,C){for(var L=F.slice(T,C),Z="",oe=0;oe<L.length-1;oe+=2)Z+=String.fromCharCode(L[oe]+L[oe+1]*256);return Z}c.prototype.slice=function(T,C){var L=this.length;T=~~T,C=C===void 0?L:~~C,T<0?(T+=L,T<0&&(T=0)):T>L&&(T=L),C<0?(C+=L,C<0&&(C=0)):C>L&&(C=L),C<T&&(C=T);var Z=this.subarray(T,C);return Object.setPrototypeOf(Z,c.prototype),Z};function q(F,T,C){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+T>C)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(T,C,L){T=T>>>0,C=C>>>0,L||q(T,C,this.length);for(var Z=this[T],oe=1,ne=0;++ne<C&&(oe*=256);)Z+=this[T+ne]*oe;return Z},c.prototype.readUintBE=c.prototype.readUIntBE=function(T,C,L){T=T>>>0,C=C>>>0,L||q(T,C,this.length);for(var Z=this[T+--C],oe=1;C>0&&(oe*=256);)Z+=this[T+--C]*oe;return Z},c.prototype.readUint8=c.prototype.readUInt8=function(T,C){return T=T>>>0,C||q(T,1,this.length),this[T]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(T,C){return T=T>>>0,C||q(T,2,this.length),this[T]|this[T+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(T,C){return T=T>>>0,C||q(T,2,this.length),this[T]<<8|this[T+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(T,C){return T=T>>>0,C||q(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(T,C){return T=T>>>0,C||q(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},c.prototype.readIntLE=function(T,C,L){T=T>>>0,C=C>>>0,L||q(T,C,this.length);for(var Z=this[T],oe=1,ne=0;++ne<C&&(oe*=256);)Z+=this[T+ne]*oe;return oe*=128,Z>=oe&&(Z-=Math.pow(2,8*C)),Z},c.prototype.readIntBE=function(T,C,L){T=T>>>0,C=C>>>0,L||q(T,C,this.length);for(var Z=C,oe=1,ne=this[T+--Z];Z>0&&(oe*=256);)ne+=this[T+--Z]*oe;return oe*=128,ne>=oe&&(ne-=Math.pow(2,8*C)),ne},c.prototype.readInt8=function(T,C){return T=T>>>0,C||q(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},c.prototype.readInt16LE=function(T,C){T=T>>>0,C||q(T,2,this.length);var L=this[T]|this[T+1]<<8;return L&32768?L|4294901760:L},c.prototype.readInt16BE=function(T,C){T=T>>>0,C||q(T,2,this.length);var L=this[T+1]|this[T]<<8;return L&32768?L|4294901760:L},c.prototype.readInt32LE=function(T,C){return T=T>>>0,C||q(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},c.prototype.readInt32BE=function(T,C){return T=T>>>0,C||q(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},c.prototype.readFloatLE=function(T,C){return T=T>>>0,C||q(T,4,this.length),t.read(this,T,!0,23,4)},c.prototype.readFloatBE=function(T,C){return T=T>>>0,C||q(T,4,this.length),t.read(this,T,!1,23,4)},c.prototype.readDoubleLE=function(T,C){return T=T>>>0,C||q(T,8,this.length),t.read(this,T,!0,52,8)},c.prototype.readDoubleBE=function(T,C){return T=T>>>0,C||q(T,8,this.length),t.read(this,T,!1,52,8)};function I(F,T,C,L,Z,oe){if(!c.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>Z||T<oe)throw new RangeError('"value" argument is out of bounds');if(C+L>F.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(T,C,L,Z){if(T=+T,C=C>>>0,L=L>>>0,!Z){var oe=Math.pow(2,8*L)-1;I(this,T,C,L,oe,0)}var ne=1,Ee=0;for(this[C]=T&255;++Ee<L&&(ne*=256);)this[C+Ee]=T/ne&255;return C+L},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(T,C,L,Z){if(T=+T,C=C>>>0,L=L>>>0,!Z){var oe=Math.pow(2,8*L)-1;I(this,T,C,L,oe,0)}var ne=L-1,Ee=1;for(this[C+ne]=T&255;--ne>=0&&(Ee*=256);)this[C+ne]=T/Ee&255;return C+L},c.prototype.writeUint8=c.prototype.writeUInt8=function(T,C,L){return T=+T,C=C>>>0,L||I(this,T,C,1,255,0),this[C]=T&255,C+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(T,C,L){return T=+T,C=C>>>0,L||I(this,T,C,2,65535,0),this[C]=T&255,this[C+1]=T>>>8,C+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(T,C,L){return T=+T,C=C>>>0,L||I(this,T,C,2,65535,0),this[C]=T>>>8,this[C+1]=T&255,C+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(T,C,L){return T=+T,C=C>>>0,L||I(this,T,C,4,4294967295,0),this[C+3]=T>>>24,this[C+2]=T>>>16,this[C+1]=T>>>8,this[C]=T&255,C+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(T,C,L){return T=+T,C=C>>>0,L||I(this,T,C,4,4294967295,0),this[C]=T>>>24,this[C+1]=T>>>16,this[C+2]=T>>>8,this[C+3]=T&255,C+4},c.prototype.writeIntLE=function(T,C,L,Z){if(T=+T,C=C>>>0,!Z){var oe=Math.pow(2,8*L-1);I(this,T,C,L,oe-1,-oe)}var ne=0,Ee=1,Te=0;for(this[C]=T&255;++ne<L&&(Ee*=256);)T<0&&Te===0&&this[C+ne-1]!==0&&(Te=1),this[C+ne]=(T/Ee>>0)-Te&255;return C+L},c.prototype.writeIntBE=function(T,C,L,Z){if(T=+T,C=C>>>0,!Z){var oe=Math.pow(2,8*L-1);I(this,T,C,L,oe-1,-oe)}var ne=L-1,Ee=1,Te=0;for(this[C+ne]=T&255;--ne>=0&&(Ee*=256);)T<0&&Te===0&&this[C+ne+1]!==0&&(Te=1),this[C+ne]=(T/Ee>>0)-Te&255;return C+L},c.prototype.writeInt8=function(T,C,L){return T=+T,C=C>>>0,L||I(this,T,C,1,127,-128),T<0&&(T=255+T+1),this[C]=T&255,C+1},c.prototype.writeInt16LE=function(T,C,L){return T=+T,C=C>>>0,L||I(this,T,C,2,32767,-32768),this[C]=T&255,this[C+1]=T>>>8,C+2},c.prototype.writeInt16BE=function(T,C,L){return T=+T,C=C>>>0,L||I(this,T,C,2,32767,-32768),this[C]=T>>>8,this[C+1]=T&255,C+2},c.prototype.writeInt32LE=function(T,C,L){return T=+T,C=C>>>0,L||I(this,T,C,4,2147483647,-2147483648),this[C]=T&255,this[C+1]=T>>>8,this[C+2]=T>>>16,this[C+3]=T>>>24,C+4},c.prototype.writeInt32BE=function(T,C,L){return T=+T,C=C>>>0,L||I(this,T,C,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[C]=T>>>24,this[C+1]=T>>>16,this[C+2]=T>>>8,this[C+3]=T&255,C+4};function K(F,T,C,L,Z,oe){if(C+L>F.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function se(F,T,C,L,Z){return T=+T,C=C>>>0,Z||K(F,T,C,4),t.write(F,T,C,L,23,4),C+4}c.prototype.writeFloatLE=function(T,C,L){return se(this,T,C,!0,L)},c.prototype.writeFloatBE=function(T,C,L){return se(this,T,C,!1,L)};function fe(F,T,C,L,Z){return T=+T,C=C>>>0,Z||K(F,T,C,8),t.write(F,T,C,L,52,8),C+8}c.prototype.writeDoubleLE=function(T,C,L){return fe(this,T,C,!0,L)},c.prototype.writeDoubleBE=function(T,C,L){return fe(this,T,C,!1,L)},c.prototype.copy=function(T,C,L,Z){if(!c.isBuffer(T))throw new TypeError("argument should be a Buffer");if(L||(L=0),!Z&&Z!==0&&(Z=this.length),C>=T.length&&(C=T.length),C||(C=0),Z>0&&Z<L&&(Z=L),Z===L||T.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),T.length-C<Z-L&&(Z=T.length-C+L);var oe=Z-L;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,L,Z):Uint8Array.prototype.set.call(T,this.subarray(L,Z),C),oe},c.prototype.fill=function(T,C,L,Z){if(typeof T=="string"){if(typeof C=="string"?(Z=C,C=0,L=this.length):typeof L=="string"&&(Z=L,L=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!c.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(T.length===1){var oe=T.charCodeAt(0);(Z==="utf8"&&oe<128||Z==="latin1")&&(T=oe)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(C<0||this.length<C||this.length<L)throw new RangeError("Out of range index");if(L<=C)return this;C=C>>>0,L=L===void 0?this.length:L>>>0,T||(T=0);var ne;if(typeof T=="number")for(ne=C;ne<L;++ne)this[ne]=T;else{var Ee=c.isBuffer(T)?T:c.from(T,Z),Te=Ee.length;if(Te===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ne=0;ne<L-C;++ne)this[ne+C]=Ee[ne%Te]}return this};var ie=/[^+/0-9A-Za-z-_]/g;function z(F){if(F=F.split("=")[0],F=F.trim().replace(ie,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function B(F,T){T=T||1/0;for(var C,L=F.length,Z=null,oe=[],ne=0;ne<L;++ne){if(C=F.charCodeAt(ne),C>55295&&C<57344){if(!Z){if(C>56319){(T-=3)>-1&&oe.push(239,191,189);continue}else if(ne+1===L){(T-=3)>-1&&oe.push(239,191,189);continue}Z=C;continue}if(C<56320){(T-=3)>-1&&oe.push(239,191,189),Z=C;continue}C=(Z-55296<<10|C-56320)+65536}else Z&&(T-=3)>-1&&oe.push(239,191,189);if(Z=null,C<128){if((T-=1)<0)break;oe.push(C)}else if(C<2048){if((T-=2)<0)break;oe.push(C>>6|192,C&63|128)}else if(C<65536){if((T-=3)<0)break;oe.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((T-=4)<0)break;oe.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return oe}function te(F){for(var T=[],C=0;C<F.length;++C)T.push(F.charCodeAt(C)&255);return T}function J(F,T){for(var C,L,Z,oe=[],ne=0;ne<F.length&&!((T-=2)<0);++ne)C=F.charCodeAt(ne),L=C>>8,Z=C%256,oe.push(Z),oe.push(L);return oe}function W(F){return e.toByteArray(z(F))}function $(F,T,C,L){for(var Z=0;Z<L&&!(Z+C>=T.length||Z>=F.length);++Z)T[Z+C]=F[Z];return Z}function ge(F,T){return F instanceof T||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===T.name}function D(F){return F!==F}var ve=(function(){for(var F="0123456789abcdef",T=new Array(256),C=0;C<16;++C)for(var L=C*16,Z=0;Z<16;++Z)T[L+Z]=F[C]+F[Z];return T})()})(iy)),iy}var sy={},ay={},ly,FT;function _5(){return FT||(FT=1,ly=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,t);if(c.value!==i||c.enumerable!==!0)return!1}return!0}),ly}var oy,IT;function _x(){if(IT)return oy;IT=1;var r=_5();return oy=function(){return r()&&!!Symbol.toStringTag},oy}var cy,UT;function R5(){return UT||(UT=1,cy=Object),cy}var uy,HT;function OW(){return HT||(HT=1,uy=Error),uy}var hy,qT;function _W(){return qT||(qT=1,hy=EvalError),hy}var fy,WT;function RW(){return WT||(WT=1,fy=RangeError),fy}var dy,VT;function NW(){return VT||(VT=1,dy=ReferenceError),dy}var py,$T;function N5(){return $T||($T=1,py=SyntaxError),py}var my,GT;function dh(){return GT||(GT=1,my=TypeError),my}var gy,QT;function MW(){return QT||(QT=1,gy=URIError),gy}var yy,YT;function DW(){return YT||(YT=1,yy=Math.abs),yy}var vy,XT;function LW(){return XT||(XT=1,vy=Math.floor),vy}var by,KT;function BW(){return KT||(KT=1,by=Math.max),by}var xy,ZT;function zW(){return ZT||(ZT=1,xy=Math.min),xy}var wy,JT;function jW(){return JT||(JT=1,wy=Math.pow),wy}var Sy,eC;function PW(){return eC||(eC=1,Sy=Math.round),Sy}var ky,tC;function FW(){return tC||(tC=1,ky=Number.isNaN||function(e){return e!==e}),ky}var Ay,rC;function IW(){if(rC)return Ay;rC=1;var r=FW();return Ay=function(t){return r(t)||t===0?t:t<0?-1:1},Ay}var Ey,nC;function UW(){return nC||(nC=1,Ey=Object.getOwnPropertyDescriptor),Ey}var Ty,iC;function ph(){if(iC)return Ty;iC=1;var r=UW();if(r)try{r([],"length")}catch{r=null}return Ty=r,Ty}var Cy,sC;function Qp(){if(sC)return Cy;sC=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return Cy=r,Cy}var Oy,aC;function HW(){if(aC)return Oy;aC=1;var r=typeof Symbol<"u"&&Symbol,e=_5();return Oy=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Oy}var _y,lC;function M5(){return lC||(lC=1,_y=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),_y}var Ry,oC;function D5(){if(oC)return Ry;oC=1;var r=R5();return Ry=r.getPrototypeOf||null,Ry}var Ny,cC;function qW(){if(cC)return Ny;cC=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(u,f){for(var d=[],m=0;m<u.length;m+=1)d[m]=u[m];for(var g=0;g<f.length;g+=1)d[g+u.length]=f[g];return d},s=function(u,f){for(var d=[],m=f,g=0;m<u.length;m+=1,g+=1)d[g]=u[m];return d},l=function(c,u){for(var f="",d=0;d<c.length;d+=1)f+=c[d],d+1<c.length&&(f+=u);return f};return Ny=function(u){var f=this;if(typeof f!="function"||e.apply(f)!==n)throw new TypeError(r+f);for(var d=s(arguments,1),m,g=function(){if(this instanceof m){var S=f.apply(this,i(d,arguments));return Object(S)===S?S:this}return f.apply(u,i(d,arguments))},y=t(0,f.length-d.length),b=[],w=0;w<y;w++)b[w]="$"+w;if(m=Function("binder","return function ("+l(b,",")+"){ return binder.apply(this,arguments); }")(g),f.prototype){var O=function(){};O.prototype=f.prototype,m.prototype=new O,O.prototype=null}return m},Ny}var My,uC;function mh(){if(uC)return My;uC=1;var r=qW();return My=Function.prototype.bind||r,My}var Dy,hC;function Rx(){return hC||(hC=1,Dy=Function.prototype.call),Dy}var Ly,fC;function L5(){return fC||(fC=1,Ly=Function.prototype.apply),Ly}var By,dC;function WW(){return dC||(dC=1,By=typeof Reflect<"u"&&Reflect&&Reflect.apply),By}var zy,pC;function VW(){if(pC)return zy;pC=1;var r=mh(),e=L5(),t=Rx(),n=WW();return zy=n||r.call(t,e),zy}var jy,mC;function $W(){if(mC)return jy;mC=1;var r=mh(),e=dh(),t=Rx(),n=VW();return jy=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(r,t,s)},jy}var Py,gC;function GW(){if(gC)return Py;gC=1;var r=$W(),e=ph(),t;try{t=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Py=n&&typeof n.get=="function"?r([n.get]):typeof s=="function"?(function(c){return s(c==null?c:i(c))}):!1,Py}var Fy,yC;function QW(){if(yC)return Fy;yC=1;var r=M5(),e=D5(),t=GW();return Fy=r?function(i){return r(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,Fy}var Iy,vC;function YW(){if(vC)return Iy;vC=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=mh();return Iy=t.call(r,e),Iy}var Uy,bC;function Nx(){if(bC)return Uy;bC=1;var r,e=R5(),t=OW(),n=_W(),i=RW(),s=NW(),l=N5(),c=dh(),u=MW(),f=DW(),d=LW(),m=BW(),g=zW(),y=jW(),b=PW(),w=IW(),O=Function,S=function(te){try{return O('"use strict"; return ('+te+").constructor;")()}catch{}},k=ph(),E=Qp(),A=function(){throw new c},_=k?(function(){try{return arguments.callee,A}catch{try{return k(arguments,"callee").get}catch{return A}}})():A,U=HW()(),M=QW(),Q=D5(),P=M5(),re=L5(),pe=Rx(),H={},Y=typeof Uint8Array>"u"||!M?r:M(Uint8Array),R={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":U&&M?M([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":H,"%AsyncGenerator%":H,"%AsyncGeneratorFunction%":H,"%AsyncIteratorPrototype%":H,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":O,"%GeneratorFunction%":H,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":U&&M?M(M([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!U||!M?r:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":k,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!U||!M?r:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":U&&M?M(""[Symbol.iterator]()):r,"%Symbol%":U?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":_,"%TypedArray%":Y,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":pe,"%Function.prototype.apply%":re,"%Object.defineProperty%":E,"%Object.getPrototypeOf%":Q,"%Math.abs%":f,"%Math.floor%":d,"%Math.max%":m,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":b,"%Math.sign%":w,"%Reflect.getPrototypeOf%":P};if(M)try{null.error}catch(te){var ee=M(M(te));R["%Error.prototype%"]=ee}var X=function te(J){var W;if(J==="%AsyncFunction%")W=S("async function () {}");else if(J==="%GeneratorFunction%")W=S("function* () {}");else if(J==="%AsyncGeneratorFunction%")W=S("async function* () {}");else if(J==="%AsyncGenerator%"){var $=te("%AsyncGeneratorFunction%");$&&(W=$.prototype)}else if(J==="%AsyncIteratorPrototype%"){var ge=te("%AsyncGenerator%");ge&&M&&(W=M(ge.prototype))}return R[J]=W,W},G={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ue=mh(),he=YW(),ke=ue.call(pe,Array.prototype.concat),q=ue.call(re,Array.prototype.splice),I=ue.call(pe,String.prototype.replace),K=ue.call(pe,String.prototype.slice),se=ue.call(pe,RegExp.prototype.exec),fe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,z=function(J){var W=K(J,0,1),$=K(J,-1);if(W==="%"&&$!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if($==="%"&&W!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var ge=[];return I(J,fe,function(D,ve,F,T){ge[ge.length]=F?I(T,ie,"$1"):ve||D}),ge},B=function(J,W){var $=J,ge;if(he(G,$)&&(ge=G[$],$="%"+ge[0]+"%"),he(R,$)){var D=R[$];if(D===H&&(D=X($)),typeof D>"u"&&!W)throw new c("intrinsic "+J+" exists, but is not available. Please file an issue!");return{alias:ge,name:$,value:D}}throw new l("intrinsic "+J+" does not exist!")};return Uy=function(J,W){if(typeof J!="string"||J.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof W!="boolean")throw new c('"allowMissing" argument must be a boolean');if(se(/^%?[^%]*%?$/,J)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $=z(J),ge=$.length>0?$[0]:"",D=B("%"+ge+"%",W),ve=D.name,F=D.value,T=!1,C=D.alias;C&&(ge=C[0],q($,ke([0,1],C)));for(var L=1,Z=!0;L<$.length;L+=1){var oe=$[L],ne=K(oe,0,1),Ee=K(oe,-1);if((ne==='"'||ne==="'"||ne==="`"||Ee==='"'||Ee==="'"||Ee==="`")&&ne!==Ee)throw new l("property names with quotes must have matching quotes");if((oe==="constructor"||!Z)&&(T=!0),ge+="."+oe,ve="%"+ge+"%",he(R,ve))F=R[ve];else if(F!=null){if(!(oe in F)){if(!W)throw new c("base intrinsic for "+J+" exists, but the property is not available.");return}if(k&&L+1>=$.length){var Te=k(F,oe);Z=!!Te,Z&&"get"in Te&&!("originalValue"in Te.get)?F=Te.get:F=F[oe]}else Z=he(F,oe),F=F[oe];Z&&!T&&(R[ve]=F)}}return F},Uy}var Hy={exports:{}},qy,xC;function XW(){if(xC)return qy;xC=1;var r=Qp(),e=N5(),t=dh(),n=ph();return qy=function(s,l,c){if(!s||typeof s!="object"&&typeof s!="function")throw new t("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,g=!!n&&n(s,l);if(r)r(s,l,{configurable:d===null&&g?g.configurable:!d,enumerable:u===null&&g?g.enumerable:!u,value:c,writable:f===null&&g?g.writable:!f});else if(m||!u&&!f&&!d)s[l]=c;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},qy}var Wy,wC;function KW(){if(wC)return Wy;wC=1;var r=Qp(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},Wy=e,Wy}var Vy,SC;function ZW(){if(SC)return Vy;SC=1;var r=Nx(),e=XW(),t=KW()(),n=ph(),i=dh(),s=r("%Math.floor%");return Vy=function(c,u){if(typeof c!="function")throw new i("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||s(u)!==u)throw new i("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],d=!0,m=!0;if("length"in c&&n){var g=n(c,"length");g&&!g.configurable&&(d=!1),g&&!g.writable&&(m=!1)}return(d||m||!f)&&(t?e(c,"length",u,!0,!0):e(c,"length",u)),c},Vy}var kC;function B5(){return kC||(kC=1,(function(r){var e=mh(),t=Nx(),n=ZW(),i=dh(),s=t("%Function.prototype.apply%"),l=t("%Function.prototype.call%"),c=t("%Reflect.apply%",!0)||e.call(l,s),u=Qp(),f=t("%Math.max%");r.exports=function(g){if(typeof g!="function")throw new i("a function is required");var y=c(e,l,arguments);return n(y,1+f(0,g.length-(arguments.length-1)),!0)};var d=function(){return c(e,s,arguments)};u?u(r.exports,"apply",{value:d}):r.exports.apply=d})(Hy)),Hy.exports}var $y,AC;function z5(){if(AC)return $y;AC=1;var r=Nx(),e=B5(),t=e(r("String.prototype.indexOf"));return $y=function(i,s){var l=r(i,!!s);return typeof l=="function"&&t(i,".prototype.")>-1?e(l):l},$y}var Gy,EC;function JW(){if(EC)return Gy;EC=1;var r=_x()(),e=z5(),t=e("Object.prototype.toString"),n=function(c){return r&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:t(c)==="[object Arguments]"},i=function(c){return n(c)?!0:c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&t(c)!=="[object Array]"&&t(c.callee)==="[object Function]"},s=(function(){return n(arguments)})();return n.isLegacyArguments=i,Gy=s?n:i,Gy}var Qy,TC;function eV(){if(TC)return Qy;TC=1;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,n=_x()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},l;return Qy=function(u){if(typeof u!="function")return!1;if(t.test(e.call(u)))return!0;if(!n){var f=r.call(u);return f==="[object GeneratorFunction]"}if(!i)return!1;if(typeof l>"u"){var d=s();l=d?i(d):!1}return i(u)===l},Qy}var Yy,CC;function tV(){if(CC)return Yy;CC=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(k){k!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(E){try{var A=r.call(E);return i.test(A)}catch{return!1}},l=function(E){try{return s(E)?!1:(r.call(E),!0)}catch{return!1}},c=Object.prototype.toString,u="[object Object]",f="[object Function]",d="[object GeneratorFunction]",m="[object HTMLAllCollection]",g="[object HTML document.all class]",y="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),O=function(){return!1};if(typeof document=="object"){var S=document.all;c.call(S)===c.call(document.all)&&(O=function(E){if((w||!E)&&(typeof E>"u"||typeof E=="object"))try{var A=c.call(E);return(A===m||A===g||A===y||A===u)&&E("")==null}catch{}return!1})}return Yy=e?function(E){if(O(E))return!0;if(!E||typeof E!="function"&&typeof E!="object")return!1;try{e(E,null,t)}catch(A){if(A!==n)return!1}return!s(E)&&l(E)}:function(E){if(O(E))return!0;if(!E||typeof E!="function"&&typeof E!="object")return!1;if(b)return l(E);if(s(E))return!1;var A=c.call(E);return A!==f&&A!==d&&!/^\[object HTML/.test(A)?!1:l(E)},Yy}var Xy,OC;function rV(){if(OC)return Xy;OC=1;var r=tV(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(u,f,d){for(var m=0,g=u.length;m<g;m++)t.call(u,m)&&(d==null?f(u[m],m,u):f.call(d,u[m],m,u))},i=function(u,f,d){for(var m=0,g=u.length;m<g;m++)d==null?f(u.charAt(m),m,u):f.call(d,u.charAt(m),m,u)},s=function(u,f,d){for(var m in u)t.call(u,m)&&(d==null?f(u[m],m,u):f.call(d,u[m],m,u))},l=function(u,f,d){if(!r(f))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=d),e.call(u)==="[object Array]"?n(u,f,m):typeof u=="string"?i(u,f,m):s(u,f,m)};return Xy=l,Xy}var Ky,_C;function nV(){return _C||(_C=1,Ky=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Ky}var Zy,RC;function iV(){if(RC)return Zy;RC=1;var r=nV(),e=typeof globalThis>"u"?Fi:globalThis;return Zy=function(){for(var n=[],i=0;i<r.length;i++)typeof e[r[i]]=="function"&&(n[n.length]=r[i]);return n},Zy}var Jy,NC;function j5(){if(NC)return Jy;NC=1;var r=rV(),e=iV(),t=B5(),n=z5(),i=ph(),s=n("Object.prototype.toString"),l=_x()(),c=typeof globalThis>"u"?Fi:globalThis,u=e(),f=n("String.prototype.slice"),d=Object.getPrototypeOf,m=n("Array.prototype.indexOf",!0)||function(O,S){for(var k=0;k<O.length;k+=1)if(O[k]===S)return k;return-1},g={__proto__:null};l&&i&&d?r(u,function(w){var O=new c[w];if(Symbol.toStringTag in O){var S=d(O),k=i(S,Symbol.toStringTag);if(!k){var E=d(S);k=i(E,Symbol.toStringTag)}g["$"+w]=t(k.get)}}):r(u,function(w){var O=new c[w],S=O.slice||O.set;S&&(g["$"+w]=t(S))});var y=function(O){var S=!1;return r(g,function(k,E){if(!S)try{"$"+k(O)===E&&(S=f(E,1))}catch{}}),S},b=function(O){var S=!1;return r(g,function(k,E){if(!S)try{k(O),S=f(E,1)}catch{}}),S};return Jy=function(O){if(!O||typeof O!="object")return!1;if(!l){var S=f(s(O),8,-1);return m(u,S)>-1?S:S!=="Object"?!1:b(O)}return i?y(O):null},Jy}var ev,MC;function sV(){if(MC)return ev;MC=1;var r=j5();return ev=function(t){return!!r(t)},ev}var DC;function aV(){return DC||(DC=1,(function(r){var e=JW(),t=eV(),n=j5(),i=sV();function s(L){return L.call.bind(L)}var l=typeof BigInt<"u",c=typeof Symbol<"u",u=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),m=s(Boolean.prototype.valueOf);if(l)var g=s(BigInt.prototype.valueOf);if(c)var y=s(Symbol.prototype.valueOf);function b(L,Z){if(typeof L!="object")return!1;try{return Z(L),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=i;function w(L){return typeof Promise<"u"&&L instanceof Promise||L!==null&&typeof L=="object"&&typeof L.then=="function"&&typeof L.catch=="function"}r.isPromise=w;function O(L){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(L):i(L)||K(L)}r.isArrayBufferView=O;function S(L){return n(L)==="Uint8Array"}r.isUint8Array=S;function k(L){return n(L)==="Uint8ClampedArray"}r.isUint8ClampedArray=k;function E(L){return n(L)==="Uint16Array"}r.isUint16Array=E;function A(L){return n(L)==="Uint32Array"}r.isUint32Array=A;function _(L){return n(L)==="Int8Array"}r.isInt8Array=_;function U(L){return n(L)==="Int16Array"}r.isInt16Array=U;function M(L){return n(L)==="Int32Array"}r.isInt32Array=M;function Q(L){return n(L)==="Float32Array"}r.isFloat32Array=Q;function P(L){return n(L)==="Float64Array"}r.isFloat64Array=P;function re(L){return n(L)==="BigInt64Array"}r.isBigInt64Array=re;function pe(L){return n(L)==="BigUint64Array"}r.isBigUint64Array=pe;function H(L){return u(L)==="[object Map]"}H.working=typeof Map<"u"&&H(new Map);function Y(L){return typeof Map>"u"?!1:H.working?H(L):L instanceof Map}r.isMap=Y;function R(L){return u(L)==="[object Set]"}R.working=typeof Set<"u"&&R(new Set);function ee(L){return typeof Set>"u"?!1:R.working?R(L):L instanceof Set}r.isSet=ee;function X(L){return u(L)==="[object WeakMap]"}X.working=typeof WeakMap<"u"&&X(new WeakMap);function G(L){return typeof WeakMap>"u"?!1:X.working?X(L):L instanceof WeakMap}r.isWeakMap=G;function ue(L){return u(L)==="[object WeakSet]"}ue.working=typeof WeakSet<"u"&&ue(new WeakSet);function he(L){return ue(L)}r.isWeakSet=he;function ke(L){return u(L)==="[object ArrayBuffer]"}ke.working=typeof ArrayBuffer<"u"&&ke(new ArrayBuffer);function q(L){return typeof ArrayBuffer>"u"?!1:ke.working?ke(L):L instanceof ArrayBuffer}r.isArrayBuffer=q;function I(L){return u(L)==="[object DataView]"}I.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&I(new DataView(new ArrayBuffer(1),0,1));function K(L){return typeof DataView>"u"?!1:I.working?I(L):L instanceof DataView}r.isDataView=K;var se=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function fe(L){return u(L)==="[object SharedArrayBuffer]"}function ie(L){return typeof se>"u"?!1:(typeof fe.working>"u"&&(fe.working=fe(new se)),fe.working?fe(L):L instanceof se)}r.isSharedArrayBuffer=ie;function z(L){return u(L)==="[object AsyncFunction]"}r.isAsyncFunction=z;function B(L){return u(L)==="[object Map Iterator]"}r.isMapIterator=B;function te(L){return u(L)==="[object Set Iterator]"}r.isSetIterator=te;function J(L){return u(L)==="[object Generator]"}r.isGeneratorObject=J;function W(L){return u(L)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=W;function $(L){return b(L,f)}r.isNumberObject=$;function ge(L){return b(L,d)}r.isStringObject=ge;function D(L){return b(L,m)}r.isBooleanObject=D;function ve(L){return l&&b(L,g)}r.isBigIntObject=ve;function F(L){return c&&b(L,y)}r.isSymbolObject=F;function T(L){return $(L)||ge(L)||D(L)||ve(L)||F(L)}r.isBoxedPrimitive=T;function C(L){return typeof Uint8Array<"u"&&(q(L)||ie(L))}r.isAnyArrayBuffer=C,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(L){Object.defineProperty(r,L,{enumerable:!1,value:function(){throw new Error(L+" is not supported in userland")}})})})(ay)),ay}var tv,LC;function lV(){return LC||(LC=1,tv=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),tv}var BC;function P5(){return BC||(BC=1,(function(r){var e=Object.getOwnPropertyDescriptors||function(K){for(var se=Object.keys(K),fe={},ie=0;ie<se.length;ie++)fe[se[ie]]=Object.getOwnPropertyDescriptor(K,se[ie]);return fe},t=/%[sdj%]/g;r.format=function(I){if(!_(I)){for(var K=[],se=0;se<arguments.length;se++)K.push(l(arguments[se]));return K.join(" ")}for(var se=1,fe=arguments,ie=fe.length,z=String(I).replace(t,function(te){if(te==="%%")return"%";if(se>=ie)return te;switch(te){case"%s":return String(fe[se++]);case"%d":return Number(fe[se++]);case"%j":try{return JSON.stringify(fe[se++])}catch{return"[Circular]"}default:return te}}),B=fe[se];se<ie;B=fe[++se])k(B)||!P(B)?z+=" "+B:z+=" "+l(B);return z},r.deprecate=function(I,K){if(typeof ct<"u"&&ct.noDeprecation===!0)return I;if(typeof ct>"u")return function(){return r.deprecate(I,K).apply(this,arguments)};var se=!1;function fe(){if(!se){if(ct.throwDeprecation)throw new Error(K);ct.traceDeprecation?console.trace(K):console.error(K),se=!0}return I.apply(this,arguments)}return fe};var n={},i=/^$/;if(ct.env.NODE_DEBUG){var s=ct.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}r.debuglog=function(I){if(I=I.toUpperCase(),!n[I])if(i.test(I)){var K=ct.pid;n[I]=function(){var se=r.format.apply(r,arguments);console.error("%s %d: %s",I,K,se)}}else n[I]=function(){};return n[I]};function l(I,K){var se={seen:[],stylize:u};return arguments.length>=3&&(se.depth=arguments[2]),arguments.length>=4&&(se.colors=arguments[3]),S(K)?se.showHidden=K:K&&r._extend(se,K),M(se.showHidden)&&(se.showHidden=!1),M(se.depth)&&(se.depth=2),M(se.colors)&&(se.colors=!1),M(se.customInspect)&&(se.customInspect=!0),se.colors&&(se.stylize=c),d(se,I,se.depth)}r.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(I,K){var se=l.styles[K];return se?"\x1B["+l.colors[se][0]+"m"+I+"\x1B["+l.colors[se][1]+"m":I}function u(I,K){return I}function f(I){var K={};return I.forEach(function(se,fe){K[se]=!0}),K}function d(I,K,se){if(I.customInspect&&K&&H(K.inspect)&&K.inspect!==r.inspect&&!(K.constructor&&K.constructor.prototype===K)){var fe=K.inspect(se,I);return _(fe)||(fe=d(I,fe,se)),fe}var ie=m(I,K);if(ie)return ie;var z=Object.keys(K),B=f(z);if(I.showHidden&&(z=Object.getOwnPropertyNames(K)),pe(K)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return g(K);if(z.length===0){if(H(K)){var te=K.name?": "+K.name:"";return I.stylize("[Function"+te+"]","special")}if(Q(K))return I.stylize(RegExp.prototype.toString.call(K),"regexp");if(re(K))return I.stylize(Date.prototype.toString.call(K),"date");if(pe(K))return g(K)}var J="",W=!1,$=["{","}"];if(O(K)&&(W=!0,$=["[","]"]),H(K)){var ge=K.name?": "+K.name:"";J=" [Function"+ge+"]"}if(Q(K)&&(J=" "+RegExp.prototype.toString.call(K)),re(K)&&(J=" "+Date.prototype.toUTCString.call(K)),pe(K)&&(J=" "+g(K)),z.length===0&&(!W||K.length==0))return $[0]+J+$[1];if(se<0)return Q(K)?I.stylize(RegExp.prototype.toString.call(K),"regexp"):I.stylize("[Object]","special");I.seen.push(K);var D;return W?D=y(I,K,se,B,z):D=z.map(function(ve){return b(I,K,se,B,ve,W)}),I.seen.pop(),w(D,J,$)}function m(I,K){if(M(K))return I.stylize("undefined","undefined");if(_(K)){var se="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(se,"string")}if(A(K))return I.stylize(""+K,"number");if(S(K))return I.stylize(""+K,"boolean");if(k(K))return I.stylize("null","null")}function g(I){return"["+Error.prototype.toString.call(I)+"]"}function y(I,K,se,fe,ie){for(var z=[],B=0,te=K.length;B<te;++B)ue(K,String(B))?z.push(b(I,K,se,fe,String(B),!0)):z.push("");return ie.forEach(function(J){J.match(/^\d+$/)||z.push(b(I,K,se,fe,J,!0))}),z}function b(I,K,se,fe,ie,z){var B,te,J;if(J=Object.getOwnPropertyDescriptor(K,ie)||{value:K[ie]},J.get?J.set?te=I.stylize("[Getter/Setter]","special"):te=I.stylize("[Getter]","special"):J.set&&(te=I.stylize("[Setter]","special")),ue(fe,ie)||(B="["+ie+"]"),te||(I.seen.indexOf(J.value)<0?(k(se)?te=d(I,J.value,null):te=d(I,J.value,se-1),te.indexOf(`
`)>-1&&(z?te=te.split(`
`).map(function(W){return"  "+W}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(W){return"   "+W}).join(`
`))):te=I.stylize("[Circular]","special")),M(B)){if(z&&ie.match(/^\d+$/))return te;B=JSON.stringify(""+ie),B.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.slice(1,-1),B=I.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=I.stylize(B,"string"))}return B+": "+te}function w(I,K,se){var fe=I.reduce(function(ie,z){return z.indexOf(`
`)>=0,ie+z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?se[0]+(K===""?"":K+`
 `)+" "+I.join(`,
  `)+" "+se[1]:se[0]+K+" "+I.join(", ")+" "+se[1]}r.types=aV();function O(I){return Array.isArray(I)}r.isArray=O;function S(I){return typeof I=="boolean"}r.isBoolean=S;function k(I){return I===null}r.isNull=k;function E(I){return I==null}r.isNullOrUndefined=E;function A(I){return typeof I=="number"}r.isNumber=A;function _(I){return typeof I=="string"}r.isString=_;function U(I){return typeof I=="symbol"}r.isSymbol=U;function M(I){return I===void 0}r.isUndefined=M;function Q(I){return P(I)&&R(I)==="[object RegExp]"}r.isRegExp=Q,r.types.isRegExp=Q;function P(I){return typeof I=="object"&&I!==null}r.isObject=P;function re(I){return P(I)&&R(I)==="[object Date]"}r.isDate=re,r.types.isDate=re;function pe(I){return P(I)&&(R(I)==="[object Error]"||I instanceof Error)}r.isError=pe,r.types.isNativeError=pe;function H(I){return typeof I=="function"}r.isFunction=H;function Y(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||typeof I>"u"}r.isPrimitive=Y,r.isBuffer=lV();function R(I){return Object.prototype.toString.call(I)}function ee(I){return I<10?"0"+I.toString(10):I.toString(10)}var X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var I=new Date,K=[ee(I.getHours()),ee(I.getMinutes()),ee(I.getSeconds())].join(":");return[I.getDate(),X[I.getMonth()],K].join(" ")}r.log=function(){console.log("%s - %s",G(),r.format.apply(r,arguments))},r.inherits=ka(),r._extend=function(I,K){if(!K||!P(K))return I;for(var se=Object.keys(K),fe=se.length;fe--;)I[se[fe]]=K[se[fe]];return I};function ue(I,K){return Object.prototype.hasOwnProperty.call(I,K)}var he=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');if(he&&K[he]){var se=K[he];if(typeof se!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(se,he,{value:se,enumerable:!1,writable:!1,configurable:!0}),se}function se(){for(var fe,ie,z=new Promise(function(J,W){fe=J,ie=W}),B=[],te=0;te<arguments.length;te++)B.push(arguments[te]);B.push(function(J,W){J?ie(J):fe(W)});try{K.apply(this,B)}catch(J){ie(J)}return z}return Object.setPrototypeOf(se,Object.getPrototypeOf(K)),he&&Object.defineProperty(se,he,{value:se,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(se,e(K))},r.promisify.custom=he;function ke(I,K){if(!I){var se=new Error("Promise was rejected with a falsy value");se.reason=I,I=se}return K(I)}function q(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function K(){for(var se=[],fe=0;fe<arguments.length;fe++)se.push(arguments[fe]);var ie=se.pop();if(typeof ie!="function")throw new TypeError("The last argument must be of type Function");var z=this,B=function(){return ie.apply(z,arguments)};I.apply(this,se).then(function(te){ct.nextTick(B.bind(null,null,te))},function(te){ct.nextTick(ke.bind(null,te,B))})}return Object.setPrototypeOf(K,Object.getPrototypeOf(I)),Object.defineProperties(K,e(I)),K}r.callbackify=q})(sy)),sy}var rv,zC;function oV(){if(zC)return rv;zC=1;function r(g,y){var b=Object.keys(g);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(g);y&&(w=w.filter(function(O){return Object.getOwnPropertyDescriptor(g,O).enumerable})),b.push.apply(b,w)}return b}function e(g){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{};y%2?r(Object(b),!0).forEach(function(w){t(g,w,b[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):r(Object(b)).forEach(function(w){Object.defineProperty(g,w,Object.getOwnPropertyDescriptor(b,w))})}return g}function t(g,y,b){return y in g?Object.defineProperty(g,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[y]=b,g}function n(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function i(g,y){for(var b=0;b<y.length;b++){var w=y[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}function s(g,y,b){return y&&i(g.prototype,y),g}var l=Gp(),c=l.Buffer,u=P5(),f=u.inspect,d=f&&f.custom||"inspect";function m(g,y,b){c.prototype.copy.call(g,y,b)}return rv=(function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return s(g,[{key:"push",value:function(b){var w={data:b,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(b){var w={data:b,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var w=this.head,O=""+w.data;w=w.next;)O+=b+w.data;return O}},{key:"concat",value:function(b){if(this.length===0)return c.alloc(0);for(var w=c.allocUnsafe(b>>>0),O=this.head,S=0;O;)m(O.data,w,S),S+=O.data.length,O=O.next;return w}},{key:"consume",value:function(b,w){var O;return b<this.head.data.length?(O=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?O=this.shift():O=w?this._getString(b):this._getBuffer(b),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var w=this.head,O=1,S=w.data;for(b-=S.length;w=w.next;){var k=w.data,E=b>k.length?k.length:b;if(E===k.length?S+=k:S+=k.slice(0,b),b-=E,b===0){E===k.length?(++O,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=k.slice(E));break}++O}return this.length-=O,S}},{key:"_getBuffer",value:function(b){var w=c.allocUnsafe(b),O=this.head,S=1;for(O.data.copy(w),b-=O.data.length;O=O.next;){var k=O.data,E=b>k.length?k.length:b;if(k.copy(w,w.length-b,0,E),b-=E,b===0){E===k.length?(++S,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=k.slice(E));break}++S}return this.length-=S,w}},{key:d,value:function(b,w){return f(this,e({},w,{depth:0,customInspect:!1}))}}]),g})(),rv}var nv,jC;function F5(){if(jC)return nv;jC=1;function r(l,c){var u=this,f=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return f||d?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ct.nextTick(i,this,l)):ct.nextTick(i,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(m){!c&&m?u._writableState?u._writableState.errorEmitted?ct.nextTick(t,u):(u._writableState.errorEmitted=!0,ct.nextTick(e,u,m)):ct.nextTick(e,u,m):c?(ct.nextTick(t,u),c(m)):ct.nextTick(t,u)}),this)}function e(l,c){i(l,c),t(l)}function t(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(l,c){l.emit("error",c)}function s(l,c){var u=l._readableState,f=l._writableState;u&&u.autoDestroy||f&&f.autoDestroy?l.destroy(c):l.emit("error",c)}return nv={destroy:r,undestroy:n,errorOrDestroy:s},nv}var iv={},PC;function ic(){if(PC)return iv;PC=1;function r(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var e={};function t(c,u,f){f||(f=Error);function d(g,y,b){return typeof u=="string"?u:u(g,y,b)}var m=(function(g){r(y,g);function y(b,w,O){return g.call(this,d(b,w,O))||this}return y})(f);m.prototype.name=f.name,m.prototype.code=c,e[c]=m}function n(c,u){if(Array.isArray(c)){var f=c.length;return c=c.map(function(d){return String(d)}),f>2?"one of ".concat(u," ").concat(c.slice(0,f-1).join(", "),", or ")+c[f-1]:f===2?"one of ".concat(u," ").concat(c[0]," or ").concat(c[1]):"of ".concat(u," ").concat(c[0])}else return"of ".concat(u," ").concat(String(c))}function i(c,u,f){return c.substr(0,u.length)===u}function s(c,u,f){return(f===void 0||f>c.length)&&(f=c.length),c.substring(f-u.length,f)===u}function l(c,u,f){return typeof f!="number"&&(f=0),f+u.length>c.length?!1:c.indexOf(u,f)!==-1}return t("ERR_INVALID_OPT_VALUE",function(c,u){return'The value "'+u+'" is invalid for option "'+c+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(c,u,f){var d;typeof u=="string"&&i(u,"not ")?(d="must not be",u=u.replace(/^not /,"")):d="must be";var m;if(s(c," argument"))m="The ".concat(c," ").concat(d," ").concat(n(u,"type"));else{var g=l(c,".")?"property":"argument";m='The "'.concat(c,'" ').concat(g," ").concat(d," ").concat(n(u,"type"))}return m+=". Received type ".concat(typeof f),m},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),iv.codes=e,iv}var sv,FC;function I5(){if(FC)return sv;FC=1;var r=ic().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function t(n,i,s,l){var c=e(i,l,s);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var u=l?s:"highWaterMark";throw new r(u,c)}return Math.floor(c)}return n.objectMode?16:16*1024}return sv={getHighWaterMark:t},sv}var av,IC;function cV(){if(IC)return av;IC=1,av=r;function r(t,n){if(e("noDeprecation"))return t;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return t.apply(this,arguments)}return s}function e(t){try{if(!Fi.localStorage)return!1}catch{return!1}var n=Fi.localStorage[t];return n==null?!1:String(n).toLowerCase()==="true"}return av}var lv,UC;function U5(){if(UC)return lv;UC=1,lv=Q;function r(ie){var z=this;this.next=null,this.entry=null,this.finish=function(){fe(z,ie)}}var e;Q.WritableState=U;var t={deprecate:cV()},n=O5(),i=Gp().Buffer,s=Fi.Uint8Array||function(){};function l(ie){return i.from(ie)}function c(ie){return i.isBuffer(ie)||ie instanceof s}var u=F5(),f=I5(),d=f.getHighWaterMark,m=ic().codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,w=m.ERR_STREAM_CANNOT_PIPE,O=m.ERR_STREAM_DESTROYED,S=m.ERR_STREAM_NULL_VALUES,k=m.ERR_STREAM_WRITE_AFTER_END,E=m.ERR_UNKNOWN_ENCODING,A=u.errorOrDestroy;ka()(Q,n);function _(){}function U(ie,z,B){e=e||Xo(),ie=ie||{},typeof B!="boolean"&&(B=z instanceof e),this.objectMode=!!ie.objectMode,B&&(this.objectMode=this.objectMode||!!ie.writableObjectMode),this.highWaterMark=d(this,ie,"writableHighWaterMark",B),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=ie.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(J){X(z,J)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ie.emitClose!==!1,this.autoDestroy=!!ie.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}U.prototype.getBuffer=function(){for(var z=this.bufferedRequest,B=[];z;)B.push(z),z=z.next;return B},(function(){try{Object.defineProperty(U.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(z){return M.call(this,z)?!0:this!==Q?!1:z&&z._writableState instanceof U}})):M=function(z){return z instanceof this};function Q(ie){e=e||Xo();var z=this instanceof e;if(!z&&!M.call(Q,this))return new Q(ie);this._writableState=new U(ie,this,z),this.writable=!0,ie&&(typeof ie.write=="function"&&(this._write=ie.write),typeof ie.writev=="function"&&(this._writev=ie.writev),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.final=="function"&&(this._final=ie.final)),n.call(this)}Q.prototype.pipe=function(){A(this,new w)};function P(ie,z){var B=new k;A(ie,B),ct.nextTick(z,B)}function re(ie,z,B,te){var J;return B===null?J=new S:typeof B!="string"&&!z.objectMode&&(J=new g("chunk",["string","Buffer"],B)),J?(A(ie,J),ct.nextTick(te,J),!1):!0}Q.prototype.write=function(ie,z,B){var te=this._writableState,J=!1,W=!te.objectMode&&c(ie);return W&&!i.isBuffer(ie)&&(ie=l(ie)),typeof z=="function"&&(B=z,z=null),W?z="buffer":z||(z=te.defaultEncoding),typeof B!="function"&&(B=_),te.ending?P(this,B):(W||re(this,te,ie,B))&&(te.pendingcb++,J=H(this,te,W,ie,z,B)),J},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var ie=this._writableState;ie.corked&&(ie.corked--,!ie.writing&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&he(this,ie))},Q.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((z+"").toLowerCase())>-1))throw new E(z);return this._writableState.defaultEncoding=z,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function pe(ie,z,B){return!ie.objectMode&&ie.decodeStrings!==!1&&typeof z=="string"&&(z=i.from(z,B)),z}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function H(ie,z,B,te,J,W){if(!B){var $=pe(z,te,J);te!==$&&(B=!0,J="buffer",te=$)}var ge=z.objectMode?1:te.length;z.length+=ge;var D=z.length<z.highWaterMark;if(D||(z.needDrain=!0),z.writing||z.corked){var ve=z.lastBufferedRequest;z.lastBufferedRequest={chunk:te,encoding:J,isBuf:B,callback:W,next:null},ve?ve.next=z.lastBufferedRequest:z.bufferedRequest=z.lastBufferedRequest,z.bufferedRequestCount+=1}else Y(ie,z,!1,ge,te,J,W);return D}function Y(ie,z,B,te,J,W,$){z.writelen=te,z.writecb=$,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new O("write")):B?ie._writev(J,z.onwrite):ie._write(J,W,z.onwrite),z.sync=!1}function R(ie,z,B,te,J){--z.pendingcb,B?(ct.nextTick(J,te),ct.nextTick(K,ie,z),ie._writableState.errorEmitted=!0,A(ie,te)):(J(te),ie._writableState.errorEmitted=!0,A(ie,te),K(ie,z))}function ee(ie){ie.writing=!1,ie.writecb=null,ie.length-=ie.writelen,ie.writelen=0}function X(ie,z){var B=ie._writableState,te=B.sync,J=B.writecb;if(typeof J!="function")throw new b;if(ee(B),z)R(ie,B,te,z,J);else{var W=ke(B)||ie.destroyed;!W&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&he(ie,B),te?ct.nextTick(G,ie,B,W,J):G(ie,B,W,J)}}function G(ie,z,B,te){B||ue(ie,z),z.pendingcb--,te(),K(ie,z)}function ue(ie,z){z.length===0&&z.needDrain&&(z.needDrain=!1,ie.emit("drain"))}function he(ie,z){z.bufferProcessing=!0;var B=z.bufferedRequest;if(ie._writev&&B&&B.next){var te=z.bufferedRequestCount,J=new Array(te),W=z.corkedRequestsFree;W.entry=B;for(var $=0,ge=!0;B;)J[$]=B,B.isBuf||(ge=!1),B=B.next,$+=1;J.allBuffers=ge,Y(ie,z,!0,z.length,J,"",W.finish),z.pendingcb++,z.lastBufferedRequest=null,W.next?(z.corkedRequestsFree=W.next,W.next=null):z.corkedRequestsFree=new r(z),z.bufferedRequestCount=0}else{for(;B;){var D=B.chunk,ve=B.encoding,F=B.callback,T=z.objectMode?1:D.length;if(Y(ie,z,!1,T,D,ve,F),B=B.next,z.bufferedRequestCount--,z.writing)break}B===null&&(z.lastBufferedRequest=null)}z.bufferedRequest=B,z.bufferProcessing=!1}Q.prototype._write=function(ie,z,B){B(new y("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(ie,z,B){var te=this._writableState;return typeof ie=="function"?(B=ie,ie=null,z=null):typeof z=="function"&&(B=z,z=null),ie!=null&&this.write(ie,z),te.corked&&(te.corked=1,this.uncork()),te.ending||se(this,te,B),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ke(ie){return ie.ending&&ie.length===0&&ie.bufferedRequest===null&&!ie.finished&&!ie.writing}function q(ie,z){ie._final(function(B){z.pendingcb--,B&&A(ie,B),z.prefinished=!0,ie.emit("prefinish"),K(ie,z)})}function I(ie,z){!z.prefinished&&!z.finalCalled&&(typeof ie._final=="function"&&!z.destroyed?(z.pendingcb++,z.finalCalled=!0,ct.nextTick(q,ie,z)):(z.prefinished=!0,ie.emit("prefinish")))}function K(ie,z){var B=ke(z);if(B&&(I(ie,z),z.pendingcb===0&&(z.finished=!0,ie.emit("finish"),z.autoDestroy))){var te=ie._readableState;(!te||te.autoDestroy&&te.endEmitted)&&ie.destroy()}return B}function se(ie,z,B){z.ending=!0,K(ie,z),B&&(z.finished?ct.nextTick(B):ie.once("finish",B)),z.ended=!0,ie.writable=!1}function fe(ie,z,B){var te=ie.entry;for(ie.entry=null;te;){var J=te.callback;z.pendingcb--,J(B),te=te.next}z.corkedRequestsFree.next=ie}return Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),Q.prototype.destroy=u.destroy,Q.prototype._undestroy=u.undestroy,Q.prototype._destroy=function(ie,z){z(ie)},lv}var ov,HC;function Xo(){if(HC)return ov;HC=1;var r=Object.keys||function(f){var d=[];for(var m in f)d.push(m);return d};ov=l;var e=H5(),t=U5();ka()(l,e);for(var n=r(t.prototype),i=0;i<n.length;i++){var s=n[i];l.prototype[s]||(l.prototype[s]=t.prototype[s])}function l(f){if(!(this instanceof l))return new l(f);e.call(this,f),t.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||ct.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),ov}var cv={},od={exports:{}},qC;function uV(){return qC||(qC=1,(function(r,e){var t=Gp(),n=t.Buffer;function i(l,c){for(var u in l)c[u]=l[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(i(t,e),e.Buffer=s);function s(l,c,u){return n(l,c,u)}i(n,s),s.from=function(l,c,u){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,c,u)},s.alloc=function(l,c,u){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=n(l);return c!==void 0?typeof u=="string"?f.fill(c,u):f.fill(c):f.fill(0),f},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(l)}})(od,od.exports)),od.exports}var WC;function sb(){if(WC)return cv;WC=1;var r=uV().Buffer,e=r.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(S){if(!S)return"utf8";for(var k;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(k)return;S=(""+S).toLowerCase(),k=!0}}function n(S){var k=t(S);if(typeof k!="string"&&(r.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return k||S}cv.StringDecoder=i;function i(S){this.encoding=n(S);var k;switch(this.encoding){case"utf16le":this.text=m,this.end=g,k=4;break;case"utf8":this.fillLast=u,k=4;break;case"base64":this.text=y,this.end=b,k=3;break;default:this.write=w,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(k)}i.prototype.write=function(S){if(S.length===0)return"";var k,E;if(this.lastNeed){if(k=this.fillLast(S),k===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<S.length?k?k+this.text(S,E):this.text(S,E):k||""},i.prototype.end=d,i.prototype.text=f,i.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function s(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function l(S,k,E){var A=k.length-1;if(A<E)return 0;var _=s(k[A]);return _>=0?(_>0&&(S.lastNeed=_-1),_):--A<E||_===-2?0:(_=s(k[A]),_>=0?(_>0&&(S.lastNeed=_-2),_):--A<E||_===-2?0:(_=s(k[A]),_>=0?(_>0&&(_===2?_=0:S.lastNeed=_-3),_):0))}function c(S,k,E){if((k[0]&192)!==128)return S.lastNeed=0,"";if(S.lastNeed>1&&k.length>1){if((k[1]&192)!==128)return S.lastNeed=1,"";if(S.lastNeed>2&&k.length>2&&(k[2]&192)!==128)return S.lastNeed=2,""}}function u(S){var k=this.lastTotal-this.lastNeed,E=c(this,S);if(E!==void 0)return E;if(this.lastNeed<=S.length)return S.copy(this.lastChar,k,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,k,0,S.length),this.lastNeed-=S.length}function f(S,k){var E=l(this,S,k);if(!this.lastNeed)return S.toString("utf8",k);this.lastTotal=E;var A=S.length-(E-this.lastNeed);return S.copy(this.lastChar,0,A),S.toString("utf8",k,A)}function d(S){var k=S&&S.length?this.write(S):"";return this.lastNeed?k+"":k}function m(S,k){if((S.length-k)%2===0){var E=S.toString("utf16le",k);if(E){var A=E.charCodeAt(E.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",k,S.length-1)}function g(S){var k=S&&S.length?this.write(S):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return k+this.lastChar.toString("utf16le",0,E)}return k}function y(S,k){var E=(S.length-k)%3;return E===0?S.toString("base64",k):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",k,S.length-E))}function b(S){var k=S&&S.length?this.write(S):"";return this.lastNeed?k+this.lastChar.toString("base64",0,3-this.lastNeed):k}function w(S){return S.toString(this.encoding)}function O(S){return S&&S.length?this.write(S):""}return cv}var uv,VC;function Mx(){if(VC)return uv;VC=1;var r=ic().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var l=!1;return function(){if(!l){l=!0;for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];s.apply(this,u)}}}function t(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,l,c){if(typeof l=="function")return i(s,null,l);l||(l={}),c=e(c||t);var u=l.readable||l.readable!==!1&&s.readable,f=l.writable||l.writable!==!1&&s.writable,d=function(){s.writable||g()},m=s._writableState&&s._writableState.finished,g=function(){f=!1,m=!0,u||c.call(s)},y=s._readableState&&s._readableState.endEmitted,b=function(){u=!1,y=!0,f||c.call(s)},w=function(E){c.call(s,E)},O=function(){var E;if(u&&!y)return(!s._readableState||!s._readableState.ended)&&(E=new r),c.call(s,E);if(f&&!m)return(!s._writableState||!s._writableState.ended)&&(E=new r),c.call(s,E)},S=function(){s.req.on("finish",g)};return n(s)?(s.on("complete",g),s.on("abort",O),s.req?S():s.on("request",S)):f&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",b),s.on("finish",g),l.error!==!1&&s.on("error",w),s.on("close",O),function(){s.removeListener("complete",g),s.removeListener("abort",O),s.removeListener("request",S),s.req&&s.req.removeListener("finish",g),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",g),s.removeListener("end",b),s.removeListener("error",w),s.removeListener("close",O)}}return uv=i,uv}var hv,$C;function hV(){if($C)return hv;$C=1;var r;function e(S,k,E){return k in S?Object.defineProperty(S,k,{value:E,enumerable:!0,configurable:!0,writable:!0}):S[k]=E,S}var t=Mx(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function d(S,k){return{value:S,done:k}}function m(S){var k=S[n];if(k!==null){var E=S[f].read();E!==null&&(S[c]=null,S[n]=null,S[i]=null,k(d(E,!1)))}}function g(S){ct.nextTick(m,S)}function y(S,k){return function(E,A){S.then(function(){if(k[l]){E(d(void 0,!0));return}k[u](E,A)},A)}}var b=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((r={get stream(){return this[f]},next:function(){var k=this,E=this[s];if(E!==null)return Promise.reject(E);if(this[l])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(M,Q){ct.nextTick(function(){k[s]?Q(k[s]):M(d(void 0,!0))})});var A=this[c],_;if(A)_=new Promise(y(A,this));else{var U=this[f].read();if(U!==null)return Promise.resolve(d(U,!1));_=new Promise(this[u])}return this[c]=_,_}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var k=this;return new Promise(function(E,A){k[f].destroy(null,function(_){if(_){A(_);return}E(d(void 0,!0))})})}),r),b),O=function(k){var E,A=Object.create(w,(E={},e(E,f,{value:k,writable:!0}),e(E,n,{value:null,writable:!0}),e(E,i,{value:null,writable:!0}),e(E,s,{value:null,writable:!0}),e(E,l,{value:k._readableState.endEmitted,writable:!0}),e(E,u,{value:function(U,M){var Q=A[f].read();Q?(A[c]=null,A[n]=null,A[i]=null,U(d(Q,!1))):(A[n]=U,A[i]=M)},writable:!0}),E));return A[c]=null,t(k,function(_){if(_&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=A[i];U!==null&&(A[c]=null,A[n]=null,A[i]=null,U(_)),A[s]=_;return}var M=A[n];M!==null&&(A[c]=null,A[n]=null,A[i]=null,M(d(void 0,!0))),A[l]=!0}),k.on("readable",g.bind(null,A)),A};return hv=O,hv}var fv,GC;function fV(){return GC||(GC=1,fv=function(){throw new Error("Readable.from is not available in the browser")}),fv}var dv,QC;function H5(){if(QC)return dv;QC=1,dv=P;var r;P.ReadableState=Q,Ox().EventEmitter;var e=function($,ge){return $.listeners(ge).length},t=O5(),n=Gp().Buffer,i=Fi.Uint8Array||function(){};function s(W){return n.from(W)}function l(W){return n.isBuffer(W)||W instanceof i}var c=P5(),u;c&&c.debuglog?u=c.debuglog("stream"):u=function(){};var f=oV(),d=F5(),m=I5(),g=m.getHighWaterMark,y=ic().codes,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,O=y.ERR_METHOD_NOT_IMPLEMENTED,S=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,k,E,A;ka()(P,t);var _=d.errorOrDestroy,U=["error","close","destroy","pause","resume"];function M(W,$,ge){if(typeof W.prependListener=="function")return W.prependListener($,ge);!W._events||!W._events[$]?W.on($,ge):Array.isArray(W._events[$])?W._events[$].unshift(ge):W._events[$]=[ge,W._events[$]]}function Q(W,$,ge){r=r||Xo(),W=W||{},typeof ge!="boolean"&&(ge=$ instanceof r),this.objectMode=!!W.objectMode,ge&&(this.objectMode=this.objectMode||!!W.readableObjectMode),this.highWaterMark=g(this,W,"readableHighWaterMark",ge),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=W.emitClose!==!1,this.autoDestroy=!!W.autoDestroy,this.destroyed=!1,this.defaultEncoding=W.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,W.encoding&&(k||(k=sb().StringDecoder),this.decoder=new k(W.encoding),this.encoding=W.encoding)}function P(W){if(r=r||Xo(),!(this instanceof P))return new P(W);var $=this instanceof r;this._readableState=new Q(W,this,$),this.readable=!0,W&&(typeof W.read=="function"&&(this._read=W.read),typeof W.destroy=="function"&&(this._destroy=W.destroy)),t.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),P.prototype.destroy=d.destroy,P.prototype._undestroy=d.undestroy,P.prototype._destroy=function(W,$){$(W)},P.prototype.push=function(W,$){var ge=this._readableState,D;return ge.objectMode?D=!0:typeof W=="string"&&($=$||ge.defaultEncoding,$!==ge.encoding&&(W=n.from(W,$),$=""),D=!0),re(this,W,$,!1,D)},P.prototype.unshift=function(W){return re(this,W,null,!0,!1)};function re(W,$,ge,D,ve){u("readableAddChunk",$);var F=W._readableState;if($===null)F.reading=!1,X(W,F);else{var T;if(ve||(T=H(F,$)),T)_(W,T);else if(F.objectMode||$&&$.length>0)if(typeof $!="string"&&!F.objectMode&&Object.getPrototypeOf($)!==n.prototype&&($=s($)),D)F.endEmitted?_(W,new S):pe(W,F,$,!0);else if(F.ended)_(W,new w);else{if(F.destroyed)return!1;F.reading=!1,F.decoder&&!ge?($=F.decoder.write($),F.objectMode||$.length!==0?pe(W,F,$,!1):he(W,F)):pe(W,F,$,!1)}else D||(F.reading=!1,he(W,F))}return!F.ended&&(F.length<F.highWaterMark||F.length===0)}function pe(W,$,ge,D){$.flowing&&$.length===0&&!$.sync?($.awaitDrain=0,W.emit("data",ge)):($.length+=$.objectMode?1:ge.length,D?$.buffer.unshift(ge):$.buffer.push(ge),$.needReadable&&G(W)),he(W,$)}function H(W,$){var ge;return!l($)&&typeof $!="string"&&$!==void 0&&!W.objectMode&&(ge=new b("chunk",["string","Buffer","Uint8Array"],$)),ge}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(W){k||(k=sb().StringDecoder);var $=new k(W);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var ge=this._readableState.buffer.head,D="";ge!==null;)D+=$.write(ge.data),ge=ge.next;return this._readableState.buffer.clear(),D!==""&&this._readableState.buffer.push(D),this._readableState.length=D.length,this};var Y=1073741824;function R(W){return W>=Y?W=Y:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}function ee(W,$){return W<=0||$.length===0&&$.ended?0:$.objectMode?1:W!==W?$.flowing&&$.length?$.buffer.head.data.length:$.length:(W>$.highWaterMark&&($.highWaterMark=R(W)),W<=$.length?W:$.ended?$.length:($.needReadable=!0,0))}P.prototype.read=function(W){u("read",W),W=parseInt(W,10);var $=this._readableState,ge=W;if(W!==0&&($.emittedReadable=!1),W===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return u("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?B(this):G(this),null;if(W=ee(W,$),W===0&&$.ended)return $.length===0&&B(this),null;var D=$.needReadable;u("need readable",D),($.length===0||$.length-W<$.highWaterMark)&&(D=!0,u("length less than watermark",D)),$.ended||$.reading?(D=!1,u("reading or ended",D)):D&&(u("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(W=ee(ge,$)));var ve;return W>0?ve=z(W,$):ve=null,ve===null?($.needReadable=$.length<=$.highWaterMark,W=0):($.length-=W,$.awaitDrain=0),$.length===0&&($.ended||($.needReadable=!0),ge!==W&&$.ended&&B(this)),ve!==null&&this.emit("data",ve),ve};function X(W,$){if(u("onEofChunk"),!$.ended){if($.decoder){var ge=$.decoder.end();ge&&ge.length&&($.buffer.push(ge),$.length+=$.objectMode?1:ge.length)}$.ended=!0,$.sync?G(W):($.needReadable=!1,$.emittedReadable||($.emittedReadable=!0,ue(W)))}}function G(W){var $=W._readableState;u("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(u("emitReadable",$.flowing),$.emittedReadable=!0,ct.nextTick(ue,W))}function ue(W){var $=W._readableState;u("emitReadable_",$.destroyed,$.length,$.ended),!$.destroyed&&($.length||$.ended)&&(W.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,ie(W)}function he(W,$){$.readingMore||($.readingMore=!0,ct.nextTick(ke,W,$))}function ke(W,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){var ge=$.length;if(u("maybeReadMore read 0"),W.read(0),ge===$.length)break}$.readingMore=!1}P.prototype._read=function(W){_(this,new O("_read()"))},P.prototype.pipe=function(W,$){var ge=this,D=this._readableState;switch(D.pipesCount){case 0:D.pipes=W;break;case 1:D.pipes=[D.pipes,W];break;default:D.pipes.push(W);break}D.pipesCount+=1,u("pipe count=%d opts=%j",D.pipesCount,$);var ve=(!$||$.end!==!1)&&W!==ct.stdout&&W!==ct.stderr,F=ve?C:je;D.endEmitted?ct.nextTick(F):ge.once("end",F),W.on("unpipe",T);function T(Ve,Qe){u("onunpipe"),Ve===ge&&Qe&&Qe.hasUnpiped===!1&&(Qe.hasUnpiped=!0,oe())}function C(){u("onend"),W.end()}var L=q(ge);W.on("drain",L);var Z=!1;function oe(){u("cleanup"),W.removeListener("close",Te),W.removeListener("finish",Oe),W.removeListener("drain",L),W.removeListener("error",Ee),W.removeListener("unpipe",T),ge.removeListener("end",C),ge.removeListener("end",je),ge.removeListener("data",ne),Z=!0,D.awaitDrain&&(!W._writableState||W._writableState.needDrain)&&L()}ge.on("data",ne);function ne(Ve){u("ondata");var Qe=W.write(Ve);u("dest.write",Qe),Qe===!1&&((D.pipesCount===1&&D.pipes===W||D.pipesCount>1&&J(D.pipes,W)!==-1)&&!Z&&(u("false write response, pause",D.awaitDrain),D.awaitDrain++),ge.pause())}function Ee(Ve){u("onerror",Ve),je(),W.removeListener("error",Ee),e(W,"error")===0&&_(W,Ve)}M(W,"error",Ee);function Te(){W.removeListener("finish",Oe),je()}W.once("close",Te);function Oe(){u("onfinish"),W.removeListener("close",Te),je()}W.once("finish",Oe);function je(){u("unpipe"),ge.unpipe(W)}return W.emit("pipe",ge),D.flowing||(u("pipe resume"),ge.resume()),W};function q(W){return function(){var ge=W._readableState;u("pipeOnDrain",ge.awaitDrain),ge.awaitDrain&&ge.awaitDrain--,ge.awaitDrain===0&&e(W,"data")&&(ge.flowing=!0,ie(W))}}P.prototype.unpipe=function(W){var $=this._readableState,ge={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return W&&W!==$.pipes?this:(W||(W=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,W&&W.emit("unpipe",this,ge),this);if(!W){var D=$.pipes,ve=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var F=0;F<ve;F++)D[F].emit("unpipe",this,{hasUnpiped:!1});return this}var T=J($.pipes,W);return T===-1?this:($.pipes.splice(T,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),W.emit("unpipe",this,ge),this)},P.prototype.on=function(W,$){var ge=t.prototype.on.call(this,W,$),D=this._readableState;return W==="data"?(D.readableListening=this.listenerCount("readable")>0,D.flowing!==!1&&this.resume()):W==="readable"&&!D.endEmitted&&!D.readableListening&&(D.readableListening=D.needReadable=!0,D.flowing=!1,D.emittedReadable=!1,u("on readable",D.length,D.reading),D.length?G(this):D.reading||ct.nextTick(K,this)),ge},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(W,$){var ge=t.prototype.removeListener.call(this,W,$);return W==="readable"&&ct.nextTick(I,this),ge},P.prototype.removeAllListeners=function(W){var $=t.prototype.removeAllListeners.apply(this,arguments);return(W==="readable"||W===void 0)&&ct.nextTick(I,this),$};function I(W){var $=W._readableState;$.readableListening=W.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:W.listenerCount("data")>0&&W.resume()}function K(W){u("readable nexttick read 0"),W.read(0)}P.prototype.resume=function(){var W=this._readableState;return W.flowing||(u("resume"),W.flowing=!W.readableListening,se(this,W)),W.paused=!1,this};function se(W,$){$.resumeScheduled||($.resumeScheduled=!0,ct.nextTick(fe,W,$))}function fe(W,$){u("resume",$.reading),$.reading||W.read(0),$.resumeScheduled=!1,W.emit("resume"),ie(W),$.flowing&&!$.reading&&W.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ie(W){var $=W._readableState;for(u("flow",$.flowing);$.flowing&&W.read()!==null;);}P.prototype.wrap=function(W){var $=this,ge=this._readableState,D=!1;W.on("end",function(){if(u("wrapped end"),ge.decoder&&!ge.ended){var T=ge.decoder.end();T&&T.length&&$.push(T)}$.push(null)}),W.on("data",function(T){if(u("wrapped data"),ge.decoder&&(T=ge.decoder.write(T)),!(ge.objectMode&&T==null)&&!(!ge.objectMode&&(!T||!T.length))){var C=$.push(T);C||(D=!0,W.pause())}});for(var ve in W)this[ve]===void 0&&typeof W[ve]=="function"&&(this[ve]=(function(C){return function(){return W[C].apply(W,arguments)}})(ve));for(var F=0;F<U.length;F++)W.on(U[F],this.emit.bind(this,U[F]));return this._read=function(T){u("wrapped _read",T),D&&(D=!1,W.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=hV()),E(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),P._fromList=z,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function z(W,$){if($.length===0)return null;var ge;return $.objectMode?ge=$.buffer.shift():!W||W>=$.length?($.decoder?ge=$.buffer.join(""):$.buffer.length===1?ge=$.buffer.first():ge=$.buffer.concat($.length),$.buffer.clear()):ge=$.buffer.consume(W,$.decoder),ge}function B(W){var $=W._readableState;u("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,ct.nextTick(te,$,W))}function te(W,$){if(u("endReadableNT",W.endEmitted,W.length),!W.endEmitted&&W.length===0&&(W.endEmitted=!0,$.readable=!1,$.emit("end"),W.autoDestroy)){var ge=$._writableState;(!ge||ge.autoDestroy&&ge.finished)&&$.destroy()}}typeof Symbol=="function"&&(P.from=function(W,$){return A===void 0&&(A=fV()),A(P,W,$)});function J(W,$){for(var ge=0,D=W.length;ge<D;ge++)if(W[ge]===$)return ge;return-1}return dv}var pv,YC;function q5(){if(YC)return pv;YC=1,pv=c;var r=ic().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=r.ERR_TRANSFORM_WITH_LENGTH_0,s=Xo();ka()(c,s);function l(d,m){var g=this._transformState;g.transforming=!1;var y=g.writecb;if(y===null)return this.emit("error",new t);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),y(d);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function c(d){if(!(this instanceof c))return new c(d);s.call(this,d),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",u)}function u(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,g){f(d,m,g)}):f(this,null,null)}c.prototype.push=function(d,m){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,m)},c.prototype._transform=function(d,m,g){g(new e("_transform()"))},c.prototype._write=function(d,m,g){var y=this._transformState;if(y.writecb=g,y.writechunk=d,y.writeencoding=m,!y.transforming){var b=this._readableState;(y.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},c.prototype._read=function(d){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},c.prototype._destroy=function(d,m){s.prototype._destroy.call(this,d,function(g){m(g)})};function f(d,m,g){if(m)return d.emit("error",m);if(g!=null&&d.push(g),d._writableState.length)throw new i;if(d._transformState.transforming)throw new n;return d.push(null)}return pv}var mv,XC;function dV(){if(XC)return mv;XC=1,mv=e;var r=q5();ka()(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,n,i){i(null,t)},mv}var gv,KC;function pV(){if(KC)return gv;KC=1;var r;function e(g){var y=!1;return function(){y||(y=!0,g.apply(void 0,arguments))}}var t=ic().codes,n=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function l(g){return g.setHeader&&typeof g.abort=="function"}function c(g,y,b,w){w=e(w);var O=!1;g.on("close",function(){O=!0}),r===void 0&&(r=Mx()),r(g,{readable:y,writable:b},function(k){if(k)return w(k);O=!0,w()});var S=!1;return function(k){if(!O&&!S){if(S=!0,l(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();w(k||new i("pipe"))}}}function u(g){g()}function f(g,y){return g.pipe(y)}function d(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function m(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];var w=d(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var O,S=y.map(function(k,E){var A=E<y.length-1,_=E>0;return c(k,A,_,function(U){O||(O=U),U&&S.forEach(u),!A&&(S.forEach(u),w(O))})});return y.reduce(f)}return gv=m,gv}var yv,ZC;function Dx(){if(ZC)return yv;ZC=1,yv=t;var r=Ox().EventEmitter,e=ka();e(t,r),t.Readable=H5(),t.Writable=U5(),t.Duplex=Xo(),t.Transform=q5(),t.PassThrough=dV(),t.finished=Mx(),t.pipeline=pV(),t.Stream=t;function t(){r.call(this)}return t.prototype.pipe=function(n,i){var s=this;function l(y){n.writable&&n.write(y)===!1&&s.pause&&s.pause()}s.on("data",l);function c(){s.readable&&s.resume&&s.resume()}n.on("drain",c),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",f),s.on("close",d));var u=!1;function f(){u||(u=!0,n.end())}function d(){u||(u=!0,typeof n.destroy=="function"&&n.destroy())}function m(y){if(g(),r.listenerCount(this,"error")===0)throw y}s.on("error",m),n.on("error",m);function g(){s.removeListener("data",l),n.removeListener("drain",c),s.removeListener("end",f),s.removeListener("close",d),s.removeListener("error",m),n.removeListener("error",m),s.removeListener("end",g),s.removeListener("close",g),n.removeListener("close",g)}return s.on("end",g),s.on("close",g),n.on("close",g),n.emit("pipe",s),n},yv}var JC;function mV(){return JC||(JC=1,(function(r){(function(e){e.parser=function(z,B){return new n(z,B)},e.SAXParser=n,e.SAXStream=d,e.createStream=f,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(z,B){if(!(this instanceof n))return new n(z,B);var te=this;s(te),te.q=te.c="",te.bufferCheckPosition=e.MAX_BUFFER_LENGTH,te.opt=B||{},te.opt.lowercase=te.opt.lowercase||te.opt.lowercasetags,te.looseCase=te.opt.lowercase?"toLowerCase":"toUpperCase",te.tags=[],te.closed=te.closedRoot=te.sawRoot=!1,te.tag=te.error=null,te.strict=!!z,te.noscript=!!(z||te.opt.noscript),te.state=P.BEGIN,te.strictEntities=te.opt.strictEntities,te.ENTITIES=te.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),te.attribList=[],te.opt.xmlns&&(te.ns=Object.create(w)),te.trackPosition=te.opt.position!==!1,te.trackPosition&&(te.position=te.line=te.column=0),pe(te,"onready")}Object.create||(Object.create=function(z){function B(){}B.prototype=z;var te=new B;return te}),Object.keys||(Object.keys=function(z){var B=[];for(var te in z)z.hasOwnProperty(te)&&B.push(te);return B});function i(z){for(var B=Math.max(e.MAX_BUFFER_LENGTH,10),te=0,J=0,W=t.length;J<W;J++){var $=z[t[J]].length;if($>B)switch(t[J]){case"textNode":Y(z);break;case"cdata":H(z,"oncdata",z.cdata),z.cdata="";break;case"script":H(z,"onscript",z.script),z.script="";break;default:ee(z,"Max buffer length exceeded: "+t[J])}te=Math.max(te,$)}var ge=e.MAX_BUFFER_LENGTH-te;z.bufferCheckPosition=ge+z.position}function s(z){for(var B=0,te=t.length;B<te;B++)z[t[B]]=""}function l(z){Y(z),z.cdata!==""&&(H(z,"oncdata",z.cdata),z.cdata=""),z.script!==""&&(H(z,"onscript",z.script),z.script="")}n.prototype={end:function(){X(this)},write:ie,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){l(this)}};var c;try{c=Dx().Stream}catch{c=function(){}}var u=e.EVENTS.filter(function(z){return z!=="error"&&z!=="end"});function f(z,B){return new d(z,B)}function d(z,B){if(!(this instanceof d))return new d(z,B);c.apply(this),this._parser=new n(z,B),this.writable=!0,this.readable=!0;var te=this;this._parser.onend=function(){te.emit("end")},this._parser.onerror=function(J){te.emit("error",J),te._parser.error=null},this._decoder=null,u.forEach(function(J){Object.defineProperty(te,"on"+J,{get:function(){return te._parser["on"+J]},set:function(W){if(!W)return te.removeAllListeners(J),te._parser["on"+J]=W,W;te.on(J,W)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(c.prototype,{constructor:{value:d}}),d.prototype.write=function(z){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(z)){if(!this._decoder){var B=sb().StringDecoder;this._decoder=new B("utf8")}z=this._decoder.write(z)}return this._parser.write(z.toString()),this.emit("data",z),!0},d.prototype.end=function(z){return z&&z.length&&this.write(z),this._parser.end(),!0},d.prototype.on=function(z,B){var te=this;return!te._parser["on"+z]&&u.indexOf(z)!==-1&&(te._parser["on"+z]=function(){var J=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);J.splice(0,0,z),te.emit.apply(te,J)}),c.prototype.on.call(te,z,B)};var m="[CDATA[",g="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",w={xml:y,xmlns:b},O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,k=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function A(z){return z===" "||z===`
`||z==="\r"||z==="	"}function _(z){return z==='"'||z==="'"}function U(z){return z===">"||A(z)}function M(z,B){return z.test(B)}function Q(z,B){return!M(z,B)}var P=0;e.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(z){var B=e.ENTITIES[z],te=typeof B=="number"?String.fromCharCode(B):B;e.ENTITIES[z]=te});for(var re in e.STATE)e.STATE[e.STATE[re]]=re;P=e.STATE;function pe(z,B,te){z[B]&&z[B](te)}function H(z,B,te){z.textNode&&Y(z),pe(z,B,te)}function Y(z){z.textNode=R(z.opt,z.textNode),z.textNode&&pe(z,"ontext",z.textNode),z.textNode=""}function R(z,B){return z.trim&&(B=B.trim()),z.normalize&&(B=B.replace(/\s+/g," ")),B}function ee(z,B){return Y(z),z.trackPosition&&(B+=`
Line: `+z.line+`
Column: `+z.column+`
Char: `+z.c),B=new Error(B),z.error=B,pe(z,"onerror",B),z}function X(z){return z.sawRoot&&!z.closedRoot&&G(z,"Unclosed root tag"),z.state!==P.BEGIN&&z.state!==P.BEGIN_WHITESPACE&&z.state!==P.TEXT&&ee(z,"Unexpected end"),Y(z),z.c="",z.closed=!0,pe(z,"onend"),n.call(z,z.strict,z.opt),z}function G(z,B){if(typeof z!="object"||!(z instanceof n))throw new Error("bad call to strictFail");z.strict&&ee(z,B)}function ue(z){z.strict||(z.tagName=z.tagName[z.looseCase]());var B=z.tags[z.tags.length-1]||z,te=z.tag={name:z.tagName,attributes:{}};z.opt.xmlns&&(te.ns=B.ns),z.attribList.length=0,H(z,"onopentagstart",te)}function he(z,B){var te=z.indexOf(":"),J=te<0?["",z]:z.split(":"),W=J[0],$=J[1];return B&&z==="xmlns"&&(W="xmlns",$=""),{prefix:W,local:$}}function ke(z){if(z.strict||(z.attribName=z.attribName[z.looseCase]()),z.attribList.indexOf(z.attribName)!==-1||z.tag.attributes.hasOwnProperty(z.attribName)){z.attribName=z.attribValue="";return}if(z.opt.xmlns){var B=he(z.attribName,!0),te=B.prefix,J=B.local;if(te==="xmlns")if(J==="xml"&&z.attribValue!==y)G(z,"xml: prefix must be bound to "+y+`
Actual: `+z.attribValue);else if(J==="xmlns"&&z.attribValue!==b)G(z,"xmlns: prefix must be bound to "+b+`
Actual: `+z.attribValue);else{var W=z.tag,$=z.tags[z.tags.length-1]||z;W.ns===$.ns&&(W.ns=Object.create($.ns)),W.ns[J]=z.attribValue}z.attribList.push([z.attribName,z.attribValue])}else z.tag.attributes[z.attribName]=z.attribValue,H(z,"onattribute",{name:z.attribName,value:z.attribValue});z.attribName=z.attribValue=""}function q(z,B){if(z.opt.xmlns){var te=z.tag,J=he(z.tagName);te.prefix=J.prefix,te.local=J.local,te.uri=te.ns[J.prefix]||"",te.prefix&&!te.uri&&(G(z,"Unbound namespace prefix: "+JSON.stringify(z.tagName)),te.uri=J.prefix);var W=z.tags[z.tags.length-1]||z;te.ns&&W.ns!==te.ns&&Object.keys(te.ns).forEach(function(ne){H(z,"onopennamespace",{prefix:ne,uri:te.ns[ne]})});for(var $=0,ge=z.attribList.length;$<ge;$++){var D=z.attribList[$],ve=D[0],F=D[1],T=he(ve,!0),C=T.prefix,L=T.local,Z=C===""?"":te.ns[C]||"",oe={name:ve,value:F,prefix:C,local:L,uri:Z};C&&C!=="xmlns"&&!Z&&(G(z,"Unbound namespace prefix: "+JSON.stringify(C)),oe.uri=C),z.tag.attributes[ve]=oe,H(z,"onattribute",oe)}z.attribList.length=0}z.tag.isSelfClosing=!!B,z.sawRoot=!0,z.tags.push(z.tag),H(z,"onopentag",z.tag),B||(!z.noscript&&z.tagName.toLowerCase()==="script"?z.state=P.SCRIPT:z.state=P.TEXT,z.tag=null,z.tagName=""),z.attribName=z.attribValue="",z.attribList.length=0}function I(z){if(!z.tagName){G(z,"Weird empty close tag."),z.textNode+="</>",z.state=P.TEXT;return}if(z.script){if(z.tagName!=="script"){z.script+="</"+z.tagName+">",z.tagName="",z.state=P.SCRIPT;return}H(z,"onscript",z.script),z.script=""}var B=z.tags.length,te=z.tagName;z.strict||(te=te[z.looseCase]());for(var J=te;B--;){var W=z.tags[B];if(W.name!==J)G(z,"Unexpected close tag");else break}if(B<0){G(z,"Unmatched closing tag: "+z.tagName),z.textNode+="</"+z.tagName+">",z.state=P.TEXT;return}z.tagName=te;for(var $=z.tags.length;$-- >B;){var ge=z.tag=z.tags.pop();z.tagName=z.tag.name,H(z,"onclosetag",z.tagName);var D={};for(var ve in ge.ns)D[ve]=ge.ns[ve];var F=z.tags[z.tags.length-1]||z;z.opt.xmlns&&ge.ns!==F.ns&&Object.keys(ge.ns).forEach(function(T){var C=ge.ns[T];H(z,"onclosenamespace",{prefix:T,uri:C})})}B===0&&(z.closedRoot=!0),z.tagName=z.attribValue=z.attribName="",z.attribList.length=0,z.state=P.TEXT}function K(z){var B=z.entity,te=B.toLowerCase(),J,W="";return z.ENTITIES[B]?z.ENTITIES[B]:z.ENTITIES[te]?z.ENTITIES[te]:(B=te,B.charAt(0)==="#"&&(B.charAt(1)==="x"?(B=B.slice(2),J=parseInt(B,16),W=J.toString(16)):(B=B.slice(1),J=parseInt(B,10),W=J.toString(10))),B=B.replace(/^0+/,""),isNaN(J)||W.toLowerCase()!==B?(G(z,"Invalid character entity"),"&"+z.entity+";"):String.fromCodePoint(J))}function se(z,B){B==="<"?(z.state=P.OPEN_WAKA,z.startTagPosition=z.position):A(B)||(G(z,"Non-whitespace before first tag."),z.textNode=B,z.state=P.TEXT)}function fe(z,B){var te="";return B<z.length&&(te=z.charAt(B)),te}function ie(z){var B=this;if(this.error)throw this.error;if(B.closed)return ee(B,"Cannot write after close. Assign an onready handler.");if(z===null)return X(B);typeof z=="object"&&(z=z.toString());for(var te=0,J="";J=fe(z,te++),B.c=J,!!J;)switch(B.trackPosition&&(B.position++,J===`
`?(B.line++,B.column=0):B.column++),B.state){case P.BEGIN:if(B.state=P.BEGIN_WHITESPACE,J==="\uFEFF")continue;se(B,J);continue;case P.BEGIN_WHITESPACE:se(B,J);continue;case P.TEXT:if(B.sawRoot&&!B.closedRoot){for(var W=te-1;J&&J!=="<"&&J!=="&";)J=fe(z,te++),J&&B.trackPosition&&(B.position++,J===`
`?(B.line++,B.column=0):B.column++);B.textNode+=z.substring(W,te-1)}J==="<"&&!(B.sawRoot&&B.closedRoot&&!B.strict)?(B.state=P.OPEN_WAKA,B.startTagPosition=B.position):(!A(J)&&(!B.sawRoot||B.closedRoot)&&G(B,"Text data outside of root node."),J==="&"?B.state=P.TEXT_ENTITY:B.textNode+=J);continue;case P.SCRIPT:J==="<"?B.state=P.SCRIPT_ENDING:B.script+=J;continue;case P.SCRIPT_ENDING:J==="/"?B.state=P.CLOSE_TAG:(B.script+="<"+J,B.state=P.SCRIPT);continue;case P.OPEN_WAKA:if(J==="!")B.state=P.SGML_DECL,B.sgmlDecl="";else if(!A(J))if(M(O,J))B.state=P.OPEN_TAG,B.tagName=J;else if(J==="/")B.state=P.CLOSE_TAG,B.tagName="";else if(J==="?")B.state=P.PROC_INST,B.procInstName=B.procInstBody="";else{if(G(B,"Unencoded <"),B.startTagPosition+1<B.position){var $=B.position-B.startTagPosition;J=new Array($).join(" ")+J}B.textNode+="<"+J,B.state=P.TEXT}continue;case P.SGML_DECL:(B.sgmlDecl+J).toUpperCase()===m?(H(B,"onopencdata"),B.state=P.CDATA,B.sgmlDecl="",B.cdata=""):B.sgmlDecl+J==="--"?(B.state=P.COMMENT,B.comment="",B.sgmlDecl=""):(B.sgmlDecl+J).toUpperCase()===g?(B.state=P.DOCTYPE,(B.doctype||B.sawRoot)&&G(B,"Inappropriately located doctype declaration"),B.doctype="",B.sgmlDecl=""):J===">"?(H(B,"onsgmldeclaration",B.sgmlDecl),B.sgmlDecl="",B.state=P.TEXT):(_(J)&&(B.state=P.SGML_DECL_QUOTED),B.sgmlDecl+=J);continue;case P.SGML_DECL_QUOTED:J===B.q&&(B.state=P.SGML_DECL,B.q=""),B.sgmlDecl+=J;continue;case P.DOCTYPE:J===">"?(B.state=P.TEXT,H(B,"ondoctype",B.doctype),B.doctype=!0):(B.doctype+=J,J==="["?B.state=P.DOCTYPE_DTD:_(J)&&(B.state=P.DOCTYPE_QUOTED,B.q=J));continue;case P.DOCTYPE_QUOTED:B.doctype+=J,J===B.q&&(B.q="",B.state=P.DOCTYPE);continue;case P.DOCTYPE_DTD:B.doctype+=J,J==="]"?B.state=P.DOCTYPE:_(J)&&(B.state=P.DOCTYPE_DTD_QUOTED,B.q=J);continue;case P.DOCTYPE_DTD_QUOTED:B.doctype+=J,J===B.q&&(B.state=P.DOCTYPE_DTD,B.q="");continue;case P.COMMENT:J==="-"?B.state=P.COMMENT_ENDING:B.comment+=J;continue;case P.COMMENT_ENDING:J==="-"?(B.state=P.COMMENT_ENDED,B.comment=R(B.opt,B.comment),B.comment&&H(B,"oncomment",B.comment),B.comment=""):(B.comment+="-"+J,B.state=P.COMMENT);continue;case P.COMMENT_ENDED:J!==">"?(G(B,"Malformed comment"),B.comment+="--"+J,B.state=P.COMMENT):B.state=P.TEXT;continue;case P.CDATA:J==="]"?B.state=P.CDATA_ENDING:B.cdata+=J;continue;case P.CDATA_ENDING:J==="]"?B.state=P.CDATA_ENDING_2:(B.cdata+="]"+J,B.state=P.CDATA);continue;case P.CDATA_ENDING_2:J===">"?(B.cdata&&H(B,"oncdata",B.cdata),H(B,"onclosecdata"),B.cdata="",B.state=P.TEXT):J==="]"?B.cdata+="]":(B.cdata+="]]"+J,B.state=P.CDATA);continue;case P.PROC_INST:J==="?"?B.state=P.PROC_INST_ENDING:A(J)?B.state=P.PROC_INST_BODY:B.procInstName+=J;continue;case P.PROC_INST_BODY:if(!B.procInstBody&&A(J))continue;J==="?"?B.state=P.PROC_INST_ENDING:B.procInstBody+=J;continue;case P.PROC_INST_ENDING:J===">"?(H(B,"onprocessinginstruction",{name:B.procInstName,body:B.procInstBody}),B.procInstName=B.procInstBody="",B.state=P.TEXT):(B.procInstBody+="?"+J,B.state=P.PROC_INST_BODY);continue;case P.OPEN_TAG:M(S,J)?B.tagName+=J:(ue(B),J===">"?q(B):J==="/"?B.state=P.OPEN_TAG_SLASH:(A(J)||G(B,"Invalid character in tag name"),B.state=P.ATTRIB));continue;case P.OPEN_TAG_SLASH:J===">"?(q(B,!0),I(B)):(G(B,"Forward-slash in opening tag not followed by >"),B.state=P.ATTRIB);continue;case P.ATTRIB:if(A(J))continue;J===">"?q(B):J==="/"?B.state=P.OPEN_TAG_SLASH:M(O,J)?(B.attribName=J,B.attribValue="",B.state=P.ATTRIB_NAME):G(B,"Invalid attribute name");continue;case P.ATTRIB_NAME:J==="="?B.state=P.ATTRIB_VALUE:J===">"?(G(B,"Attribute without value"),B.attribValue=B.attribName,ke(B),q(B)):A(J)?B.state=P.ATTRIB_NAME_SAW_WHITE:M(S,J)?B.attribName+=J:G(B,"Invalid attribute name");continue;case P.ATTRIB_NAME_SAW_WHITE:if(J==="=")B.state=P.ATTRIB_VALUE;else{if(A(J))continue;G(B,"Attribute without value"),B.tag.attributes[B.attribName]="",B.attribValue="",H(B,"onattribute",{name:B.attribName,value:""}),B.attribName="",J===">"?q(B):M(O,J)?(B.attribName=J,B.state=P.ATTRIB_NAME):(G(B,"Invalid attribute name"),B.state=P.ATTRIB)}continue;case P.ATTRIB_VALUE:if(A(J))continue;_(J)?(B.q=J,B.state=P.ATTRIB_VALUE_QUOTED):(G(B,"Unquoted attribute value"),B.state=P.ATTRIB_VALUE_UNQUOTED,B.attribValue=J);continue;case P.ATTRIB_VALUE_QUOTED:if(J!==B.q){J==="&"?B.state=P.ATTRIB_VALUE_ENTITY_Q:B.attribValue+=J;continue}ke(B),B.q="",B.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:A(J)?B.state=P.ATTRIB:J===">"?q(B):J==="/"?B.state=P.OPEN_TAG_SLASH:M(O,J)?(G(B,"No whitespace between attributes"),B.attribName=J,B.attribValue="",B.state=P.ATTRIB_NAME):G(B,"Invalid attribute name");continue;case P.ATTRIB_VALUE_UNQUOTED:if(!U(J)){J==="&"?B.state=P.ATTRIB_VALUE_ENTITY_U:B.attribValue+=J;continue}ke(B),J===">"?q(B):B.state=P.ATTRIB;continue;case P.CLOSE_TAG:if(B.tagName)J===">"?I(B):M(S,J)?B.tagName+=J:B.script?(B.script+="</"+B.tagName,B.tagName="",B.state=P.SCRIPT):(A(J)||G(B,"Invalid tagname in closing tag"),B.state=P.CLOSE_TAG_SAW_WHITE);else{if(A(J))continue;Q(O,J)?B.script?(B.script+="</"+J,B.state=P.SCRIPT):G(B,"Invalid tagname in closing tag."):B.tagName=J}continue;case P.CLOSE_TAG_SAW_WHITE:if(A(J))continue;J===">"?I(B):G(B,"Invalid characters in closing tag");continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var ge,D;switch(B.state){case P.TEXT_ENTITY:ge=P.TEXT,D="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:ge=P.ATTRIB_VALUE_QUOTED,D="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:ge=P.ATTRIB_VALUE_UNQUOTED,D="attribValue";break}J===";"?(B[D]+=K(B),B.entity="",B.state=ge):M(B.entity.length?E:k,J)?B.entity+=J:(G(B,"Invalid character in entity name"),B[D]+="&"+B.entity+J,B.entity="",B.state=ge);continue;default:throw new Error(B,"Unknown state: "+B.state)}return B.position>=B.bufferCheckPosition&&i(B),B}String.fromCodePoint||(function(){var z=String.fromCharCode,B=Math.floor,te=function(){var J=16384,W=[],$,ge,D=-1,ve=arguments.length;if(!ve)return"";for(var F="";++D<ve;){var T=Number(arguments[D]);if(!isFinite(T)||T<0||T>1114111||B(T)!==T)throw RangeError("Invalid code point: "+T);T<=65535?W.push(T):(T-=65536,$=(T>>10)+55296,ge=T%1024+56320,W.push($,ge)),(D+1===ve||W.length>J)&&(F+=z.apply(null,W),W.length=0)}return F};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:te,configurable:!0,writable:!0}):String.fromCodePoint=te})()})(r)})(ry)),ry}var vv,eO;function Lx(){return eO||(eO=1,vv={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}}),vv}var bv,tO;function Bx(){if(tO)return bv;tO=1;var r=Lx().isArray;return bv={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!r(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},bv}var xv,rO;function W5(){if(rO)return xv;rO=1;var r=mV(),e=Bx(),t=Lx().isArray,n,i;function s(S){return n=e.copyOptions(S),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function l(S){var k=Number(S);if(!isNaN(k))return k;var E=S.toLowerCase();return E==="true"?!0:E==="false"?!1:S}function c(S,k){var E;if(n.compact){if(!i[n[S+"Key"]]&&(t(n.alwaysArray)?n.alwaysArray.indexOf(n[S+"Key"])!==-1:n.alwaysArray)&&(i[n[S+"Key"]]=[]),i[n[S+"Key"]]&&!t(i[n[S+"Key"]])&&(i[n[S+"Key"]]=[i[n[S+"Key"]]]),S+"Fn"in n&&typeof k=="string"&&(k=n[S+"Fn"](k,i)),S==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(E in k)if(k.hasOwnProperty(E))if("instructionFn"in n)k[E]=n.instructionFn(k[E],E,i);else{var A=k[E];delete k[E],k[n.instructionNameFn(E,A,i)]=A}}t(i[n[S+"Key"]])?i[n[S+"Key"]].push(k):i[n[S+"Key"]]=k}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var _={};if(_[n.typeKey]=S,S==="instruction"){for(E in k)if(k.hasOwnProperty(E))break;_[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(E,k,i):E,n.instructionHasAttributes?(_[n.attributesKey]=k[E][n.attributesKey],"instructionFn"in n&&(_[n.attributesKey]=n.instructionFn(_[n.attributesKey],E,i))):("instructionFn"in n&&(k[E]=n.instructionFn(k[E],E,i)),_[n.instructionKey]=k[E])}else S+"Fn"in n&&(k=n[S+"Fn"](k,i)),_[n[S+"Key"]]=k;n.addParent&&(_[n.parentKey]=i),i[n.elementsKey].push(_)}}function u(S){if("attributesFn"in n&&S&&(S=n.attributesFn(S,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&S){var k;for(k in S)if(S.hasOwnProperty(k)&&(n.trim&&(S[k]=S[k].trim()),n.nativeTypeAttributes&&(S[k]=l(S[k])),"attributeValueFn"in n&&(S[k]=n.attributeValueFn(S[k],k,i)),"attributeNameFn"in n)){var E=S[k];delete S[k],S[n.attributeNameFn(k,S[k],i)]=E}}return S}function f(S){var k={};if(S.body&&(S.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var E=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,A;(A=E.exec(S.body))!==null;)k[A[1]]=A[2]||A[3]||A[4];k=u(k)}if(S.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(k).length&&(i[n.declarationKey][n.attributesKey]=k),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(S.body=S.body.trim());var _={};n.instructionHasAttributes&&Object.keys(k).length?(_[S.name]={},_[S.name][n.attributesKey]=k):_[S.name]=S.body,c("instruction",_)}}function d(S,k){var E;if(typeof S=="object"&&(k=S.attributes,S=S.name),k=u(k),"elementNameFn"in n&&(S=n.elementNameFn(S,i)),n.compact){if(E={},!n.ignoreAttributes&&k&&Object.keys(k).length){E[n.attributesKey]={};var A;for(A in k)k.hasOwnProperty(A)&&(E[n.attributesKey][A]=k[A])}!(S in i)&&(t(n.alwaysArray)?n.alwaysArray.indexOf(S)!==-1:n.alwaysArray)&&(i[S]=[]),i[S]&&!t(i[S])&&(i[S]=[i[S]]),t(i[S])?i[S].push(E):i[S]=E}else i[n.elementsKey]||(i[n.elementsKey]=[]),E={},E[n.typeKey]="element",E[n.nameKey]=S,!n.ignoreAttributes&&k&&Object.keys(k).length&&(E[n.attributesKey]=k),n.alwaysChildren&&(E[n.elementsKey]=[]),i[n.elementsKey].push(E);E[n.parentKey]=i,i=E}function m(S){n.ignoreText||!S.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(S=S.trim()),n.nativeType&&(S=l(S)),n.sanitize&&(S=S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c("text",S))}function g(S){n.ignoreComment||(n.trim&&(S=S.trim()),c("comment",S))}function y(S){var k=i[n.parentKey];n.addParent||delete i[n.parentKey],i=k}function b(S){n.ignoreCdata||(n.trim&&(S=S.trim()),c("cdata",S))}function w(S){n.ignoreDoctype||(S=S.replace(/^ /,""),n.trim&&(S=S.trim()),c("doctype",S))}function O(S){S.note=S}return xv=function(S,k){var E=r.parser(!0,{}),A={};if(i=A,n=s(k),E.opt={strictEntities:!0},E.onopentag=d,E.ontext=m,E.oncomment=g,E.onclosetag=y,E.onerror=O,E.oncdata=b,E.ondoctype=w,E.onprocessinginstruction=f,E.write(S).close(),A[n.elementsKey]){var _=A[n.elementsKey];delete A[n.elementsKey],A[n.elementsKey]=_,delete A.text}return A},xv}var wv,nO;function gV(){if(nO)return wv;nO=1;var r=Bx(),e=W5();function t(n){var i=r.copyOptions(n);return r.ensureSpacesExists(i),i}return wv=function(n,i){var s,l,c,u;return s=t(i),l=e(n,s),u="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?c=JSON.stringify(l,function(f,d){return f===u?"_":d},s.spaces):c=JSON.stringify(l,null,s.spaces),c.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},wv}var Sv,iO;function V5(){if(iO)return Sv;iO=1;var r=Bx(),e=Lx().isArray,t,n;function i(E){var A=r.copyOptions(E);return r.ensureFlagExists("ignoreDeclaration",A),r.ensureFlagExists("ignoreInstruction",A),r.ensureFlagExists("ignoreAttributes",A),r.ensureFlagExists("ignoreText",A),r.ensureFlagExists("ignoreComment",A),r.ensureFlagExists("ignoreCdata",A),r.ensureFlagExists("ignoreDoctype",A),r.ensureFlagExists("compact",A),r.ensureFlagExists("indentText",A),r.ensureFlagExists("indentCdata",A),r.ensureFlagExists("indentAttributes",A),r.ensureFlagExists("indentInstruction",A),r.ensureFlagExists("fullTagEmptyElement",A),r.ensureFlagExists("noQuotesForNativeAttributes",A),r.ensureSpacesExists(A),typeof A.spaces=="number"&&(A.spaces=Array(A.spaces+1).join(" ")),r.ensureKeyExists("declaration",A),r.ensureKeyExists("instruction",A),r.ensureKeyExists("attributes",A),r.ensureKeyExists("text",A),r.ensureKeyExists("comment",A),r.ensureKeyExists("cdata",A),r.ensureKeyExists("doctype",A),r.ensureKeyExists("type",A),r.ensureKeyExists("name",A),r.ensureKeyExists("elements",A),r.checkFnExists("doctype",A),r.checkFnExists("instruction",A),r.checkFnExists("cdata",A),r.checkFnExists("comment",A),r.checkFnExists("text",A),r.checkFnExists("instructionName",A),r.checkFnExists("elementName",A),r.checkFnExists("attributeName",A),r.checkFnExists("attributeValue",A),r.checkFnExists("attributes",A),r.checkFnExists("fullTagEmptyElement",A),A}function s(E,A,_){return(!_&&E.spaces?`
`:"")+Array(A+1).join(E.spaces)}function l(E,A,_){if(A.ignoreAttributes)return"";"attributesFn"in A&&(E=A.attributesFn(E,n,t));var U,M,Q,P,re=[];for(U in E)E.hasOwnProperty(U)&&E[U]!==null&&E[U]!==void 0&&(P=A.noQuotesForNativeAttributes&&typeof E[U]!="string"?"":'"',M=""+E[U],M=M.replace(/"/g,"&quot;"),Q="attributeNameFn"in A?A.attributeNameFn(U,M,n,t):U,re.push(A.spaces&&A.indentAttributes?s(A,_+1,!1):" "),re.push(Q+"="+P+("attributeValueFn"in A?A.attributeValueFn(M,U,n,t):M)+P));return E&&Object.keys(E).length&&A.spaces&&A.indentAttributes&&re.push(s(A,_,!1)),re.join("")}function c(E,A,_){return t=E,n="xml",A.ignoreDeclaration?"":"<?xml"+l(E[A.attributesKey],A,_)+"?>"}function u(E,A,_){if(A.ignoreInstruction)return"";var U;for(U in E)if(E.hasOwnProperty(U))break;var M="instructionNameFn"in A?A.instructionNameFn(U,E[U],n,t):U;if(typeof E[U]=="object")return t=E,n=M,"<?"+M+l(E[U][A.attributesKey],A,_)+"?>";var Q=E[U]?E[U]:"";return"instructionFn"in A&&(Q=A.instructionFn(Q,U,n,t)),"<?"+M+(Q?" "+Q:"")+"?>"}function f(E,A){return A.ignoreComment?"":"<!--"+("commentFn"in A?A.commentFn(E,n,t):E)+"-->"}function d(E,A){return A.ignoreCdata?"":"<![CDATA["+("cdataFn"in A?A.cdataFn(E,n,t):E.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function m(E,A){return A.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in A?A.doctypeFn(E,n,t):E)+">"}function g(E,A){return A.ignoreText?"":(E=""+E,E=E.replace(/&amp;/g,"&"),E=E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in A?A.textFn(E,n,t):E)}function y(E,A){var _;if(E.elements&&E.elements.length)for(_=0;_<E.elements.length;++_)switch(E.elements[_][A.typeKey]){case"text":if(A.indentText)return!0;break;case"cdata":if(A.indentCdata)return!0;break;case"instruction":if(A.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function b(E,A,_){t=E,n=E.name;var U=[],M="elementNameFn"in A?A.elementNameFn(E.name,E):E.name;U.push("<"+M),E[A.attributesKey]&&U.push(l(E[A.attributesKey],A,_));var Q=E[A.elementsKey]&&E[A.elementsKey].length||E[A.attributesKey]&&E[A.attributesKey]["xml:space"]==="preserve";return Q||("fullTagEmptyElementFn"in A?Q=A.fullTagEmptyElementFn(E.name,E):Q=A.fullTagEmptyElement),Q?(U.push(">"),E[A.elementsKey]&&E[A.elementsKey].length&&(U.push(w(E[A.elementsKey],A,_+1)),t=E,n=E.name),U.push(A.spaces&&y(E,A)?`
`+Array(_+1).join(A.spaces):""),U.push("</"+M+">")):U.push("/>"),U.join("")}function w(E,A,_,U){return E.reduce(function(M,Q){var P=s(A,_,U&&!M);switch(Q.type){case"element":return M+P+b(Q,A,_);case"comment":return M+P+f(Q[A.commentKey],A);case"doctype":return M+P+m(Q[A.doctypeKey],A);case"cdata":return M+(A.indentCdata?P:"")+d(Q[A.cdataKey],A);case"text":return M+(A.indentText?P:"")+g(Q[A.textKey],A);case"instruction":var re={};return re[Q[A.nameKey]]=Q[A.attributesKey]?Q:Q[A.instructionKey],M+(A.indentInstruction?P:"")+u(re,A,_)}},"")}function O(E,A,_){var U;for(U in E)if(E.hasOwnProperty(U))switch(U){case A.parentKey:case A.attributesKey:break;case A.textKey:if(A.indentText||_)return!0;break;case A.cdataKey:if(A.indentCdata||_)return!0;break;case A.instructionKey:if(A.indentInstruction||_)return!0;break;case A.doctypeKey:case A.commentKey:return!0;default:return!0}return!1}function S(E,A,_,U,M){t=E,n=A;var Q="elementNameFn"in _?_.elementNameFn(A,E):A;if(typeof E>"u"||E===null||E==="")return"fullTagEmptyElementFn"in _&&_.fullTagEmptyElementFn(A,E)||_.fullTagEmptyElement?"<"+Q+"></"+Q+">":"<"+Q+"/>";var P=[];if(A){if(P.push("<"+Q),typeof E!="object")return P.push(">"+g(E,_)+"</"+Q+">"),P.join("");E[_.attributesKey]&&P.push(l(E[_.attributesKey],_,U));var re=O(E,_,!0)||E[_.attributesKey]&&E[_.attributesKey]["xml:space"]==="preserve";if(re||("fullTagEmptyElementFn"in _?re=_.fullTagEmptyElementFn(A,E):re=_.fullTagEmptyElement),re)P.push(">");else return P.push("/>"),P.join("")}return P.push(k(E,_,U+1,!1)),t=E,n=A,A&&P.push((M?s(_,U,!1):"")+"</"+Q+">"),P.join("")}function k(E,A,_,U){var M,Q,P,re=[];for(Q in E)if(E.hasOwnProperty(Q))for(P=e(E[Q])?E[Q]:[E[Q]],M=0;M<P.length;++M){switch(Q){case A.declarationKey:re.push(c(P[M],A,_));break;case A.instructionKey:re.push((A.indentInstruction?s(A,_,U):"")+u(P[M],A,_));break;case A.attributesKey:case A.parentKey:break;case A.textKey:re.push((A.indentText?s(A,_,U):"")+g(P[M],A));break;case A.cdataKey:re.push((A.indentCdata?s(A,_,U):"")+d(P[M],A));break;case A.doctypeKey:re.push(s(A,_,U)+m(P[M],A));break;case A.commentKey:re.push(s(A,_,U)+f(P[M],A));break;default:re.push(s(A,_,U)+S(P[M],Q,A,_,O(P[M],A)))}U=U&&!re.length}return re.join("")}return Sv=function(E,A){A=i(A);var _=[];return t=E,n="_root_",A.compact?_.push(k(E,A,0,!0)):(E[A.declarationKey]&&_.push(c(E[A.declarationKey],A,0)),E[A.elementsKey]&&E[A.elementsKey].length&&_.push(w(E[A.elementsKey],A,0,!_.length))),_.join("")},Sv}var kv,sO;function yV(){if(sO)return kv;sO=1;var r=V5();return kv=function(e,t){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return r(n,t)},kv}var Av,aO;function vV(){if(aO)return Av;aO=1;var r=W5(),e=gV(),t=V5(),n=yV();return Av={xml2js:r,xml2json:e,js2xml:t,json2xml:n},Av}var $5=vV();const zx=r=>{switch(r.type){case void 0:case"element":const e=new xV(r.name,r.attributes),t=r.elements||[];for(const n of t){const i=zx(n);i!==void 0&&e.push(i)}return e;case"text":return r.text;default:return}};class bV extends rt{}class xV extends De{static fromXmlString(e){const t=$5.xml2js(e,{compact:!1});return zx(t)}constructor(e,t){super(e),t&&this.root.push(new bV(t))}push(e){this.root.push(e)}}class wV extends De{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class G5 extends De{constructor(e,t){super(e),t&&(this.root=t.root)}}const Qr=r=>{if(isNaN(r))throw new Error(`Invalid value '${r}' specified. Must be an integer.`);return Math.floor(r)},Yp=r=>{const e=Qr(r);if(e<0)throw new Error(`Invalid value '${r}' specified. Must be a positive integer.`);return e},Q5=(r,e)=>{const t=e*2;if(r.length!==t||isNaN(+`0x${r}`))throw new Error(`Invalid hex value '${r}'. Expected ${t} digit hex value`);return r},lO=r=>Q5(r,1),jx=r=>{const e=r.slice(-2),t=r.substring(0,r.length-2);return`${Number(t)}${e}`},Y5=r=>{const e=jx(r);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Ko=r=>{if(r==="auto")return r;const e=r.charAt(0)==="#"?r.substring(1):r;return Q5(e,3)},xs=r=>typeof r=="string"?jx(r):Qr(r),SV=r=>typeof r=="string"?Y5(r):Yp(r),Ur=r=>typeof r=="string"?Y5(r):Yp(r),kV=r=>{const e=r.substring(0,r.length-1);return`${Number(e)}%`},X5=r=>typeof r=="number"?Qr(r):r.slice(-1)==="%"?kV(r):jx(r),AV=Yp,EV=Yp,TV=r=>r.toISOString();class Le extends De{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new cr({val:t}))}}class Ev extends De{constructor(e,t){super(e),this.root.push(new cr({val:SV(t)}))}}class dl extends De{constructor(e,t){super(e),this.root.push(new cr({val:t}))}}const au=(r,e)=>new Wi({name:r,attributes:{value:{key:"w:val",value:e}}});class Tu extends De{constructor(e,t){super(e),this.root.push(new cr({val:t}))}}class CV extends De{constructor(e,t){super(e),this.root.push(new cr({val:t}))}}class Ga extends De{constructor(e,t){super(e),this.root.push(t)}}class Wi extends De{constructor({name:e,attributes:t,children:n}){super(e),t&&this.root.push(new Sa(t)),n&&this.root.push(...n)}}const or={START:"start",CENTER:"center",LEFT:"left"};class OV extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class K5 extends De{constructor(e){super("w:jc"),this.root.push(new OV({val:e}))}}class qt extends De{constructor(e,{color:t,size:n,space:i,style:s}){super(e),this.root.push(new _V({style:s,color:t===void 0?void 0:Ko(t),size:n===void 0?void 0:AV(n),space:i===void 0?void 0:EV(i)}))}}class _V extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const di={SINGLE:"single",DOUBLE:"double",NONE:"none"};class RV extends _s{constructor(e){super("w:pBdr"),e.top&&this.root.push(new qt("w:top",e.top)),e.bottom&&this.root.push(new qt("w:bottom",e.bottom)),e.left&&this.root.push(new qt("w:left",e.left)),e.right&&this.root.push(new qt("w:right",e.right))}}class NV extends De{constructor(){super("w:pBdr");const e=new qt("w:bottom",{color:"auto",space:1,style:di.SINGLE,size:6});this.root.push(e)}}class MV extends De{constructor({start:e,end:t,left:n,right:i,hanging:s,firstLine:l}){super("w:ind"),this.root.push(new Sa({start:{key:"w:start",value:e===void 0?void 0:xs(e)},end:{key:"w:end",value:t===void 0?void 0:xs(t)},left:{key:"w:left",value:n===void 0?void 0:xs(n)},right:{key:"w:right",value:i===void 0?void 0:xs(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:Ur(s)},firstLine:{key:"w:firstLine",value:l===void 0?void 0:Ur(l)}}))}}let DV=class extends De{constructor(){super("w:br")}};const Px={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Fx extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class cd extends De{constructor(e){super("w:fldChar"),this.root.push(new Fx({type:Px.BEGIN,dirty:e}))}}class ud extends De{constructor(e){super("w:fldChar"),this.root.push(new Fx({type:Px.SEPARATE,dirty:e}))}}class hd extends De{constructor(e){super("w:fldChar"),this.root.push(new Fx({type:Px.END,dirty:e}))}}const Zo={DEFAULT:"default",PRESERVE:"preserve"};class Jo extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{space:"xml:space"})}}class LV extends De{constructor(){super("w:instrText"),this.root.push(new Jo({space:Zo.PRESERVE})),this.root.push("PAGE")}}class BV extends De{constructor(){super("w:instrText"),this.root.push(new Jo({space:Zo.PRESERVE})),this.root.push("NUMPAGES")}}class zV extends De{constructor(){super("w:instrText"),this.root.push(new Jo({space:Zo.PRESERVE})),this.root.push("SECTIONPAGES")}}class jV extends De{constructor(){super("w:instrText"),this.root.push(new Jo({space:Zo.PRESERVE})),this.root.push("SECTION")}}class PV extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Xp extends De{constructor({fill:e,color:t,type:n}){super("w:shd"),this.root.push(new PV({fill:e===void 0?void 0:Ko(e),color:t===void 0?void 0:Ko(t),type:n}))}}const _i={SOLID:"solid"};class FV extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const IV={DOT:"dot"};class UV extends De{constructor(e){super("w:em"),this.root.push(new cr({val:e}))}}class HV extends UV{constructor(e=IV.DOT){super(e)}}class qV extends De{constructor(e){super("w:spacing"),this.root.push(new cr({val:xs(e)}))}}class WV extends De{constructor(e){super("w:color"),this.root.push(new cr({val:Ko(e)}))}}class VV extends De{constructor(e){super("w:highlight"),this.root.push(new cr({val:e}))}}class $V extends De{constructor(e){super("w:highlightCs"),this.root.push(new cr({val:e}))}}const GV=r=>new Wi({name:"w:lang",attributes:{value:{key:"w:val",value:r.value},eastAsia:{key:"w:eastAsia",value:r.eastAsia},bidirectional:{key:"w:bidi",value:r.bidirectional}}});class oO extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Tv extends De{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new oO({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:t}))}else{const n=e;this.root.push(new oO(n))}}}let Z5=class extends De{constructor(e){super("w:vertAlign"),this.root.push(new cr({val:e}))}};class QV extends Z5{constructor(){super("superscript")}}class YV extends Z5{constructor(){super("subscript")}}const J5={SINGLE:"single"};class XV extends De{constructor(e=J5.SINGLE,t){super("w:u"),this.root.push(new cr({val:e,color:t===void 0?void 0:Ko(t)}))}}class Al extends _s{constructor(e){var t,n;if(super("w:rPr"),!e)return;e.style&&this.push(new dl("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Tv(e.font)):"name"in e.font?this.push(new Tv(e.font.name,e.font.hint)):this.push(new Tv(e.font))),e.bold!==void 0&&this.push(new Le("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Le("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new Le("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Le("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new Le("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Le("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Le("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Le("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new Le("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Le("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new Le("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new Le("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Le("w:vanish",e.vanish)),e.color&&this.push(new WV(e.color)),e.characterSpacing&&this.push(new qV(e.characterSpacing)),e.scale!==void 0&&this.push(new Tu("w:w",e.scale)),e.kern&&this.push(new Ev("w:kern",e.kern)),e.position&&this.push(new dl("w:position",e.position)),e.size!==void 0&&this.push(new Ev("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new Ev("w:szCs",i)),e.highlight&&this.push(new VV(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new $V(s)),e.underline&&this.push(new XV(e.underline.type,e.underline.color)),e.effect&&this.push(new dl("w:effect",e.effect)),e.border&&this.push(new qt("w:bdr",e.border)),e.shading&&this.push(new Xp(e.shading)),e.subScript&&this.push(new YV),e.superScript&&this.push(new QV),e.rightToLeft!==void 0&&this.push(new Le("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new HV(e.emphasisMark.type)),e.language&&this.push(GV(e.language)),e.specVanish&&this.push(new Le("w:specVanish",e.vanish)),e.math&&this.push(new Le("w:oMath",e.math)),e.revision&&this.push(new KV(e.revision))}push(e){this.root.push(e)}}class KV extends De{constructor(e){super("w:rPrChange"),this.root.push(new FV({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Al(e))}}class cO extends De{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new Jo({space:Zo.PRESERVE})),this.root.push(e)):(this.root.push(new Jo({space:(t=e.space)!=null?t:Zo.DEFAULT})),this.root.push(e.text))}}const fd={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Kp extends De{constructor(e){if(super("w:r"),Re(this,"properties"),this.properties=new Al(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new DV);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case fd.CURRENT:this.root.push(new cd),this.root.push(new LV),this.root.push(new ud),this.root.push(new hd);break;case fd.TOTAL_PAGES:this.root.push(new cd),this.root.push(new BV),this.root.push(new ud),this.root.push(new hd);break;case fd.TOTAL_PAGES_IN_SECTION:this.root.push(new cd),this.root.push(new zV),this.root.push(new ud),this.root.push(new hd);break;case fd.CURRENT_SECTION:this.root.push(new cd),this.root.push(new jV),this.root.push(new ud),this.root.push(new hd);break;default:this.root.push(new cO(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new cO(e.text))}}class Mt extends Kp{constructor(e){super(typeof e=="string"?{text:e}:e)}}var Cv={},Ht={},Ov,uO;function gh(){if(uO)return Ov;uO=1,Ov=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,n,i){if(t!=n)throw new Error(i||"Assertion failed: "+t+" != "+n)},Ov}var hO;function Gi(){if(hO)return Ht;hO=1;var r=gh(),e=ka();Ht.inherits=e;function t(H,Y){return(H.charCodeAt(Y)&64512)!==55296||Y<0||Y+1>=H.length?!1:(H.charCodeAt(Y+1)&64512)===56320}function n(H,Y){if(Array.isArray(H))return H.slice();if(!H)return[];var R=[];if(typeof H=="string")if(Y){if(Y==="hex")for(H=H.replace(/[^a-z0-9]+/ig,""),H.length%2!==0&&(H="0"+H),X=0;X<H.length;X+=2)R.push(parseInt(H[X]+H[X+1],16))}else for(var ee=0,X=0;X<H.length;X++){var G=H.charCodeAt(X);G<128?R[ee++]=G:G<2048?(R[ee++]=G>>6|192,R[ee++]=G&63|128):t(H,X)?(G=65536+((G&1023)<<10)+(H.charCodeAt(++X)&1023),R[ee++]=G>>18|240,R[ee++]=G>>12&63|128,R[ee++]=G>>6&63|128,R[ee++]=G&63|128):(R[ee++]=G>>12|224,R[ee++]=G>>6&63|128,R[ee++]=G&63|128)}else for(X=0;X<H.length;X++)R[X]=H[X]|0;return R}Ht.toArray=n;function i(H){for(var Y="",R=0;R<H.length;R++)Y+=c(H[R].toString(16));return Y}Ht.toHex=i;function s(H){var Y=H>>>24|H>>>8&65280|H<<8&16711680|(H&255)<<24;return Y>>>0}Ht.htonl=s;function l(H,Y){for(var R="",ee=0;ee<H.length;ee++){var X=H[ee];Y==="little"&&(X=s(X)),R+=u(X.toString(16))}return R}Ht.toHex32=l;function c(H){return H.length===1?"0"+H:H}Ht.zero2=c;function u(H){return H.length===7?"0"+H:H.length===6?"00"+H:H.length===5?"000"+H:H.length===4?"0000"+H:H.length===3?"00000"+H:H.length===2?"000000"+H:H.length===1?"0000000"+H:H}Ht.zero8=u;function f(H,Y,R,ee){var X=R-Y;r(X%4===0);for(var G=new Array(X/4),ue=0,he=Y;ue<G.length;ue++,he+=4){var ke;ee==="big"?ke=H[he]<<24|H[he+1]<<16|H[he+2]<<8|H[he+3]:ke=H[he+3]<<24|H[he+2]<<16|H[he+1]<<8|H[he],G[ue]=ke>>>0}return G}Ht.join32=f;function d(H,Y){for(var R=new Array(H.length*4),ee=0,X=0;ee<H.length;ee++,X+=4){var G=H[ee];Y==="big"?(R[X]=G>>>24,R[X+1]=G>>>16&255,R[X+2]=G>>>8&255,R[X+3]=G&255):(R[X+3]=G>>>24,R[X+2]=G>>>16&255,R[X+1]=G>>>8&255,R[X]=G&255)}return R}Ht.split32=d;function m(H,Y){return H>>>Y|H<<32-Y}Ht.rotr32=m;function g(H,Y){return H<<Y|H>>>32-Y}Ht.rotl32=g;function y(H,Y){return H+Y>>>0}Ht.sum32=y;function b(H,Y,R){return H+Y+R>>>0}Ht.sum32_3=b;function w(H,Y,R,ee){return H+Y+R+ee>>>0}Ht.sum32_4=w;function O(H,Y,R,ee,X){return H+Y+R+ee+X>>>0}Ht.sum32_5=O;function S(H,Y,R,ee){var X=H[Y],G=H[Y+1],ue=ee+G>>>0,he=(ue<ee?1:0)+R+X;H[Y]=he>>>0,H[Y+1]=ue}Ht.sum64=S;function k(H,Y,R,ee){var X=Y+ee>>>0,G=(X<Y?1:0)+H+R;return G>>>0}Ht.sum64_hi=k;function E(H,Y,R,ee){var X=Y+ee;return X>>>0}Ht.sum64_lo=E;function A(H,Y,R,ee,X,G,ue,he){var ke=0,q=Y;q=q+ee>>>0,ke+=q<Y?1:0,q=q+G>>>0,ke+=q<G?1:0,q=q+he>>>0,ke+=q<he?1:0;var I=H+R+X+ue+ke;return I>>>0}Ht.sum64_4_hi=A;function _(H,Y,R,ee,X,G,ue,he){var ke=Y+ee+G+he;return ke>>>0}Ht.sum64_4_lo=_;function U(H,Y,R,ee,X,G,ue,he,ke,q){var I=0,K=Y;K=K+ee>>>0,I+=K<Y?1:0,K=K+G>>>0,I+=K<G?1:0,K=K+he>>>0,I+=K<he?1:0,K=K+q>>>0,I+=K<q?1:0;var se=H+R+X+ue+ke+I;return se>>>0}Ht.sum64_5_hi=U;function M(H,Y,R,ee,X,G,ue,he,ke,q){var I=Y+ee+G+he+q;return I>>>0}Ht.sum64_5_lo=M;function Q(H,Y,R){var ee=Y<<32-R|H>>>R;return ee>>>0}Ht.rotr64_hi=Q;function P(H,Y,R){var ee=H<<32-R|Y>>>R;return ee>>>0}Ht.rotr64_lo=P;function re(H,Y,R){return H>>>R}Ht.shr64_hi=re;function pe(H,Y,R){var ee=H<<32-R|Y>>>R;return ee>>>0}return Ht.shr64_lo=pe,Ht}var _v={},fO;function yh(){if(fO)return _v;fO=1;var r=Gi(),e=gh();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return _v.BlockHash=t,t.prototype.update=function(i,s){if(i=r.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var l=i.length%this._delta8;this.pending=i.slice(i.length-l,i.length),this.pending.length===0&&(this.pending=null),i=r.join32(i,0,i.length-l,this.endian);for(var c=0;c<i.length;c+=this._delta32)this._update(i,c,c+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,l=s-(i+this.padLength)%s,c=new Array(l+this.padLength);c[0]=128;for(var u=1;u<l;u++)c[u]=0;if(i<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)c[u++]=0;c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=i>>>24&255,c[u++]=i>>>16&255,c[u++]=i>>>8&255,c[u++]=i&255}else for(c[u++]=i&255,c[u++]=i>>>8&255,c[u++]=i>>>16&255,c[u++]=i>>>24&255,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,f=8;f<this.padLength;f++)c[u++]=0;return c},_v}var Qa={},Ri={},dO;function e6(){if(dO)return Ri;dO=1;var r=Gi(),e=r.rotr32;function t(d,m,g,y){if(d===0)return n(m,g,y);if(d===1||d===3)return s(m,g,y);if(d===2)return i(m,g,y)}Ri.ft_1=t;function n(d,m,g){return d&m^~d&g}Ri.ch32=n;function i(d,m,g){return d&m^d&g^m&g}Ri.maj32=i;function s(d,m,g){return d^m^g}Ri.p32=s;function l(d){return e(d,2)^e(d,13)^e(d,22)}Ri.s0_256=l;function c(d){return e(d,6)^e(d,11)^e(d,25)}Ri.s1_256=c;function u(d){return e(d,7)^e(d,18)^d>>>3}Ri.g0_256=u;function f(d){return e(d,17)^e(d,19)^d>>>10}return Ri.g1_256=f,Ri}var Rv,pO;function ZV(){if(pO)return Rv;pO=1;var r=Gi(),e=yh(),t=e6(),n=r.rotl32,i=r.sum32,s=r.sum32_5,l=t.ft_1,c=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(f,c),Rv=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(m,g){for(var y=this.W,b=0;b<16;b++)y[b]=m[g+b];for(;b<y.length;b++)y[b]=n(y[b-3]^y[b-8]^y[b-14]^y[b-16],1);var w=this.h[0],O=this.h[1],S=this.h[2],k=this.h[3],E=this.h[4];for(b=0;b<y.length;b++){var A=~~(b/20),_=s(n(w,5),l(A,O,S,k),E,y[b],u[A]);E=k,k=S,S=n(O,30),O=w,w=_}this.h[0]=i(this.h[0],w),this.h[1]=i(this.h[1],O),this.h[2]=i(this.h[2],S),this.h[3]=i(this.h[3],k),this.h[4]=i(this.h[4],E)},f.prototype._digest=function(m){return m==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},Rv}var Nv,mO;function t6(){if(mO)return Nv;mO=1;var r=Gi(),e=yh(),t=e6(),n=gh(),i=r.sum32,s=r.sum32_4,l=r.sum32_5,c=t.ch32,u=t.maj32,f=t.s0_256,d=t.s1_256,m=t.g0_256,g=t.g1_256,y=e.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}return r.inherits(w,y),Nv=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(S,k){for(var E=this.W,A=0;A<16;A++)E[A]=S[k+A];for(;A<E.length;A++)E[A]=s(g(E[A-2]),E[A-7],m(E[A-15]),E[A-16]);var _=this.h[0],U=this.h[1],M=this.h[2],Q=this.h[3],P=this.h[4],re=this.h[5],pe=this.h[6],H=this.h[7];for(n(this.k.length===E.length),A=0;A<E.length;A++){var Y=l(H,d(P),c(P,re,pe),this.k[A],E[A]),R=i(f(_),u(_,U,M));H=pe,pe=re,re=P,P=i(Q,Y),Q=M,M=U,U=_,_=i(Y,R)}this.h[0]=i(this.h[0],_),this.h[1]=i(this.h[1],U),this.h[2]=i(this.h[2],M),this.h[3]=i(this.h[3],Q),this.h[4]=i(this.h[4],P),this.h[5]=i(this.h[5],re),this.h[6]=i(this.h[6],pe),this.h[7]=i(this.h[7],H)},w.prototype._digest=function(S){return S==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},Nv}var Mv,gO;function JV(){if(gO)return Mv;gO=1;var r=Gi(),e=t6();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),Mv=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},Mv}var Dv,yO;function r6(){if(yO)return Dv;yO=1;var r=Gi(),e=yh(),t=gh(),n=r.rotr64_hi,i=r.rotr64_lo,s=r.shr64_hi,l=r.shr64_lo,c=r.sum64,u=r.sum64_hi,f=r.sum64_lo,d=r.sum64_4_hi,m=r.sum64_4_lo,g=r.sum64_5_hi,y=r.sum64_5_lo,b=e.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function O(){if(!(this instanceof O))return new O;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}r.inherits(O,b),Dv=O,O.blockSize=1024,O.outSize=512,O.hmacStrength=192,O.padLength=128,O.prototype._prepareBlock=function(R,ee){for(var X=this.W,G=0;G<32;G++)X[G]=R[ee+G];for(;G<X.length;G+=2){var ue=pe(X[G-4],X[G-3]),he=H(X[G-4],X[G-3]),ke=X[G-14],q=X[G-13],I=P(X[G-30],X[G-29]),K=re(X[G-30],X[G-29]),se=X[G-32],fe=X[G-31];X[G]=d(ue,he,ke,q,I,K,se,fe),X[G+1]=m(ue,he,ke,q,I,K,se,fe)}},O.prototype._update=function(R,ee){this._prepareBlock(R,ee);var X=this.W,G=this.h[0],ue=this.h[1],he=this.h[2],ke=this.h[3],q=this.h[4],I=this.h[5],K=this.h[6],se=this.h[7],fe=this.h[8],ie=this.h[9],z=this.h[10],B=this.h[11],te=this.h[12],J=this.h[13],W=this.h[14],$=this.h[15];t(this.k.length===X.length);for(var ge=0;ge<X.length;ge+=2){var D=W,ve=$,F=M(fe,ie),T=Q(fe,ie),C=S(fe,ie,z,B,te),L=k(fe,ie,z,B,te,J),Z=this.k[ge],oe=this.k[ge+1],ne=X[ge],Ee=X[ge+1],Te=g(D,ve,F,T,C,L,Z,oe,ne,Ee),Oe=y(D,ve,F,T,C,L,Z,oe,ne,Ee);D=_(G,ue),ve=U(G,ue),F=E(G,ue,he,ke,q),T=A(G,ue,he,ke,q,I);var je=u(D,ve,F,T),Ve=f(D,ve,F,T);W=te,$=J,te=z,J=B,z=fe,B=ie,fe=u(K,se,Te,Oe),ie=f(se,se,Te,Oe),K=q,se=I,q=he,I=ke,he=G,ke=ue,G=u(Te,Oe,je,Ve),ue=f(Te,Oe,je,Ve)}c(this.h,0,G,ue),c(this.h,2,he,ke),c(this.h,4,q,I),c(this.h,6,K,se),c(this.h,8,fe,ie),c(this.h,10,z,B),c(this.h,12,te,J),c(this.h,14,W,$)},O.prototype._digest=function(R){return R==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function S(Y,R,ee,X,G){var ue=Y&ee^~Y&G;return ue<0&&(ue+=4294967296),ue}function k(Y,R,ee,X,G,ue){var he=R&X^~R&ue;return he<0&&(he+=4294967296),he}function E(Y,R,ee,X,G){var ue=Y&ee^Y&G^ee&G;return ue<0&&(ue+=4294967296),ue}function A(Y,R,ee,X,G,ue){var he=R&X^R&ue^X&ue;return he<0&&(he+=4294967296),he}function _(Y,R){var ee=n(Y,R,28),X=n(R,Y,2),G=n(R,Y,7),ue=ee^X^G;return ue<0&&(ue+=4294967296),ue}function U(Y,R){var ee=i(Y,R,28),X=i(R,Y,2),G=i(R,Y,7),ue=ee^X^G;return ue<0&&(ue+=4294967296),ue}function M(Y,R){var ee=n(Y,R,14),X=n(Y,R,18),G=n(R,Y,9),ue=ee^X^G;return ue<0&&(ue+=4294967296),ue}function Q(Y,R){var ee=i(Y,R,14),X=i(Y,R,18),G=i(R,Y,9),ue=ee^X^G;return ue<0&&(ue+=4294967296),ue}function P(Y,R){var ee=n(Y,R,1),X=n(Y,R,8),G=s(Y,R,7),ue=ee^X^G;return ue<0&&(ue+=4294967296),ue}function re(Y,R){var ee=i(Y,R,1),X=i(Y,R,8),G=l(Y,R,7),ue=ee^X^G;return ue<0&&(ue+=4294967296),ue}function pe(Y,R){var ee=n(Y,R,19),X=n(R,Y,29),G=s(Y,R,6),ue=ee^X^G;return ue<0&&(ue+=4294967296),ue}function H(Y,R){var ee=i(Y,R,19),X=i(R,Y,29),G=l(Y,R,6),ue=ee^X^G;return ue<0&&(ue+=4294967296),ue}return Dv}var Lv,vO;function e$(){if(vO)return Lv;vO=1;var r=Gi(),e=r6();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),Lv=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},Lv}var bO;function t$(){return bO||(bO=1,Qa.sha1=ZV(),Qa.sha224=JV(),Qa.sha256=t6(),Qa.sha384=e$(),Qa.sha512=r6()),Qa}var Bv={},xO;function r$(){if(xO)return Bv;xO=1;var r=Gi(),e=yh(),t=r.rotl32,n=r.sum32,i=r.sum32_3,s=r.sum32_4,l=e.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(c,l),Bv.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(O,S){for(var k=this.h[0],E=this.h[1],A=this.h[2],_=this.h[3],U=this.h[4],M=k,Q=E,P=A,re=_,pe=U,H=0;H<80;H++){var Y=n(t(s(k,u(H,E,A,_),O[m[H]+S],f(H)),y[H]),U);k=U,U=_,_=t(A,10),A=E,E=Y,Y=n(t(s(M,u(79-H,Q,P,re),O[g[H]+S],d(H)),b[H]),pe),M=pe,pe=re,re=t(P,10),P=Q,Q=Y}Y=i(this.h[1],A,re),this.h[1]=i(this.h[2],_,pe),this.h[2]=i(this.h[3],U,M),this.h[3]=i(this.h[4],k,Q),this.h[4]=i(this.h[0],E,P),this.h[0]=Y},c.prototype._digest=function(O){return O==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function u(w,O,S,k){return w<=15?O^S^k:w<=31?O&S|~O&k:w<=47?(O|~S)^k:w<=63?O&k|S&~k:O^(S|~k)}function f(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function d(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Bv}var zv,wO;function n$(){if(wO)return zv;wO=1;var r=Gi(),e=gh();function t(n,i,s){if(!(this instanceof t))return new t(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(i,s))}return zv=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,s){return this.inner.update(i,s),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},zv}var SO;function i$(){return SO||(SO=1,(function(r){var e=r;e.utils=Gi(),e.common=yh(),e.sha=t$(),e.ripemd=r$(),e.hmac=n$(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Cv)),Cv}i$();let s$="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",a$=(r,e=21)=>(t=e)=>{let n="",i=t|0;for(;i--;)n+=r[Math.random()*r.length|0];return n},l$=(r=21)=>{let e="",t=r|0;for(;t--;)e+=s$[Math.random()*64|0];return e};const fr=r=>Math.floor(r*72*20),Ix=(r=0)=>{let e=r;return()=>++e},o$=()=>Ix(),c$=()=>Ix(1),u$=()=>Ix(),h$=()=>l$().toLowerCase(),lu=r=>a$("1234567890abcdef",r)(),f$=()=>`${lu(8)}-${lu(4)}-${lu(4)}-${lu(4)}-${lu(12)}`;class d$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{xmlns:"xmlns"})}}class p$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const m$={EXTERNAL:"External"};class g$ extends De{constructor(e,t,n,i){super("Relationship"),this.root.push(new p$({id:e,type:t,target:n,targetMode:i}))}}class El extends De{constructor(){super("Relationships"),this.root.push(new d$({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,n,i){const s=new g$(`rId${e}`,t,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class y$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class v$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class b$ extends De{constructor({id:e,initials:t,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new y$({id:e,initials:t,author:n,date:i.toISOString()}));for(const l of s)this.root.push(l)}}class x$ extends De{constructor({children:e}){super("w:comments"),Re(this,"relationships"),this.root.push(new v$({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new b$(t));this.relationships=new El}get Relationships(){return this.relationships}}class w$ extends De{constructor(){super("w:pageBreakBefore")}}const ab={AUTO:"auto"};class S$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class k$ extends De{constructor(e){super("w:spacing"),this.root.push(new S$(e))}}let dd=class extends De{constructor(e){super("w:pStyle"),this.root.push(new cr({val:e}))}};class A$ extends De{constructor(e){super("w:tabs");for(const t of e)this.root.push(new T$(t))}}const kO={LEFT:"left",RIGHT:"right"};class E$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class T$ extends De{constructor({type:e,position:t,leader:n}){super("w:tab"),this.root.push(new E$({val:e,pos:t,leader:n}))}}class jv extends De{constructor(e,t){super("w:numPr"),this.root.push(new C$(t)),this.root.push(new O$(e))}}class C$ extends De{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new cr({val:e}))}}class O$ extends De{constructor(e){super("w:numId"),this.root.push(new cr({val:typeof e=="string"?`{${e}}`:e}))}}class n6 extends De{constructor(){super(...arguments),Re(this,"fileChild",Symbol())}}class _$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class R$ extends De{constructor(e,t,n){super("w:hyperlink"),Re(this,"linkId"),this.linkId=t;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new _$(i);this.root.push(s),e.forEach(l=>{this.root.push(l)})}}class N$ extends De{constructor(e){super("w:externalHyperlink"),this.options=e}}class M$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class D$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{id:"w:id"})}}class L${constructor(e){Re(this,"bookmarkUniqueNumericId",u$()),Re(this,"start"),Re(this,"children"),Re(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new B$(e.id,t),this.children=e.children,this.end=new z$(t)}}class B$ extends De{constructor(e,t){super("w:bookmarkStart");const n=new M$({name:e,id:t});this.root.push(n)}}class z$ extends De{constructor(e){super("w:bookmarkEnd");const t=new D$({id:e});this.root.push(t)}}class j$ extends De{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new cr({val:e}))}}const P$={TOP:"top",CENTER:"center",BOTTOM:"bottom"},F$=Yo(St({},P$),{BOTH:"both"}),co=F$;class I$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{verticalAlign:"w:val"})}}class i6 extends De{constructor(e){super("w:vAlign"),this.root.push(new I$({verticalAlign:e}))}}class U$ extends De{constructor({space:e,count:t,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new Sa({space:{key:"w:space",value:e===void 0?void 0:Ur(e)},count:{key:"w:num",value:t===void 0?void 0:Qr(t)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(l=>this.addChildElement(l))}}const H$=({type:r,linePitch:e,charSpace:t})=>new Wi({name:"w:docGrid",attributes:{type:{key:"w:type",value:r},linePitch:{key:"w:linePitch",value:Qr(e)},charSpace:{key:"w:charSpace",value:t?Qr(t):void 0}}}),zo={DEFAULT:"default",FIRST:"first",EVEN:"even"};class q$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const AO={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Pv extends De{constructor(e,t){super(e),this.root.push(new q$({type:t.type||zo.DEFAULT,id:`rId${t.id}`}))}}const W$=({countBy:r,start:e,restart:t,distance:n})=>new Wi({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:r===void 0?void 0:Qr(r)},start:{key:"w:start",value:e===void 0?void 0:Qr(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:n===void 0?void 0:Ur(n)}}});class EO extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class V$ extends _s{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new EO({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new EO({})),e.pageBorderTop&&this.root.push(new qt("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new qt("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new qt("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new qt("w:right",e.pageBorderRight))}}class $$ extends De{constructor(e,t,n,i,s,l,c){super("w:pgMar"),this.root.push(new Sa({top:{key:"w:top",value:xs(e)},right:{key:"w:right",value:Ur(t)},bottom:{key:"w:bottom",value:xs(n)},left:{key:"w:left",value:Ur(i)},header:{key:"w:header",value:Ur(s)},footer:{key:"w:footer",value:Ur(l)},gutter:{key:"w:gutter",value:Ur(c)}}))}}class G$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class Q$ extends De{constructor({start:e,formatType:t,separator:n}){super("w:pgNumType"),this.root.push(new G$({start:e===void 0?void 0:Qr(e),formatType:t,separator:n}))}}const Sp={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Y$=({width:r,height:e,orientation:t,code:n})=>{const i=Ur(r),s=Ur(e);return new Wi({name:"w:pgSz",attributes:{width:{key:"w:w",value:t===Sp.LANDSCAPE?s:i},height:{key:"w:h",value:t===Sp.LANDSCAPE?i:s},orientation:{key:"w:orient",value:t},code:{key:"w:code",value:n}}})};class X$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class K$ extends De{constructor(e){super("w:textDirection"),this.root.push(new X$({val:e}))}}class Z$ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class J$ extends De{constructor(e){super("w:type"),this.root.push(new Z$({val:e}))}}const Ya={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Fv={WIDTH:11906,HEIGHT:16838,ORIENTATION:Sp.PORTRAIT};class eG extends De{constructor({page:{size:{width:e=Fv.WIDTH,height:t=Fv.HEIGHT,orientation:n=Fv.ORIENTATION}={},margin:{top:i=Ya.TOP,right:s=Ya.RIGHT,bottom:l=Ya.BOTTOM,left:c=Ya.LEFT,header:u=Ya.HEADER,footer:f=Ya.FOOTER,gutter:d=Ya.GUTTER}={},pageNumbers:m={},borders:g,textDirection:y}={},grid:{linePitch:b=360,charSpace:w,type:O}={},headerWrapperGroup:S={},footerWrapperGroup:k={},lineNumbers:E,titlePage:A,verticalAlign:_,column:U,type:M}={}){super("w:sectPr"),this.addHeaderFooterGroup(AO.HEADER,S),this.addHeaderFooterGroup(AO.FOOTER,k),M&&this.root.push(new J$(M)),this.root.push(Y$({width:e,height:t,orientation:n})),this.root.push(new $$(i,s,l,c,u,f,d)),g&&this.root.push(new V$(g)),E&&this.root.push(W$(E)),this.root.push(new Q$(m)),U&&this.root.push(new U$(U)),_&&this.root.push(new i6(_)),A!==void 0&&this.root.push(new Le("w:titlePg",A)),y&&this.root.push(new K$(y)),this.root.push(H$({linePitch:b,charSpace:w,type:O}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new Pv(e,{type:zo.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new Pv(e,{type:zo.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new Pv(e,{type:zo.EVEN,id:t.even.View.ReferenceId}))}}class tG extends De{constructor(){super("w:body"),Re(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new eG(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new pt({}),n=new ec({});return n.push(e),t.addChildElement(n),t}}const TO={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class Zp extends rt{constructor(e,t){super(St({Ignorable:t},Object.fromEntries(e.map(n=>[n,TO[n]])))),Re(this,"xmlKeys",St({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(TO).map(n=>[n,`xmlns:${n}`]))))}}class rG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class nG extends De{constructor(e){super("w:background"),this.root.push(new rG({color:e.color===void 0?void 0:Ko(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:lO(e.themeShade),themeTint:e.themeTint===void 0?void 0:lO(e.themeTint)}))}}class iG extends De{constructor(e){super("w:document"),Re(this,"body"),this.root.push(new Zp(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new tG,e.background&&this.root.push(new nG(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class s6{constructor(e){Re(this,"document"),Re(this,"relationships"),this.document=new iG(e),this.relationships=new El}get View(){return this.document}get Relationships(){return this.relationships}}class sG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class aG extends De{constructor(){super("w:wordWrap"),this.root.push(new sG({val:0}))}}const lG=r=>{var e,t;return new Wi({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:r.anchorLock},dropCap:{key:"w:dropCap",value:r.dropCap},width:{key:"w:w",value:r.width},height:{key:"w:h",value:r.height},x:{key:"w:x",value:r.position?r.position.x:void 0},y:{key:"w:y",value:r.position?r.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:r.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:r.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=r.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=r.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:r.rule},alignmentX:{key:"w:xAlign",value:r.alignment?r.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:r.alignment?r.alignment.y:void 0},lines:{key:"w:lines",value:r.lines},wrap:{key:"w:wrap",value:r.wrap}}})};class ec extends _s{constructor(e){var t,n;if(super("w:pPr"),Re(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new dd(e.heading)),e.bullet&&this.push(new dd("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new dd("ListParagraph"))),e.style&&this.push(new dd(e.style)),e.keepNext!==void 0&&this.push(new Le("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Le("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new w$),e.frame&&this.push(lG(e.frame)),e.widowControl!==void 0&&this.push(new Le("w:widowControl",e.widowControl)),e.bullet&&this.push(new jv(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new jv(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new jv(0,0)),e.border&&this.push(new RV(e.border)),e.thematicBreak&&this.push(new NV),e.shading&&this.push(new Xp(e.shading)),e.wordWrap&&this.push(new aG),e.overflowPunctuation&&this.push(new Le("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:kO.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:kO.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new A$(i)),e.bidirectional!==void 0&&this.push(new Le("w:bidi",e.bidirectional)),e.spacing&&this.push(new k$(e.spacing)),e.indent&&this.push(new MV(e.indent)),e.contextualSpacing!==void 0&&this.push(new Le("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new K5(e.alignment)),e.outlineLevel!==void 0&&this.push(new j$(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Le("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Le("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Al(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof s6)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class pt extends n6{constructor(e){if(super("w:p"),Re(this,"properties"),typeof e=="string")return this.properties=new ec({}),this.root.push(this.properties),this.root.push(new Mt(e)),this;if(this.properties=new ec(e),this.root.push(this.properties),e.text&&this.root.push(new Mt(e.text)),e.children)for(const t of e.children){if(t instanceof L$){this.root.push(t.start);for(const n of t.children)this.root.push(n);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof N$){const n=this.root.indexOf(t),i=new R$(t.options.children,h$());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,m$.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}class oG extends De{constructor(e){super("w:tblGrid");for(const t of e)this.root.push(new cG(t))}}class cG extends De{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new Sa({width:{key:"w:w",value:Ur(e)}}))}}const a6={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"};class l6 extends _s{constructor(e,{marginUnitType:t=Pr.DXA,top:n,left:i,bottom:s,right:l}){super(e),n!==void 0&&this.root.push(new ll("w:top",{type:t,size:n})),i!==void 0&&this.root.push(new ll("w:left",{type:t,size:i})),s!==void 0&&this.root.push(new ll("w:bottom",{type:t,size:s})),l!==void 0&&this.root.push(new ll("w:right",{type:t,size:l}))}}const Pr={AUTO:"auto",DXA:"dxa",PERCENTAGE:"pct"};class ll extends De{constructor(e,{type:t=Pr.AUTO,size:n}){super(e);let i=n;t===Pr.PERCENTAGE&&typeof n=="number"&&(i=`${n}%`),this.root.push(new Sa({type:{key:"w:type",value:t},size:{key:"w:w",value:X5(i)}}))}}class uG extends _s{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new qt("w:top",e.top)),e.start&&this.root.push(new qt("w:start",e.start)),e.left&&this.root.push(new qt("w:left",e.left)),e.bottom&&this.root.push(new qt("w:bottom",e.bottom)),e.end&&this.root.push(new qt("w:end",e.end)),e.right&&this.root.push(new qt("w:right",e.right))}}class hG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class fG extends De{constructor(e){super("w:gridSpan"),this.root.push(new hG({val:Qr(e)}))}}const o6={CONTINUE:"continue",RESTART:"restart"};class dG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class CO extends De{constructor(e){super("w:vMerge"),this.root.push(new dG({val:e}))}}class pG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class mG extends De{constructor(e){super("w:textDirection"),this.root.push(new pG({val:e}))}}class gG extends _s{constructor(e){super("w:tcPr"),e.width&&this.root.push(new ll("w:tcW",e.width)),e.columnSpan&&this.root.push(new fG(e.columnSpan)),e.verticalMerge?this.root.push(new CO(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new CO(o6.RESTART)),e.borders&&this.root.push(new uG(e.borders)),e.shading&&this.root.push(new Xp(e.shading)),e.margins&&this.root.push(new l6(a6.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new mG(e.textDirection)),e.verticalAlign&&this.root.push(new i6(e.verticalAlign))}}class br extends De{constructor(e){super("w:tc"),this.options=e,this.root.push(new gG(e));for(const t of e.children)this.root.push(t)}prepForXml(e){return this.root[this.root.length-1]instanceof pt||this.root.push(new pt({})),super.prepForXml(e)}}const uo={style:di.NONE,size:0,color:"auto"},ho={style:di.SINGLE,size:4,color:"auto"};class c6 extends De{constructor(e){super("w:tblBorders"),e.top?this.root.push(new qt("w:top",e.top)):this.root.push(new qt("w:top",ho)),e.left?this.root.push(new qt("w:left",e.left)):this.root.push(new qt("w:left",ho)),e.bottom?this.root.push(new qt("w:bottom",e.bottom)):this.root.push(new qt("w:bottom",ho)),e.right?this.root.push(new qt("w:right",e.right)):this.root.push(new qt("w:right",ho)),e.insideHorizontal?this.root.push(new qt("w:insideH",e.insideHorizontal)):this.root.push(new qt("w:insideH",ho)),e.insideVertical?this.root.push(new qt("w:insideV",e.insideVertical)):this.root.push(new qt("w:insideV",ho))}}Re(c6,"NONE",{top:uo,bottom:uo,left:uo,right:uo,insideHorizontal:uo,insideVertical:uo});class yG extends De{constructor({horizontalAnchor:e,verticalAnchor:t,absoluteHorizontalPosition:n,relativeHorizontalPosition:i,absoluteVerticalPosition:s,relativeVerticalPosition:l,bottomFromText:c,topFromText:u,leftFromText:f,rightFromText:d,overlap:m}){super("w:tblpPr"),this.root.push(new Sa({leftFromText:{key:"w:leftFromText",value:f===void 0?void 0:Ur(f)},rightFromText:{key:"w:rightFromText",value:d===void 0?void 0:Ur(d)},topFromText:{key:"w:topFromText",value:u===void 0?void 0:Ur(u)},bottomFromText:{key:"w:bottomFromText",value:c===void 0?void 0:Ur(c)},absoluteHorizontalPosition:{key:"w:tblpX",value:n===void 0?void 0:xs(n)},absoluteVerticalPosition:{key:"w:tblpY",value:s===void 0?void 0:xs(s)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:l},verticalAnchor:{key:"w:vertAnchor",value:t}})),m&&this.root.push(new CV("w:tblOverlap",m))}}const vG={FIXED:"fixed"};class bG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"w:type"})}}class xG extends De{constructor(e){super("w:tblLayout"),this.root.push(new bG({type:e}))}}const wG={DXA:"dxa"};class u6 extends De{constructor({type:e=wG.DXA,value:t}){super("w:tblCellSpacing"),this.root.push(new Sa({type:{key:"w:type",value:e},value:{key:"w:w",value:X5(t)}}))}}class SG extends _s{constructor(e){super("w:tblPr"),e.style&&this.root.push(new dl("w:tblStyle",e.style)),e.float&&this.root.push(new yG(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new Le("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new ll("w:tblW",e.width)),e.alignment&&this.root.push(new K5(e.alignment)),e.indent&&this.root.push(new ll("w:tblInd",e.indent)),e.borders&&this.root.push(new c6(e.borders)),e.shading&&this.root.push(new Xp(e.shading)),e.layout&&this.root.push(new xG(e.layout)),e.cellMargin&&this.root.push(new l6(a6.TABLE,e.cellMargin)),e.cellSpacing&&this.root.push(new u6(e.cellSpacing))}}class pd extends n6{constructor({rows:e,width:t,columnWidths:n=Array(Math.max(...e.map(y=>y.CellCount))).fill(100),margins:i,indent:s,float:l,layout:c,style:u,borders:f,alignment:d,visuallyRightToLeft:m,cellSpacing:g}){super("w:tbl"),this.root.push(new SG({borders:f??{},width:t??{size:100},indent:s,float:l,layout:c,style:u,alignment:d,cellMargin:i,visuallyRightToLeft:m,cellSpacing:g})),this.root.push(new oG(n));for(const y of e)this.root.push(y);e.forEach((y,b)=>{if(b===e.length-1)return;let w=0;y.cells.forEach(O=>{if(O.options.rowSpan&&O.options.rowSpan>1){const S=new br({rowSpan:O.options.rowSpan-1,columnSpan:O.options.columnSpan,borders:O.options.borders,children:[],verticalMerge:o6.CONTINUE});e[b+1].addCellToColumnIndex(S,w)}w+=O.options.columnSpan||1})})}}class kG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class AG extends De{constructor(e,t){super("w:trHeight"),this.root.push(new kG({value:Ur(e),rule:t}))}}class EG extends _s{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new Le("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new Le("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new AG(e.height.value,e.height.rule)),e.cellSpacing&&this.root.push(new u6(e.cellSpacing))}}class Xa extends De{constructor(e){super("w:tr"),this.options=e,this.root.push(new EG(e));for(const t of e.children)this.root.push(t)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof br)}addCellToIndex(e,t){this.root.splice(t+1,0,e)}addCellToColumnIndex(e,t){const n=this.columnIndexToRootIndex(t,!0);this.addCellToIndex(e,n-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let t=0;for(let n=1;n<e;n++){const i=this.root[n];t+=i.options.columnSpan||1}return t}columnIndexToRootIndex(e,t=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let n=0,i=1;for(;n<=e;){if(i>=this.root.length){if(t)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${n-1}`)}const s=this.root[i];i+=1,n+=s&&s.options.columnSpan||1}return i-1}}class TG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class CG extends De{constructor(){super("Properties"),this.root.push(new TG({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class OG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{xmlns:"xmlns"})}}class _G extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class hs extends De{constructor(e,t){super("Default"),this.root.push(new _G({contentType:e,extension:t}))}}class RG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Kn extends De{constructor(e,t){super("Override"),this.root.push(new RG({contentType:e,partName:t}))}}class NG extends De{constructor(){super("Types"),this.root.push(new OG({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new hs("image/png","png")),this.root.push(new hs("image/jpeg","jpeg")),this.root.push(new hs("image/jpeg","jpg")),this.root.push(new hs("image/bmp","bmp")),this.root.push(new hs("image/gif","gif")),this.root.push(new hs("image/svg+xml","svg")),this.root.push(new hs("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new hs("application/xml","xml")),this.root.push(new hs("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Kn("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Kn("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Kn("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Kn("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Kn("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Kn("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Kn("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Kn("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Kn("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Kn("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Kn("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Kn("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class MG extends De{constructor(e){super("cp:coreProperties"),this.root.push(new Zp(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Ga("dc:title",e.title)),e.subject&&this.root.push(new Ga("dc:subject",e.subject)),e.creator&&this.root.push(new Ga("dc:creator",e.creator)),e.keywords&&this.root.push(new Ga("cp:keywords",e.keywords)),e.description&&this.root.push(new Ga("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Ga("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Ga("cp:revision",String(e.revision))),this.root.push(new OO("dcterms:created")),this.root.push(new OO("dcterms:modified"))}}class DG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"xsi:type"})}}class OO extends De{constructor(e){super(e),this.root.push(new DG({type:"dcterms:W3CDTF"})),this.root.push(TV(new Date))}}class LG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class BG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class zG extends De{constructor(e,t){super("property"),this.root.push(new BG({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new jG(t.value))}}class jG extends De{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class PG extends De{constructor(e){super("Properties"),Re(this,"nextId"),Re(this,"properties",[]),this.root.push(new LG({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new zG(this.nextId++,e))}}const md=({id:r,fontKey:e,subsetted:t},n)=>new Wi({name:n,attributes:St({id:{key:"r:id",value:r}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new Le("w:subsetted",t)]:[]]}),FG=({name:r,altName:e,panose1:t,charset:n,family:i,notTrueType:s,pitch:l,sig:c,embedRegular:u,embedBold:f,embedItalic:d,embedBoldItalic:m})=>new Wi({name:"w:font",attributes:{name:{key:"w:name",value:r}},children:[...e?[au("w:altName",e)]:[],...t?[au("w:panose1",t)]:[],...n?[au("w:charset",n)]:[],au("w:family",i),...s?[new Le("w:notTrueType",s)]:[],au("w:pitch",l),...c?[new Wi({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:c.usb0},usb1:{key:"w:usb1",value:c.usb1},usb2:{key:"w:usb2",value:c.usb2},usb3:{key:"w:usb3",value:c.usb3},csb0:{key:"w:csb0",value:c.csb0},csb1:{key:"w:csb1",value:c.csb1}}})]:[],...u?[md(u,"w:embedRegular")]:[],...f?[md(f,"w:embedBold")]:[],...d?[md(d,"w:embedItalic")]:[],...m?[md(m,"w:embedBoldItalic")]:[]]}),IG=({name:r,index:e,fontKey:t,characterSet:n})=>FG({name:r,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),UG=r=>new Wi({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:r.map((e,t)=>IG({name:e.name,index:t+1,fontKey:e.fontKey}))});class HG{constructor(e){Re(this,"fontTable"),Re(this,"relationships"),Re(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>Yo(St({},t),{fontKey:f$()})),this.fontTable=UG(this.fontOptionsWithKey),this.relationships=new El;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class qG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let WG=class extends G5{constructor(e,t){super("w:ftr",t),Re(this,"refId"),this.refId=e,t||this.root.push(new qG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class VG{constructor(e,t,n){Re(this,"footer"),Re(this,"relationships"),this.media=e,this.footer=new WG(t,n),this.relationships=new El}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class $G extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class GG extends De{constructor(){super("w:footnoteRef")}}class QG extends Kp{constructor(){super({style:"FootnoteReference"}),this.root.push(new GG)}}const _O={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Iv extends De{constructor(e){super("w:footnote"),this.root.push(new $G({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const n=e.children[t];t===0&&n.addRunToFront(new QG),this.root.push(n)}}}class YG extends De{constructor(){super("w:continuationSeparator")}}class XG extends Kp{constructor(){super({}),this.root.push(new YG)}}class KG extends De{constructor(){super("w:separator")}}class ZG extends Kp{constructor(){super({}),this.root.push(new KG)}}class JG extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class eQ extends De{constructor(){super("w:footnotes"),this.root.push(new JG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Iv({id:-1,type:_O.SEPERATOR,children:[new pt({spacing:{after:0,line:240,lineRule:ab.AUTO},children:[new ZG]})]});this.root.push(e);const t=new Iv({id:0,type:_O.CONTINUATION_SEPERATOR,children:[new pt({spacing:{after:0,line:240,lineRule:ab.AUTO},children:[new XG]})]});this.root.push(t)}createFootNote(e,t){const n=new Iv({id:e,children:t});this.root.push(n)}}class tQ{constructor(){Re(this,"footnotess"),Re(this,"relationships"),this.footnotess=new eQ,this.relationships=new El}get View(){return this.footnotess}get Relationships(){return this.relationships}}class rQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let nQ=class extends G5{constructor(e,t){super("w:hdr",t),Re(this,"refId"),this.refId=e,t||this.root.push(new rQ({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class iQ{constructor(e,t,n){Re(this,"header"),Re(this,"relationships"),this.media=e,this.header=new nQ(t,n),this.relationships=new El}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class sQ{constructor(){Re(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const fs={BULLET:"bullet"};class aQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class lQ extends De{constructor(e){super("w:numFmt"),this.root.push(new cr({val:e}))}}class oQ extends De{constructor(e){super("w:lvlText"),this.root.push(new cr({val:e}))}}class cQ extends De{constructor(e){super("w:lvlJc"),this.root.push(new cr({val:e}))}}class uQ extends De{constructor(e){super("w:suff"),this.root.push(new cr({val:e}))}}class hQ extends De{constructor(){super("w:isLgl")}}class fQ extends De{constructor({level:e,format:t,text:n,alignment:i=or.START,start:s=1,style:l,suffix:c,isLegalNumberingStyle:u}){if(super("w:lvl"),Re(this,"paragraphProperties"),Re(this,"runProperties"),this.root.push(new Tu("w:start",Qr(s))),t&&this.root.push(new lQ(t)),c&&this.root.push(new uQ(c)),u&&this.root.push(new hQ),n&&this.root.push(new oQ(n)),this.root.push(new cQ(i)),this.paragraphProperties=new ec(l&&l.paragraph),this.runProperties=new Al(l&&l.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new aQ({ilvl:Qr(e),tentative:1}))}}class dQ extends fQ{}class pQ extends De{constructor(e){super("w:multiLevelType"),this.root.push(new cr({val:e}))}}class mQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class RO extends De{constructor(e,t){super("w:abstractNum"),Re(this,"id"),this.root.push(new mQ({abstractNumId:Qr(e),restartNumberingAfterBreak:0})),this.root.push(new pQ("hybridMultilevel")),this.id=e;for(const n of t)this.root.push(new dQ(n))}}class gQ extends De{constructor(e){super("w:abstractNumId"),this.root.push(new cr({val:e}))}}class yQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{numId:"w:numId"})}}class NO extends De{constructor(e){if(super("w:num"),Re(this,"numId"),Re(this,"reference"),Re(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new yQ({numId:Qr(e.numId)})),this.root.push(new gQ(Qr(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new bQ(t.num,t.start))}}class vQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{ilvl:"w:ilvl"})}}class bQ extends De{constructor(e,t){super("w:lvlOverride"),this.root.push(new vQ({ilvl:e})),t!==void 0&&this.root.push(new wQ(t))}}class xQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class wQ extends De{constructor(e){super("w:startOverride"),this.root.push(new xQ({val:e}))}}class SQ extends De{constructor(e){super("w:numbering"),Re(this,"abstractNumberingMap",new Map),Re(this,"concreteNumberingMap",new Map),Re(this,"referenceConfigMap",new Map),Re(this,"abstractNumUniqueNumericId",o$()),Re(this,"concreteNumUniqueNumericId",c$()),this.root.push(new Zp(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new RO(this.abstractNumUniqueNumericId(),[{level:0,format:fs.BULLET,text:"",alignment:or.LEFT,style:{paragraph:{indent:{left:fr(.5),hanging:fr(.25)}}}},{level:1,format:fs.BULLET,text:"",alignment:or.LEFT,style:{paragraph:{indent:{left:fr(1),hanging:fr(.25)}}}},{level:2,format:fs.BULLET,text:"",alignment:or.LEFT,style:{paragraph:{indent:{left:2160,hanging:fr(.25)}}}},{level:3,format:fs.BULLET,text:"",alignment:or.LEFT,style:{paragraph:{indent:{left:2880,hanging:fr(.25)}}}},{level:4,format:fs.BULLET,text:"",alignment:or.LEFT,style:{paragraph:{indent:{left:3600,hanging:fr(.25)}}}},{level:5,format:fs.BULLET,text:"",alignment:or.LEFT,style:{paragraph:{indent:{left:4320,hanging:fr(.25)}}}},{level:6,format:fs.BULLET,text:"",alignment:or.LEFT,style:{paragraph:{indent:{left:5040,hanging:fr(.25)}}}},{level:7,format:fs.BULLET,text:"",alignment:or.LEFT,style:{paragraph:{indent:{left:5760,hanging:fr(.25)}}}},{level:8,format:fs.BULLET,text:"",alignment:or.LEFT,style:{paragraph:{indent:{left:6480,hanging:fr(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new NO({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new RO(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${t}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),l=s&&s[0].start,c={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:t,overrideLevels:[l&&Number.isInteger(l)?{num:0,start:l}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new NO(c))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class kQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class AQ extends De{constructor(e){super("w:compatSetting"),this.root.push(new kQ({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class EQ extends De{constructor(e){super("w:compat"),e.version&&this.root.push(new AQ(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Le("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Le("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Le("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Le("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Le("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Le("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Le("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Le("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Le("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Le("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Le("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Le("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Le("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Le("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Le("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Le("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Le("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Le("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Le("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Le("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Le("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Le("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Le("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Le("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Le("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Le("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Le("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Le("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Le("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Le("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Le("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Le("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Le("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Le("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Le("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Le("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Le("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Le("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Le("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Le("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Le("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Le("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Le("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Le("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Le("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Le("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Le("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Le("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Le("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Le("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Le("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Le("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Le("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Le("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Le("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Le("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Le("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Le("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Le("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Le("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Le("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Le("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Le("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Le("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Le("w:cachedColBalance",e.cachedColumnBalance))}}class TQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}let CQ=class extends De{constructor(e){var t,n,i,s,l,c,u,f;super("w:settings"),this.root.push(new TQ({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Le("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Le("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Le("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Le("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Tu("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new Le("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Tu("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Tu("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new Le("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new EQ(Yo(St({},(l=e.compatibility)!=null?l:{}),{version:(f=(u=(c=e.compatibility)==null?void 0:c.version)!=null?u:e.compatibilityModeVersion)!=null?f:15})))}};class h6 extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{val:"w:val"})}}class OQ extends De{constructor(e){super("w:name"),this.root.push(new h6({val:e}))}}class _Q extends De{constructor(e){super("w:uiPriority"),this.root.push(new h6({val:Qr(e)}))}}class RQ extends rt{constructor(){super(...arguments),Re(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class f6 extends De{constructor(e,t){super("w:style"),this.root.push(new RQ(e)),t.name&&this.root.push(new OQ(t.name)),t.basedOn&&this.root.push(new dl("w:basedOn",t.basedOn)),t.next&&this.root.push(new dl("w:next",t.next)),t.link&&this.root.push(new dl("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new _Q(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new Le("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new Le("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new Le("w:qFormat",t.quickFormat))}}class Jp extends f6{constructor(e){super({type:"paragraph",styleId:e.id},e),Re(this,"paragraphProperties"),Re(this,"runProperties"),this.paragraphProperties=new ec(e.paragraph),this.runProperties=new Al(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class em extends f6{constructor(e){super({type:"character",styleId:e.id},St({uiPriority:99,unhideWhenUsed:!0},e)),Re(this,"runProperties"),this.runProperties=new Al(e.run),this.root.push(this.runProperties)}}class Aa extends Jp{constructor(e){super(St({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class NQ extends Aa{constructor(e){super(St({id:"Title",name:"Title"},e))}}class MQ extends Aa{constructor(e){super(St({id:"Heading1",name:"Heading 1"},e))}}class DQ extends Aa{constructor(e){super(St({id:"Heading2",name:"Heading 2"},e))}}class LQ extends Aa{constructor(e){super(St({id:"Heading3",name:"Heading 3"},e))}}class BQ extends Aa{constructor(e){super(St({id:"Heading4",name:"Heading 4"},e))}}class zQ extends Aa{constructor(e){super(St({id:"Heading5",name:"Heading 5"},e))}}class jQ extends Aa{constructor(e){super(St({id:"Heading6",name:"Heading 6"},e))}}class PQ extends Aa{constructor(e){super(St({id:"Strong",name:"Strong"},e))}}class FQ extends Jp{constructor(e){super(St({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class IQ extends Jp{constructor(e){super(St({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:ab.AUTO}},run:{size:20}},e))}}class UQ extends em{constructor(e){super(St({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class HQ extends em{constructor(e){super(St({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class qQ extends em{constructor(e){super(St({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:J5.SINGLE}}},e))}}class lb extends De{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new Jp(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new em(t))}}class WQ extends De{constructor(e){super("w:pPrDefault"),this.root.push(new ec(e))}}class VQ extends De{constructor(e){super("w:rPrDefault"),this.root.push(new Al(e))}}class $Q extends De{constructor(e){super("w:docDefaults"),Re(this,"runPropertiesDefaults"),Re(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new VQ(e.run),this.paragraphPropertiesDefaults=new WQ(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class GQ{newInstance(e){const t=$5.xml2js(e,{compact:!1});let n;for(const l of t.elements||[])l.name==="w:styles"&&(n=l);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new lb({initialStyles:new wV(n.attributes),importedStyles:i.map(l=>zx(l))})}}class MO{newInstance(e={}){var t;return{initialStyles:new Zp(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new $Q((t=e.document)!=null?t:{}),new NQ(St({run:{size:56}},e.title)),new MQ(St({run:{color:"2E74B5",size:32}},e.heading1)),new DQ(St({run:{color:"2E74B5",size:26}},e.heading2)),new LQ(St({run:{color:"1F4D78",size:24}},e.heading3)),new BQ(St({run:{color:"2E74B5",italics:!0}},e.heading4)),new zQ(St({run:{color:"2E74B5"}},e.heading5)),new jQ(St({run:{color:"1F4D78"}},e.heading6)),new PQ(St({run:{bold:!0}},e.strong)),new FQ(e.listParagraph||{}),new qQ(e.hyperlink||{}),new UQ(e.footnoteReference||{}),new IQ(e.footnoteText||{}),new HQ(e.footnoteTextChar||{})]}}}class QQ{constructor(e){Re(this,"currentRelationshipId",1),Re(this,"documentWrapper"),Re(this,"headers",[]),Re(this,"footers",[]),Re(this,"coreProperties"),Re(this,"numbering"),Re(this,"media"),Re(this,"fileRelationships"),Re(this,"footnotesWrapper"),Re(this,"settings"),Re(this,"contentTypes"),Re(this,"customProperties"),Re(this,"appProperties"),Re(this,"styles"),Re(this,"comments"),Re(this,"fontWrapper");var t,n,i,s,l,c,u,f,d,m,g,y;if(this.coreProperties=new MG(Yo(St({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new SQ(e.numbering?e.numbering:{config:[]}),this.comments=new x$((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new El,this.customProperties=new PG((l=e.customProperties)!=null?l:[]),this.appProperties=new CG,this.footnotesWrapper=new tQ,this.contentTypes=new NG,this.documentWrapper=new s6({background:e.background}),this.settings=new CQ({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(c=e.features)==null?void 0:c.trackRevisions,updateFields:(u=e.features)==null?void 0:u.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(f=e.hyphenation)==null?void 0:f.autoHyphenation,hyphenationZone:(d=e.hyphenation)==null?void 0:d.hyphenationZone,consecutiveHyphenLimit:(m=e.hyphenation)==null?void 0:m.consecutiveHyphenLimit,doNotHyphenateCaps:(g=e.hyphenation)==null?void 0:g.doNotHyphenateCaps}}),this.media=new sQ,e.externalStyles!==void 0){const b=new GQ;this.styles=b.newInstance(e.externalStyles)}else if(e.styles){const w=new MO().newInstance(e.styles.default);this.styles=new lb(St(St({},w),e.styles))}else{const b=new MO;this.styles=new lb(b.newInstance())}this.addDefaultRelationships();for(const b of e.sections)this.addSection(b);if(e.footnotes)for(const b in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(b),e.footnotes[b].children);this.fontWrapper=new HG((y=e.fonts)!=null?y:[])}addSection({headers:e={},footers:t={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(Yo(St({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const t=new iQ(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addHeaderToDocument(t),t}createFooter(e){const t=new VG(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=zo.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=zo.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var YQ=Dx();function gd(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Uv={exports:{}},DO;function XQ(){return DO||(DO=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(n,i,s){function l(f,d){if(!i[f]){if(!n[f]){var m=typeof gd=="function"&&gd;if(!d&&m)return m(f,!0);if(c)return c(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var y=i[f]={exports:{}};n[f][0].call(y.exports,function(b){var w=n[f][1][b];return l(w||b)},y,y.exports,t,n,i,s)}return i[f].exports}for(var c=typeof gd=="function"&&gd,u=0;u<s.length;u++)l(s[u]);return l})({1:[function(t,n,i){var s=t("./utils"),l=t("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var f,d,m,g,y,b,w,O=[],S=0,k=u.length,E=k,A=s.getTypeOf(u)!=="string";S<u.length;)E=k-S,m=A?(f=u[S++],d=S<k?u[S++]:0,S<k?u[S++]:0):(f=u.charCodeAt(S++),d=S<k?u.charCodeAt(S++):0,S<k?u.charCodeAt(S++):0),g=f>>2,y=(3&f)<<4|d>>4,b=1<E?(15&d)<<2|m>>6:64,w=2<E?63&m:64,O.push(c.charAt(g)+c.charAt(y)+c.charAt(b)+c.charAt(w));return O.join("")},i.decode=function(u){var f,d,m,g,y,b,w=0,O=0,S="data:";if(u.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var k,E=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&E--,u.charAt(u.length-2)===c.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=l.uint8array?new Uint8Array(0|E):new Array(0|E);w<u.length;)f=c.indexOf(u.charAt(w++))<<2|(g=c.indexOf(u.charAt(w++)))>>4,d=(15&g)<<4|(y=c.indexOf(u.charAt(w++)))>>2,m=(3&y)<<6|(b=c.indexOf(u.charAt(w++))),k[O++]=f,y!==64&&(k[O++]=d),b!==64&&(k[O++]=m);return k}},{"./support":30,"./utils":32}],2:[function(t,n,i){var s=t("./external"),l=t("./stream/DataWorker"),c=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function f(d,m,g,y,b){this.compressedSize=d,this.uncompressedSize=m,this.crc32=g,this.compression=y,this.compressedContent=b}f.prototype={getContentWorker:function(){var d=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),m=this;return d.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(d,m,g){return d.pipe(new c).pipe(new u("uncompressedSize")).pipe(m.compressWorker(g)).pipe(new u("compressedSize")).withStreamInfo("compression",m)},n.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var s=t("./utils"),l=(function(){for(var c,u=[],f=0;f<256;f++){c=f;for(var d=0;d<8;d++)c=1&c?3988292384^c>>>1:c>>>1;u[f]=c}return u})();n.exports=function(c,u){return c!==void 0&&c.length?s.getTypeOf(c)!=="string"?(function(f,d,m,g){var y=l,b=g+m;f^=-1;for(var w=g;w<b;w++)f=f>>>8^y[255&(f^d[w])];return-1^f})(0|u,c,c.length,0):(function(f,d,m,g){var y=l,b=g+m;f^=-1;for(var w=g;w<b;w++)f=f>>>8^y[255&(f^d.charCodeAt(w))];return-1^f})(0|u,c,c.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),c=t("./utils"),u=t("./stream/GenericWorker"),f=s?"uint8array":"array";function d(m,g){u.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=g,this.meta={}}i.magic="\b\0",c.inherits(d,u),d.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(f,m.data),!1)},d.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(g){m.push({data:g,meta:m.meta})}},i.compressWorker=function(m){return new d("Deflate",m)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function s(y,b){var w,O="";for(w=0;w<b;w++)O+=String.fromCharCode(255&y),y>>>=8;return O}function l(y,b,w,O,S,k){var E,A,_=y.file,U=y.compression,M=k!==f.utf8encode,Q=c.transformTo("string",k(_.name)),P=c.transformTo("string",f.utf8encode(_.name)),re=_.comment,pe=c.transformTo("string",k(re)),H=c.transformTo("string",f.utf8encode(re)),Y=P.length!==_.name.length,R=H.length!==re.length,ee="",X="",G="",ue=_.dir,he=_.date,ke={crc32:0,compressedSize:0,uncompressedSize:0};b&&!w||(ke.crc32=y.crc32,ke.compressedSize=y.compressedSize,ke.uncompressedSize=y.uncompressedSize);var q=0;b&&(q|=8),M||!Y&&!R||(q|=2048);var I=0,K=0;ue&&(I|=16),S==="UNIX"?(K=798,I|=(function(fe,ie){var z=fe;return fe||(z=ie?16893:33204),(65535&z)<<16})(_.unixPermissions,ue)):(K=20,I|=(function(fe){return 63&(fe||0)})(_.dosPermissions)),E=he.getUTCHours(),E<<=6,E|=he.getUTCMinutes(),E<<=5,E|=he.getUTCSeconds()/2,A=he.getUTCFullYear()-1980,A<<=4,A|=he.getUTCMonth()+1,A<<=5,A|=he.getUTCDate(),Y&&(X=s(1,1)+s(d(Q),4)+P,ee+="up"+s(X.length,2)+X),R&&(G=s(1,1)+s(d(pe),4)+H,ee+="uc"+s(G.length,2)+G);var se="";return se+=`
\0`,se+=s(q,2),se+=U.magic,se+=s(E,2),se+=s(A,2),se+=s(ke.crc32,4),se+=s(ke.compressedSize,4),se+=s(ke.uncompressedSize,4),se+=s(Q.length,2),se+=s(ee.length,2),{fileRecord:m.LOCAL_FILE_HEADER+se+Q+ee,dirRecord:m.CENTRAL_FILE_HEADER+s(K,2)+se+s(pe.length,2)+"\0\0\0\0"+s(I,4)+s(O,4)+Q+ee+pe}}var c=t("../utils"),u=t("../stream/GenericWorker"),f=t("../utf8"),d=t("../crc32"),m=t("../signature");function g(y,b,w,O){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=w,this.encodeFileName=O,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(g,u),g.prototype.push=function(y){var b=y.meta.percent||0,w=this.entriesCount,O=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:w?(b+100*(w-O-1))/w:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var b=this.streamFiles&&!y.file.dir;if(b){var w=l(y,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var b=this.streamFiles&&!y.file.dir,w=l(y,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),b)this.push({data:(function(O){return m.DATA_DESCRIPTOR+s(O.crc32,4)+s(O.compressedSize,4)+s(O.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var w=this.bytesWritten-y,O=(function(S,k,E,A,_){var U=c.transformTo("string",_(A));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(S,2)+s(S,2)+s(k,4)+s(E,4)+s(U.length,2)+U})(this.dirRecords.length,w,y,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var b=this;return y.on("data",function(w){b.processChunk(w)}),y.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),y.on("error",function(w){b.error(w)}),this},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var b=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var w=0;w<b.length;w++)try{b[w].error(y)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,b=0;b<y.length;b++)y[b].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var s=t("../compressions"),l=t("./ZipFileWorker");i.generateWorker=function(c,u,f){var d=new l(u.streamFiles,f,u.platform,u.encodeFileName),m=0;try{c.forEach(function(g,y){m++;var b=(function(k,E){var A=k||E,_=s[A];if(!_)throw new Error(A+" is not a valid compression method !");return _})(y.options.compression,u.compression),w=y.options.compressionOptions||u.compressionOptions||{},O=y.dir,S=y.date;y._compressWorker(b,w).withStreamInfo("file",{name:g,dir:O,date:S,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(d)}),d.entriesCount=m}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(l,c){return new s().loadAsync(l,c)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var s=t("./utils"),l=t("./external"),c=t("./utf8"),u=t("./zipEntries"),f=t("./stream/Crc32Probe"),d=t("./nodejsUtils");function m(g){return new l.Promise(function(y,b){var w=g.decompressed.getContentWorker().pipe(new f);w.on("error",function(O){b(O)}).on("end",function(){w.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(g,y){var b=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),d.isNode&&d.isStream(g)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(w){var O=new u(y);return O.load(w),O}).then(function(w){var O=[l.Promise.resolve(w)],S=w.files;if(y.checkCRC32)for(var k=0;k<S.length;k++)O.push(m(S[k]));return l.Promise.all(O)}).then(function(w){for(var O=w.shift(),S=O.files,k=0;k<S.length;k++){var E=S[k],A=E.fileNameStr,_=s.resolve(E.fileNameStr);b.file(_,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:y.createFolders}),E.dir||(b.file(_).unsafeOriginalName=A)}return O.zipComment.length&&(b.comment=O.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var s=t("../utils"),l=t("../stream/GenericWorker");function c(u,f){l.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(f)}s.inherits(c,l),c.prototype._bindStream=function(u){var f=this;(this._stream=u).pause(),u.on("data",function(d){f.push({data:d,meta:{percent:0}})}).on("error",function(d){f.isPaused?this.generatedError=d:f.error(d)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var s=t("readable-stream").Readable;function l(c,u,f){s.call(this,u),this._helper=c;var d=this;c.on("data",function(m,g){d.push(m)||d._helper.pause(),f&&f(g)}).on("error",function(m){d.emit("error",m)}).on("end",function(){d.push(null)})}t("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},n.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,i){function s(_,U,M){var Q,P=c.getTypeOf(U),re=c.extend(M||{},d);re.date=re.date||new Date,re.compression!==null&&(re.compression=re.compression.toUpperCase()),typeof re.unixPermissions=="string"&&(re.unixPermissions=parseInt(re.unixPermissions,8)),re.unixPermissions&&16384&re.unixPermissions&&(re.dir=!0),re.dosPermissions&&16&re.dosPermissions&&(re.dir=!0),re.dir&&(_=S(_)),re.createFolders&&(Q=O(_))&&k.call(this,Q,!0);var pe=P==="string"&&re.binary===!1&&re.base64===!1;M&&M.binary!==void 0||(re.binary=!pe),(U instanceof m&&U.uncompressedSize===0||re.dir||!U||U.length===0)&&(re.base64=!1,re.binary=!0,U="",re.compression="STORE",P="string");var H=null;H=U instanceof m||U instanceof u?U:b.isNode&&b.isStream(U)?new w(_,U):c.prepareContent(_,U,re.binary,re.optimizedBinaryString,re.base64);var Y=new g(_,H,re);this.files[_]=Y}var l=t("./utf8"),c=t("./utils"),u=t("./stream/GenericWorker"),f=t("./stream/StreamHelper"),d=t("./defaults"),m=t("./compressedObject"),g=t("./zipObject"),y=t("./generate"),b=t("./nodejsUtils"),w=t("./nodejs/NodejsStreamInputAdapter"),O=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var U=_.lastIndexOf("/");return 0<U?_.substring(0,U):""},S=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},k=function(_,U){return U=U!==void 0?U:d.createFolders,_=S(_),this.files[_]||s.call(this,_,null,{dir:!0,createFolders:U}),this.files[_]};function E(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var U,M,Q;for(U in this.files)Q=this.files[U],(M=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&_(M,Q)},filter:function(_){var U=[];return this.forEach(function(M,Q){_(M,Q)&&U.push(Q)}),U},file:function(_,U,M){if(arguments.length!==1)return _=this.root+_,s.call(this,_,U,M),this;if(E(_)){var Q=_;return this.filter(function(re,pe){return!pe.dir&&Q.test(re)})}var P=this.files[this.root+_];return P&&!P.dir?P:null},folder:function(_){if(!_)return this;if(E(_))return this.filter(function(P,re){return re.dir&&_.test(P)});var U=this.root+_,M=k.call(this,U),Q=this.clone();return Q.root=M.name,Q},remove:function(_){_=this.root+_;var U=this.files[_];if(U||(_.slice(-1)!=="/"&&(_+="/"),U=this.files[_]),U&&!U.dir)delete this.files[_];else for(var M=this.filter(function(P,re){return re.name.slice(0,_.length)===_}),Q=0;Q<M.length;Q++)delete this.files[M[Q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var U,M={};try{if((M=c.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");c.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var Q=M.comment||this.comment||"";U=y.generateWorker(this,M,Q)}catch(P){(U=new u("error")).error(P)}return new f(U,M.type||"string",M.mimeType)},generateAsync:function(_,U){return this.generateInternalStream(_).accumulate(U)},generateNodeStream:function(_,U){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(U)}};n.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var s=t("./DataReader");function l(c){s.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}t("../utils").inherits(l,s),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),f=c.charCodeAt(1),d=c.charCodeAt(2),m=c.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===u&&this.data[g+1]===f&&this.data[g+2]===d&&this.data[g+3]===m)return g-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),f=c.charCodeAt(1),d=c.charCodeAt(2),m=c.charCodeAt(3),g=this.readData(4);return u===g[0]&&f===g[1]&&d===g[2]&&m===g[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},n.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var s=t("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var u,f=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)f=(f<<8)+this.byteAt(u);return this.index+=c,f},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},n.exports=l},{"../utils":32}],19:[function(t,n,i){var s=t("./Uint8ArrayReader");function l(c){s.call(this,c)}t("../utils").inherits(l,s),l.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},n.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var s=t("./DataReader");function l(c){s.call(this,c)}t("../utils").inherits(l,s),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},n.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var s=t("./ArrayReader");function l(c){s.call(this,c)}t("../utils").inherits(l,s),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},n.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var s=t("../utils"),l=t("../support"),c=t("./ArrayReader"),u=t("./StringReader"),f=t("./NodeBufferReader"),d=t("./Uint8ArrayReader");n.exports=function(m){var g=s.getTypeOf(m);return s.checkSupport(g),g!=="string"||l.uint8array?g==="nodebuffer"?new f(m):l.uint8array?new d(s.transformTo("uint8array",m)):new c(s.transformTo("array",m)):new u(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var s=t("./GenericWorker"),l=t("../utils");function c(u){s.call(this,"ConvertWorker to "+u),this.destType=u}l.inherits(c,s),c.prototype.processChunk=function(u){this.push({data:l.transformTo(this.destType,u.data),meta:u.meta})},n.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var s=t("./GenericWorker"),l=t("../crc32");function c(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(c,s),c.prototype.processChunk=function(u){this.streamInfo.crc32=l(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var s=t("../utils"),l=t("./GenericWorker");function c(u){l.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(c,l),c.prototype.processChunk=function(u){if(u){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+u.data.length}l.prototype.processChunk.call(this,u)},n.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var s=t("../utils"),l=t("./GenericWorker");function c(u){l.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(d){f.dataIsReady=!0,f.data=d,f.max=d&&d.length||0,f.type=s.getTypeOf(d),f.isPaused||f._tickAndRepeat()},function(d){f.error(d)})}s.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,f);break;case"uint8array":u=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":u=this.data.slice(this.index,f)}return this.index=f,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var u=0;u<this._listeners[l].length;u++)this._listeners[l][u].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(u){c.processChunk(u)}),l.on("end",function(){c.end()}),l.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},n.exports=s},{}],29:[function(t,n,i){var s=t("../utils"),l=t("./ConvertWorker"),c=t("./GenericWorker"),u=t("../base64"),f=t("../support"),d=t("../external"),m=null;if(f.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,w){return new d.Promise(function(O,S){var k=[],E=b._internalType,A=b._outputType,_=b._mimeType;b.on("data",function(U,M){k.push(U),w&&w(M)}).on("error",function(U){k=[],S(U)}).on("end",function(){try{var U=(function(M,Q,P){switch(M){case"blob":return s.newBlob(s.transformTo("arraybuffer",Q),P);case"base64":return u.encode(Q);default:return s.transformTo(M,Q)}})(A,(function(M,Q){var P,re=0,pe=null,H=0;for(P=0;P<Q.length;P++)H+=Q[P].length;switch(M){case"string":return Q.join("");case"array":return Array.prototype.concat.apply([],Q);case"uint8array":for(pe=new Uint8Array(H),P=0;P<Q.length;P++)pe.set(Q[P],re),re+=Q[P].length;return pe;case"nodebuffer":return Buffer.concat(Q);default:throw new Error("concat : unsupported type '"+M+"'")}})(E,k),_);O(U)}catch(M){S(M)}k=[]}).resume()})}function y(b,w,O){var S=w;switch(w){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=w,this._mimeType=O,s.checkSupport(S),this._worker=b.pipe(new l(S)),b.lock()}catch(k){this._worker=new c("error"),this._worker.error(k)}}y.prototype={accumulate:function(b){return g(this,b)},on:function(b,w){var O=this;return b==="data"?this._worker.on(b,function(S){w.call(O,S.data,S.meta)}):this._worker.on(b,function(){s.delay(w,arguments,O)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},b)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var s=t("./utils"),l=t("./support"),c=t("./nodejsUtils"),u=t("./stream/GenericWorker"),f=new Array(256),d=0;d<256;d++)f[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;f[254]=f[254]=1;function m(){u.call(this,"utf-8 decode"),this.leftOver=null}function g(){u.call(this,"utf-8 encode")}i.utf8encode=function(y){return l.nodebuffer?c.newBufferFrom(y,"utf-8"):(function(b){var w,O,S,k,E,A=b.length,_=0;for(k=0;k<A;k++)(64512&(O=b.charCodeAt(k)))==55296&&k+1<A&&(64512&(S=b.charCodeAt(k+1)))==56320&&(O=65536+(O-55296<<10)+(S-56320),k++),_+=O<128?1:O<2048?2:O<65536?3:4;for(w=l.uint8array?new Uint8Array(_):new Array(_),k=E=0;E<_;k++)(64512&(O=b.charCodeAt(k)))==55296&&k+1<A&&(64512&(S=b.charCodeAt(k+1)))==56320&&(O=65536+(O-55296<<10)+(S-56320),k++),O<128?w[E++]=O:(O<2048?w[E++]=192|O>>>6:(O<65536?w[E++]=224|O>>>12:(w[E++]=240|O>>>18,w[E++]=128|O>>>12&63),w[E++]=128|O>>>6&63),w[E++]=128|63&O);return w})(y)},i.utf8decode=function(y){return l.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):(function(b){var w,O,S,k,E=b.length,A=new Array(2*E);for(w=O=0;w<E;)if((S=b[w++])<128)A[O++]=S;else if(4<(k=f[S]))A[O++]=65533,w+=k-1;else{for(S&=k===2?31:k===3?15:7;1<k&&w<E;)S=S<<6|63&b[w++],k--;1<k?A[O++]=65533:S<65536?A[O++]=S:(S-=65536,A[O++]=55296|S>>10&1023,A[O++]=56320|1023&S)}return A.length!==O&&(A.subarray?A=A.subarray(0,O):A.length=O),s.applyFromCharCode(A)})(y=s.transformTo(l.uint8array?"uint8array":"array",y))},s.inherits(m,u),m.prototype.processChunk=function(y){var b=s.transformTo(l.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var w=b;(b=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),b.set(w,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var O=(function(k,E){var A;for((E=E||k.length)>k.length&&(E=k.length),A=E-1;0<=A&&(192&k[A])==128;)A--;return A<0||A===0?E:A+f[k[A]]>E?A:E})(b),S=b;O!==b.length&&(l.uint8array?(S=b.subarray(0,O),this.leftOver=b.subarray(O,b.length)):(S=b.slice(0,O),this.leftOver=b.slice(O,b.length))),this.push({data:i.utf8decode(S),meta:y.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(g,u),g.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var s=t("./support"),l=t("./base64"),c=t("./nodejsUtils"),u=t("./external");function f(w){return w}function d(w,O){for(var S=0;S<w.length;++S)O[S]=255&w.charCodeAt(S);return O}t("setimmediate"),i.newBlob=function(w,O){i.checkSupport("blob");try{return new Blob([w],{type:O})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(w),S.getBlob(O)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(w,O,S){var k=[],E=0,A=w.length;if(A<=S)return String.fromCharCode.apply(null,w);for(;E<A;)O==="array"||O==="nodebuffer"?k.push(String.fromCharCode.apply(null,w.slice(E,Math.min(E+S,A)))):k.push(String.fromCharCode.apply(null,w.subarray(E,Math.min(E+S,A)))),E+=S;return k.join("")},stringifyByChar:function(w){for(var O="",S=0;S<w.length;S++)O+=String.fromCharCode(w[S]);return O},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function g(w){var O=65536,S=i.getTypeOf(w),k=!0;if(S==="uint8array"?k=m.applyCanBeUsed.uint8array:S==="nodebuffer"&&(k=m.applyCanBeUsed.nodebuffer),k)for(;1<O;)try{return m.stringifyByChunk(w,S,O)}catch{O=Math.floor(O/2)}return m.stringifyByChar(w)}function y(w,O){for(var S=0;S<w.length;S++)O[S]=w[S];return O}i.applyFromCharCode=g;var b={};b.string={string:f,array:function(w){return d(w,new Array(w.length))},arraybuffer:function(w){return b.string.uint8array(w).buffer},uint8array:function(w){return d(w,new Uint8Array(w.length))},nodebuffer:function(w){return d(w,c.allocBuffer(w.length))}},b.array={string:g,array:f,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return c.newBufferFrom(w)}},b.arraybuffer={string:function(w){return g(new Uint8Array(w))},array:function(w){return y(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:f,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return c.newBufferFrom(new Uint8Array(w))}},b.uint8array={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:f,nodebuffer:function(w){return c.newBufferFrom(w)}},b.nodebuffer={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return b.nodebuffer.uint8array(w).buffer},uint8array:function(w){return y(w,new Uint8Array(w.length))},nodebuffer:f},i.transformTo=function(w,O){if(O=O||"",!w)return O;i.checkSupport(w);var S=i.getTypeOf(O);return b[S][w](O)},i.resolve=function(w){for(var O=w.split("/"),S=[],k=0;k<O.length;k++){var E=O[k];E==="."||E===""&&k!==0&&k!==O.length-1||(E===".."?S.pop():S.push(E))}return S.join("/")},i.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":s.nodebuffer&&c.isBuffer(w)?"nodebuffer":s.uint8array&&w instanceof Uint8Array?"uint8array":s.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(w){if(!s[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(w){var O,S,k="";for(S=0;S<(w||"").length;S++)k+="\\x"+((O=w.charCodeAt(S))<16?"0":"")+O.toString(16).toUpperCase();return k},i.delay=function(w,O,S){setImmediate(function(){w.apply(S||null,O||[])})},i.inherits=function(w,O){function S(){}S.prototype=O.prototype,w.prototype=new S},i.extend=function(){var w,O,S={};for(w=0;w<arguments.length;w++)for(O in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],O)&&S[O]===void 0&&(S[O]=arguments[w][O]);return S},i.prepareContent=function(w,O,S,k,E){return u.Promise.resolve(O).then(function(A){return s.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new u.Promise(function(_,U){var M=new FileReader;M.onload=function(Q){_(Q.target.result)},M.onerror=function(Q){U(Q.target.error)},M.readAsArrayBuffer(A)}):A}).then(function(A){var _=i.getTypeOf(A);return _?(_==="arraybuffer"?A=i.transformTo("uint8array",A):_==="string"&&(E?A=l.decode(A):S&&k!==!0&&(A=(function(U){return d(U,s.uint8array?new Uint8Array(U.length):new Array(U.length))})(A))),A):u.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var s=t("./reader/readerFor"),l=t("./utils"),c=t("./signature"),u=t("./zipEntry"),f=t("./support");function d(m){this.files=[],this.loadOptions=m}d.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(g)+", expected "+l.pretty(m)+")")}},isSignature:function(m,g){var y=this.reader.index;this.reader.setIndex(m);var b=this.reader.readString(4)===g;return this.reader.setIndex(y),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),g=f.uint8array?"uint8array":"array",y=l.transformTo(g,m);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,g,y,b=this.zip64EndOfCentralSize-44;0<b;)m=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[m]={id:m,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,g;for(m=0;m<this.files.length;m++)g=this.files[m],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(m=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var g=m;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var b=g-y;if(0<b)this.isSignature(g,c.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var s=t("./reader/readerFor"),l=t("./utils"),c=t("./compressedObject"),u=t("./crc32"),f=t("./utf8"),d=t("./compressions"),m=t("./support");function g(y,b){this.options=y,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var b,w;if(y.skip(22),this.fileNameLength=y.readInt(2),w=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(O){for(var S in d)if(Object.prototype.hasOwnProperty.call(d,S)&&d[S].magic===O)return d[S];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,b,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var b=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(b),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var b,w,O,S=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<S;)b=y.readInt(2),w=y.readInt(2),O=y.readData(w),this.extraFields[b]={id:b,length:w,value:O};y.setIndex(S)},handleUTF8:function(){var y=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var w=l.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var S=l.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var b=s(y.value);return b.readInt(1)!==1||u(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var b=s(y.value);return b.readInt(1)!==1||u(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(y.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function s(b,w,O){this.name=b,this.dir=O.dir,this.date=O.date,this.comment=O.comment,this.unixPermissions=O.unixPermissions,this.dosPermissions=O.dosPermissions,this._data=w,this._dataBinary=O.binary,this.options={compression:O.compression,compressionOptions:O.compressionOptions}}var l=t("./stream/StreamHelper"),c=t("./stream/DataWorker"),u=t("./utf8"),f=t("./compressedObject"),d=t("./stream/GenericWorker");s.prototype={internalStream:function(b){var w=null,O="string";try{if(!b)throw new Error("No output type specified.");var S=(O=b.toLowerCase())==="string"||O==="text";O!=="binarystring"&&O!=="text"||(O="string"),w=this._decompressWorker();var k=!this._dataBinary;k&&!S&&(w=w.pipe(new u.Utf8EncodeWorker)),!k&&S&&(w=w.pipe(new u.Utf8DecodeWorker))}catch(E){(w=new d("error")).error(E)}return new l(w,O,"")},async:function(b,w){return this.internalStream(b).accumulate(w)},nodeStream:function(b,w){return this.internalStream(b||"nodebuffer").toNodejsStream(w)},_compressWorker:function(b,w){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var O=this._decompressWorker();return this._dataBinary||(O=O.pipe(new u.Utf8EncodeWorker)),f.createWorkerFrom(O,b,w)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof d?this._data:new c(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<m.length;y++)s.prototype[m[y]]=g;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(s){var l,c,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var f=0,d=new u(b),m=s.document.createTextNode("");d.observe(m,{characterData:!0}),l=function(){m.data=f=++f%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var w=s.document.createElement("script");w.onreadystatechange=function(){b(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:function(){setTimeout(b,0)};else{var g=new s.MessageChannel;g.port1.onmessage=b,l=function(){g.port2.postMessage(0)}}var y=[];function b(){var w,O;c=!0;for(var S=y.length;S;){for(O=y,y=[],w=-1;++w<S;)O[w]();S=y.length}c=!1}n.exports=function(w){y.push(w)!==1||c||l()}}).call(this,typeof Fi<"u"?Fi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var s=t("immediate");function l(){}var c={},u=["REJECTED"],f=["FULFILLED"],d=["PENDING"];function m(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,S!==l&&w(this,S)}function g(S,k,E){this.promise=S,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function y(S,k,E){s(function(){var A;try{A=k(E)}catch(_){return c.reject(S,_)}A===S?c.reject(S,new TypeError("Cannot resolve promise with itself")):c.resolve(S,A)})}function b(S){var k=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof k=="function")return function(){k.apply(S,arguments)}}function w(S,k){var E=!1;function A(M){E||(E=!0,c.reject(S,M))}function _(M){E||(E=!0,c.resolve(S,M))}var U=O(function(){k(_,A)});U.status==="error"&&A(U.value)}function O(S,k){var E={};try{E.value=S(k),E.status="success"}catch(A){E.status="error",E.value=A}return E}(n.exports=m).prototype.finally=function(S){if(typeof S!="function")return this;var k=this.constructor;return this.then(function(E){return k.resolve(S()).then(function(){return E})},function(E){return k.resolve(S()).then(function(){throw E})})},m.prototype.catch=function(S){return this.then(null,S)},m.prototype.then=function(S,k){if(typeof S!="function"&&this.state===f||typeof k!="function"&&this.state===u)return this;var E=new this.constructor(l);return this.state!==d?y(E,this.state===f?S:k,this.outcome):this.queue.push(new g(E,S,k)),E},g.prototype.callFulfilled=function(S){c.resolve(this.promise,S)},g.prototype.otherCallFulfilled=function(S){y(this.promise,this.onFulfilled,S)},g.prototype.callRejected=function(S){c.reject(this.promise,S)},g.prototype.otherCallRejected=function(S){y(this.promise,this.onRejected,S)},c.resolve=function(S,k){var E=O(b,k);if(E.status==="error")return c.reject(S,E.value);var A=E.value;if(A)w(S,A);else{S.state=f,S.outcome=k;for(var _=-1,U=S.queue.length;++_<U;)S.queue[_].callFulfilled(k)}return S},c.reject=function(S,k){S.state=u,S.outcome=k;for(var E=-1,A=S.queue.length;++E<A;)S.queue[E].callRejected(k);return S},m.resolve=function(S){return S instanceof this?S:c.resolve(new this(l),S)},m.reject=function(S){var k=new this(l);return c.reject(k,S)},m.all=function(S){var k=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=S.length,A=!1;if(!E)return this.resolve([]);for(var _=new Array(E),U=0,M=-1,Q=new this(l);++M<E;)P(S[M],M);return Q;function P(re,pe){k.resolve(re).then(function(H){_[pe]=H,++U!==E||A||(A=!0,c.resolve(Q,_))},function(H){A||(A=!0,c.reject(Q,H))})}},m.race=function(S){var k=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=S.length,A=!1;if(!E)return this.resolve([]);for(var _=-1,U=new this(l);++_<E;)M=S[_],k.resolve(M).then(function(Q){A||(A=!0,c.resolve(U,Q))},function(Q){A||(A=!0,c.reject(U,Q))});var M;return U}},{immediate:36}],38:[function(t,n,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var s=t("./zlib/deflate"),l=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/messages"),f=t("./zlib/zstream"),d=Object.prototype.toString,m=0,g=-1,y=0,b=8;function w(S){if(!(this instanceof w))return new w(S);this.options=l.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},S||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var E=s.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(E!==m)throw new Error(u[E]);if(k.header&&s.deflateSetHeader(this.strm,k.header),k.dictionary){var A;if(A=typeof k.dictionary=="string"?c.string2buf(k.dictionary):d.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(E=s.deflateSetDictionary(this.strm,A))!==m)throw new Error(u[E]);this._dict_set=!0}}function O(S,k){var E=new w(k);if(E.push(S,!0),E.err)throw E.msg||u[E.err];return E.result}w.prototype.push=function(S,k){var E,A,_=this.strm,U=this.options.chunkSize;if(this.ended)return!1;A=k===~~k?k:k===!0?4:0,typeof S=="string"?_.input=c.string2buf(S):d.call(S)==="[object ArrayBuffer]"?_.input=new Uint8Array(S):_.input=S,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new l.Buf8(U),_.next_out=0,_.avail_out=U),(E=s.deflate(_,A))!==1&&E!==m)return this.onEnd(E),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(_.output,_.next_out))):this.onData(l.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&E!==1);return A===4?(E=s.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===m):A!==2||(this.onEnd(m),!(_.avail_out=0))},w.prototype.onData=function(S){this.chunks.push(S)},w.prototype.onEnd=function(S){S===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Deflate=w,i.deflate=O,i.deflateRaw=function(S,k){return(k=k||{}).raw=!0,O(S,k)},i.gzip=function(S,k){return(k=k||{}).gzip=!0,O(S,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var s=t("./zlib/inflate"),l=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/constants"),f=t("./zlib/messages"),d=t("./zlib/zstream"),m=t("./zlib/gzheader"),g=Object.prototype.toString;function y(w){if(!(this instanceof y))return new y(w);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},w||{});var O=this.options;O.raw&&0<=O.windowBits&&O.windowBits<16&&(O.windowBits=-O.windowBits,O.windowBits===0&&(O.windowBits=-15)),!(0<=O.windowBits&&O.windowBits<16)||w&&w.windowBits||(O.windowBits+=32),15<O.windowBits&&O.windowBits<48&&(15&O.windowBits)==0&&(O.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var S=s.inflateInit2(this.strm,O.windowBits);if(S!==u.Z_OK)throw new Error(f[S]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function b(w,O){var S=new y(O);if(S.push(w,!0),S.err)throw S.msg||f[S.err];return S.result}y.prototype.push=function(w,O){var S,k,E,A,_,U,M=this.strm,Q=this.options.chunkSize,P=this.options.dictionary,re=!1;if(this.ended)return!1;k=O===~~O?O:O===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof w=="string"?M.input=c.binstring2buf(w):g.call(w)==="[object ArrayBuffer]"?M.input=new Uint8Array(w):M.input=w,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new l.Buf8(Q),M.next_out=0,M.avail_out=Q),(S=s.inflate(M,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&P&&(U=typeof P=="string"?c.string2buf(P):g.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,S=s.inflateSetDictionary(this.strm,U)),S===u.Z_BUF_ERROR&&re===!0&&(S=u.Z_OK,re=!1),S!==u.Z_STREAM_END&&S!==u.Z_OK)return this.onEnd(S),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&S!==u.Z_STREAM_END&&(M.avail_in!==0||k!==u.Z_FINISH&&k!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=c.utf8border(M.output,M.next_out),A=M.next_out-E,_=c.buf2string(M.output,E),M.next_out=A,M.avail_out=Q-A,A&&l.arraySet(M.output,M.output,E,A,0),this.onData(_)):this.onData(l.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(re=!0)}while((0<M.avail_in||M.avail_out===0)&&S!==u.Z_STREAM_END);return S===u.Z_STREAM_END&&(k=u.Z_FINISH),k===u.Z_FINISH?(S=s.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===u.Z_OK):k!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(M.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Inflate=y,i.inflate=b,i.inflateRaw=function(w,O){return(O=O||{}).raw=!0,b(w,O)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var d=f.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var m in d)d.hasOwnProperty(m)&&(u[m]=d[m])}}return u},i.shrinkBuf=function(u,f){return u.length===f?u:u.subarray?u.subarray(0,f):(u.length=f,u)};var l={arraySet:function(u,f,d,m,g){if(f.subarray&&u.subarray)u.set(f.subarray(d,d+m),g);else for(var y=0;y<m;y++)u[g+y]=f[d+y]},flattenChunks:function(u){var f,d,m,g,y,b;for(f=m=0,d=u.length;f<d;f++)m+=u[f].length;for(b=new Uint8Array(m),f=g=0,d=u.length;f<d;f++)y=u[f],b.set(y,g),g+=y.length;return b}},c={arraySet:function(u,f,d,m,g){for(var y=0;y<m;y++)u[g+y]=f[d+y]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(s)},{}],42:[function(t,n,i){var s=t("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var u=new s.Buf8(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function d(m,g){if(g<65537&&(m.subarray&&c||!m.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(m,g));for(var y="",b=0;b<g;b++)y+=String.fromCharCode(m[b]);return y}u[254]=u[254]=1,i.string2buf=function(m){var g,y,b,w,O,S=m.length,k=0;for(w=0;w<S;w++)(64512&(y=m.charCodeAt(w)))==55296&&w+1<S&&(64512&(b=m.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),w++),k+=y<128?1:y<2048?2:y<65536?3:4;for(g=new s.Buf8(k),w=O=0;O<k;w++)(64512&(y=m.charCodeAt(w)))==55296&&w+1<S&&(64512&(b=m.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),w++),y<128?g[O++]=y:(y<2048?g[O++]=192|y>>>6:(y<65536?g[O++]=224|y>>>12:(g[O++]=240|y>>>18,g[O++]=128|y>>>12&63),g[O++]=128|y>>>6&63),g[O++]=128|63&y);return g},i.buf2binstring=function(m){return d(m,m.length)},i.binstring2buf=function(m){for(var g=new s.Buf8(m.length),y=0,b=g.length;y<b;y++)g[y]=m.charCodeAt(y);return g},i.buf2string=function(m,g){var y,b,w,O,S=g||m.length,k=new Array(2*S);for(y=b=0;y<S;)if((w=m[y++])<128)k[b++]=w;else if(4<(O=u[w]))k[b++]=65533,y+=O-1;else{for(w&=O===2?31:O===3?15:7;1<O&&y<S;)w=w<<6|63&m[y++],O--;1<O?k[b++]=65533:w<65536?k[b++]=w:(w-=65536,k[b++]=55296|w>>10&1023,k[b++]=56320|1023&w)}return d(k,b)},i.utf8border=function(m,g){var y;for((g=g||m.length)>m.length&&(g=m.length),y=g-1;0<=y&&(192&m[y])==128;)y--;return y<0||y===0?g:y+u[m[y]]>g?y:g}},{"./common":41}],43:[function(t,n,i){n.exports=function(s,l,c,u){for(var f=65535&s|0,d=s>>>16&65535|0,m=0;c!==0;){for(c-=m=2e3<c?2e3:c;d=d+(f=f+l[u++]|0)|0,--m;);f%=65521,d%=65521}return f|d<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var s=(function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c})();n.exports=function(l,c,u,f){var d=s,m=f+u;l^=-1;for(var g=f;g<m;g++)l=l>>>8^d[255&(l^c[g])];return-1^l}},{}],46:[function(t,n,i){var s,l=t("../utils/common"),c=t("./trees"),u=t("./adler32"),f=t("./crc32"),d=t("./messages"),m=0,g=4,y=0,b=-2,w=-1,O=4,S=2,k=8,E=9,A=286,_=30,U=19,M=2*A+1,Q=15,P=3,re=258,pe=re+P+1,H=42,Y=113,R=1,ee=2,X=3,G=4;function ue(D,ve){return D.msg=d[ve],ve}function he(D){return(D<<1)-(4<D?9:0)}function ke(D){for(var ve=D.length;0<=--ve;)D[ve]=0}function q(D){var ve=D.state,F=ve.pending;F>D.avail_out&&(F=D.avail_out),F!==0&&(l.arraySet(D.output,ve.pending_buf,ve.pending_out,F,D.next_out),D.next_out+=F,ve.pending_out+=F,D.total_out+=F,D.avail_out-=F,ve.pending-=F,ve.pending===0&&(ve.pending_out=0))}function I(D,ve){c._tr_flush_block(D,0<=D.block_start?D.block_start:-1,D.strstart-D.block_start,ve),D.block_start=D.strstart,q(D.strm)}function K(D,ve){D.pending_buf[D.pending++]=ve}function se(D,ve){D.pending_buf[D.pending++]=ve>>>8&255,D.pending_buf[D.pending++]=255&ve}function fe(D,ve){var F,T,C=D.max_chain_length,L=D.strstart,Z=D.prev_length,oe=D.nice_match,ne=D.strstart>D.w_size-pe?D.strstart-(D.w_size-pe):0,Ee=D.window,Te=D.w_mask,Oe=D.prev,je=D.strstart+re,Ve=Ee[L+Z-1],Qe=Ee[L+Z];D.prev_length>=D.good_match&&(C>>=2),oe>D.lookahead&&(oe=D.lookahead);do if(Ee[(F=ve)+Z]===Qe&&Ee[F+Z-1]===Ve&&Ee[F]===Ee[L]&&Ee[++F]===Ee[L+1]){L+=2,F++;do;while(Ee[++L]===Ee[++F]&&Ee[++L]===Ee[++F]&&Ee[++L]===Ee[++F]&&Ee[++L]===Ee[++F]&&Ee[++L]===Ee[++F]&&Ee[++L]===Ee[++F]&&Ee[++L]===Ee[++F]&&Ee[++L]===Ee[++F]&&L<je);if(T=re-(je-L),L=je-re,Z<T){if(D.match_start=ve,oe<=(Z=T))break;Ve=Ee[L+Z-1],Qe=Ee[L+Z]}}while((ve=Oe[ve&Te])>ne&&--C!=0);return Z<=D.lookahead?Z:D.lookahead}function ie(D){var ve,F,T,C,L,Z,oe,ne,Ee,Te,Oe=D.w_size;do{if(C=D.window_size-D.lookahead-D.strstart,D.strstart>=Oe+(Oe-pe)){for(l.arraySet(D.window,D.window,Oe,Oe,0),D.match_start-=Oe,D.strstart-=Oe,D.block_start-=Oe,ve=F=D.hash_size;T=D.head[--ve],D.head[ve]=Oe<=T?T-Oe:0,--F;);for(ve=F=Oe;T=D.prev[--ve],D.prev[ve]=Oe<=T?T-Oe:0,--F;);C+=Oe}if(D.strm.avail_in===0)break;if(Z=D.strm,oe=D.window,ne=D.strstart+D.lookahead,Ee=C,Te=void 0,Te=Z.avail_in,Ee<Te&&(Te=Ee),F=Te===0?0:(Z.avail_in-=Te,l.arraySet(oe,Z.input,Z.next_in,Te,ne),Z.state.wrap===1?Z.adler=u(Z.adler,oe,Te,ne):Z.state.wrap===2&&(Z.adler=f(Z.adler,oe,Te,ne)),Z.next_in+=Te,Z.total_in+=Te,Te),D.lookahead+=F,D.lookahead+D.insert>=P)for(L=D.strstart-D.insert,D.ins_h=D.window[L],D.ins_h=(D.ins_h<<D.hash_shift^D.window[L+1])&D.hash_mask;D.insert&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[L+P-1])&D.hash_mask,D.prev[L&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=L,L++,D.insert--,!(D.lookahead+D.insert<P)););}while(D.lookahead<pe&&D.strm.avail_in!==0)}function z(D,ve){for(var F,T;;){if(D.lookahead<pe){if(ie(D),D.lookahead<pe&&ve===m)return R;if(D.lookahead===0)break}if(F=0,D.lookahead>=P&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+P-1])&D.hash_mask,F=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),F!==0&&D.strstart-F<=D.w_size-pe&&(D.match_length=fe(D,F)),D.match_length>=P)if(T=c._tr_tally(D,D.strstart-D.match_start,D.match_length-P),D.lookahead-=D.match_length,D.match_length<=D.max_lazy_match&&D.lookahead>=P){for(D.match_length--;D.strstart++,D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+P-1])&D.hash_mask,F=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart,--D.match_length!=0;);D.strstart++}else D.strstart+=D.match_length,D.match_length=0,D.ins_h=D.window[D.strstart],D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+1])&D.hash_mask;else T=c._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++;if(T&&(I(D,!1),D.strm.avail_out===0))return R}return D.insert=D.strstart<P-1?D.strstart:P-1,ve===g?(I(D,!0),D.strm.avail_out===0?X:G):D.last_lit&&(I(D,!1),D.strm.avail_out===0)?R:ee}function B(D,ve){for(var F,T,C;;){if(D.lookahead<pe){if(ie(D),D.lookahead<pe&&ve===m)return R;if(D.lookahead===0)break}if(F=0,D.lookahead>=P&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+P-1])&D.hash_mask,F=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),D.prev_length=D.match_length,D.prev_match=D.match_start,D.match_length=P-1,F!==0&&D.prev_length<D.max_lazy_match&&D.strstart-F<=D.w_size-pe&&(D.match_length=fe(D,F),D.match_length<=5&&(D.strategy===1||D.match_length===P&&4096<D.strstart-D.match_start)&&(D.match_length=P-1)),D.prev_length>=P&&D.match_length<=D.prev_length){for(C=D.strstart+D.lookahead-P,T=c._tr_tally(D,D.strstart-1-D.prev_match,D.prev_length-P),D.lookahead-=D.prev_length-1,D.prev_length-=2;++D.strstart<=C&&(D.ins_h=(D.ins_h<<D.hash_shift^D.window[D.strstart+P-1])&D.hash_mask,F=D.prev[D.strstart&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=D.strstart),--D.prev_length!=0;);if(D.match_available=0,D.match_length=P-1,D.strstart++,T&&(I(D,!1),D.strm.avail_out===0))return R}else if(D.match_available){if((T=c._tr_tally(D,0,D.window[D.strstart-1]))&&I(D,!1),D.strstart++,D.lookahead--,D.strm.avail_out===0)return R}else D.match_available=1,D.strstart++,D.lookahead--}return D.match_available&&(T=c._tr_tally(D,0,D.window[D.strstart-1]),D.match_available=0),D.insert=D.strstart<P-1?D.strstart:P-1,ve===g?(I(D,!0),D.strm.avail_out===0?X:G):D.last_lit&&(I(D,!1),D.strm.avail_out===0)?R:ee}function te(D,ve,F,T,C){this.good_length=D,this.max_lazy=ve,this.nice_length=F,this.max_chain=T,this.func=C}function J(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*M),this.dyn_dtree=new l.Buf16(2*(2*_+1)),this.bl_tree=new l.Buf16(2*(2*U+1)),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(Q+1),this.heap=new l.Buf16(2*A+1),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*A+1),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(D){var ve;return D&&D.state?(D.total_in=D.total_out=0,D.data_type=S,(ve=D.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?H:Y,D.adler=ve.wrap===2?0:1,ve.last_flush=m,c._tr_init(ve),y):ue(D,b)}function $(D){var ve=W(D);return ve===y&&(function(F){F.window_size=2*F.w_size,ke(F.head),F.max_lazy_match=s[F.level].max_lazy,F.good_match=s[F.level].good_length,F.nice_match=s[F.level].nice_length,F.max_chain_length=s[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=P-1,F.match_available=0,F.ins_h=0})(D.state),ve}function ge(D,ve,F,T,C,L){if(!D)return b;var Z=1;if(ve===w&&(ve=6),T<0?(Z=0,T=-T):15<T&&(Z=2,T-=16),C<1||E<C||F!==k||T<8||15<T||ve<0||9<ve||L<0||O<L)return ue(D,b);T===8&&(T=9);var oe=new J;return(D.state=oe).strm=D,oe.wrap=Z,oe.gzhead=null,oe.w_bits=T,oe.w_size=1<<oe.w_bits,oe.w_mask=oe.w_size-1,oe.hash_bits=C+7,oe.hash_size=1<<oe.hash_bits,oe.hash_mask=oe.hash_size-1,oe.hash_shift=~~((oe.hash_bits+P-1)/P),oe.window=new l.Buf8(2*oe.w_size),oe.head=new l.Buf16(oe.hash_size),oe.prev=new l.Buf16(oe.w_size),oe.lit_bufsize=1<<C+6,oe.pending_buf_size=4*oe.lit_bufsize,oe.pending_buf=new l.Buf8(oe.pending_buf_size),oe.d_buf=1*oe.lit_bufsize,oe.l_buf=3*oe.lit_bufsize,oe.level=ve,oe.strategy=L,oe.method=F,$(D)}s=[new te(0,0,0,0,function(D,ve){var F=65535;for(F>D.pending_buf_size-5&&(F=D.pending_buf_size-5);;){if(D.lookahead<=1){if(ie(D),D.lookahead===0&&ve===m)return R;if(D.lookahead===0)break}D.strstart+=D.lookahead,D.lookahead=0;var T=D.block_start+F;if((D.strstart===0||D.strstart>=T)&&(D.lookahead=D.strstart-T,D.strstart=T,I(D,!1),D.strm.avail_out===0)||D.strstart-D.block_start>=D.w_size-pe&&(I(D,!1),D.strm.avail_out===0))return R}return D.insert=0,ve===g?(I(D,!0),D.strm.avail_out===0?X:G):(D.strstart>D.block_start&&(I(D,!1),D.strm.avail_out),R)}),new te(4,4,8,4,z),new te(4,5,16,8,z),new te(4,6,32,32,z),new te(4,4,16,16,B),new te(8,16,32,32,B),new te(8,16,128,128,B),new te(8,32,128,256,B),new te(32,128,258,1024,B),new te(32,258,258,4096,B)],i.deflateInit=function(D,ve){return ge(D,ve,k,15,8,0)},i.deflateInit2=ge,i.deflateReset=$,i.deflateResetKeep=W,i.deflateSetHeader=function(D,ve){return D&&D.state?D.state.wrap!==2?b:(D.state.gzhead=ve,y):b},i.deflate=function(D,ve){var F,T,C,L;if(!D||!D.state||5<ve||ve<0)return D?ue(D,b):b;if(T=D.state,!D.output||!D.input&&D.avail_in!==0||T.status===666&&ve!==g)return ue(D,D.avail_out===0?-5:b);if(T.strm=D,F=T.last_flush,T.last_flush=ve,T.status===H)if(T.wrap===2)D.adler=0,K(T,31),K(T,139),K(T,8),T.gzhead?(K(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),K(T,255&T.gzhead.time),K(T,T.gzhead.time>>8&255),K(T,T.gzhead.time>>16&255),K(T,T.gzhead.time>>24&255),K(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),K(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(K(T,255&T.gzhead.extra.length),K(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(D.adler=f(D.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(K(T,0),K(T,0),K(T,0),K(T,0),K(T,0),K(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),K(T,3),T.status=Y);else{var Z=k+(T.w_bits-8<<4)<<8;Z|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(Z|=32),Z+=31-Z%31,T.status=Y,se(T,Z),T.strstart!==0&&(se(T,D.adler>>>16),se(T,65535&D.adler)),D.adler=1}if(T.status===69)if(T.gzhead.extra){for(C=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>C&&(D.adler=f(D.adler,T.pending_buf,T.pending-C,C)),q(D),C=T.pending,T.pending!==T.pending_buf_size));)K(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>C&&(D.adler=f(D.adler,T.pending_buf,T.pending-C,C)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){C=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>C&&(D.adler=f(D.adler,T.pending_buf,T.pending-C,C)),q(D),C=T.pending,T.pending===T.pending_buf_size)){L=1;break}L=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,K(T,L)}while(L!==0);T.gzhead.hcrc&&T.pending>C&&(D.adler=f(D.adler,T.pending_buf,T.pending-C,C)),L===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){C=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>C&&(D.adler=f(D.adler,T.pending_buf,T.pending-C,C)),q(D),C=T.pending,T.pending===T.pending_buf_size)){L=1;break}L=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,K(T,L)}while(L!==0);T.gzhead.hcrc&&T.pending>C&&(D.adler=f(D.adler,T.pending_buf,T.pending-C,C)),L===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&q(D),T.pending+2<=T.pending_buf_size&&(K(T,255&D.adler),K(T,D.adler>>8&255),D.adler=0,T.status=Y)):T.status=Y),T.pending!==0){if(q(D),D.avail_out===0)return T.last_flush=-1,y}else if(D.avail_in===0&&he(ve)<=he(F)&&ve!==g)return ue(D,-5);if(T.status===666&&D.avail_in!==0)return ue(D,-5);if(D.avail_in!==0||T.lookahead!==0||ve!==m&&T.status!==666){var oe=T.strategy===2?(function(ne,Ee){for(var Te;;){if(ne.lookahead===0&&(ie(ne),ne.lookahead===0)){if(Ee===m)return R;break}if(ne.match_length=0,Te=c._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,Te&&(I(ne,!1),ne.strm.avail_out===0))return R}return ne.insert=0,Ee===g?(I(ne,!0),ne.strm.avail_out===0?X:G):ne.last_lit&&(I(ne,!1),ne.strm.avail_out===0)?R:ee})(T,ve):T.strategy===3?(function(ne,Ee){for(var Te,Oe,je,Ve,Qe=ne.window;;){if(ne.lookahead<=re){if(ie(ne),ne.lookahead<=re&&Ee===m)return R;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=P&&0<ne.strstart&&(Oe=Qe[je=ne.strstart-1])===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]){Ve=ne.strstart+re;do;while(Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&Oe===Qe[++je]&&je<Ve);ne.match_length=re-(Ve-je),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=P?(Te=c._tr_tally(ne,1,ne.match_length-P),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(Te=c._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),Te&&(I(ne,!1),ne.strm.avail_out===0))return R}return ne.insert=0,Ee===g?(I(ne,!0),ne.strm.avail_out===0?X:G):ne.last_lit&&(I(ne,!1),ne.strm.avail_out===0)?R:ee})(T,ve):s[T.level].func(T,ve);if(oe!==X&&oe!==G||(T.status=666),oe===R||oe===X)return D.avail_out===0&&(T.last_flush=-1),y;if(oe===ee&&(ve===1?c._tr_align(T):ve!==5&&(c._tr_stored_block(T,0,0,!1),ve===3&&(ke(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),q(D),D.avail_out===0))return T.last_flush=-1,y}return ve!==g?y:T.wrap<=0?1:(T.wrap===2?(K(T,255&D.adler),K(T,D.adler>>8&255),K(T,D.adler>>16&255),K(T,D.adler>>24&255),K(T,255&D.total_in),K(T,D.total_in>>8&255),K(T,D.total_in>>16&255),K(T,D.total_in>>24&255)):(se(T,D.adler>>>16),se(T,65535&D.adler)),q(D),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?y:1)},i.deflateEnd=function(D){var ve;return D&&D.state?(ve=D.state.status)!==H&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==Y&&ve!==666?ue(D,b):(D.state=null,ve===Y?ue(D,-3):y):b},i.deflateSetDictionary=function(D,ve){var F,T,C,L,Z,oe,ne,Ee,Te=ve.length;if(!D||!D.state||(L=(F=D.state).wrap)===2||L===1&&F.status!==H||F.lookahead)return b;for(L===1&&(D.adler=u(D.adler,ve,Te,0)),F.wrap=0,Te>=F.w_size&&(L===0&&(ke(F.head),F.strstart=0,F.block_start=0,F.insert=0),Ee=new l.Buf8(F.w_size),l.arraySet(Ee,ve,Te-F.w_size,F.w_size,0),ve=Ee,Te=F.w_size),Z=D.avail_in,oe=D.next_in,ne=D.input,D.avail_in=Te,D.next_in=0,D.input=ve,ie(F);F.lookahead>=P;){for(T=F.strstart,C=F.lookahead-(P-1);F.ins_h=(F.ins_h<<F.hash_shift^F.window[T+P-1])&F.hash_mask,F.prev[T&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=T,T++,--C;);F.strstart=T,F.lookahead=P-1,ie(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=P-1,F.match_available=0,D.next_in=oe,D.input=ne,D.avail_in=Z,F.wrap=L,y},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(s,l){var c,u,f,d,m,g,y,b,w,O,S,k,E,A,_,U,M,Q,P,re,pe,H,Y,R,ee;c=s.state,u=s.next_in,R=s.input,f=u+(s.avail_in-5),d=s.next_out,ee=s.output,m=d-(l-s.avail_out),g=d+(s.avail_out-257),y=c.dmax,b=c.wsize,w=c.whave,O=c.wnext,S=c.window,k=c.hold,E=c.bits,A=c.lencode,_=c.distcode,U=(1<<c.lenbits)-1,M=(1<<c.distbits)-1;e:do{E<15&&(k+=R[u++]<<E,E+=8,k+=R[u++]<<E,E+=8),Q=A[k&U];t:for(;;){if(k>>>=P=Q>>>24,E-=P,(P=Q>>>16&255)===0)ee[d++]=65535&Q;else{if(!(16&P)){if((64&P)==0){Q=A[(65535&Q)+(k&(1<<P)-1)];continue t}if(32&P){c.mode=12;break e}s.msg="invalid literal/length code",c.mode=30;break e}re=65535&Q,(P&=15)&&(E<P&&(k+=R[u++]<<E,E+=8),re+=k&(1<<P)-1,k>>>=P,E-=P),E<15&&(k+=R[u++]<<E,E+=8,k+=R[u++]<<E,E+=8),Q=_[k&M];r:for(;;){if(k>>>=P=Q>>>24,E-=P,!(16&(P=Q>>>16&255))){if((64&P)==0){Q=_[(65535&Q)+(k&(1<<P)-1)];continue r}s.msg="invalid distance code",c.mode=30;break e}if(pe=65535&Q,E<(P&=15)&&(k+=R[u++]<<E,(E+=8)<P&&(k+=R[u++]<<E,E+=8)),y<(pe+=k&(1<<P)-1)){s.msg="invalid distance too far back",c.mode=30;break e}if(k>>>=P,E-=P,(P=d-m)<pe){if(w<(P=pe-P)&&c.sane){s.msg="invalid distance too far back",c.mode=30;break e}if(Y=S,(H=0)===O){if(H+=b-P,P<re){for(re-=P;ee[d++]=S[H++],--P;);H=d-pe,Y=ee}}else if(O<P){if(H+=b+O-P,(P-=O)<re){for(re-=P;ee[d++]=S[H++],--P;);if(H=0,O<re){for(re-=P=O;ee[d++]=S[H++],--P;);H=d-pe,Y=ee}}}else if(H+=O-P,P<re){for(re-=P;ee[d++]=S[H++],--P;);H=d-pe,Y=ee}for(;2<re;)ee[d++]=Y[H++],ee[d++]=Y[H++],ee[d++]=Y[H++],re-=3;re&&(ee[d++]=Y[H++],1<re&&(ee[d++]=Y[H++]))}else{for(H=d-pe;ee[d++]=ee[H++],ee[d++]=ee[H++],ee[d++]=ee[H++],2<(re-=3););re&&(ee[d++]=ee[H++],1<re&&(ee[d++]=ee[H++]))}break}}break}}while(u<f&&d<g);u-=re=E>>3,k&=(1<<(E-=re<<3))-1,s.next_in=u,s.next_out=d,s.avail_in=u<f?f-u+5:5-(u-f),s.avail_out=d<g?g-d+257:257-(d-g),c.hold=k,c.bits=E}},{}],49:[function(t,n,i){var s=t("../utils/common"),l=t("./adler32"),c=t("./crc32"),u=t("./inffast"),f=t("./inftrees"),d=1,m=2,g=0,y=-2,b=1,w=852,O=592;function S(H){return(H>>>24&255)+(H>>>8&65280)+((65280&H)<<8)+((255&H)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(H){var Y;return H&&H.state?(Y=H.state,H.total_in=H.total_out=Y.total=0,H.msg="",Y.wrap&&(H.adler=1&Y.wrap),Y.mode=b,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new s.Buf32(w),Y.distcode=Y.distdyn=new s.Buf32(O),Y.sane=1,Y.back=-1,g):y}function A(H){var Y;return H&&H.state?((Y=H.state).wsize=0,Y.whave=0,Y.wnext=0,E(H)):y}function _(H,Y){var R,ee;return H&&H.state?(ee=H.state,Y<0?(R=0,Y=-Y):(R=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?y:(ee.window!==null&&ee.wbits!==Y&&(ee.window=null),ee.wrap=R,ee.wbits=Y,A(H))):y}function U(H,Y){var R,ee;return H?(ee=new k,(H.state=ee).window=null,(R=_(H,Y))!==g&&(H.state=null),R):y}var M,Q,P=!0;function re(H){if(P){var Y;for(M=new s.Buf32(512),Q=new s.Buf32(32),Y=0;Y<144;)H.lens[Y++]=8;for(;Y<256;)H.lens[Y++]=9;for(;Y<280;)H.lens[Y++]=7;for(;Y<288;)H.lens[Y++]=8;for(f(d,H.lens,0,288,M,0,H.work,{bits:9}),Y=0;Y<32;)H.lens[Y++]=5;f(m,H.lens,0,32,Q,0,H.work,{bits:5}),P=!1}H.lencode=M,H.lenbits=9,H.distcode=Q,H.distbits=5}function pe(H,Y,R,ee){var X,G=H.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new s.Buf8(G.wsize)),ee>=G.wsize?(s.arraySet(G.window,Y,R-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(ee<(X=G.wsize-G.wnext)&&(X=ee),s.arraySet(G.window,Y,R-ee,X,G.wnext),(ee-=X)?(s.arraySet(G.window,Y,R-ee,ee,0),G.wnext=ee,G.whave=G.wsize):(G.wnext+=X,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=X))),0}i.inflateReset=A,i.inflateReset2=_,i.inflateResetKeep=E,i.inflateInit=function(H){return U(H,15)},i.inflateInit2=U,i.inflate=function(H,Y){var R,ee,X,G,ue,he,ke,q,I,K,se,fe,ie,z,B,te,J,W,$,ge,D,ve,F,T,C=0,L=new s.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!H||!H.state||!H.output||!H.input&&H.avail_in!==0)return y;(R=H.state).mode===12&&(R.mode=13),ue=H.next_out,X=H.output,ke=H.avail_out,G=H.next_in,ee=H.input,he=H.avail_in,q=R.hold,I=R.bits,K=he,se=ke,ve=g;e:for(;;)switch(R.mode){case b:if(R.wrap===0){R.mode=13;break}for(;I<16;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}if(2&R.wrap&&q===35615){L[R.check=0]=255&q,L[1]=q>>>8&255,R.check=c(R.check,L,2,0),I=q=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&q)<<8)+(q>>8))%31){H.msg="incorrect header check",R.mode=30;break}if((15&q)!=8){H.msg="unknown compression method",R.mode=30;break}if(I-=4,D=8+(15&(q>>>=4)),R.wbits===0)R.wbits=D;else if(D>R.wbits){H.msg="invalid window size",R.mode=30;break}R.dmax=1<<D,H.adler=R.check=1,R.mode=512&q?10:12,I=q=0;break;case 2:for(;I<16;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}if(R.flags=q,(255&R.flags)!=8){H.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){H.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=q>>8&1),512&R.flags&&(L[0]=255&q,L[1]=q>>>8&255,R.check=c(R.check,L,2,0)),I=q=0,R.mode=3;case 3:for(;I<32;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}R.head&&(R.head.time=q),512&R.flags&&(L[0]=255&q,L[1]=q>>>8&255,L[2]=q>>>16&255,L[3]=q>>>24&255,R.check=c(R.check,L,4,0)),I=q=0,R.mode=4;case 4:for(;I<16;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}R.head&&(R.head.xflags=255&q,R.head.os=q>>8),512&R.flags&&(L[0]=255&q,L[1]=q>>>8&255,R.check=c(R.check,L,2,0)),I=q=0,R.mode=5;case 5:if(1024&R.flags){for(;I<16;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}R.length=q,R.head&&(R.head.extra_len=q),512&R.flags&&(L[0]=255&q,L[1]=q>>>8&255,R.check=c(R.check,L,2,0)),I=q=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(he<(fe=R.length)&&(fe=he),fe&&(R.head&&(D=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),s.arraySet(R.head.extra,ee,G,fe,D)),512&R.flags&&(R.check=c(R.check,ee,fe,G)),he-=fe,G+=fe,R.length-=fe),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(he===0)break e;for(fe=0;D=ee[G+fe++],R.head&&D&&R.length<65536&&(R.head.name+=String.fromCharCode(D)),D&&fe<he;);if(512&R.flags&&(R.check=c(R.check,ee,fe,G)),he-=fe,G+=fe,D)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(he===0)break e;for(fe=0;D=ee[G+fe++],R.head&&D&&R.length<65536&&(R.head.comment+=String.fromCharCode(D)),D&&fe<he;);if(512&R.flags&&(R.check=c(R.check,ee,fe,G)),he-=fe,G+=fe,D)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;I<16;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}if(q!==(65535&R.check)){H.msg="header crc mismatch",R.mode=30;break}I=q=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),H.adler=R.check=0,R.mode=12;break;case 10:for(;I<32;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}H.adler=R.check=S(q),I=q=0,R.mode=11;case 11:if(R.havedict===0)return H.next_out=ue,H.avail_out=ke,H.next_in=G,H.avail_in=he,R.hold=q,R.bits=I,2;H.adler=R.check=1,R.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(R.last){q>>>=7&I,I-=7&I,R.mode=27;break}for(;I<3;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}switch(R.last=1&q,I-=1,3&(q>>>=1)){case 0:R.mode=14;break;case 1:if(re(R),R.mode=20,Y!==6)break;q>>>=2,I-=2;break e;case 2:R.mode=17;break;case 3:H.msg="invalid block type",R.mode=30}q>>>=2,I-=2;break;case 14:for(q>>>=7&I,I-=7&I;I<32;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}if((65535&q)!=(q>>>16^65535)){H.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&q,I=q=0,R.mode=15,Y===6)break e;case 15:R.mode=16;case 16:if(fe=R.length){if(he<fe&&(fe=he),ke<fe&&(fe=ke),fe===0)break e;s.arraySet(X,ee,G,fe,ue),he-=fe,G+=fe,ke-=fe,ue+=fe,R.length-=fe;break}R.mode=12;break;case 17:for(;I<14;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}if(R.nlen=257+(31&q),q>>>=5,I-=5,R.ndist=1+(31&q),q>>>=5,I-=5,R.ncode=4+(15&q),q>>>=4,I-=4,286<R.nlen||30<R.ndist){H.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;I<3;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}R.lens[Z[R.have++]]=7&q,q>>>=3,I-=3}for(;R.have<19;)R.lens[Z[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,F={bits:R.lenbits},ve=f(0,R.lens,0,19,R.lencode,0,R.work,F),R.lenbits=F.bits,ve){H.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;te=(C=R.lencode[q&(1<<R.lenbits)-1])>>>16&255,J=65535&C,!((B=C>>>24)<=I);){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}if(J<16)q>>>=B,I-=B,R.lens[R.have++]=J;else{if(J===16){for(T=B+2;I<T;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}if(q>>>=B,I-=B,R.have===0){H.msg="invalid bit length repeat",R.mode=30;break}D=R.lens[R.have-1],fe=3+(3&q),q>>>=2,I-=2}else if(J===17){for(T=B+3;I<T;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}I-=B,D=0,fe=3+(7&(q>>>=B)),q>>>=3,I-=3}else{for(T=B+7;I<T;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}I-=B,D=0,fe=11+(127&(q>>>=B)),q>>>=7,I-=7}if(R.have+fe>R.nlen+R.ndist){H.msg="invalid bit length repeat",R.mode=30;break}for(;fe--;)R.lens[R.have++]=D}}if(R.mode===30)break;if(R.lens[256]===0){H.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,F={bits:R.lenbits},ve=f(d,R.lens,0,R.nlen,R.lencode,0,R.work,F),R.lenbits=F.bits,ve){H.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,F={bits:R.distbits},ve=f(m,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,F),R.distbits=F.bits,ve){H.msg="invalid distances set",R.mode=30;break}if(R.mode=20,Y===6)break e;case 20:R.mode=21;case 21:if(6<=he&&258<=ke){H.next_out=ue,H.avail_out=ke,H.next_in=G,H.avail_in=he,R.hold=q,R.bits=I,u(H,se),ue=H.next_out,X=H.output,ke=H.avail_out,G=H.next_in,ee=H.input,he=H.avail_in,q=R.hold,I=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;te=(C=R.lencode[q&(1<<R.lenbits)-1])>>>16&255,J=65535&C,!((B=C>>>24)<=I);){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}if(te&&(240&te)==0){for(W=B,$=te,ge=J;te=(C=R.lencode[ge+((q&(1<<W+$)-1)>>W)])>>>16&255,J=65535&C,!(W+(B=C>>>24)<=I);){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}q>>>=W,I-=W,R.back+=W}if(q>>>=B,I-=B,R.back+=B,R.length=J,te===0){R.mode=26;break}if(32&te){R.back=-1,R.mode=12;break}if(64&te){H.msg="invalid literal/length code",R.mode=30;break}R.extra=15&te,R.mode=22;case 22:if(R.extra){for(T=R.extra;I<T;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}R.length+=q&(1<<R.extra)-1,q>>>=R.extra,I-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;te=(C=R.distcode[q&(1<<R.distbits)-1])>>>16&255,J=65535&C,!((B=C>>>24)<=I);){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}if((240&te)==0){for(W=B,$=te,ge=J;te=(C=R.distcode[ge+((q&(1<<W+$)-1)>>W)])>>>16&255,J=65535&C,!(W+(B=C>>>24)<=I);){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}q>>>=W,I-=W,R.back+=W}if(q>>>=B,I-=B,R.back+=B,64&te){H.msg="invalid distance code",R.mode=30;break}R.offset=J,R.extra=15&te,R.mode=24;case 24:if(R.extra){for(T=R.extra;I<T;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}R.offset+=q&(1<<R.extra)-1,q>>>=R.extra,I-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){H.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(ke===0)break e;if(fe=se-ke,R.offset>fe){if((fe=R.offset-fe)>R.whave&&R.sane){H.msg="invalid distance too far back",R.mode=30;break}ie=fe>R.wnext?(fe-=R.wnext,R.wsize-fe):R.wnext-fe,fe>R.length&&(fe=R.length),z=R.window}else z=X,ie=ue-R.offset,fe=R.length;for(ke<fe&&(fe=ke),ke-=fe,R.length-=fe;X[ue++]=z[ie++],--fe;);R.length===0&&(R.mode=21);break;case 26:if(ke===0)break e;X[ue++]=R.length,ke--,R.mode=21;break;case 27:if(R.wrap){for(;I<32;){if(he===0)break e;he--,q|=ee[G++]<<I,I+=8}if(se-=ke,H.total_out+=se,R.total+=se,se&&(H.adler=R.check=R.flags?c(R.check,X,se,ue-se):l(R.check,X,se,ue-se)),se=ke,(R.flags?q:S(q))!==R.check){H.msg="incorrect data check",R.mode=30;break}I=q=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;I<32;){if(he===0)break e;he--,q+=ee[G++]<<I,I+=8}if(q!==(4294967295&R.total)){H.msg="incorrect length check",R.mode=30;break}I=q=0}R.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return y}return H.next_out=ue,H.avail_out=ke,H.next_in=G,H.avail_in=he,R.hold=q,R.bits=I,(R.wsize||se!==H.avail_out&&R.mode<30&&(R.mode<27||Y!==4))&&pe(H,H.output,H.next_out,se-H.avail_out)?(R.mode=31,-4):(K-=H.avail_in,se-=H.avail_out,H.total_in+=K,H.total_out+=se,R.total+=se,R.wrap&&se&&(H.adler=R.check=R.flags?c(R.check,X,se,H.next_out-se):l(R.check,X,se,H.next_out-se)),H.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(K==0&&se===0||Y===4)&&ve===g&&(ve=-5),ve)},i.inflateEnd=function(H){if(!H||!H.state)return y;var Y=H.state;return Y.window&&(Y.window=null),H.state=null,g},i.inflateGetHeader=function(H,Y){var R;return H&&H.state?(2&(R=H.state).wrap)==0?y:((R.head=Y).done=!1,g):y},i.inflateSetDictionary=function(H,Y){var R,ee=Y.length;return H&&H.state?(R=H.state).wrap!==0&&R.mode!==11?y:R.mode===11&&l(1,Y,ee,0)!==R.check?-3:pe(H,Y,ee,ee)?(R.mode=31,-4):(R.havedict=1,g):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var s=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,m,g,y,b,w,O,S){var k,E,A,_,U,M,Q,P,re,pe=S.bits,H=0,Y=0,R=0,ee=0,X=0,G=0,ue=0,he=0,ke=0,q=0,I=null,K=0,se=new s.Buf16(16),fe=new s.Buf16(16),ie=null,z=0;for(H=0;H<=15;H++)se[H]=0;for(Y=0;Y<y;Y++)se[m[g+Y]]++;for(X=pe,ee=15;1<=ee&&se[ee]===0;ee--);if(ee<X&&(X=ee),ee===0)return b[w++]=20971520,b[w++]=20971520,S.bits=1,0;for(R=1;R<ee&&se[R]===0;R++);for(X<R&&(X=R),H=he=1;H<=15;H++)if(he<<=1,(he-=se[H])<0)return-1;if(0<he&&(d===0||ee!==1))return-1;for(fe[1]=0,H=1;H<15;H++)fe[H+1]=fe[H]+se[H];for(Y=0;Y<y;Y++)m[g+Y]!==0&&(O[fe[m[g+Y]]++]=Y);if(M=d===0?(I=ie=O,19):d===1?(I=l,K-=257,ie=c,z-=257,256):(I=u,ie=f,-1),H=R,U=w,ue=Y=q=0,A=-1,_=(ke=1<<(G=X))-1,d===1&&852<ke||d===2&&592<ke)return 1;for(;;){for(Q=H-ue,re=O[Y]<M?(P=0,O[Y]):O[Y]>M?(P=ie[z+O[Y]],I[K+O[Y]]):(P=96,0),k=1<<H-ue,R=E=1<<G;b[U+(q>>ue)+(E-=k)]=Q<<24|P<<16|re|0,E!==0;);for(k=1<<H-1;q&k;)k>>=1;if(k!==0?(q&=k-1,q+=k):q=0,Y++,--se[H]==0){if(H===ee)break;H=m[g+O[Y]]}if(X<H&&(q&_)!==A){for(ue===0&&(ue=X),U+=R,he=1<<(G=H-ue);G+ue<ee&&!((he-=se[G+ue])<=0);)G++,he<<=1;if(ke+=1<<G,d===1&&852<ke||d===2&&592<ke)return 1;b[A=q&_]=X<<24|G<<16|U-w|0}}return q!==0&&(b[U+q]=H-ue<<24|64<<16|0),S.bits=X,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var s=t("../utils/common"),l=0,c=1;function u(C){for(var L=C.length;0<=--L;)C[L]=0}var f=0,d=29,m=256,g=m+1+d,y=30,b=19,w=2*g+1,O=15,S=16,k=7,E=256,A=16,_=17,U=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=new Array(2*(g+2));u(pe);var H=new Array(2*y);u(H);var Y=new Array(512);u(Y);var R=new Array(256);u(R);var ee=new Array(d);u(ee);var X,G,ue,he=new Array(y);function ke(C,L,Z,oe,ne){this.static_tree=C,this.extra_bits=L,this.extra_base=Z,this.elems=oe,this.max_length=ne,this.has_stree=C&&C.length}function q(C,L){this.dyn_tree=C,this.max_code=0,this.stat_desc=L}function I(C){return C<256?Y[C]:Y[256+(C>>>7)]}function K(C,L){C.pending_buf[C.pending++]=255&L,C.pending_buf[C.pending++]=L>>>8&255}function se(C,L,Z){C.bi_valid>S-Z?(C.bi_buf|=L<<C.bi_valid&65535,K(C,C.bi_buf),C.bi_buf=L>>S-C.bi_valid,C.bi_valid+=Z-S):(C.bi_buf|=L<<C.bi_valid&65535,C.bi_valid+=Z)}function fe(C,L,Z){se(C,Z[2*L],Z[2*L+1])}function ie(C,L){for(var Z=0;Z|=1&C,C>>>=1,Z<<=1,0<--L;);return Z>>>1}function z(C,L,Z){var oe,ne,Ee=new Array(O+1),Te=0;for(oe=1;oe<=O;oe++)Ee[oe]=Te=Te+Z[oe-1]<<1;for(ne=0;ne<=L;ne++){var Oe=C[2*ne+1];Oe!==0&&(C[2*ne]=ie(Ee[Oe]++,Oe))}}function B(C){var L;for(L=0;L<g;L++)C.dyn_ltree[2*L]=0;for(L=0;L<y;L++)C.dyn_dtree[2*L]=0;for(L=0;L<b;L++)C.bl_tree[2*L]=0;C.dyn_ltree[2*E]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function te(C){8<C.bi_valid?K(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function J(C,L,Z,oe){var ne=2*L,Ee=2*Z;return C[ne]<C[Ee]||C[ne]===C[Ee]&&oe[L]<=oe[Z]}function W(C,L,Z){for(var oe=C.heap[Z],ne=Z<<1;ne<=C.heap_len&&(ne<C.heap_len&&J(L,C.heap[ne+1],C.heap[ne],C.depth)&&ne++,!J(L,oe,C.heap[ne],C.depth));)C.heap[Z]=C.heap[ne],Z=ne,ne<<=1;C.heap[Z]=oe}function $(C,L,Z){var oe,ne,Ee,Te,Oe=0;if(C.last_lit!==0)for(;oe=C.pending_buf[C.d_buf+2*Oe]<<8|C.pending_buf[C.d_buf+2*Oe+1],ne=C.pending_buf[C.l_buf+Oe],Oe++,oe===0?fe(C,ne,L):(fe(C,(Ee=R[ne])+m+1,L),(Te=M[Ee])!==0&&se(C,ne-=ee[Ee],Te),fe(C,Ee=I(--oe),Z),(Te=Q[Ee])!==0&&se(C,oe-=he[Ee],Te)),Oe<C.last_lit;);fe(C,E,L)}function ge(C,L){var Z,oe,ne,Ee=L.dyn_tree,Te=L.stat_desc.static_tree,Oe=L.stat_desc.has_stree,je=L.stat_desc.elems,Ve=-1;for(C.heap_len=0,C.heap_max=w,Z=0;Z<je;Z++)Ee[2*Z]!==0?(C.heap[++C.heap_len]=Ve=Z,C.depth[Z]=0):Ee[2*Z+1]=0;for(;C.heap_len<2;)Ee[2*(ne=C.heap[++C.heap_len]=Ve<2?++Ve:0)]=1,C.depth[ne]=0,C.opt_len--,Oe&&(C.static_len-=Te[2*ne+1]);for(L.max_code=Ve,Z=C.heap_len>>1;1<=Z;Z--)W(C,Ee,Z);for(ne=je;Z=C.heap[1],C.heap[1]=C.heap[C.heap_len--],W(C,Ee,1),oe=C.heap[1],C.heap[--C.heap_max]=Z,C.heap[--C.heap_max]=oe,Ee[2*ne]=Ee[2*Z]+Ee[2*oe],C.depth[ne]=(C.depth[Z]>=C.depth[oe]?C.depth[Z]:C.depth[oe])+1,Ee[2*Z+1]=Ee[2*oe+1]=ne,C.heap[1]=ne++,W(C,Ee,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],(function(Qe,Wt){var an,ln,si,Lt,Pt,Kr,Xt=Wt.dyn_tree,Ea=Wt.max_code,sc=Wt.stat_desc.static_tree,Tl=Wt.stat_desc.has_stree,ai=Wt.stat_desc.extra_bits,wi=Wt.stat_desc.extra_base,on=Wt.stat_desc.max_length,cn=0;for(Lt=0;Lt<=O;Lt++)Qe.bl_count[Lt]=0;for(Xt[2*Qe.heap[Qe.heap_max]+1]=0,an=Qe.heap_max+1;an<w;an++)on<(Lt=Xt[2*Xt[2*(ln=Qe.heap[an])+1]+1]+1)&&(Lt=on,cn++),Xt[2*ln+1]=Lt,Ea<ln||(Qe.bl_count[Lt]++,Pt=0,wi<=ln&&(Pt=ai[ln-wi]),Kr=Xt[2*ln],Qe.opt_len+=Kr*(Lt+Pt),Tl&&(Qe.static_len+=Kr*(sc[2*ln+1]+Pt)));if(cn!==0){do{for(Lt=on-1;Qe.bl_count[Lt]===0;)Lt--;Qe.bl_count[Lt]--,Qe.bl_count[Lt+1]+=2,Qe.bl_count[on]--,cn-=2}while(0<cn);for(Lt=on;Lt!==0;Lt--)for(ln=Qe.bl_count[Lt];ln!==0;)Ea<(si=Qe.heap[--an])||(Xt[2*si+1]!==Lt&&(Qe.opt_len+=(Lt-Xt[2*si+1])*Xt[2*si],Xt[2*si+1]=Lt),ln--)}})(C,L),z(Ee,Ve,C.bl_count)}function D(C,L,Z){var oe,ne,Ee=-1,Te=L[1],Oe=0,je=7,Ve=4;for(Te===0&&(je=138,Ve=3),L[2*(Z+1)+1]=65535,oe=0;oe<=Z;oe++)ne=Te,Te=L[2*(oe+1)+1],++Oe<je&&ne===Te||(Oe<Ve?C.bl_tree[2*ne]+=Oe:ne!==0?(ne!==Ee&&C.bl_tree[2*ne]++,C.bl_tree[2*A]++):Oe<=10?C.bl_tree[2*_]++:C.bl_tree[2*U]++,Ee=ne,Ve=(Oe=0)===Te?(je=138,3):ne===Te?(je=6,3):(je=7,4))}function ve(C,L,Z){var oe,ne,Ee=-1,Te=L[1],Oe=0,je=7,Ve=4;for(Te===0&&(je=138,Ve=3),oe=0;oe<=Z;oe++)if(ne=Te,Te=L[2*(oe+1)+1],!(++Oe<je&&ne===Te)){if(Oe<Ve)for(;fe(C,ne,C.bl_tree),--Oe!=0;);else ne!==0?(ne!==Ee&&(fe(C,ne,C.bl_tree),Oe--),fe(C,A,C.bl_tree),se(C,Oe-3,2)):Oe<=10?(fe(C,_,C.bl_tree),se(C,Oe-3,3)):(fe(C,U,C.bl_tree),se(C,Oe-11,7));Ee=ne,Ve=(Oe=0)===Te?(je=138,3):ne===Te?(je=6,3):(je=7,4)}}u(he);var F=!1;function T(C,L,Z,oe){se(C,(f<<1)+(oe?1:0),3),(function(ne,Ee,Te,Oe){te(ne),K(ne,Te),K(ne,~Te),s.arraySet(ne.pending_buf,ne.window,Ee,Te,ne.pending),ne.pending+=Te})(C,L,Z)}i._tr_init=function(C){F||((function(){var L,Z,oe,ne,Ee,Te=new Array(O+1);for(ne=oe=0;ne<d-1;ne++)for(ee[ne]=oe,L=0;L<1<<M[ne];L++)R[oe++]=ne;for(R[oe-1]=ne,ne=Ee=0;ne<16;ne++)for(he[ne]=Ee,L=0;L<1<<Q[ne];L++)Y[Ee++]=ne;for(Ee>>=7;ne<y;ne++)for(he[ne]=Ee<<7,L=0;L<1<<Q[ne]-7;L++)Y[256+Ee++]=ne;for(Z=0;Z<=O;Z++)Te[Z]=0;for(L=0;L<=143;)pe[2*L+1]=8,L++,Te[8]++;for(;L<=255;)pe[2*L+1]=9,L++,Te[9]++;for(;L<=279;)pe[2*L+1]=7,L++,Te[7]++;for(;L<=287;)pe[2*L+1]=8,L++,Te[8]++;for(z(pe,g+1,Te),L=0;L<y;L++)H[2*L+1]=5,H[2*L]=ie(L,5);X=new ke(pe,M,m+1,g,O),G=new ke(H,Q,0,y,O),ue=new ke(new Array(0),P,0,b,k)})(),F=!0),C.l_desc=new q(C.dyn_ltree,X),C.d_desc=new q(C.dyn_dtree,G),C.bl_desc=new q(C.bl_tree,ue),C.bi_buf=0,C.bi_valid=0,B(C)},i._tr_stored_block=T,i._tr_flush_block=function(C,L,Z,oe){var ne,Ee,Te=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=(function(Oe){var je,Ve=4093624447;for(je=0;je<=31;je++,Ve>>>=1)if(1&Ve&&Oe.dyn_ltree[2*je]!==0)return l;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return c;for(je=32;je<m;je++)if(Oe.dyn_ltree[2*je]!==0)return c;return l})(C)),ge(C,C.l_desc),ge(C,C.d_desc),Te=(function(Oe){var je;for(D(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),D(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),ge(Oe,Oe.bl_desc),je=b-1;3<=je&&Oe.bl_tree[2*re[je]+1]===0;je--);return Oe.opt_len+=3*(je+1)+5+5+4,je})(C),ne=C.opt_len+3+7>>>3,(Ee=C.static_len+3+7>>>3)<=ne&&(ne=Ee)):ne=Ee=Z+5,Z+4<=ne&&L!==-1?T(C,L,Z,oe):C.strategy===4||Ee===ne?(se(C,2+(oe?1:0),3),$(C,pe,H)):(se(C,4+(oe?1:0),3),(function(Oe,je,Ve,Qe){var Wt;for(se(Oe,je-257,5),se(Oe,Ve-1,5),se(Oe,Qe-4,4),Wt=0;Wt<Qe;Wt++)se(Oe,Oe.bl_tree[2*re[Wt]+1],3);ve(Oe,Oe.dyn_ltree,je-1),ve(Oe,Oe.dyn_dtree,Ve-1)})(C,C.l_desc.max_code+1,C.d_desc.max_code+1,Te+1),$(C,C.dyn_ltree,C.dyn_dtree)),B(C),oe&&te(C)},i._tr_tally=function(C,L,Z){return C.pending_buf[C.d_buf+2*C.last_lit]=L>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&L,C.pending_buf[C.l_buf+C.last_lit]=255&Z,C.last_lit++,L===0?C.dyn_ltree[2*Z]++:(C.matches++,L--,C.dyn_ltree[2*(R[Z]+m+1)]++,C.dyn_dtree[2*I(L)]++),C.last_lit===C.lit_bufsize-1},i._tr_align=function(C){se(C,2,3),fe(C,E,pe),(function(L){L.bi_valid===16?(K(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)})(C)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(s){(function(l,c){if(!l.setImmediate){var u,f,d,m,g=1,y={},b=!1,w=l.document,O=Object.getPrototypeOf&&Object.getPrototypeOf(l);O=O&&O.setTimeout?O:l,u={}.toString.call(l.process)==="[object process]"?function(A){ct.nextTick(function(){k(A)})}:(function(){if(l.postMessage&&!l.importScripts){var A=!0,_=l.onmessage;return l.onmessage=function(){A=!1},l.postMessage("","*"),l.onmessage=_,A}})()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",E,!1):l.attachEvent("onmessage",E),function(A){l.postMessage(m+A,"*")}):l.MessageChannel?((d=new MessageChannel).port1.onmessage=function(A){k(A.data)},function(A){d.port2.postMessage(A)}):w&&"onreadystatechange"in w.createElement("script")?(f=w.documentElement,function(A){var _=w.createElement("script");_.onreadystatechange=function(){k(A),_.onreadystatechange=null,f.removeChild(_),_=null},f.appendChild(_)}):function(A){setTimeout(k,0,A)},O.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var _=new Array(arguments.length-1),U=0;U<_.length;U++)_[U]=arguments[U+1];var M={callback:A,args:_};return y[g]=M,u(g),g++},O.clearImmediate=S}function S(A){delete y[A]}function k(A){if(b)setTimeout(k,0,A);else{var _=y[A];if(_){b=!0;try{(function(U){var M=U.callback,Q=U.args;switch(Q.length){case 0:M();break;case 1:M(Q[0]);break;case 2:M(Q[0],Q[1]);break;case 3:M(Q[0],Q[1],Q[2]);break;default:M.apply(c,Q)}})(_)}finally{S(A),b=!1}}}}function E(A){A.source===l&&typeof A.data=="string"&&A.data.indexOf(m)===0&&k(+A.data.slice(m.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Fi<"u"?Fi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Uv)),Uv.exports}var KQ=XQ();const ZQ=k5(KQ);var ou={exports:{}},Hv,LO;function JQ(){if(LO)return Hv;LO=1;var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(n,i){return r[i]}):t}return Hv=e,Hv}var BO;function eY(){if(BO)return ou.exports;BO=1;var r=JQ(),e=Dx().Stream,t="    ";function n(f,d){typeof d!="object"&&(d={indent:d});var m=d.stream?new e:null,g="",y=!1,b=d.indent?d.indent===!0?t:d.indent:"",w=!0;function O(_){w?ct.nextTick(_):_()}function S(_,U){if(U!==void 0&&(g+=U),_&&!y&&(m=m||new e,y=!0),_&&y){var M=g;O(function(){m.emit("data",M)}),g=""}}function k(_,U){c(S,l(_,b,b?1:0),U)}function E(){if(m){var _=g;O(function(){m.emit("data",_),m.emit("end"),m.readable=!1,m.emit("close")})}}function A(_){var U=_.encoding||"UTF-8",M={version:"1.0",encoding:U};_.standalone&&(M.standalone=_.standalone),k({"?xml":{_attr:M}}),g=g.replace("/>","?>")}return O(function(){w=!1}),d.declaration&&A(d.declaration),f&&f.forEach?f.forEach(function(_,U){var M;U+1===f.length&&(M=E),k(_,M)}):k(f,E),m?(m.readable=!0,m):g}function i(){var f=Array.prototype.slice.call(arguments),d={_elem:l(f)};return d.push=function(m){if(!this.append)throw new Error("not assigned to a parent!");var g=this,y=this._elem.indent;c(this.append,l(m,y,this._elem.icount+(y?1:0)),function(){g.append(!0)})},d.close=function(m){m!==void 0&&this.push(m),this.end&&this.end()},d}function s(f,d){return new Array(d||0).join(f||"")}function l(f,d,m){m=m||0;var g=s(d,m),y,b=f,w=!1;if(typeof f=="object"){var O=Object.keys(f);if(y=O[0],b=f[y],b&&b._elem)return b._elem.name=y,b._elem.icount=m,b._elem.indent=d,b._elem.indents=g,b._elem.interrupt=b,b._elem}var S=[],k=[],E;function A(_){var U=Object.keys(_);U.forEach(function(M){S.push(u(M,_[M]))})}switch(typeof b){case"object":if(b===null)break;b._attr&&A(b._attr),b._cdata&&k.push(("<![CDATA["+b._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),b.forEach&&(E=!1,k.push(""),b.forEach(function(_){if(typeof _=="object"){var U=Object.keys(_)[0];U=="_attr"?A(_._attr):k.push(l(_,d,m+1))}else k.pop(),E=!0,k.push(r(_))}),E||k.push(""));break;default:k.push(r(b))}return{name:y,interrupt:w,attributes:S,content:k,icount:m,indents:g,indent:d}}function c(f,d,m){if(typeof d!="object")return f(!1,d);var g=d.interrupt?1:d.content.length;function y(){for(;d.content.length;){var w=d.content.shift();if(w!==void 0){if(b(w))return;c(f,w)}}f(!1,(g>1?d.indents:"")+(d.name?"</"+d.name+">":"")+(d.indent&&!m?`
`:"")),m&&m()}function b(w){return w.interrupt?(w.interrupt.append=f,w.interrupt.end=y,w.interrupt=!1,f(!0),!0):!1}if(f(!1,d.indents+(d.name?"<"+d.name:"")+(d.attributes.length?" "+d.attributes.join(" "):"")+(g?d.name?">":"":d.name?"/>":"")+(d.indent&&g>1?`
`:"")),!g)return f(!1,d.indent?`
`:"");b(d)||y()}function u(f,d){return f+'="'+r(d)+'"'}return ou.exports=n,ou.exports.element=ou.exports.Element=i,ou.exports}var tY=eY();const lr=k5(tY),cu=0,qv=32,rY=32,nY=(r,e)=>{const t=e.replace(/-/g,"");if(t.length!==rY)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=t.replace(/(..)/g,"$1 ").trim().split(" ").map(u=>parseInt(u,16));i.reverse();const l=r.slice(cu,qv).map((u,f)=>u^i[f%i.length]),c=new Uint8Array(cu+l.length+Math.max(0,r.length-qv));return c.set(r.slice(0,cu)),c.set(l,cu),c.set(r.slice(qv),cu+l.length),c};class iY{format(e,t={stack:[]}){const n=e.prepForXml(t);if(n)return n;throw Error("XMLComponent did not format correctly")}}class sY{replace(e,t,n){let i=e;return t.forEach((s,l)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+l).toString())}),i}getMediaData(e,t){return t.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class aY{replace(e,t){let n=e;for(const i of t)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class lY{constructor(){Re(this,"formatter"),Re(this,"imageReplacer"),Re(this,"numberingReplacer"),this.formatter=new iY,this.imageReplacer=new sY,this.numberingReplacer=new aY}compile(e,t,n=[]){const i=new ZQ,s=this.xmlifyFile(e,t),l=new Map(Object.entries(s));for(const[,c]of l)if(Array.isArray(c))for(const u of c)i.file(u.path,u.data);else i.file(c.path,c.data);for(const c of n)i.file(c.path,c.data);for(const c of e.Media.Array)c.type!=="svg"?i.file(`word/media/${c.fileName}`,c.data):(i.file(`word/media/${c.fileName}`,c.data),i.file(`word/media/${c.fallback.fileName}`,c.fallback.data));for(const{data:c,name:u,fontKey:f}of e.FontTable.fontOptionsWithKey){const[d]=u.split(".");i.file(`word/fonts/${d}.odttf`,nY(c,f))}return i}xmlifyFile(e,t){const n=e.Document.Relationships.RelationshipCount+1,i=lr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,l=lr(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(i,e.Media),u=this.imageReplacer.getMediaData(l,e.Media);return{Relationships:{data:(c.forEach((f,d)=>{e.Document.Relationships.createRelationship(n+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),lr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const f=this.imageReplacer.replace(i,c,n);return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const f=lr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:lr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:lr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:lr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((f,d)=>{const m=lr(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,e.Media).forEach((y,b)=>{f.Relationships.createRelationship(b,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:lr(this.formatter.format(f.Relationships,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${d+1}.xml.rels`}}),FooterRelationships:e.Footers.map((f,d)=>{const m=lr(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,e.Media).forEach((y,b)=>{f.Relationships.createRelationship(b,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:lr(this.formatter.format(f.Relationships,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${d+1}.xml.rels`}}),Headers:e.Headers.map((f,d)=>{const m=lr(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(m,e.Media),y=this.imageReplacer.replace(m,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${d+1}.xml`}}),Footers:e.Footers.map((f,d)=>{const m=lr(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(m,e.Media),y=this.imageReplacer.replace(m,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${d+1}.xml`}}),ContentTypes:{data:lr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:lr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:lr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:lr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:lr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:lr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const f=this.imageReplacer.replace(l,u,s);return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(u.forEach((f,d)=>{e.Comments.Relationships.createRelationship(s+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),lr(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:lr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:lr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const oY={WITH_2_BLANKS:"  "},zO=r=>r===!0?oY.WITH_2_BLANKS:r===!1?void 0:r,d6=class bo{static pack(e,t,n){return xW(this,arguments,function*(i,s,l,c=[]){return this.compiler.compile(i,zO(l),c).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,n=[]){return bo.pack(e,"string",t,n)}static toBuffer(e,t,n=[]){return bo.pack(e,"nodebuffer",t,n)}static toBase64String(e,t,n=[]){return bo.pack(e,"base64",t,n)}static toBlob(e,t,n=[]){return bo.pack(e,"blob",t,n)}static toArrayBuffer(e,t,n=[]){return bo.pack(e,"arraybuffer",t,n)}static toStream(e,t,n=[]){const i=new YQ.Stream;return this.compiler.compile(e,zO(t),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(l=>{i.emit("data",l),i.emit("end")}),i}};Re(d6,"compiler",new lY);let cY=d6;const yd={top:{style:di.SINGLE,size:1,color:"000000"},bottom:{style:di.SINGLE,size:1,color:"000000"},left:{style:di.SINGLE,size:1,color:"000000"},right:{style:di.SINGLE,size:1,color:"000000"},insideHorizontal:{style:di.SINGLE,size:1,color:"000000"},insideVertical:{style:di.SINGLE,size:1,color:"000000"}};class uY{data;constructor(e){this.data=Sl.load(e)}async generateDocx(){const e=this.buildDocument();return await cY.toBlob(e)}buildDocument(){const e=this.data,t=e.||"",n=[];n.push(new pt({children:[new Mt({text:`${t} `,bold:!0,size:36})],alignment:or.CENTER,spacing:{after:400},border:{bottom:{style:di.DOUBLE,size:6,color:"000000"}}})),n.push(new pt({text:""})),n.push(this.createHeaderTable()),n.push(new pt({text:""})),n.push(this.createSectionHeading("")),n.push(new pt({children:[new Mt({text:e.||"",bold:!0,size:24}),new Mt({text:e.?`${e.}`:"",size:24})],spacing:{after:200}}));const i=this.createBulletSection("",e.);i&&n.push(...i);const s=e.||e.||[],l=this.createBulletSection("",Array.isArray(s)?s:[]);l&&n.push(...l);const c=this.createMaterialsSection();c&&n.push(...c);const u=this.createFlowSection();u&&n.push(...u);const f=this.createEvaluationSection();if(f&&n.push(...f),e.){n.push(this.createSectionHeading(""));const g=e.;if(typeof g=="object"&&!Array.isArray(g)){const y=g;n.push(new pd({width:{size:100,type:Pr.PERCENTAGE},borders:yd,rows:[new Xa({children:[new br({width:{size:33,type:Pr.PERCENTAGE},shading:{type:_i.SOLID,color:"F5F5DC"},children:[new pt({children:[new Mt({text:"",bold:!0,size:22})],alignment:or.CENTER})]}),new br({width:{size:34,type:Pr.PERCENTAGE},shading:{type:_i.SOLID,color:"F5F5DC"},children:[new pt({children:[new Mt({text:"",bold:!0,size:22})],alignment:or.CENTER})]}),new br({width:{size:33,type:Pr.PERCENTAGE},shading:{type:_i.SOLID,color:"F5F5DC"},children:[new pt({children:[new Mt({text:"",bold:!0,size:22})],alignment:or.CENTER})]})]}),new Xa({children:[new br({children:[new pt({children:[new Mt({text:y.||"",size:22})]})]}),new br({children:[new pt({children:[new Mt({text:y.||"",size:22})]})]}),new br({children:[new pt({children:[new Mt({text:y.||"",size:22})]})]})]})]}))}else n.push(new pt({text:String(g),spacing:{after:200}}))}const d=this.createBulletSection("",e.);d&&n.push(...d);const m=this.createBulletSection("",e.);return m&&n.push(...m),new QQ({sections:[{properties:{page:{size:{orientation:Sp.PORTRAIT,width:fr(8.27),height:fr(11.69)},margin:{top:fr(1),bottom:fr(1),left:fr(1),right:fr(1)}}},children:n}]})}createSectionHeading(e){return new pt({children:[new Mt({text:e,bold:!0,size:26})],spacing:{before:300,after:150},shading:{type:_i.SOLID,color:"F0F8FF"},border:{left:{style:di.SINGLE,size:24,color:"3B82F6"}}})}createHeaderTable(){const e=this.data,t=[["",e.||""],["",e.||""],["",e.||""],["",e.||""],["",e.||""]];return new pd({width:{size:100,type:Pr.PERCENTAGE},borders:yd,rows:t.map(([n,i])=>new Xa({children:[new br({width:{size:15,type:Pr.PERCENTAGE},shading:{type:_i.SOLID,color:"F5F5F5"},verticalAlign:co.CENTER,children:[new pt({children:[new Mt({text:n,size:22})],alignment:or.CENTER})]}),new br({width:{size:85,type:Pr.PERCENTAGE},verticalAlign:co.CENTER,children:[new pt({children:[new Mt({text:i,size:22})]})]})]}))})}createBulletSection(e,t){if(!t||!Array.isArray(t)||t.length===0)return null;const n=t.filter(s=>s);if(n.length===0)return null;const i=[this.createSectionHeading(e)];return n.forEach(s=>{i.push(new pt({children:[new Mt({text:` ${s}`,size:22})],spacing:{before:60,after:60},indent:{left:fr(.25)}}))}),i}createMaterialsSection(){const e=this.data.;if(!e)return null;const t=Array.isArray(e.)?e..filter(c=>c):[],n=Array.isArray(e.)?e..filter(c=>c):[];if(t.length===0&&n.length===0)return null;const i=[this.createSectionHeading("")],s=[];s.push(new Xa({children:[new br({width:{size:50,type:Pr.PERCENTAGE},shading:{type:_i.SOLID,color:"E8E8E8"},children:[new pt({children:[new Mt({text:"",bold:!0,size:22})],alignment:or.CENTER})]}),new br({width:{size:50,type:Pr.PERCENTAGE},shading:{type:_i.SOLID,color:"E8E8E8"},children:[new pt({children:[new Mt({text:"",bold:!0,size:22})],alignment:or.CENTER})]})]}));const l=Math.max(t.length,n.length);for(let c=0;c<l;c++)s.push(new Xa({children:[new br({children:[new pt({children:[new Mt({text:t[c]?` ${t[c]}`:"",size:22})]})]}),new br({children:[new pt({children:[new Mt({text:n[c]?` ${n[c]}`:"",size:22})]})]})]}));return i.push(new pd({width:{size:100,type:Pr.PERCENTAGE},borders:yd,rows:s})),i}createFlowSection(){const e=this.data.||this.data.||{};if(Object.keys(e).length===0)return null;const t=[this.createSectionHeading("")],n=new Xa({children:[new br({width:{size:12,type:Pr.PERCENTAGE},shading:{type:_i.SOLID,color:"E8E8E8"},verticalAlign:co.CENTER,children:[new pt({children:[new Mt({text:"",bold:!0,size:22})],alignment:or.CENTER})]}),new br({width:{size:50,type:Pr.PERCENTAGE},shading:{type:_i.SOLID,color:"E8E8E8"},verticalAlign:co.CENTER,children:[new pt({children:[new Mt({text:"",bold:!0,size:22})],alignment:or.CENTER})]}),new br({width:{size:38,type:Pr.PERCENTAGE},shading:{type:_i.SOLID,color:"E8E8E8"},verticalAlign:co.CENTER,children:[new pt({children:[new Mt({text:"",bold:!0,size:22})],alignment:or.CENTER})]})]}),i=Object.entries(e).map(([s,l])=>{if(!l)return null;const c=l.||"",u=Array.isArray(l.)?l..filter(y=>y):[],f=Array.isArray(l.)?l..filter(y=>y):[],d=Array.isArray(l.)?l..filter(y=>y):[],m=[];u.forEach(y=>{m.push(new pt({children:[new Mt({text:` ${y}`,size:21})],spacing:{after:40}}))}),f.forEach(y=>{m.push(new pt({children:[new Mt({text:` ${y}`,size:21})],spacing:{after:40},indent:{left:fr(.15)}}))});const g=d.map(y=>new pt({children:[new Mt({text:` ${y}`,size:21})],spacing:{after:40}}));return new Xa({children:[new br({verticalAlign:co.CENTER,children:[new pt({children:[new Mt({text:s,bold:!0,size:21})],alignment:or.CENTER}),new pt({children:[new Mt({text:`(${c})`,size:20})],alignment:or.CENTER})]}),new br({children:m.length>0?m:[new pt({text:""})]}),new br({children:g.length>0?g:[new pt({text:""})]})]})}).filter(s=>s!==null);return t.push(new pd({width:{size:100,type:Pr.PERCENTAGE},layout:vG.FIXED,borders:yd,rows:[n,...i]})),t}createEvaluationSection(){const e=this.data.||this.data.;if(!e)return null;const t=[this.createSectionHeading("")];return typeof e=="object"&&!Array.isArray(e)?Object.entries(e).forEach(([n,i])=>{t.push(new pt({children:[new Mt({text:`${n}`,bold:!0,size:22})],spacing:{before:100}})),t.push(new pt({children:[new Mt({text:String(i),size:22})],spacing:{after:100},indent:{left:fr(.25)}}))}):Array.isArray(e)&&e.filter(n=>n).forEach(n=>{t.push(new pt({children:[new Mt({text:` ${String(n)}`,size:22})],spacing:{before:60,after:60},indent:{left:fr(.25)}}))}),t}}async function hY(r){return await new uY(r).generateDocx()}async function fY(r){try{return{html:uW(r),success:!0}}catch(e){return{html:"",success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function dY(r){try{return{html:fW(r),success:!0}}catch(e){return{html:"",success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function pY(r){try{return{html:pW(r),success:!0}}catch(e){return{html:"",success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function mY(r){try{return{blob:await hY(r),success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async function Ux(){return!0}function Hx(r,e){const t=new Blob([r],{type:"text/yaml;charset=utf-8"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=e.endsWith(".yaml")?e:`${e}.yaml`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}function qx(){return new Promise(r=>{const e=document.createElement("input");e.type="file",e.accept=".yaml,.yml",e.onchange=async t=>{const n=t.target.files?.[0];if(!n){r(null);return}const i=await n.text();r({content:i,filename:n.name})},e.click()})}function Wx(r,e){const t=window.open("","_blank");if(!t){alert("");return}t.document.write(r),t.document.title=e,t.document.close(),setTimeout(()=>{t.print()},1500)}function Vx(r,e){const t=new Blob([r],{type:"text/html;charset=utf-8"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=e.endsWith(".html")?e:`${e}.html`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}function $x({hasChanges:r,message:e=""}){const t=s8(({currentLocation:n,nextLocation:i})=>r&&n.pathname!==i.pathname);return ce.useEffect(()=>{const n=i=>{if(r)return i.preventDefault(),i.returnValue=e,e};return window.addEventListener("beforeunload",n),()=>window.removeEventListener("beforeunload",n)},[r,e]),t}function Gx({blocker:r,onSave:e}){if(r.state!=="blocked")return null;const t=()=>{e&&e(),r.proceed()};return N.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:N.jsxs("div",{className:"bg-[var(--color-surface)] rounded-2xl shadow-2xl w-[400px] p-6",children:[N.jsx("h2",{className:"text-lg font-semibold mb-3",children:" "}),N.jsx("p",{className:"text-[var(--color-text-muted)] mb-6",children:""}),N.jsxs("div",{className:"flex justify-end gap-3",children:[N.jsx("button",{onClick:()=>r.reset(),className:"px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors",children:""}),e&&N.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors",children:""}),N.jsx("button",{onClick:()=>r.proceed(),className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors",children:""})]})]})})}const vd=`: ""
: ""
: ""
: 50
: 100
: ""

:
  - ""

:
  - : 1
    : ""
    : true
    : 25
    :
      - : "(1)"
        : ""
        : 10
        : ""
        : ""
`;function jO(){const[r]=bb(),e=r.get("filename"),[t,n]=ce.useState(vd),[i,s]=ce.useState(""),[l,c]=ce.useState(!1),[u,f]=ce.useState(null),[d,m]=ce.useState(null),[g,y]=ce.useState(e||".yaml"),[b,w]=ce.useState(!1),[O,S]=ce.useState("yaml"),k=ce.useRef(vd),E=t!==k.current,A=$x({hasChanges:E});ce.useEffect(()=>{Ux().then(m)},[]);const _=ce.useCallback(async()=>{if(!t.trim())return;c(!0),f(null);const re=await fY(t);re.success?s(re.html):f(re.error||""),c(!1)},[t]);ce.useEffect(()=>{const re=setTimeout(()=>{d&&_()},1e3);return()=>clearTimeout(re)},[t,d,_]);const U=()=>{Hx(t,g),Po({filename:g,type:"exam",lastOpened:new Date().toISOString()}),k.current=t,w(!0),setTimeout(()=>w(!1),2e3)},M=async()=>{const re=await qx();re&&(n(re.content),y(re.filename),Po({filename:re.filename,type:"exam",lastOpened:new Date().toISOString()}))},Q=()=>{i&&Wx(i,g.replace(".yaml",""))},P=()=>{i&&Vx(i,g.replace(".yaml",".html"))};return N.jsxs("div",{className:"h-full flex flex-col",children:[N.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--color-border)] bg-[var(--color-surface)]",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx(xl,{to:"/",className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] transition-colors",children:N.jsx(Op,{size:20})}),N.jsx(gx,{value:g,onChange:y,label:" "}),N.jsx("div",{className:"flex items-center gap-2 ml-4",children:d===null?N.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:"..."}):d?N.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-400",children:[N.jsx(jo,{size:14}),"API"]}):N.jsxs("span",{className:"flex items-center gap-1 text-xs text-red-400",children:[N.jsx(pl,{size:14}),"API"]})})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors",children:[N.jsx(wb,{size:18}),N.jsx("span",{children:""})]}),N.jsxs("button",{onClick:_,disabled:l,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[N.jsx(Sb,{size:18,className:l?"animate-spin":""}),N.jsx("span",{children:""})]}),N.jsxs("button",{onClick:U,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${b?"bg-green-500/20 text-green-400":"bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]"}`,children:[b?N.jsx(jo,{size:18}):N.jsx(kb,{size:18}),N.jsx("span",{children:b?"":""})]}),N.jsxs("button",{onClick:Q,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[N.jsx(Nu,{size:18}),N.jsx("span",{children:""})]}),N.jsxs("button",{onClick:P,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-primary)] hover:bg-[var(--color-primary-dark)] text-white transition-colors disabled:opacity-50",children:[N.jsx(xb,{size:18}),N.jsx("span",{children:"HTML"})]})]})]}),u&&N.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 bg-red-500/10 border-b border-red-500/20 text-red-400",children:[N.jsx(pl,{size:18}),N.jsx("span",{children:u})]}),N.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[N.jsxs("div",{className:"w-1/2 flex flex-col border-r border-[var(--color-border)] overflow-hidden",children:[N.jsxs("div",{className:"flex border-b border-[var(--color-border)]",children:[N.jsxs("button",{onClick:()=>S("yaml"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${O==="yaml"?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)]"}`,children:[N.jsx(x_,{size:16}),"YAML"]}),N.jsxs("button",{onClick:()=>S("form"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${O==="form"?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)]"}`,children:[N.jsx(S_,{size:16}),""]})]}),O==="yaml"?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"p-4 border-b border-[var(--color-border)]",children:N.jsx(vx,{type:"exam"})}),N.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:N.jsx(mx,{value:t,onChange:n,placeholder:"CopilotYAML"})})]}):N.jsx(wq,{onYamlChange:n,yamlValue:t})]}),N.jsx("div",{className:"w-1/2 p-4 bg-gray-800",children:N.jsx(yx,{html:i,loading:l})})]}),N.jsx(Gx,{blocker:A,onSave:U})]})}const PO=`: ""
: ""
: true

:
  - : 1
    : ""
    : 10
    : 8
    : ""
    : ""
`;function FO(){const[r]=bb(),e=r.get("filename"),[t,n]=ce.useState(PO),[i,s]=ce.useState(""),[l,c]=ce.useState(!1),[u,f]=ce.useState(null),[d,m]=ce.useState(null),[g,y]=ce.useState(e||".yaml"),[b,w]=ce.useState(!1),[O,S]=ce.useState("yaml"),k=ce.useRef(PO),E=t!==k.current,A=$x({hasChanges:E});ce.useEffect(()=>{Ux().then(m)},[]);const _=ce.useCallback(async()=>{if(!t.trim())return;c(!0),f(null);const re=await dY(t);re.success?s(re.html):f(re.error||""),c(!1)},[t]);ce.useEffect(()=>{const re=setTimeout(()=>{d&&_()},1e3);return()=>clearTimeout(re)},[t,d,_]);const U=()=>{Hx(t,g),Po({filename:g,type:"worksheet",lastOpened:new Date().toISOString()}),k.current=t,w(!0),setTimeout(()=>w(!1),2e3)},M=async()=>{const re=await qx();re&&(n(re.content),y(re.filename),Po({filename:re.filename,type:"worksheet",lastOpened:new Date().toISOString()}))},Q=()=>{i&&Wx(i,g.replace(".yaml",""))},P=()=>{i&&Vx(i,g.replace(".yaml",".html"))};return N.jsxs("div",{className:"h-full flex flex-col",children:[N.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--color-border)] bg-[var(--color-surface)]",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx(xl,{to:"/",className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] transition-colors",children:N.jsx(Op,{size:20})}),N.jsx(gx,{value:g,onChange:y,label:" "}),N.jsx("div",{className:"flex items-center gap-2 ml-4",children:d===null?N.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:"..."}):d?N.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-400",children:[N.jsx(jo,{size:14}),"API"]}):N.jsxs("span",{className:"flex items-center gap-1 text-xs text-red-400",children:[N.jsx(pl,{size:14}),"API"]})})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors",children:[N.jsx(wb,{size:18}),N.jsx("span",{children:""})]}),N.jsxs("button",{onClick:_,disabled:l,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[N.jsx(Sb,{size:18,className:l?"animate-spin":""}),N.jsx("span",{children:""})]}),N.jsxs("button",{onClick:U,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${b?"bg-green-500/20 text-green-400":"bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]"}`,children:[b?N.jsx(jo,{size:18}):N.jsx(kb,{size:18}),N.jsx("span",{children:b?"":""})]}),N.jsxs("button",{onClick:Q,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[N.jsx(Nu,{size:18}),N.jsx("span",{children:""})]}),N.jsxs("button",{onClick:P,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-primary)] hover:bg-[var(--color-primary-dark)] text-white transition-colors disabled:opacity-50",children:[N.jsx(xb,{size:18}),N.jsx("span",{children:"HTML"})]})]})]}),u&&N.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 bg-red-500/10 border-b border-red-500/20 text-red-400",children:[N.jsx(pl,{size:18}),N.jsx("span",{children:u})]}),N.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[N.jsxs("div",{className:"w-1/2 flex flex-col border-r border-[var(--color-border)] overflow-hidden",children:[N.jsxs("div",{className:"flex border-b border-[var(--color-border)]",children:[N.jsxs("button",{onClick:()=>S("yaml"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${O==="yaml"?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)]"}`,children:[N.jsx(x_,{size:16}),"YAML"]}),N.jsxs("button",{onClick:()=>S("form"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${O==="form"?"bg-[var(--color-primary)] text-white":"text-[var(--color-text-muted)] hover:bg-[var(--color-surface-hover)]"}`,children:[N.jsx(S_,{size:16}),""]})]}),O==="yaml"?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"p-4 border-b border-[var(--color-border)]",children:N.jsx(vx,{type:"worksheet"})}),N.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:N.jsx(mx,{value:t,onChange:n,placeholder:"CopilotYAML"})})]}):N.jsx(Sq,{yaml:t,onYamlChange:n})]}),N.jsx("div",{className:"w-1/2 p-4 bg-gray-800",children:N.jsx(yx,{html:i,loading:l})})]}),N.jsx(Gx,{blocker:A,onSave:U})]})}const IO=`: ""
: ""
: ""
: ""
: ""
: ""
: ""

: ""
: ""

:
  - ""

:
  :
    : 10
    :
      - ""
    :
      - ""
    :
      - ""

  :
    : 30
    :
      - ""
    :
      - ""
    :
      - ""

  :
    : 10
    :
      - ""
    :
      - ""
    :
      - ""

:
  - ""
`;function UO(){const[r]=bb(),e=r.get("filename"),[t,n]=ce.useState(IO),[i,s]=ce.useState(""),[l,c]=ce.useState(!1),[u,f]=ce.useState(null),[d,m]=ce.useState(null),[g,y]=ce.useState(e||".yaml"),[b,w]=ce.useState(!1),O=ce.useRef(IO),S=t!==O.current,k=$x({hasChanges:S});ce.useEffect(()=>{Ux().then(m)},[]);const E=ce.useCallback(async()=>{if(!t.trim())return;c(!0),f(null);const P=await pY(t);P.success?s(P.html):f(P.error||""),c(!1)},[t]);ce.useEffect(()=>{const P=setTimeout(()=>{d&&E()},1e3);return()=>clearTimeout(P)},[t,d,E]);const A=()=>{Hx(t,g),Po({filename:g,type:"lesson-plan",lastOpened:new Date().toISOString()}),O.current=t,w(!0),setTimeout(()=>w(!1),2e3)},_=async()=>{const P=await qx();P&&(n(P.content),y(P.filename),Po({filename:P.filename,type:"lesson-plan",lastOpened:new Date().toISOString()}))},U=()=>{i&&Wx(i,g.replace(".yaml",""))},M=()=>{i&&Vx(i,g.replace(".yaml",".html"))},Q=async()=>{c(!0),f(null);const P=await mY(t);if(P.success&&P.blob){const re=URL.createObjectURL(P.blob),pe=document.createElement("a");pe.href=re,pe.download=g.replace(".yaml",".docx"),document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(re)}else f(P.error||"Word");c(!1)};return N.jsxs("div",{className:"h-full flex flex-col",children:[N.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--color-border)] bg-[var(--color-surface)]",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx(xl,{to:"/",className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] transition-colors",children:N.jsx(Op,{size:20})}),N.jsx(gx,{value:g,onChange:y,label:" "}),N.jsx("div",{className:"flex items-center gap-2 ml-4",children:d===null?N.jsx("span",{className:"text-xs text-[var(--color-text-muted)]",children:"..."}):d?N.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-400",children:[N.jsx(jo,{size:14}),"API"]}):N.jsxs("span",{className:"flex items-center gap-1 text-xs text-red-400",children:[N.jsx(pl,{size:14}),"API"]})})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors",children:[N.jsx(wb,{size:18}),N.jsx("span",{children:""})]}),N.jsxs("button",{onClick:E,disabled:l,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[N.jsx(Sb,{size:18,className:l?"animate-spin":""}),N.jsx("span",{children:""})]}),N.jsxs("button",{onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${b?"bg-green-500/20 text-green-400":"bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]"}`,children:[b?N.jsx(jo,{size:18}):N.jsx(kb,{size:18}),N.jsx("span",{children:b?"":""})]}),N.jsxs("button",{onClick:U,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors disabled:opacity-50",children:[N.jsx(Nu,{size:18}),N.jsx("span",{children:""})]}),N.jsxs("button",{onClick:Q,disabled:l,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors disabled:opacity-50",children:[N.jsx(Ru,{size:18}),N.jsx("span",{children:"Word"})]}),N.jsxs("button",{onClick:M,disabled:!i,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--color-primary)] hover:bg-[var(--color-primary-dark)] text-white transition-colors disabled:opacity-50",children:[N.jsx(xb,{size:18}),N.jsx("span",{children:"HTML"})]})]})]}),u&&N.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 bg-red-500/10 border-b border-red-500/20 text-red-400",children:[N.jsx(pl,{size:18}),N.jsx("span",{children:u})]}),N.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[N.jsxs("div",{className:"w-1/2 flex flex-col border-r border-[var(--color-border)] overflow-hidden",children:[N.jsx("div",{className:"p-4 border-b border-[var(--color-border)]",children:N.jsx(vx,{type:"lesson-plan"})}),N.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:N.jsx(mx,{value:t,onChange:n,placeholder:"CopilotYAML"})})]}),N.jsx("div",{className:"w-1/2 p-4 bg-gray-800",children:N.jsx(yx,{html:i,loading:l})})]}),N.jsx(Gx,{blocker:k,onSave:A})]})}function gY(){const[r,e]=ce.useState("dark"),[t,n]=ce.useState(""),i=s=>{e(s)};return N.jsxs("div",{className:"h-full flex flex-col",children:[N.jsxs("header",{className:"flex items-center gap-4 px-6 py-4 border-b border-[var(--color-border)] bg-[var(--color-surface)]",children:[N.jsx(xl,{to:"/",className:"p-2 rounded-lg hover:bg-[var(--color-surface-hover)] transition-colors",children:N.jsx(Op,{size:20})}),N.jsx("h1",{className:"font-semibold text-lg",children:" "})]}),N.jsxs("div",{className:"flex-1 p-8 max-w-2xl mx-auto w-full overflow-y-auto",children:[N.jsxs("section",{className:"mb-8",children:[N.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[N.jsx(qL,{size:20}),""]}),N.jsx("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4",children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("p",{className:"font-medium",children:""}),N.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:""})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsxs("button",{onClick:()=>i("dark"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r==="dark"?"bg-[var(--color-primary)] text-white":"bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]"}`,children:[N.jsx(UL,{size:16}),""]}),N.jsxs("button",{onClick:()=>i("light"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r==="light"?"bg-[var(--color-primary)] text-white":"bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)]"}`,children:[N.jsx(eB,{size:16}),""]})]})]})})]}),N.jsxs("section",{className:"mb-8",children:[N.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[N.jsx(CL,{size:20}),""]}),N.jsx("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4 space-y-4",children:N.jsxs("div",{children:[N.jsx("label",{className:"block font-medium mb-2",children:""}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),placeholder:"...",className:"flex-1 px-4 py-2 rounded-lg bg-[var(--color-bg)] border border-[var(--color-border)] focus:outline-none focus:border-[var(--color-primary)]"}),N.jsx("button",{className:"px-4 py-2 rounded-lg bg-[var(--color-surface-hover)] hover:bg-[var(--color-border)] transition-colors",children:""})]}),N.jsx("p",{className:"text-sm text-[var(--color-text-muted)] mt-2",children:" "})]})})]}),N.jsxs("section",{children:[N.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[N.jsx(DL,{size:20}),""]}),N.jsx("div",{className:"bg-[var(--color-surface)] rounded-xl border border-[var(--color-border)] p-4",children:N.jsxs("div",{className:"space-y-2 text-sm",children:[N.jsxs("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-[var(--color-text-muted)]",children:""}),N.jsx("span",{children:"1.0.0"})]}),N.jsxs("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-[var(--color-text-muted)]",children:""}),N.jsx("span",{children:"React + Tauri + FastAPI"})]}),N.jsxs("div",{className:"flex justify-between",children:[N.jsx("span",{className:"text-[var(--color-text-muted)]",children:"OS"}),N.jsx("span",{children:"Windows / macOS"})]})]})})]})]})]})}function yY(){return N.jsxs("div",{className:"max-w-4xl mx-auto",children:[N.jsx("h1",{className:"text-3xl font-bold mb-8 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:""}),N.jsx("section",{className:"mb-10",children:N.jsxs("div",{className:"bg-[var(--color-surface)] rounded-xl p-6 border border-[var(--color-border)]",children:[N.jsx("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:" "}),N.jsx("p",{className:"text-[var(--color-text-muted)] leading-relaxed",children:"AICopilot/ChatGPT AIYAMLHTML/Word/PDF"})]})}),N.jsxs("section",{className:"mb-10",children:[N.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),N.jsx("div",{className:"space-y-4",children:[{step:1,title:"",icon:w_,desc:"Copilot"},{step:2,title:"AI",icon:FL,desc:"Copilot/ChatGPTYAML"},{step:3,title:"YAML",icon:Ru,desc:"YAML"},{step:4,title:"",icon:Nu,desc:"HTMLPDF"}].map(({step:r,title:e,icon:t,desc:n})=>N.jsxs("div",{className:"flex gap-4 bg-[var(--color-surface)] rounded-xl p-5 border border-[var(--color-border)]",children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--color-primary)] flex items-center justify-center text-white font-bold shrink-0",children:r}),N.jsxs("div",{children:[N.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[N.jsx(t,{size:18,className:"text-[var(--color-primary)]"}),e]}),N.jsx("p",{className:"text-[var(--color-text-muted)] text-sm mt-1",children:n})]})]},r))})]}),N.jsxs("section",{className:"mb-10",children:[N.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),N.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[{icon:Ru,title:"",color:"text-blue-400",features:["","","","PDF"]},{icon:b_,title:"",color:"text-green-400",features:["","","",""]},{icon:y_,title:"",color:"text-purple-400",features:["","","","Word"]}].map(({icon:r,title:e,color:t,features:n})=>N.jsxs("div",{className:"bg-[var(--color-surface)] rounded-xl p-5 border border-[var(--color-border)]",children:[N.jsxs("div",{className:`flex items-center gap-2 mb-3 ${t}`,children:[N.jsx(r,{size:24}),N.jsx("h3",{className:"font-semibold text-white",children:e})]}),N.jsx("ul",{className:"text-sm text-[var(--color-text-muted)] space-y-1",children:n.map(i=>N.jsxs("li",{children:[" ",i]},i))})]},e))})]}),N.jsxs("section",{className:"mb-10",children:[N.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),N.jsxs("div",{className:"bg-[var(--color-surface)] rounded-xl p-6 border border-[var(--color-border)]",children:[N.jsx("p",{className:"text-[var(--color-text-muted)] mb-4",children:"LaTeXAI"}),N.jsxs("div",{className:"bg-[#1a1a2e] rounded-lg p-4 font-mono text-sm",children:[N.jsxs("div",{className:"mb-3",children:[N.jsx("span",{className:"text-green-400",children:""}),N.jsx("code",{className:"text-yellow-300 ml-2",children:"$x^2 + y^2 = r^2$"})]}),N.jsxs("div",{children:[N.jsx("span",{className:"text-green-400",children:""}),N.jsxs("code",{className:"text-yellow-300 ml-2",children:["$$\\int_0^\\infty e^","{-x}"," dx = 1$$"]})]})]})]})]}),N.jsxs("section",{className:"mb-10",children:[N.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),N.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[N.jsxs("div",{className:"bg-[var(--color-surface)] rounded-xl p-5 border border-[var(--color-border)]",children:[N.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[N.jsx(SL,{size:18,className:"text-blue-400"}),"HTML"]}),N.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:"HTML"})]}),N.jsxs("div",{className:"bg-[var(--color-surface)] rounded-xl p-5 border border-[var(--color-border)]",children:[N.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[N.jsx(Nu,{size:18,className:"text-green-400"}),"PDF"]}),N.jsx("p",{className:"text-sm text-[var(--color-text-muted)]",children:"PDFPDF"})]})]})]}),N.jsxs("section",{children:[N.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Tips"}),N.jsx("div",{className:"bg-gradient-to-br from-yellow-500/10 to-orange-500/10 rounded-xl p-6 border border-yellow-500/30",children:N.jsxs("ul",{className:"text-[var(--color-text-muted)] space-y-2",children:[N.jsxs("li",{children:[" ",N.jsx("strong",{children:"YAML"}),"AIYAML"]}),N.jsxs("li",{children:[" ",N.jsx("strong",{children:""}),""]}),N.jsxs("li",{children:[" ",N.jsx("strong",{children:""}),""]}),N.jsxs("li",{children:[" ",N.jsx("strong",{children:""}),"YAML: true"]})]})})]})]})}const vY=U8([{path:"/",element:N.jsx(lB,{}),children:[{index:!0,element:N.jsx(fB,{})},{path:"exam",children:[{index:!0,element:N.jsx(jO,{})},{path:"new",element:N.jsx(jO,{})}]},{path:"worksheet",children:[{index:!0,element:N.jsx(FO,{})},{path:"new",element:N.jsx(FO,{})}]},{path:"lesson-plan",children:[{index:!0,element:N.jsx(UO,{})},{path:"new",element:N.jsx(UO,{})}]},{path:"settings",element:N.jsx(gY,{})},{path:"help",element:N.jsx(yY,{})}]}]);function bY(){return N.jsx(J8,{router:vY})}MM.createRoot(document.getElementById("root")).render(N.jsx(ce.StrictMode,{children:N.jsx(bY,{})}));
